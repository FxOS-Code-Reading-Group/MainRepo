<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: クラス nsIMessageListener</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li><a href="../../classes.html"><span>データ構造索引</span></a></li>
      <li><a href="../../inherits.html"><span>クラス階層</span></a></li>
      <li><a href="../../functions.html"><span>データフィールド</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d0/df9/interfacens_i_message_listener.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public メソッド</a>  </div>
  <div class="headertitle">
<div class="title">クラス nsIMessageListener</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="nsIMessageListener" --><!-- doxytag: inherits="nsISupports,nsISupports" -->
<p><code>import &quot;<a class="el" href="../../d0/d6e/ns_i_message_manager_8idl_source.html">nsIMessageManager.idl</a>&quot;;</code></p>
<div class="dynheader">
nsIMessageListenerに対する継承グラフ</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d5/d0e/interfacens_i_message_listener__inherit__graph.svg" width="150" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">凡例</a>]</span></center></div>
<div class="dynheader">
nsIMessageListenerのコラボレーション図</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/db8/interfacens_i_message_listener__coll__graph.svg" width="150" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">凡例</a>]</span></center></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/df9/interfacens_i_message_listener.html#a1d07c21a6ae0812e3084b064442c82f4">receiveMessage</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/df9/interfacens_i_message_listener.html#ae9811d2aa7fcd61f347fb61073c6f09d">ReceiveMessage</a> (<a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a>)=0</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>説明</h2>
<div class="textblock"><p>Message managers provide a way for chrome-privileged <a class="el" href="../../da/d7b/namespace_j_s.html">JS</a> code to communicate with each other, even across process boundaries.</p>
<p>Message managers are separated into "parent side" and "child side". These don't always correspond to process boundaries, but can. For each child-side message manager, there is always exactly one corresponding parent-side message manager that it sends messages to. However, for each parent-side message manager, there may be either one or many child-side managers it can message.</p>
<p>Message managers that always have exactly one "other side" are of type <a class="el" href="../../dd/d0c/interfacens_i_message_sender.html">nsIMessageSender</a>. Parent-side message managers that have many "other sides" are of type <a class="el" href="../../d3/d80/interfacens_i_message_broadcaster.html">nsIMessageBroadcaster</a>.</p>
<p>Child-side message managers can send synchronous messages to their parent side, but not the other way around.</p>
<p>There are two realms of message manager hierarchies. One realm approximately corresponds to DOM elements, the other corresponds to process boundaries.</p>
<p>Message managers corresponding to DOM elements ==============================================</p>
<p>In this realm of message managers, there are</p>
<ul>
<li>"frame message managers" which correspond to frame elements</li>
<li>"window message managers" which correspond to top-level chrome windows</li>
<li>the "global message manager", on the parent side. See below.</li>
</ul>
<p>The DOM-realm message managers can communicate in the ways shown by the following diagram. The parent side and child side can correspond to process boundaries, but don't always.</p>
<p>Parent side Child side ------------- ------------ global MMg | +--&gt;window MMw1 | | | +--&gt;frame MMp1_1&lt;------------&gt;frame MMc1_1 | | | +--&gt;frame MMp1_2&lt;------------&gt;frame MMc1_2 | ... | +--&gt;window MMw2 ...</p>
<p>For example: a message sent from MMc1_1, from the child side, is sent only to MMp1_1 on the parent side. However, note that all message managers in the hierarchy above MMp1_1, in this diagram MMw1 and MMg, will also notify their message listeners when the message arrives.</p>
<p>For example: a message broadcast through the global MMg on the parent side would be broadcast to MMw1, which would transitively broadcast it to MMp1_1, MM1p_2". The message would next be broadcast to MMw2, and so on down the hierarchy.</p>
<p>***** PERFORMANCE AND SECURITY WARNING ***** Messages broadcast through the global MM and window MMs can result in messages being dispatched across many OS processes, and to many processes with different permissions. Great care should be taken when broadcasting.</p>
<p>Interfaces ----------</p>
<p>The global MMg and window MMw's are message broadcasters implementing <a class="el" href="../../d3/d80/interfacens_i_message_broadcaster.html">nsIMessageBroadcaster</a> while the frame MMp's are simple message senders (<a class="el" href="../../dd/d0c/interfacens_i_message_sender.html">nsIMessageSender</a>). Their counterparts in the content processes are message senders implementing <a class="el" href="../../d9/da1/interfacens_i_content_frame_message_manager.html">nsIContentFrameMessageManager</a>.</p>
<p><a class="el" href="../../df/daf/interfacens_i_message_listener_manager.html">nsIMessageListenerManager</a> / \ <a class="el" href="../../dd/d0c/interfacens_i_message_sender.html">nsIMessageSender</a> <a class="el" href="../../d3/d80/interfacens_i_message_broadcaster.html">nsIMessageBroadcaster</a> | <a class="el" href="../../d6/d9c/interfacens_i_sync_message_sender.html">nsISyncMessageSender</a> (content process/in-process only) | <a class="el" href="../../d9/da1/interfacens_i_content_frame_message_manager.html">nsIContentFrameMessageManager</a> (content process/in-process only) | <a class="el" href="../../d4/d92/interfacens_i_in_process_content_frame_message_manager.html">nsIInProcessContentFrameMessageManager</a> (in-process only)</p>
<p>Message managers in the chrome process can also be QI'ed to <a class="el" href="../../de/dc7/interfacens_i_frame_script_loader.html">nsIFrameScriptLoader</a>.</p>
<p>Message managers corresponding to process boundaries ====================================================</p>
<p>The second realm of message managers is the "process message
 managers". With one exception, these always correspond to process boundaries. The picture looks like</p>
<p>Parent process Child processes ---------------- ----------------- global PPMM | +&lt;----&gt; child PPMM | +--&gt;parent PMM1&lt;------------------&gt;child process CMM1 | +--&gt;parent PMM2&lt;------------------&gt;child process PMM2 ...</p>
<p>For example: the parent-process PMM1 sends messages directly to only the child-process CMM1.</p>
<p>For example: CMM1 sends messages directly to PMM1. The global PPMM will also notify their message listeners when the message arrives.</p>
<p>For example: messages sent through the global PPMM will be dispatched to the listeners of the same-process, "child PPMM". They will also be broadcast to PPM1, PPM2, etc.</p>
<p>***** PERFORMANCE AND SECURITY WARNING ***** Messages broadcast through the global PPMM can result in messages being dispatched across many OS processes, and to many processes with different permissions. Great care should be taken when broadcasting.</p>
<p>Requests sent to parent-process message listeners should usually have replies scoped to the requesting CPMM. The following pattern is common</p>
<p>const ParentProcessListener = { receiveMessage: function(aMessage) { let childMM = aMessage.target.QueryInterface(Ci.nsIMessageSender); switch (aMessage.name) { case "Foo:Request": // service request childMM.sendAsyncMessage("Foo:Response", { data }); } } }; </p>

<p> <a class="el" href="../../d0/d6e/ns_i_message_manager_8idl_source.html">nsIMessageManager.idl</a> の <a class="el" href="../../d0/d6e/ns_i_message_manager_8idl_source.html#l00151">151</a> 行で定義されています。</p>
</div><hr/><h2>メソッド</h2>
<a class="anchor" id="ae9811d2aa7fcd61f347fb61073c6f09d"></a><!-- doxytag: member="nsIMessageListener::ReceiveMessage" ref="ae9811d2aa7fcd61f347fb61073c6f09d" args="(void)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a> <a class="el" href="../../d0/df9/interfacens_i_message_listener.html#ae9811d2aa7fcd61f347fb61073c6f09d">nsIMessageListener::ReceiveMessage</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1d07c21a6ae0812e3084b064442c82f4"></a><!-- doxytag: member="nsIMessageListener::receiveMessage" ref="a1d07c21a6ae0812e3084b064442c82f4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a> <a class="el" href="../../d0/df9/interfacens_i_message_listener.html#a1d07c21a6ae0812e3084b064442c82f4">nsIMessageListener::receiveMessage</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is for <a class="el" href="../../da/d7b/namespace_j_s.html">JS</a> only. receiveMessage is called with one parameter, which has the following properties: { target: the target of the message. Either an element owning the message manager, or message manager itself if no element owns it% name: message name%, sync: true or false%. data: structured clone of the sent message data%, json: same as .data, deprecated%, objects: named table of jsvals/objects, or null% }</p>
<p>Each listener is invoked with its own copy of the message parameter.</p>
<p>When the listener is called, 'this' value is the target of the message.</p>
<p>If the message is synchronous, the possible return value is returned as JSON (will be changed to use structured clones). When there are multiple listeners to sync messages, each listener's return value is sent back as an array. |undefined| return values show up as undefined values in the array. </p>

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li><a class="el" href="../../d0/d6e/ns_i_message_manager_8idl_source.html">nsIMessageManager.idl</a></li>
<li><a class="el" href="../../df/deb/ns_i_message_manager_8h_source.html">nsIMessageManager.h</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d0/df9/interfacens_i_message_listener.html">nsIMessageListener</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 01:00:00に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
