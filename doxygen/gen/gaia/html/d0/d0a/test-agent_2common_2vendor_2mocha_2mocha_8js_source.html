<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: mocha.js ソースファイル</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li class="current"><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>ファイル一覧</span></a></li>
      <li><a href="../../globals.html"><span>グローバル</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d0/d0a/test-agent_2common_2vendor_2mocha_2mocha_8js.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">mocha.js</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d0/d0a/test-agent_2common_2vendor_2mocha_2mocha_8js.html">説明を見る。</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 ;(<span class="keyword">function</span>(){
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 
<a name="l00004"></a>00004 <span class="comment">// CommonJS require()</span>
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="keyword">function</span> <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a>){
<a name="l00007"></a>00007     var <a class="code" href="../../db/d6d/mkdirp_8js.html#aa72e0c8a20e6bcc571d3a1c51846e627">path</a> = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.resolve(<a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a>)
<a name="l00008"></a>00008       , mod = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.modules[<a class="code" href="../../db/d6d/mkdirp_8js.html#aa72e0c8a20e6bcc571d3a1c51846e627">path</a>];
<a name="l00009"></a>00009     <span class="keywordflow">if</span> (!mod) <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="../../dc/d06/calendar_2js_2error_8js.html#abd05c43175d3c93c6889542cefc822f3">Error</a>(<span class="stringliteral">&#39;failed to require &quot;&#39;</span> + <a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a> + <span class="charliteral">&#39;&quot;&#39;</span>);
<a name="l00010"></a>00010     <span class="keywordflow">if</span> (!mod.exports) {
<a name="l00011"></a>00011       mod.exports = {};
<a name="l00012"></a>00012       mod.call(mod.exports, mod, mod.exports, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.relative(path));
<a name="l00013"></a>00013     }
<a name="l00014"></a>00014     <span class="keywordflow">return</span> mod.exports;
<a name="l00015"></a>00015   }
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.modules = {};
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.resolve = <span class="keyword">function</span> (<a class="code" href="../../db/d6d/mkdirp_8js.html#aa72e0c8a20e6bcc571d3a1c51846e627">path</a>){
<a name="l00020"></a>00020     var orig = <a class="code" href="../../db/d6d/mkdirp_8js.html#aa72e0c8a20e6bcc571d3a1c51846e627">path</a>
<a name="l00021"></a>00021       , reg = path + <span class="stringliteral">&#39;.js&#39;</span>
<a name="l00022"></a>00022       , <a class="code" href="../../d2/d7d/jsapi_8h.html#aafd95f8c7a99b9189ede7cdf0871ebe8">index</a> = path + <span class="stringliteral">&#39;/index.js&#39;</span>;
<a name="l00023"></a>00023     <span class="keywordflow">return</span> <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.modules[reg] &amp;&amp; reg
<a name="l00024"></a>00024       || <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.modules[<a class="code" href="../../d2/d7d/jsapi_8h.html#aafd95f8c7a99b9189ede7cdf0871ebe8">index</a>] &amp;&amp; index
<a name="l00025"></a>00025       || orig;
<a name="l00026"></a>00026   };
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register = <span class="keyword">function</span> (<a class="code" href="../../db/d6d/mkdirp_8js.html#aa72e0c8a20e6bcc571d3a1c51846e627">path</a>, fn){
<a name="l00029"></a>00029     <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.modules[<a class="code" href="../../db/d6d/mkdirp_8js.html#aa72e0c8a20e6bcc571d3a1c51846e627">path</a>] = fn;
<a name="l00030"></a>00030   };
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.relative = <span class="keyword">function</span> (<a class="code" href="../../d2/d7d/jsapi_8h.html#a8a4058d98ae1bca3d5fa2d01726cf734">parent</a>) {
<a name="l00033"></a>00033     <span class="keywordflow">return</span> <span class="keyword">function</span>(<a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a>){
<a name="l00034"></a>00034       <span class="keywordflow">if</span> (<span class="charliteral">&#39;.&#39;</span> != <a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a>.charAt(0)) <span class="keywordflow">return</span> <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a>);
<a name="l00035"></a>00035       
<a name="l00036"></a>00036       var path = <a class="code" href="../../d2/d7d/jsapi_8h.html#a8a4058d98ae1bca3d5fa2d01726cf734">parent</a>.split(<span class="charliteral">&#39;/&#39;</span>)
<a name="l00037"></a>00037         , segs = <a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a>.split(<span class="charliteral">&#39;/&#39;</span>);
<a name="l00038"></a>00038       path.pop();
<a name="l00039"></a>00039       
<a name="l00040"></a>00040       <span class="keywordflow">for</span> (var <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; segs.length; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++) {
<a name="l00041"></a>00041         var seg = segs[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>];
<a name="l00042"></a>00042         <span class="keywordflow">if</span> (<span class="stringliteral">&#39;..&#39;</span> == seg) path.pop();
<a name="l00043"></a>00043         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="charliteral">&#39;.&#39;</span> != seg) path.push(seg);
<a name="l00044"></a>00044       }
<a name="l00045"></a>00045 
<a name="l00046"></a>00046       <span class="keywordflow">return</span> <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(path.join(<span class="charliteral">&#39;/&#39;</span>));
<a name="l00047"></a>00047     };
<a name="l00048"></a>00048   };
<a name="l00049"></a>00049 
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;browser/debug.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = <span class="keyword">function</span>(<a class="code" href="../../df/d44/permission__manager_8js.html#a5996578fe734dff3d2912807ee458e83">type</a>){
<a name="l00054"></a>00054   <span class="keywordflow">return</span> <span class="keyword">function</span>(){
<a name="l00055"></a>00055     
<a name="l00056"></a>00056   }
<a name="l00057"></a>00057 };
<a name="l00058"></a>00058 }); <span class="comment">// module: browser/debug.js</span>
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;browser/diff.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 }); <span class="comment">// module: browser/diff.js</span>
<a name="l00063"></a>00063 
<a name="l00064"></a>00064 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;browser/events.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l00065"></a>00065 
<a name="l00070"></a>00070 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.EventEmitter = <a class="code" href="../../de/dfc/events_8js.html#ad57db69f456bd679167cecd98d6c4019">EventEmitter</a>;
<a name="l00071"></a>00071 
<a name="l00076"></a>00076 <span class="keyword">function</span> <a class="code" href="../../de/dfc/events_8js.html#adca5ce0ed65a1514a671ae81eb33bd53">isArray</a>(<a class="code" href="../../d2/d7d/jsapi_8h.html#a2219cf9467e8547184b3cf2b051e8067">obj</a>) {
<a name="l00077"></a>00077   <span class="keywordflow">return</span> <span class="stringliteral">&#39;[object Array]&#39;</span> == {}.toString.call(<a class="code" href="../../d2/d7d/jsapi_8h.html#a2219cf9467e8547184b3cf2b051e8067">obj</a>);
<a name="l00078"></a>00078 }
<a name="l00079"></a>00079 
<a name="l00086"></a>00086 <span class="keyword">function</span> <a class="code" href="../../de/dfc/events_8js.html#ad57db69f456bd679167cecd98d6c4019">EventEmitter</a>(){};
<a name="l00087"></a>00087 
<a name="l00094"></a>00094 <a class="code" href="../../de/dfc/events_8js.html#ad57db69f456bd679167cecd98d6c4019">EventEmitter</a>.prototype.on = <span class="keyword">function</span> (<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>, fn) {
<a name="l00095"></a>00095   <span class="keywordflow">if</span> (!this.$events) {
<a name="l00096"></a>00096     this.$events = {};
<a name="l00097"></a>00097   }
<a name="l00098"></a>00098 
<a name="l00099"></a>00099   <span class="keywordflow">if</span> (!this.$events[<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>]) {
<a name="l00100"></a>00100     this.$events[<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>] = fn;
<a name="l00101"></a>00101   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../de/dfc/events_8js.html#adca5ce0ed65a1514a671ae81eb33bd53">isArray</a>(this.$events[name])) {
<a name="l00102"></a>00102     this.$events[<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>].push(fn);
<a name="l00103"></a>00103   } <span class="keywordflow">else</span> {
<a name="l00104"></a>00104     this.$events[<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>] = [this.$events[<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>], fn];
<a name="l00105"></a>00105   }
<a name="l00106"></a>00106 
<a name="l00107"></a>00107   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l00108"></a>00108 };
<a name="l00109"></a>00109 
<a name="l00110"></a>00110 <a class="code" href="../../de/dfc/events_8js.html#ad57db69f456bd679167cecd98d6c4019">EventEmitter</a>.prototype.addListener = <a class="code" href="../../de/dfc/events_8js.html#ad57db69f456bd679167cecd98d6c4019">EventEmitter</a>.prototype.on;
<a name="l00111"></a>00111 
<a name="l00118"></a>00118 <a class="code" href="../../de/dfc/events_8js.html#ad57db69f456bd679167cecd98d6c4019">EventEmitter</a>.prototype.once = <span class="keyword">function</span> (<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>, fn) {
<a name="l00119"></a>00119   var <span class="keyword">self</span> = <span class="keyword">this</span>;
<a name="l00120"></a>00120 
<a name="l00121"></a>00121   <span class="keyword">function</span> <a class="code" href="../../d3/d4a/mock__recipients_8js.html#a7940c57332eea343200607dcc55a2b00">on</a> () {
<a name="l00122"></a>00122     <span class="keyword">self</span>.removeListener(name, <a class="code" href="../../d3/d4a/mock__recipients_8js.html#a7940c57332eea343200607dcc55a2b00">on</a>);
<a name="l00123"></a>00123     fn.apply(<span class="keyword">this</span>, arguments);
<a name="l00124"></a>00124   };
<a name="l00125"></a>00125 
<a name="l00126"></a>00126   <a class="code" href="../../d3/d4a/mock__recipients_8js.html#a7940c57332eea343200607dcc55a2b00">on</a>.listener = fn;
<a name="l00127"></a>00127   this.<a class="code" href="../../d3/d4a/mock__recipients_8js.html#a7940c57332eea343200607dcc55a2b00">on</a>(name, <a class="code" href="../../d3/d4a/mock__recipients_8js.html#a7940c57332eea343200607dcc55a2b00">on</a>);
<a name="l00128"></a>00128 
<a name="l00129"></a>00129   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l00130"></a>00130 };
<a name="l00131"></a>00131 
<a name="l00138"></a>00138 <a class="code" href="../../de/dfc/events_8js.html#ad57db69f456bd679167cecd98d6c4019">EventEmitter</a>.prototype.removeListener = <span class="keyword">function</span> (<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>, fn) {
<a name="l00139"></a>00139   <span class="keywordflow">if</span> (this.$events &amp;&amp; this.$events[name]) {
<a name="l00140"></a>00140     var <a class="code" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a> = this.$events[<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>];
<a name="l00141"></a>00141 
<a name="l00142"></a>00142     <span class="keywordflow">if</span> (<a class="code" href="../../de/dfc/events_8js.html#adca5ce0ed65a1514a671ae81eb33bd53">isArray</a>(list)) {
<a name="l00143"></a>00143       var pos = -1;
<a name="l00144"></a>00144 
<a name="l00145"></a>00145       <span class="keywordflow">for</span> (var <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0, <a class="code" href="../../d9/d6a/ns_color_8h.html#a0ad4b5fc255f59a8dace6aa74c5ca790">l</a> = list.length; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; <a class="code" href="../../d9/d6a/ns_color_8h.html#a0ad4b5fc255f59a8dace6aa74c5ca790">l</a>; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++) {
<a name="l00146"></a>00146         <span class="keywordflow">if</span> (list[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>] === fn || (list[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].listener &amp;&amp; list[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].listener === fn)) {
<a name="l00147"></a>00147           pos = <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>;
<a name="l00148"></a>00148           <span class="keywordflow">break</span>;
<a name="l00149"></a>00149         }
<a name="l00150"></a>00150       }
<a name="l00151"></a>00151 
<a name="l00152"></a>00152       <span class="keywordflow">if</span> (pos &lt; 0) {
<a name="l00153"></a>00153         <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l00154"></a>00154       }
<a name="l00155"></a>00155 
<a name="l00156"></a>00156       list.splice(pos, 1);
<a name="l00157"></a>00157 
<a name="l00158"></a>00158       <span class="keywordflow">if</span> (!list.length) {
<a name="l00159"></a>00159         <span class="keyword">delete</span> this.$events[<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>];
<a name="l00160"></a>00160       }
<a name="l00161"></a>00161     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (list === fn || (list.listener &amp;&amp; list.listener === fn)) {
<a name="l00162"></a>00162       <span class="keyword">delete</span> this.$events[<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>];
<a name="l00163"></a>00163     }
<a name="l00164"></a>00164   }
<a name="l00165"></a>00165 
<a name="l00166"></a>00166   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l00167"></a>00167 };
<a name="l00168"></a>00168 
<a name="l00175"></a>00175 <a class="code" href="../../de/dfc/events_8js.html#ad57db69f456bd679167cecd98d6c4019">EventEmitter</a>.prototype.removeAllListeners = <span class="keyword">function</span> (<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>) {
<a name="l00176"></a>00176   <span class="keywordflow">if</span> (name === undefined) {
<a name="l00177"></a>00177     this.$events = {};
<a name="l00178"></a>00178     <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l00179"></a>00179   }
<a name="l00180"></a>00180 
<a name="l00181"></a>00181   <span class="keywordflow">if</span> (this.$events &amp;&amp; this.$events[name]) {
<a name="l00182"></a>00182     this.$events[<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>] = <a class="code" href="../../d1/d04/app__install__manager_8js.html#a66d98f9009f0502b9a5ce70e907f8f27">null</a>;
<a name="l00183"></a>00183   }
<a name="l00184"></a>00184 
<a name="l00185"></a>00185   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l00186"></a>00186 };
<a name="l00187"></a>00187 
<a name="l00194"></a>00194 <a class="code" href="../../de/dfc/events_8js.html#ad57db69f456bd679167cecd98d6c4019">EventEmitter</a>.prototype.listeners = <span class="keyword">function</span> (<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>) {
<a name="l00195"></a>00195   <span class="keywordflow">if</span> (!this.$events) {
<a name="l00196"></a>00196     this.$events = {};
<a name="l00197"></a>00197   }
<a name="l00198"></a>00198 
<a name="l00199"></a>00199   <span class="keywordflow">if</span> (!this.$events[name]) {
<a name="l00200"></a>00200     this.$events[<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>] = [];
<a name="l00201"></a>00201   }
<a name="l00202"></a>00202 
<a name="l00203"></a>00203   <span class="keywordflow">if</span> (!<a class="code" href="../../de/dfc/events_8js.html#adca5ce0ed65a1514a671ae81eb33bd53">isArray</a>(this.$events[name])) {
<a name="l00204"></a>00204     this.$events[<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>] = [this.$events[<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>]];
<a name="l00205"></a>00205   }
<a name="l00206"></a>00206 
<a name="l00207"></a>00207   <span class="keywordflow">return</span> this.$events[<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>];
<a name="l00208"></a>00208 };
<a name="l00209"></a>00209 
<a name="l00216"></a>00216 <a class="code" href="../../de/dfc/events_8js.html#ad57db69f456bd679167cecd98d6c4019">EventEmitter</a>.prototype.emit = <span class="keyword">function</span> (<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>) {
<a name="l00217"></a>00217   <span class="keywordflow">if</span> (!this.$events) {
<a name="l00218"></a>00218     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00219"></a>00219   }
<a name="l00220"></a>00220 
<a name="l00221"></a>00221   var <a class="code" href="../../de/deb/jsdbgapi_8h.html#a309e0bc04bd5e2de367147b08241aa6b">handler</a> = this.$events[<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>];
<a name="l00222"></a>00222 
<a name="l00223"></a>00223   <span class="keywordflow">if</span> (!handler) {
<a name="l00224"></a>00224     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00225"></a>00225   }
<a name="l00226"></a>00226 
<a name="l00227"></a>00227   var <a class="code" href="../../db/d7b/r_8js.html#a283fa4dd58795cf5b621404be6601e86">args</a> = [].slice.call(arguments, 1);
<a name="l00228"></a>00228 
<a name="l00229"></a>00229   <span class="keywordflow">if</span> (<span class="stringliteral">&#39;function&#39;</span> == <a class="code" href="../../d1/d22/ical_8js.html#a6053319846c80bf9561a1958bb817380">typeof</a> handler) {
<a name="l00230"></a>00230     handler.apply(<span class="keyword">this</span>, args);
<a name="l00231"></a>00231   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../de/dfc/events_8js.html#adca5ce0ed65a1514a671ae81eb33bd53">isArray</a>(handler)) {
<a name="l00232"></a>00232     var <a class="code" href="../../de/dfc/events_8js.html#aefbed4536fb9e73c5a626949dcbffbf4">listeners</a> = handler.slice();
<a name="l00233"></a>00233 
<a name="l00234"></a>00234     <span class="keywordflow">for</span> (var <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0, <a class="code" href="../../d9/d6a/ns_color_8h.html#a0ad4b5fc255f59a8dace6aa74c5ca790">l</a> = listeners.length; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; <a class="code" href="../../d9/d6a/ns_color_8h.html#a0ad4b5fc255f59a8dace6aa74c5ca790">l</a>; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++) {
<a name="l00235"></a>00235       listeners[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].apply(<span class="keyword">this</span>, args);
<a name="l00236"></a>00236     }
<a name="l00237"></a>00237   } <span class="keywordflow">else</span> {
<a name="l00238"></a>00238     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00239"></a>00239   }
<a name="l00240"></a>00240 
<a name="l00241"></a>00241   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00242"></a>00242 };
<a name="l00243"></a>00243 }); <span class="comment">// module: browser/events.js</span>
<a name="l00244"></a>00244 
<a name="l00245"></a>00245 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;browser/fs.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l00246"></a>00246 
<a name="l00247"></a>00247 }); <span class="comment">// module: browser/fs.js</span>
<a name="l00248"></a>00248 
<a name="l00249"></a>00249 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;browser/path.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l00250"></a>00250 
<a name="l00251"></a>00251 }); <span class="comment">// module: browser/path.js</span>
<a name="l00252"></a>00252 
<a name="l00253"></a>00253 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;browser/progress.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l00254"></a>00254 
<a name="l00259"></a>00259 <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = Progress;
<a name="l00260"></a>00260 
<a name="l00265"></a>00265 <span class="keyword">function</span> Progress() {
<a name="l00266"></a>00266   this.percent = 0;
<a name="l00267"></a>00267   this.<a class="code" href="../../d5/dbd/camera_2js_2camera_8js.html#a6d7e27eaec1e5f6600e65858be43c18b">size</a>(0);
<a name="l00268"></a>00268   this.fontSize(11);
<a name="l00269"></a>00269   this.<a class="code" href="../../d4/d8c/viewphoto_8js.html#ae15b4cb928861ff768db92508d6ce0d2">font</a>(<span class="stringliteral">&#39;helvetica, arial, sans-serif&#39;</span>);
<a name="l00270"></a>00270 }
<a name="l00271"></a>00271 
<a name="l00280"></a>00280 Progress.prototype.size = <span class="keyword">function</span>(<a class="code" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a>){
<a name="l00281"></a>00281   this._size = <a class="code" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a>;
<a name="l00282"></a>00282   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l00283"></a>00283 };
<a name="l00284"></a>00284 
<a name="l00293"></a>00293 Progress.prototype.text = <span class="keyword">function</span>(<a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>){
<a name="l00294"></a>00294   this._text = <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>;
<a name="l00295"></a>00295   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l00296"></a>00296 };
<a name="l00297"></a>00297 
<a name="l00306"></a>00306 Progress.prototype.fontSize = <span class="keyword">function</span>(<a class="code" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a>){
<a name="l00307"></a>00307   this._fontSize = <a class="code" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a>;
<a name="l00308"></a>00308   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l00309"></a>00309 };
<a name="l00310"></a>00310 
<a name="l00318"></a>00318 Progress.prototype.font = <span class="keyword">function</span>(family){
<a name="l00319"></a>00319   this._font = family;
<a name="l00320"></a>00320   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l00321"></a>00321 };
<a name="l00322"></a>00322 
<a name="l00330"></a>00330 Progress.prototype.update = <span class="keyword">function</span>(<a class="code" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a>){
<a name="l00331"></a>00331   this.percent = <a class="code" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a>;
<a name="l00332"></a>00332   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l00333"></a>00333 };
<a name="l00334"></a>00334 
<a name="l00342"></a>00342 Progress.prototype.draw = <span class="keyword">function</span>(ctx){
<a name="l00343"></a>00343   var percent = Math.min(this.percent, 100)
<a name="l00344"></a>00344     , <a class="code" href="../../d5/dbd/camera_2js_2camera_8js.html#a6d7e27eaec1e5f6600e65858be43c18b">size</a> = this._size
<a name="l00345"></a>00345     , half = <a class="code" href="../../d5/dbd/camera_2js_2camera_8js.html#a6d7e27eaec1e5f6600e65858be43c18b">size</a> / 2
<a name="l00346"></a>00346     , x = half
<a name="l00347"></a>00347     , y = half
<a name="l00348"></a>00348     , rad = half - 1
<a name="l00349"></a>00349     , fontSize = this._fontSize;
<a name="l00350"></a>00350 
<a name="l00351"></a>00351   ctx.font = fontSize + <span class="stringliteral">&#39;px &#39;</span> + this._font;
<a name="l00352"></a>00352 
<a name="l00353"></a>00353   var angle = Math.PI * 2 * (percent / 100);
<a name="l00354"></a>00354   ctx.clearRect(0, 0, <a class="code" href="../../d5/dbd/camera_2js_2camera_8js.html#a6d7e27eaec1e5f6600e65858be43c18b">size</a>, <a class="code" href="../../d5/dbd/camera_2js_2camera_8js.html#a6d7e27eaec1e5f6600e65858be43c18b">size</a>);
<a name="l00355"></a>00355 
<a name="l00356"></a>00356   <span class="comment">// outer circle</span>
<a name="l00357"></a>00357   ctx.strokeStyle = <span class="stringliteral">&#39;#9f9f9f&#39;</span>;
<a name="l00358"></a>00358   ctx.beginPath();
<a name="l00359"></a>00359   ctx.arc(x, y, rad, 0, angle, <span class="keyword">false</span>);
<a name="l00360"></a>00360   ctx.stroke();
<a name="l00361"></a>00361 
<a name="l00362"></a>00362   <span class="comment">// inner circle</span>
<a name="l00363"></a>00363   ctx.strokeStyle = <span class="stringliteral">&#39;#eee&#39;</span>;
<a name="l00364"></a>00364   ctx.beginPath();
<a name="l00365"></a>00365   ctx.arc(x, y, rad - 1, 0, angle, <span class="keyword">true</span>);
<a name="l00366"></a>00366   ctx.stroke();
<a name="l00367"></a>00367 
<a name="l00368"></a>00368   <span class="comment">// text</span>
<a name="l00369"></a>00369   var <a class="code" href="../../dd/dfa/classtext.html">text</a> = this._text || (percent | 0) + <span class="charliteral">&#39;%&#39;</span>
<a name="l00370"></a>00370     , w = ctx.measureText(text).width;
<a name="l00371"></a>00371 
<a name="l00372"></a>00372   ctx.fillText(
<a name="l00373"></a>00373       text
<a name="l00374"></a>00374     , x - w / 2 + 1
<a name="l00375"></a>00375     , y + fontSize / 2 - 1);
<a name="l00376"></a>00376 
<a name="l00377"></a>00377   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l00378"></a>00378 };
<a name="l00379"></a>00379 
<a name="l00380"></a>00380 }); <span class="comment">// module: browser/progress.js</span>
<a name="l00381"></a>00381 
<a name="l00382"></a>00382 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;browser/tty.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l00383"></a>00383 
<a name="l00384"></a>00384 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.isatty = <span class="keyword">function</span>(){
<a name="l00385"></a>00385   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00386"></a>00386 };
<a name="l00387"></a>00387 
<a name="l00388"></a>00388 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.getWindowSize = <span class="keyword">function</span>(){
<a name="l00389"></a>00389   <span class="keywordflow">return</span> [<a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>.innerHeight, <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>.innerWidth];
<a name="l00390"></a>00390 };
<a name="l00391"></a>00391 }); <span class="comment">// module: browser/tty.js</span>
<a name="l00392"></a>00392 
<a name="l00393"></a>00393 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;context.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l00394"></a>00394 
<a name="l00399"></a>00399 <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = Context;
<a name="l00400"></a>00400 
<a name="l00407"></a>00407 <span class="keyword">function</span> Context(){}
<a name="l00408"></a>00408 
<a name="l00417"></a>00417 Context.prototype.runnable = <span class="keyword">function</span>(runnable){
<a name="l00418"></a>00418   <span class="keywordflow">if</span> (0 == arguments.length) <span class="keywordflow">return</span> this._runnable;
<a name="l00419"></a>00419   this.<a class="code" href="../../db/db1/namespace_j_s_1_1detail.html#a4fe50fa16c059b33ed172c344bb3fc74">test</a> = this._runnable = runnable;
<a name="l00420"></a>00420   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l00421"></a>00421 };
<a name="l00422"></a>00422 
<a name="l00431"></a>00431 Context.prototype.timeout = <span class="keyword">function</span>(ms){
<a name="l00432"></a>00432   this.runnable().timeout(ms);
<a name="l00433"></a>00433   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l00434"></a>00434 };
<a name="l00435"></a>00435 
<a name="l00444"></a>00444 Context.prototype.slow = <span class="keyword">function</span>(ms){
<a name="l00445"></a>00445   this.runnable().slow(ms);
<a name="l00446"></a>00446   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l00447"></a>00447 };
<a name="l00448"></a>00448 
<a name="l00456"></a>00456 Context.prototype.inspect = <span class="keyword">function</span>(){
<a name="l00457"></a>00457   <span class="keywordflow">return</span> JSON.stringify(<span class="keyword">this</span>, <span class="keyword">function</span>(<a class="code" href="../../d2/d7d/jsapi_8h.html#a02d8cbd1392e102198d5bb521715f608">key</a>, <a class="code" href="../../d7/d27/jpeglib_8h.html#abde23394a8cafaa525be2efd5c6d4b2e">val</a>){
<a name="l00458"></a>00458     <span class="keywordflow">if</span> (<span class="stringliteral">&#39;_runnable&#39;</span> == <a class="code" href="../../d2/d7d/jsapi_8h.html#a02d8cbd1392e102198d5bb521715f608">key</a>) <span class="keywordflow">return</span>;
<a name="l00459"></a>00459     <span class="keywordflow">if</span> (<span class="stringliteral">&#39;test&#39;</span> == <a class="code" href="../../d2/d7d/jsapi_8h.html#a02d8cbd1392e102198d5bb521715f608">key</a>) <span class="keywordflow">return</span>;
<a name="l00460"></a>00460     <span class="keywordflow">return</span> <a class="code" href="../../d7/d27/jpeglib_8h.html#abde23394a8cafaa525be2efd5c6d4b2e">val</a>;
<a name="l00461"></a>00461   }, 2);
<a name="l00462"></a>00462 };
<a name="l00463"></a>00463 
<a name="l00464"></a>00464 }); <span class="comment">// module: context.js</span>
<a name="l00465"></a>00465 
<a name="l00466"></a>00466 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;hook.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l00467"></a>00467 
<a name="l00472"></a>00472 var Runnable = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./runnable&#39;</span>);
<a name="l00473"></a>00473 
<a name="l00478"></a>00478 <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = Hook;
<a name="l00479"></a>00479 
<a name="l00488"></a>00488 <span class="keyword">function</span> Hook(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>, fn) {
<a name="l00489"></a>00489   Runnable.call(<span class="keyword">this</span>, <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>, fn);
<a name="l00490"></a>00490   this.<a class="code" href="../../df/d44/permission__manager_8js.html#a5996578fe734dff3d2912807ee458e83">type</a> = <span class="stringliteral">&#39;hook&#39;</span>;
<a name="l00491"></a>00491 }
<a name="l00492"></a>00492 
<a name="l00497"></a>00497 Hook.prototype = <span class="keyword">new</span> Runnable;
<a name="l00498"></a>00498 Hook.prototype.constructor = Hook;
<a name="l00499"></a>00499 
<a name="l00500"></a>00500 
<a name="l00509"></a>00509 Hook.prototype.error = <span class="keyword">function</span>(err){
<a name="l00510"></a>00510   <span class="keywordflow">if</span> (0 == arguments.length) {
<a name="l00511"></a>00511     var err = this._error;
<a name="l00512"></a>00512     this._error = <a class="code" href="../../d1/d04/app__install__manager_8js.html#a66d98f9009f0502b9a5ce70e907f8f27">null</a>;
<a name="l00513"></a>00513     <span class="keywordflow">return</span> err;
<a name="l00514"></a>00514   }
<a name="l00515"></a>00515 
<a name="l00516"></a>00516   this._error = err;
<a name="l00517"></a>00517 };
<a name="l00518"></a>00518 
<a name="l00519"></a>00519 
<a name="l00520"></a>00520 }); <span class="comment">// module: hook.js</span>
<a name="l00521"></a>00521 
<a name="l00522"></a>00522 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;interfaces/bdd.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l00523"></a>00523 
<a name="l00528"></a>00528 var <a class="code" href="../../d7/d1b/test-agent-server_8js.html#aecf5b5d96f0dc9a1cd5e8c7a1869fe89">Suite</a> = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;../suite&#39;</span>)
<a name="l00529"></a>00529   , Test = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;../test&#39;</span>);
<a name="l00530"></a>00530 
<a name="l00548"></a>00548 <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = <span class="keyword">function</span>(<a class="code" href="../../d7/d1b/test-agent-server_8js.html#ae4e488f52af5e7c198b9c91afab5a16e">suite</a>){
<a name="l00549"></a>00549   var suites = [<a class="code" href="../../d7/d1b/test-agent-server_8js.html#ae4e488f52af5e7c198b9c91afab5a16e">suite</a>];
<a name="l00550"></a>00550 
<a name="l00551"></a>00551   <a class="code" href="../../d7/d1b/test-agent-server_8js.html#ae4e488f52af5e7c198b9c91afab5a16e">suite</a>.on(<span class="stringliteral">&#39;pre-require&#39;</span>, <span class="keyword">function</span>(<a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>, <a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a>, mocha){
<a name="l00552"></a>00552 
<a name="l00557"></a>00557     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.before = <span class="keyword">function</span>(fn){
<a name="l00558"></a>00558       suites[0].beforeAll(fn);
<a name="l00559"></a>00559     };
<a name="l00560"></a>00560 
<a name="l00565"></a>00565     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.after = <span class="keyword">function</span>(fn){
<a name="l00566"></a>00566       suites[0].afterAll(fn);
<a name="l00567"></a>00567     };
<a name="l00568"></a>00568 
<a name="l00573"></a>00573     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.beforeEach = <span class="keyword">function</span>(fn){
<a name="l00574"></a>00574       suites[0].beforeEach(fn);
<a name="l00575"></a>00575     };
<a name="l00576"></a>00576 
<a name="l00581"></a>00581     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.afterEach = <span class="keyword">function</span>(fn){
<a name="l00582"></a>00582       suites[0].afterEach(fn);
<a name="l00583"></a>00583     };
<a name="l00584"></a>00584 
<a name="l00591"></a>00591     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.describe = <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.context = <span class="keyword">function</span>(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>, fn){
<a name="l00592"></a>00592       var <a class="code" href="../../d7/d1b/test-agent-server_8js.html#ae4e488f52af5e7c198b9c91afab5a16e">suite</a> = Suite.create(suites[0], <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>);
<a name="l00593"></a>00593       suites.unshift(suite);
<a name="l00594"></a>00594       fn.call(suite);
<a name="l00595"></a>00595       suites.shift();
<a name="l00596"></a>00596       <span class="keywordflow">return</span> <a class="code" href="../../d7/d1b/test-agent-server_8js.html#ae4e488f52af5e7c198b9c91afab5a16e">suite</a>;
<a name="l00597"></a>00597     };
<a name="l00598"></a>00598 
<a name="l00603"></a>00603     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.xdescribe =
<a name="l00604"></a>00604     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.xcontext =
<a name="l00605"></a>00605     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.describe.skip = <span class="keyword">function</span>(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>, fn){
<a name="l00606"></a>00606       var suite = Suite.create(suites[0], <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>);
<a name="l00607"></a>00607       suite.pending = <span class="keyword">true</span>;
<a name="l00608"></a>00608       suites.unshift(suite);
<a name="l00609"></a>00609       fn.call(suite);
<a name="l00610"></a>00610       suites.shift();
<a name="l00611"></a>00611     };
<a name="l00612"></a>00612 
<a name="l00617"></a>00617     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.describe.only = <span class="keyword">function</span>(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>, fn){
<a name="l00618"></a>00618       var suite = <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.describe(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>, fn);
<a name="l00619"></a>00619       mocha.grep(suite.fullTitle());
<a name="l00620"></a>00620     };
<a name="l00621"></a>00621 
<a name="l00628"></a>00628     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.it = <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.specify = <span class="keyword">function</span>(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>, fn){
<a name="l00629"></a>00629       var suite = suites[0];
<a name="l00630"></a>00630       <span class="keywordflow">if</span> (suite.pending) var fn = <a class="code" href="../../d1/d04/app__install__manager_8js.html#a66d98f9009f0502b9a5ce70e907f8f27">null</a>;
<a name="l00631"></a>00631       var <a class="code" href="../../db/db1/namespace_j_s_1_1detail.html#a4fe50fa16c059b33ed172c344bb3fc74">test</a> = <span class="keyword">new</span> Test(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>, fn);
<a name="l00632"></a>00632       suite.addTest(test);
<a name="l00633"></a>00633       <span class="keywordflow">return</span> <a class="code" href="../../db/db1/namespace_j_s_1_1detail.html#a4fe50fa16c059b33ed172c344bb3fc74">test</a>;
<a name="l00634"></a>00634     };
<a name="l00635"></a>00635 
<a name="l00640"></a>00640     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.it.only = <span class="keyword">function</span>(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>, fn){
<a name="l00641"></a>00641       var test = <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.it(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>, fn);
<a name="l00642"></a>00642       mocha.grep(test.fullTitle());
<a name="l00643"></a>00643     };
<a name="l00644"></a>00644 
<a name="l00649"></a>00649     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.xit =
<a name="l00650"></a>00650     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.xspecify =
<a name="l00651"></a>00651     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.it.skip = <span class="keyword">function</span>(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>){
<a name="l00652"></a>00652       <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.it(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>);
<a name="l00653"></a>00653     };
<a name="l00654"></a>00654   });
<a name="l00655"></a>00655 };
<a name="l00656"></a>00656 
<a name="l00657"></a>00657 }); <span class="comment">// module: interfaces/bdd.js</span>
<a name="l00658"></a>00658 
<a name="l00659"></a>00659 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;interfaces/exports.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l00660"></a>00660 
<a name="l00665"></a>00665 var Suite = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;../suite&#39;</span>)
<a name="l00666"></a>00666   , Test = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;../test&#39;</span>);
<a name="l00667"></a>00667 
<a name="l00685"></a>00685 <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = <span class="keyword">function</span>(<a class="code" href="../../d7/d1b/test-agent-server_8js.html#ae4e488f52af5e7c198b9c91afab5a16e">suite</a>){
<a name="l00686"></a>00686   var suites = [<a class="code" href="../../d7/d1b/test-agent-server_8js.html#ae4e488f52af5e7c198b9c91afab5a16e">suite</a>];
<a name="l00687"></a>00687 
<a name="l00688"></a>00688   suite.on(<span class="stringliteral">&#39;require&#39;</span>, visit);
<a name="l00689"></a>00689 
<a name="l00690"></a>00690   <span class="keyword">function</span> visit(<a class="code" href="../../d2/d7d/jsapi_8h.html#a2219cf9467e8547184b3cf2b051e8067">obj</a>) {
<a name="l00691"></a>00691     var <a class="code" href="../../d7/d1b/test-agent-server_8js.html#ae4e488f52af5e7c198b9c91afab5a16e">suite</a>;
<a name="l00692"></a>00692     <span class="keywordflow">for</span> (var <a class="code" href="../../d2/d7d/jsapi_8h.html#a02d8cbd1392e102198d5bb521715f608">key</a> in <a class="code" href="../../d2/d7d/jsapi_8h.html#a2219cf9467e8547184b3cf2b051e8067">obj</a>) {
<a name="l00693"></a>00693       <span class="keywordflow">if</span> (<span class="stringliteral">&#39;function&#39;</span> == <a class="code" href="../../d1/d22/ical_8js.html#a6053319846c80bf9561a1958bb817380">typeof</a> obj[<a class="code" href="../../d2/d7d/jsapi_8h.html#a02d8cbd1392e102198d5bb521715f608">key</a>]) {
<a name="l00694"></a>00694         var fn = obj[<a class="code" href="../../d2/d7d/jsapi_8h.html#a02d8cbd1392e102198d5bb521715f608">key</a>];
<a name="l00695"></a>00695         <span class="keywordflow">switch</span> (key) {
<a name="l00696"></a>00696           <span class="keywordflow">case</span> <span class="stringliteral">&#39;before&#39;</span>:
<a name="l00697"></a>00697             suites[0].beforeAll(fn);
<a name="l00698"></a>00698             <span class="keywordflow">break</span>;
<a name="l00699"></a>00699           <span class="keywordflow">case</span> <span class="stringliteral">&#39;after&#39;</span>:
<a name="l00700"></a>00700             suites[0].afterAll(fn);
<a name="l00701"></a>00701             <span class="keywordflow">break</span>;
<a name="l00702"></a>00702           <span class="keywordflow">case</span> <span class="stringliteral">&#39;beforeEach&#39;</span>:
<a name="l00703"></a>00703             suites[0].beforeEach(fn);
<a name="l00704"></a>00704             <span class="keywordflow">break</span>;
<a name="l00705"></a>00705           <span class="keywordflow">case</span> <span class="stringliteral">&#39;afterEach&#39;</span>:
<a name="l00706"></a>00706             suites[0].afterEach(fn);
<a name="l00707"></a>00707             <span class="keywordflow">break</span>;
<a name="l00708"></a>00708           <span class="keywordflow">default</span>:
<a name="l00709"></a>00709             suites[0].addTest(<span class="keyword">new</span> Test(key, fn));
<a name="l00710"></a>00710         }
<a name="l00711"></a>00711       } <span class="keywordflow">else</span> {
<a name="l00712"></a>00712         var suite = Suite.create(suites[0], key);
<a name="l00713"></a>00713         suites.unshift(suite);
<a name="l00714"></a>00714         visit(obj[key]);
<a name="l00715"></a>00715         suites.shift();
<a name="l00716"></a>00716       }
<a name="l00717"></a>00717     }
<a name="l00718"></a>00718   }
<a name="l00719"></a>00719 };
<a name="l00720"></a>00720 }); <span class="comment">// module: interfaces/exports.js</span>
<a name="l00721"></a>00721 
<a name="l00722"></a>00722 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;interfaces/index.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l00723"></a>00723 
<a name="l00724"></a>00724 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.bdd = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./bdd&#39;</span>);
<a name="l00725"></a>00725 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.tdd = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./tdd&#39;</span>);
<a name="l00726"></a>00726 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.qunit = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./qunit&#39;</span>);
<a name="l00727"></a>00727 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.exports = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./exports&#39;</span>);
<a name="l00728"></a>00728 
<a name="l00729"></a>00729 }); <span class="comment">// module: interfaces/index.js</span>
<a name="l00730"></a>00730 
<a name="l00731"></a>00731 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;interfaces/qunit.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l00732"></a>00732 
<a name="l00737"></a>00737 var Suite = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;../suite&#39;</span>)
<a name="l00738"></a>00738   , Test = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;../test&#39;</span>);
<a name="l00739"></a>00739 
<a name="l00765"></a>00765 <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = <span class="keyword">function</span>(<a class="code" href="../../d7/d1b/test-agent-server_8js.html#ae4e488f52af5e7c198b9c91afab5a16e">suite</a>){
<a name="l00766"></a>00766   var suites = [<a class="code" href="../../d7/d1b/test-agent-server_8js.html#ae4e488f52af5e7c198b9c91afab5a16e">suite</a>];
<a name="l00767"></a>00767 
<a name="l00768"></a>00768   suite.on(<span class="stringliteral">&#39;pre-require&#39;</span>, <span class="keyword">function</span>(<a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>){
<a name="l00769"></a>00769 
<a name="l00774"></a>00774     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.before = <span class="keyword">function</span>(fn){
<a name="l00775"></a>00775       suites[0].beforeAll(fn);
<a name="l00776"></a>00776     };
<a name="l00777"></a>00777 
<a name="l00782"></a>00782     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.after = <span class="keyword">function</span>(fn){
<a name="l00783"></a>00783       suites[0].afterAll(fn);
<a name="l00784"></a>00784     };
<a name="l00785"></a>00785 
<a name="l00790"></a>00790     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.beforeEach = <span class="keyword">function</span>(fn){
<a name="l00791"></a>00791       suites[0].beforeEach(fn);
<a name="l00792"></a>00792     };
<a name="l00793"></a>00793 
<a name="l00798"></a>00798     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.afterEach = <span class="keyword">function</span>(fn){
<a name="l00799"></a>00799       suites[0].afterEach(fn);
<a name="l00800"></a>00800     };
<a name="l00801"></a>00801 
<a name="l00806"></a>00806     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.suite = <span class="keyword">function</span>(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>){
<a name="l00807"></a>00807       <span class="keywordflow">if</span> (suites.length &gt; 1) suites.shift();
<a name="l00808"></a>00808       var suite = Suite.create(suites[0], <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>);
<a name="l00809"></a>00809       suites.unshift(suite);
<a name="l00810"></a>00810     };
<a name="l00811"></a>00811 
<a name="l00818"></a>00818     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.test = <span class="keyword">function</span>(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>, fn){
<a name="l00819"></a>00819       suites[0].addTest(<span class="keyword">new</span> Test(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>, fn));
<a name="l00820"></a>00820     };
<a name="l00821"></a>00821   });
<a name="l00822"></a>00822 };
<a name="l00823"></a>00823 
<a name="l00824"></a>00824 }); <span class="comment">// module: interfaces/qunit.js</span>
<a name="l00825"></a>00825 
<a name="l00826"></a>00826 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;interfaces/tdd.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l00827"></a>00827 
<a name="l00832"></a>00832 var Suite = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;../suite&#39;</span>)
<a name="l00833"></a>00833   , Test = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;../test&#39;</span>);
<a name="l00834"></a>00834 
<a name="l00860"></a>00860 <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = <span class="keyword">function</span>(<a class="code" href="../../d7/d1b/test-agent-server_8js.html#ae4e488f52af5e7c198b9c91afab5a16e">suite</a>){
<a name="l00861"></a>00861   var suites = [<a class="code" href="../../d7/d1b/test-agent-server_8js.html#ae4e488f52af5e7c198b9c91afab5a16e">suite</a>];
<a name="l00862"></a>00862 
<a name="l00863"></a>00863   suite.on(<span class="stringliteral">&#39;pre-require&#39;</span>, <span class="keyword">function</span>(<a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>, <a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a>, mocha){
<a name="l00864"></a>00864 
<a name="l00869"></a>00869     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.setup = <span class="keyword">function</span>(fn){
<a name="l00870"></a>00870       suites[0].beforeEach(fn);
<a name="l00871"></a>00871     };
<a name="l00872"></a>00872 
<a name="l00877"></a>00877     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.teardown = <span class="keyword">function</span>(fn){
<a name="l00878"></a>00878       suites[0].afterEach(fn);
<a name="l00879"></a>00879     };
<a name="l00880"></a>00880 
<a name="l00885"></a>00885     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.suiteSetup = <span class="keyword">function</span>(fn){
<a name="l00886"></a>00886       suites[0].beforeAll(fn);
<a name="l00887"></a>00887     };
<a name="l00888"></a>00888 
<a name="l00893"></a>00893     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.suiteTeardown = <span class="keyword">function</span>(fn){
<a name="l00894"></a>00894       suites[0].afterAll(fn);
<a name="l00895"></a>00895     };
<a name="l00896"></a>00896 
<a name="l00903"></a>00903     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.suite = <span class="keyword">function</span>(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>, fn){
<a name="l00904"></a>00904       var suite = Suite.create(suites[0], <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>);
<a name="l00905"></a>00905       suites.unshift(suite);
<a name="l00906"></a>00906       fn.call(suite);
<a name="l00907"></a>00907       suites.shift();
<a name="l00908"></a>00908       <span class="keywordflow">return</span> <a class="code" href="../../d7/d1b/test-agent-server_8js.html#ae4e488f52af5e7c198b9c91afab5a16e">suite</a>;
<a name="l00909"></a>00909     };
<a name="l00910"></a>00910 
<a name="l00915"></a>00915     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.suite.only = <span class="keyword">function</span>(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>, fn){
<a name="l00916"></a>00916       var suite = <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.suite(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>, fn);
<a name="l00917"></a>00917       mocha.grep(suite.fullTitle());
<a name="l00918"></a>00918     };
<a name="l00919"></a>00919 
<a name="l00926"></a>00926     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.test = <span class="keyword">function</span>(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>, fn){
<a name="l00927"></a>00927       var test = <span class="keyword">new</span> Test(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>, fn);
<a name="l00928"></a>00928       suites[0].addTest(test);
<a name="l00929"></a>00929       <span class="keywordflow">return</span> <a class="code" href="../../db/db1/namespace_j_s_1_1detail.html#a4fe50fa16c059b33ed172c344bb3fc74">test</a>;
<a name="l00930"></a>00930     };
<a name="l00931"></a>00931 
<a name="l00936"></a>00936     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.test.only = <span class="keyword">function</span>(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>, fn){
<a name="l00937"></a>00937       var test = <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.test(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>, fn);
<a name="l00938"></a>00938       mocha.grep(test.fullTitle());
<a name="l00939"></a>00939     };
<a name="l00940"></a>00940 
<a name="l00945"></a>00945     <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.test.skip = <span class="keyword">function</span>(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>){
<a name="l00946"></a>00946       <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>.test(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>);
<a name="l00947"></a>00947     };
<a name="l00948"></a>00948   });
<a name="l00949"></a>00949 };
<a name="l00950"></a>00950 
<a name="l00951"></a>00951 }); <span class="comment">// module: interfaces/tdd.js</span>
<a name="l00952"></a>00952 
<a name="l00953"></a>00953 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;mocha.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l00964"></a>00964 var path = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;browser/path&#39;</span>)
<a name="l00965"></a>00965   , <a class="code" href="../../d0/df4/contacts__shortcuts_8js.html#a7b58b8887c6d26e09f79fbacfbda7f53">utils</a> = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./utils&#39;</span>);
<a name="l00966"></a>00966 
<a name="l00971"></a>00971 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = Mocha;
<a name="l00972"></a>00972 
<a name="l00977"></a>00977 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.utils = <a class="code" href="../../d0/df4/contacts__shortcuts_8js.html#a7b58b8887c6d26e09f79fbacfbda7f53">utils</a>;
<a name="l00978"></a>00978 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.interfaces = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./interfaces&#39;</span>);
<a name="l00979"></a>00979 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.reporters = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./reporters&#39;</span>);
<a name="l00980"></a>00980 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.Runnable = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./runnable&#39;</span>);
<a name="l00981"></a>00981 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.Context = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./context&#39;</span>);
<a name="l00982"></a>00982 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.Runner = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./runner&#39;</span>);
<a name="l00983"></a>00983 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.Suite = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./suite&#39;</span>);
<a name="l00984"></a>00984 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.Hook = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./hook&#39;</span>);
<a name="l00985"></a>00985 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.Test = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./test&#39;</span>);
<a name="l00986"></a>00986 
<a name="l00995"></a>00995 <span class="keyword">function</span> image(name) {
<a name="l00996"></a>00996   <span class="keywordflow">return</span> __dirname + <span class="stringliteral">&#39;/../images/&#39;</span> + name + <span class="stringliteral">&#39;.png&#39;</span>;
<a name="l00997"></a>00997 }
<a name="l00998"></a>00998 
<a name="l01016"></a>01016 <span class="keyword">function</span> Mocha(<a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a>) {
<a name="l01017"></a>01017   <a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a> = <a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a> || {};
<a name="l01018"></a>01018   this.<a class="code" href="../../d0/da2/gallery_8js.html#a0742cac2750bccc2d88ac080fb9daa22">files</a> = [];
<a name="l01019"></a>01019   this.<a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a> = <a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a>;
<a name="l01020"></a>01020   this.grep(<a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a>.grep);
<a name="l01021"></a>01021   this.suite = <span class="keyword">new</span> <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.Suite(<span class="stringliteral">&#39;&#39;</span>, <span class="keyword">new</span> <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.Context);
<a name="l01022"></a>01022   this.ui(<a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a>.ui);
<a name="l01023"></a>01023   this.<a class="code" href="../../de/d8f/jsdebug_8h.html#a345bfd71c51faeb6749e60c7c00f81d2">reporter</a>(<a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a>.reporter);
<a name="l01024"></a>01024   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a>.timeout) this.<a class="code" href="../../da/d32/prio_8h.html#a0f2163507f01dc9bb68ca5c72cacaa34">timeout</a>(<a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a>.timeout);
<a name="l01025"></a>01025   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a>.slow) this.slow(<a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a>.slow);
<a name="l01026"></a>01026 }
<a name="l01027"></a>01027 
<a name="l01035"></a>01035 Mocha.prototype.addFile = <span class="keyword">function</span>(<a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a>){
<a name="l01036"></a>01036   this.<a class="code" href="../../d0/da2/gallery_8js.html#a0742cac2750bccc2d88ac080fb9daa22">files</a>.push(<a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a>);
<a name="l01037"></a>01037   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l01038"></a>01038 };
<a name="l01039"></a>01039 
<a name="l01047"></a>01047 Mocha.prototype.reporter = <span class="keyword">function</span>(<a class="code" href="../../de/d8f/jsdebug_8h.html#a345bfd71c51faeb6749e60c7c00f81d2">reporter</a>){
<a name="l01048"></a>01048   <span class="keywordflow">if</span> (<span class="stringliteral">&#39;function&#39;</span> == <a class="code" href="../../d1/d22/ical_8js.html#a6053319846c80bf9561a1958bb817380">typeof</a> <a class="code" href="../../de/d8f/jsdebug_8h.html#a345bfd71c51faeb6749e60c7c00f81d2">reporter</a>) {
<a name="l01049"></a>01049     this._reporter = <a class="code" href="../../de/d8f/jsdebug_8h.html#a345bfd71c51faeb6749e60c7c00f81d2">reporter</a>;
<a name="l01050"></a>01050   } <span class="keywordflow">else</span> {
<a name="l01051"></a>01051     reporter = reporter || <span class="stringliteral">&#39;dot&#39;</span>;
<a name="l01052"></a>01052     <span class="keywordflow">try</span> {
<a name="l01053"></a>01053       this._reporter = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./reporters/&#39;</span> + reporter);
<a name="l01054"></a>01054     } <span class="keywordflow">catch</span> (err) {
<a name="l01055"></a>01055       this._reporter = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(reporter);
<a name="l01056"></a>01056     }
<a name="l01057"></a>01057     <span class="keywordflow">if</span> (!this._reporter) <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="../../dc/d06/calendar_2js_2error_8js.html#abd05c43175d3c93c6889542cefc822f3">Error</a>(<span class="stringliteral">&#39;invalid reporter &quot;&#39;</span> + reporter + <span class="charliteral">&#39;&quot;&#39;</span>);
<a name="l01058"></a>01058   }
<a name="l01059"></a>01059   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l01060"></a>01060 };
<a name="l01061"></a>01061 
<a name="l01069"></a>01069 Mocha.prototype.ui = <span class="keyword">function</span>(<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>){
<a name="l01070"></a>01070   name = name || <span class="stringliteral">&#39;bdd&#39;</span>;
<a name="l01071"></a>01071   this._ui = <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.interfaces[<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>];
<a name="l01072"></a>01072   <span class="keywordflow">if</span> (!this._ui) <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="../../dc/d06/calendar_2js_2error_8js.html#abd05c43175d3c93c6889542cefc822f3">Error</a>(<span class="stringliteral">&#39;invalid interface &quot;&#39;</span> + name + <span class="charliteral">&#39;&quot;&#39;</span>);
<a name="l01073"></a>01073   this._ui = this._ui(this.suite);
<a name="l01074"></a>01074   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l01075"></a>01075 };
<a name="l01076"></a>01076 
<a name="l01083"></a>01083 Mocha.prototype.loadFiles = <span class="keyword">function</span>(fn){
<a name="l01084"></a>01084   var <span class="keyword">self</span> = <span class="keyword">this</span>;
<a name="l01085"></a>01085   var suite = this.<a class="code" href="../../d7/d1b/test-agent-server_8js.html#ae4e488f52af5e7c198b9c91afab5a16e">suite</a>;
<a name="l01086"></a>01086   var pending = this.<a class="code" href="../../d0/da2/gallery_8js.html#a0742cac2750bccc2d88ac080fb9daa22">files</a>.length;
<a name="l01087"></a>01087   this.<a class="code" href="../../d0/da2/gallery_8js.html#a0742cac2750bccc2d88ac080fb9daa22">files</a>.forEach(<span class="keyword">function</span>(<a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a>){
<a name="l01088"></a>01088     <a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a> = path.resolve(<a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a>);
<a name="l01089"></a>01089     suite.emit(<span class="stringliteral">&#39;pre-require&#39;</span>, <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a5363025b2c2d773292f0f064aeb11f9e">global</a>, <a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a>, <span class="keyword">self</span>);
<a name="l01090"></a>01090     suite.emit(<span class="stringliteral">&#39;require&#39;</span>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a>), <a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a>, <span class="keyword">self</span>);
<a name="l01091"></a>01091     suite.emit(<span class="stringliteral">&#39;post-require&#39;</span>, <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a5363025b2c2d773292f0f064aeb11f9e">global</a>, <a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a>, <span class="keyword">self</span>);
<a name="l01092"></a>01092     --pending || (fn &amp;&amp; fn());
<a name="l01093"></a>01093   });
<a name="l01094"></a>01094 };
<a name="l01095"></a>01095 
<a name="l01102"></a>01102 Mocha.prototype._growl = <span class="keyword">function</span>(runner, <a class="code" href="../../de/d8f/jsdebug_8h.html#a345bfd71c51faeb6749e60c7c00f81d2">reporter</a>) {
<a name="l01103"></a>01103   var notify = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;growl&#39;</span>);
<a name="l01104"></a>01104 
<a name="l01105"></a>01105   runner.on(<span class="stringliteral">&#39;end&#39;</span>, <span class="keyword">function</span>(){
<a name="l01106"></a>01106     var stats = reporter.stats;
<a name="l01107"></a>01107     <span class="keywordflow">if</span> (stats.failures) {
<a name="l01108"></a>01108       var <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa32988dd09d5a9481dfadbb89d1426ab">msg</a> = stats.failures + <span class="stringliteral">&#39; of &#39;</span> + runner.total + <span class="stringliteral">&#39; tests failed&#39;</span>;
<a name="l01109"></a>01109       notify(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa32988dd09d5a9481dfadbb89d1426ab">msg</a>, { name: <span class="stringliteral">&#39;mocha&#39;</span>, <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>: <span class="stringliteral">&#39;Failed&#39;</span>, image: image(<span class="stringliteral">&#39;error&#39;</span>) });
<a name="l01110"></a>01110     } <span class="keywordflow">else</span> {
<a name="l01111"></a>01111       notify(stats.passes + <span class="stringliteral">&#39; tests passed in &#39;</span> + stats.duration + <span class="stringliteral">&#39;ms&#39;</span>, {
<a name="l01112"></a>01112           name: <span class="stringliteral">&#39;mocha&#39;</span>
<a name="l01113"></a>01113         , <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>: <span class="stringliteral">&#39;Passed&#39;</span>
<a name="l01114"></a>01114         , image: image(<span class="stringliteral">&#39;ok&#39;</span>)
<a name="l01115"></a>01115       });
<a name="l01116"></a>01116     }
<a name="l01117"></a>01117   });
<a name="l01118"></a>01118 };
<a name="l01119"></a>01119 
<a name="l01128"></a>01128 Mocha.prototype.grep = <span class="keyword">function</span>(re){
<a name="l01129"></a>01129   this.<a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a>.grep = <span class="stringliteral">&#39;string&#39;</span> == <a class="code" href="../../d1/d22/ical_8js.html#a6053319846c80bf9561a1958bb817380">typeof</a> re
<a name="l01130"></a>01130     ? <span class="keyword">new</span> RegExp(<a class="code" href="../../d0/df4/contacts__shortcuts_8js.html#a7b58b8887c6d26e09f79fbacfbda7f53">utils</a>.escapeRegexp(re))
<a name="l01131"></a>01131     : re;
<a name="l01132"></a>01132   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l01133"></a>01133 };
<a name="l01134"></a>01134 
<a name="l01142"></a>01142 Mocha.prototype.invert = <span class="keyword">function</span>(){
<a name="l01143"></a>01143   this.<a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a>.invert = <span class="keyword">true</span>;
<a name="l01144"></a>01144   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l01145"></a>01145 };
<a name="l01146"></a>01146 
<a name="l01154"></a>01154 Mocha.prototype.ignoreLeaks = <span class="keyword">function</span>(){
<a name="l01155"></a>01155   this.<a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a>.ignoreLeaks = <span class="keyword">true</span>;
<a name="l01156"></a>01156   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l01157"></a>01157 };
<a name="l01158"></a>01158 
<a name="l01166"></a>01166 Mocha.prototype.checkLeaks = <span class="keyword">function</span>(){
<a name="l01167"></a>01167   this.<a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a>.ignoreLeaks = <span class="keyword">false</span>;
<a name="l01168"></a>01168   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l01169"></a>01169 };
<a name="l01170"></a>01170 
<a name="l01178"></a>01178 Mocha.prototype.growl = <span class="keyword">function</span>(){
<a name="l01179"></a>01179   this.<a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a>.growl = <span class="keyword">true</span>;
<a name="l01180"></a>01180   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l01181"></a>01181 };
<a name="l01182"></a>01182 
<a name="l01191"></a>01191 Mocha.prototype.globals = <span class="keyword">function</span>(<a class="code" href="../../d8/d44/sd__test_8js.html#affd3010a3b7d833bb71f8362d310b81f">globals</a>){
<a name="l01192"></a>01192   this.<a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a>.globals = (this.<a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a>.globals || []).concat(<a class="code" href="../../d8/d44/sd__test_8js.html#affd3010a3b7d833bb71f8362d310b81f">globals</a>);
<a name="l01193"></a>01193   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l01194"></a>01194 };
<a name="l01195"></a>01195 
<a name="l01204"></a>01204 Mocha.prototype.timeout = <span class="keyword">function</span>(<a class="code" href="../../da/d32/prio_8h.html#a0f2163507f01dc9bb68ca5c72cacaa34">timeout</a>){
<a name="l01205"></a>01205   this.suite.timeout(<a class="code" href="../../da/d32/prio_8h.html#a0f2163507f01dc9bb68ca5c72cacaa34">timeout</a>);
<a name="l01206"></a>01206   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l01207"></a>01207 };
<a name="l01208"></a>01208 
<a name="l01217"></a>01217 Mocha.prototype.slow = <span class="keyword">function</span>(slow){
<a name="l01218"></a>01218   this.suite.slow(slow);
<a name="l01219"></a>01219   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l01220"></a>01220 };
<a name="l01221"></a>01221 
<a name="l01229"></a>01229 Mocha.prototype.asyncOnly = <span class="keyword">function</span>(){
<a name="l01230"></a>01230   this.<a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a>.asyncOnly = <span class="keyword">true</span>;
<a name="l01231"></a>01231   <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l01232"></a>01232 };
<a name="l01233"></a>01233 
<a name="l01242"></a>01242 Mocha.prototype.run = <span class="keyword">function</span>(fn){
<a name="l01243"></a>01243   <span class="keywordflow">if</span> (this.<a class="code" href="../../d0/da2/gallery_8js.html#a0742cac2750bccc2d88ac080fb9daa22">files</a>.length) this.loadFiles();
<a name="l01244"></a>01244   var suite = this.<a class="code" href="../../d7/d1b/test-agent-server_8js.html#ae4e488f52af5e7c198b9c91afab5a16e">suite</a>;
<a name="l01245"></a>01245   var <a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a> = this.<a class="code" href="../../d6/d46/system_2js_2icc_8js.html#a77e4041f4236c111378c64001ea99114">options</a>;
<a name="l01246"></a>01246   var runner = <span class="keyword">new</span> <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.Runner(suite);
<a name="l01247"></a>01247   var reporter = <span class="keyword">new</span> this._reporter(runner);
<a name="l01248"></a>01248   runner.ignoreLeaks = options.ignoreLeaks;
<a name="l01249"></a>01249   runner.asyncOnly = options.asyncOnly;
<a name="l01250"></a>01250   <span class="keywordflow">if</span> (options.grep) runner.grep(options.grep, options.invert);
<a name="l01251"></a>01251   <span class="keywordflow">if</span> (options.globals) runner.globals(options.globals);
<a name="l01252"></a>01252   <span class="keywordflow">if</span> (options.growl) this._growl(runner, reporter);
<a name="l01253"></a>01253   <span class="keywordflow">return</span> runner.run(fn);
<a name="l01254"></a>01254 };
<a name="l01255"></a>01255 
<a name="l01256"></a>01256 }); <span class="comment">// module: mocha.js</span>
<a name="l01257"></a>01257 
<a name="l01258"></a>01258 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;ms.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l01259"></a>01259 
<a name="l01264"></a>01264 var <a class="code" href="../../d9/d04/expat_8h.html#afa4d928795b38748c167cba7f7b9f04c">s</a> = 1000;
<a name="l01265"></a>01265 var m = s * 60;
<a name="l01266"></a>01266 var h = m * 60;
<a name="l01267"></a>01267 var d = h * 24;
<a name="l01268"></a>01268 
<a name="l01277"></a>01277 <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = <span class="keyword">function</span>(<a class="code" href="../../d7/d27/jpeglib_8h.html#abde23394a8cafaa525be2efd5c6d4b2e">val</a>){
<a name="l01278"></a>01278   <span class="keywordflow">if</span> (<span class="stringliteral">&#39;string&#39;</span> == <a class="code" href="../../d1/d22/ical_8js.html#a6053319846c80bf9561a1958bb817380">typeof</a> <a class="code" href="../../d7/d27/jpeglib_8h.html#abde23394a8cafaa525be2efd5c6d4b2e">val</a>) <span class="keywordflow">return</span> <a class="code" href="../../d1/d22/ical_8js.html#a2c438207bb0df36648d3da7ccaac2441">parse</a>(val);
<a name="l01279"></a>01279   <span class="keywordflow">return</span> <a class="code" href="../../d5/dca/reply__imap__email__test_8js.html#a63214d8f1727e71292b73e09dc39644f">format</a>(val);
<a name="l01280"></a>01280 }
<a name="l01281"></a>01281 
<a name="l01290"></a>01290 <span class="keyword">function</span> <a class="code" href="../../d1/d22/ical_8js.html#a2c438207bb0df36648d3da7ccaac2441">parse</a>(<a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>) {
<a name="l01291"></a>01291   var m = /^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>.exec(<a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>);
<a name="l01292"></a>01292   <span class="keywordflow">if</span> (!m) <span class="keywordflow">return</span>;
<a name="l01293"></a>01293   var <a class="code" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a> = parseFloat(m[1]);
<a name="l01294"></a>01294   var <a class="code" href="../../df/d44/permission__manager_8js.html#a5996578fe734dff3d2912807ee458e83">type</a> = (m[2] || <span class="stringliteral">&#39;ms&#39;</span>).toLowerCase();
<a name="l01295"></a>01295   <span class="keywordflow">switch</span> (type) {
<a name="l01296"></a>01296     <span class="keywordflow">case</span> <span class="stringliteral">&#39;years&#39;</span>:
<a name="l01297"></a>01297     <span class="keywordflow">case</span> <span class="stringliteral">&#39;year&#39;</span>:
<a name="l01298"></a>01298     <span class="keywordflow">case</span> <span class="charliteral">&#39;y&#39;</span>:
<a name="l01299"></a>01299       <span class="keywordflow">return</span> n * 31557600000;
<a name="l01300"></a>01300     <span class="keywordflow">case</span> <span class="stringliteral">&#39;days&#39;</span>:
<a name="l01301"></a>01301     <span class="keywordflow">case</span> <span class="stringliteral">&#39;day&#39;</span>:
<a name="l01302"></a>01302     <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:
<a name="l01303"></a>01303       <span class="keywordflow">return</span> n * 86400000;
<a name="l01304"></a>01304     <span class="keywordflow">case</span> <span class="stringliteral">&#39;hours&#39;</span>:
<a name="l01305"></a>01305     <span class="keywordflow">case</span> <span class="stringliteral">&#39;hour&#39;</span>:
<a name="l01306"></a>01306     <span class="keywordflow">case</span> <span class="charliteral">&#39;h&#39;</span>:
<a name="l01307"></a>01307       <span class="keywordflow">return</span> n * 3600000;
<a name="l01308"></a>01308     <span class="keywordflow">case</span> <span class="stringliteral">&#39;minutes&#39;</span>:
<a name="l01309"></a>01309     <span class="keywordflow">case</span> <span class="stringliteral">&#39;minute&#39;</span>:
<a name="l01310"></a>01310     <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>:
<a name="l01311"></a>01311       <span class="keywordflow">return</span> n * 60000;
<a name="l01312"></a>01312     <span class="keywordflow">case</span> <span class="stringliteral">&#39;seconds&#39;</span>:
<a name="l01313"></a>01313     <span class="keywordflow">case</span> <span class="stringliteral">&#39;second&#39;</span>:
<a name="l01314"></a>01314     <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:
<a name="l01315"></a>01315       <span class="keywordflow">return</span> n * 1000;
<a name="l01316"></a>01316     <span class="keywordflow">case</span> <span class="stringliteral">&#39;ms&#39;</span>:
<a name="l01317"></a>01317       <span class="keywordflow">return</span> <a class="code" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a>;
<a name="l01318"></a>01318   }
<a name="l01319"></a>01319 }
<a name="l01320"></a>01320 
<a name="l01329"></a>01329 <span class="keyword">function</span> <a class="code" href="../../d5/dca/reply__imap__email__test_8js.html#a63214d8f1727e71292b73e09dc39644f">format</a>(ms) {
<a name="l01330"></a>01330   <span class="keywordflow">if</span> (ms == d) <span class="keywordflow">return</span> Math.round(ms / d) + <span class="stringliteral">&#39; day&#39;</span>;
<a name="l01331"></a>01331   <span class="keywordflow">if</span> (ms &gt; d) <span class="keywordflow">return</span> Math.round(ms / d) + <span class="stringliteral">&#39; days&#39;</span>;
<a name="l01332"></a>01332   <span class="keywordflow">if</span> (ms == h) <span class="keywordflow">return</span> Math.round(ms / h) + <span class="stringliteral">&#39; hour&#39;</span>;
<a name="l01333"></a>01333   <span class="keywordflow">if</span> (ms &gt; h) <span class="keywordflow">return</span> Math.round(ms / h) + <span class="stringliteral">&#39; hours&#39;</span>;
<a name="l01334"></a>01334   <span class="keywordflow">if</span> (ms == m) <span class="keywordflow">return</span> Math.round(ms / m) + <span class="stringliteral">&#39; minute&#39;</span>;
<a name="l01335"></a>01335   <span class="keywordflow">if</span> (ms &gt; m) <span class="keywordflow">return</span> Math.round(ms / m) + <span class="stringliteral">&#39; minutes&#39;</span>;
<a name="l01336"></a>01336   <span class="keywordflow">if</span> (ms == s) <span class="keywordflow">return</span> Math.round(ms / s) + <span class="stringliteral">&#39; second&#39;</span>;
<a name="l01337"></a>01337   <span class="keywordflow">if</span> (ms &gt; s) <span class="keywordflow">return</span> Math.round(ms / s) + <span class="stringliteral">&#39; seconds&#39;</span>;
<a name="l01338"></a>01338   <span class="keywordflow">return</span> ms + <span class="stringliteral">&#39; ms&#39;</span>;
<a name="l01339"></a>01339 }
<a name="l01340"></a>01340 }); <span class="comment">// module: ms.js</span>
<a name="l01341"></a>01341 
<a name="l01342"></a>01342 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;reporters/base.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l01343"></a>01343 
<a name="l01348"></a>01348 var <a class="code" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#adaeaa5f0233a333ae99f8bcc3239c681">tty</a> = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;browser/tty&#39;</span>)
<a name="l01349"></a>01349   , diff = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;browser/diff&#39;</span>)
<a name="l01350"></a>01350   , ms = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;../ms&#39;</span>);
<a name="l01351"></a>01351 
<a name="l01356"></a>01356 var Date = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a5363025b2c2d773292f0f064aeb11f9e">global</a>.Date
<a name="l01357"></a>01357   , <a class="code" href="../../da/da1/timers_8js.html#a619d004395c481cc1032f1c3747a04b9">setTimeout</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a5363025b2c2d773292f0f064aeb11f9e">global</a>.setTimeout
<a name="l01358"></a>01358   , <a class="code" href="../../da/da1/timers_8js.html#a810d0ceb38081cd3ca4c39b096dcaa26">setInterval</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a5363025b2c2d773292f0f064aeb11f9e">global</a>.setInterval
<a name="l01359"></a>01359   , <a class="code" href="../../da/da1/timers_8js.html#ab37ff0db33a3bf80b0163adc40a58424">clearTimeout</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a5363025b2c2d773292f0f064aeb11f9e">global</a>.clearTimeout
<a name="l01360"></a>01360   , <a class="code" href="../../da/da1/timers_8js.html#a5ab25cb8f2b07d7b66e5baa00d82df67">clearInterval</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a5363025b2c2d773292f0f064aeb11f9e">global</a>.clearInterval;
<a name="l01361"></a>01361 
<a name="l01366"></a>01366 var <a class="code" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#a8a554eda2165df0e0b464ab82bf4b480">isatty</a> = tty.isatty(1) &amp;&amp; tty.isatty(2);
<a name="l01367"></a>01367 
<a name="l01372"></a>01372 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = <a class="code" href="../../d3/d10/apps_2settings_2test_2marionette_2app_2app_8js.html#a9e9b777c6c201cee9f04395483bb677d">Base</a>;
<a name="l01373"></a>01373 
<a name="l01378"></a>01378 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.useColors = <a class="code" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#a8a554eda2165df0e0b464ab82bf4b480">isatty</a>;
<a name="l01379"></a>01379 
<a name="l01384"></a>01384 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.colors = {
<a name="l01385"></a>01385     <span class="stringliteral">&#39;pass&#39;</span>: 90
<a name="l01386"></a>01386   , <span class="stringliteral">&#39;fail&#39;</span>: 31
<a name="l01387"></a>01387   , <span class="stringliteral">&#39;bright pass&#39;</span>: 92
<a name="l01388"></a>01388   , <span class="stringliteral">&#39;bright fail&#39;</span>: 91
<a name="l01389"></a>01389   , <span class="stringliteral">&#39;bright yellow&#39;</span>: 93
<a name="l01390"></a>01390   , <span class="stringliteral">&#39;pending&#39;</span>: 36
<a name="l01391"></a>01391   , <span class="stringliteral">&#39;suite&#39;</span>: 0
<a name="l01392"></a>01392   , <span class="stringliteral">&#39;error title&#39;</span>: 0
<a name="l01393"></a>01393   , <span class="stringliteral">&#39;error message&#39;</span>: 31
<a name="l01394"></a>01394   , <span class="stringliteral">&#39;error stack&#39;</span>: 90
<a name="l01395"></a>01395   , <span class="stringliteral">&#39;checkmark&#39;</span>: 32
<a name="l01396"></a>01396   , <span class="stringliteral">&#39;fast&#39;</span>: 90
<a name="l01397"></a>01397   , <span class="stringliteral">&#39;medium&#39;</span>: 33
<a name="l01398"></a>01398   , <span class="stringliteral">&#39;slow&#39;</span>: 31
<a name="l01399"></a>01399   , <span class="stringliteral">&#39;green&#39;</span>: 32
<a name="l01400"></a>01400   , <span class="stringliteral">&#39;light&#39;</span>: 90
<a name="l01401"></a>01401   , <span class="stringliteral">&#39;diff gutter&#39;</span>: 90
<a name="l01402"></a>01402   , <span class="stringliteral">&#39;diff added&#39;</span>: 42
<a name="l01403"></a>01403   , <span class="stringliteral">&#39;diff removed&#39;</span>: 41
<a name="l01404"></a>01404 };
<a name="l01405"></a>01405 
<a name="l01410"></a>01410 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.symbols = {
<a name="l01411"></a>01411   <a class="code" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">ok</a>: <span class="stringliteral">&#39;✓&#39;</span>,
<a name="l01412"></a>01412   err: <span class="stringliteral">&#39;✖&#39;</span>,
<a name="l01413"></a>01413   <a class="code" href="../../d3/d91/j3d_8js.html#a38127c0f0b1c8ef2f2bfa445024e51fd">dot</a>: <span class="stringliteral">&#39;․&#39;</span>
<a name="l01414"></a>01414 };
<a name="l01415"></a>01415 
<a name="l01416"></a>01416 <span class="comment">// With node.js on Windows: use symbols available in terminal default fonts</span>
<a name="l01417"></a>01417 <span class="keywordflow">if</span> (<span class="stringliteral">&#39;win32&#39;</span> == <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.platform) {
<a name="l01418"></a>01418   <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.symbols.ok = <span class="stringliteral">&#39;\u221A&#39;</span>;
<a name="l01419"></a>01419   <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.symbols.err = <span class="stringliteral">&#39;\u00D7&#39;</span>;
<a name="l01420"></a>01420   <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.symbols.dot = <span class="charliteral">&#39;.&#39;</span>;
<a name="l01421"></a>01421 }
<a name="l01422"></a>01422 
<a name="l01435"></a>01435 var <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a> = <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.color = <span class="keyword">function</span>(<a class="code" href="../../df/d44/permission__manager_8js.html#a5996578fe734dff3d2912807ee458e83">type</a>, <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>) {
<a name="l01436"></a>01436   <span class="keywordflow">if</span> (!<a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.useColors) <span class="keywordflow">return</span> <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>;
<a name="l01437"></a>01437   <span class="keywordflow">return</span> <span class="stringliteral">&#39;\u001b[&#39;</span> + <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.colors[<a class="code" href="../../df/d44/permission__manager_8js.html#a5996578fe734dff3d2912807ee458e83">type</a>] + <span class="charliteral">&#39;m&#39;</span> + <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a> + <span class="stringliteral">&#39;\u001b[0m&#39;</span>;
<a name="l01438"></a>01438 };
<a name="l01439"></a>01439 
<a name="l01445"></a>01445 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.window = {
<a name="l01446"></a>01446   <a class="code" href="../../d4/d8c/viewphoto_8js.html#adb90f9ed3668a895cc5b90a19bcdee13">width</a>: isatty
<a name="l01447"></a>01447     ? <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.getWindowSize
<a name="l01448"></a>01448       ? <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.getWindowSize(1)[0]
<a name="l01449"></a>01449       : tty.getWindowSize()[1]
<a name="l01450"></a>01450     : 75
<a name="l01451"></a>01451 };
<a name="l01452"></a>01452 
<a name="l01458"></a>01458 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.cursor = {
<a name="l01459"></a>01459   <a class="code" href="../../d4/dc5/handled__call_8js.html#a28d5a0efd4d16e885ff9a16e6b30a6a2">hide</a>: <span class="keyword">function</span>(){
<a name="l01460"></a>01460     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(<span class="stringliteral">&#39;\u001b[?25l&#39;</span>);
<a name="l01461"></a>01461   },
<a name="l01462"></a>01462 
<a name="l01463"></a>01463   <a class="code" href="../../d4/dc5/handled__call_8js.html#a849945b83cbf2e6fcd68a90c133c1824">show</a>: <span class="keyword">function</span>(){
<a name="l01464"></a>01464     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(<span class="stringliteral">&#39;\u001b[?25h&#39;</span>);
<a name="l01465"></a>01465   },
<a name="l01466"></a>01466 
<a name="l01467"></a>01467   deleteLine: <span class="keyword">function</span>(){
<a name="l01468"></a>01468     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(<span class="stringliteral">&#39;\u001b[2K&#39;</span>);
<a name="l01469"></a>01469   },
<a name="l01470"></a>01470 
<a name="l01471"></a>01471   beginningOfLine: <span class="keyword">function</span>(){
<a name="l01472"></a>01472     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(<span class="stringliteral">&#39;\u001b[0G&#39;</span>);
<a name="l01473"></a>01473   },
<a name="l01474"></a>01474 
<a name="l01475"></a>01475   CR: <span class="keyword">function</span>(){
<a name="l01476"></a>01476     <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.cursor.deleteLine();
<a name="l01477"></a>01477     <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.cursor.beginningOfLine();
<a name="l01478"></a>01478   }
<a name="l01479"></a>01479 };
<a name="l01480"></a>01480 
<a name="l01488"></a>01488 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.list = <span class="keyword">function</span>(failures){
<a name="l01489"></a>01489   <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.error();
<a name="l01490"></a>01490   failures.forEach(<span class="keyword">function</span>(test, <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>){
<a name="l01491"></a>01491     <span class="comment">// format</span>
<a name="l01492"></a>01492     var <a class="code" href="../../d2/dbe/jsprf_8h.html#a776e5cba9e51aac9902b10c9a2c354cc">fmt</a> = <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;error title&#39;</span>, <span class="stringliteral">&#39;  %s) %s:\n&#39;</span>)
<a name="l01493"></a>01493       + <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;error message&#39;</span>, <span class="stringliteral">&#39;     %s&#39;</span>)
<a name="l01494"></a>01494       + <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;error stack&#39;</span>, <span class="stringliteral">&#39;\n%s\n&#39;</span>);
<a name="l01495"></a>01495 
<a name="l01496"></a>01496     <span class="comment">// msg</span>
<a name="l01497"></a>01497     var err = test.err
<a name="l01498"></a>01498       , <a class="code" href="../../d1/d04/app__install__manager_8js.html#ad031ac2c2bcd5e0fe9c6b67fc309acd4">message</a> = err.message || <span class="stringliteral">&#39;&#39;</span>
<a name="l01499"></a>01499       , <a class="code" href="../../d6/d1b/pprthred_8h.html#afe76c3c951fe40bd646fbf0b89cbcd17">stack</a> = err.stack || <a class="code" href="../../d1/d04/app__install__manager_8js.html#ad031ac2c2bcd5e0fe9c6b67fc309acd4">message</a>
<a name="l01500"></a>01500       , <a class="code" href="../../d2/d7d/jsapi_8h.html#aafd95f8c7a99b9189ede7cdf0871ebe8">index</a> = <a class="code" href="../../d6/d1b/pprthred_8h.html#afe76c3c951fe40bd646fbf0b89cbcd17">stack</a>.indexOf(<a class="code" href="../../d1/d04/app__install__manager_8js.html#ad031ac2c2bcd5e0fe9c6b67fc309acd4">message</a>) + <a class="code" href="../../d1/d04/app__install__manager_8js.html#ad031ac2c2bcd5e0fe9c6b67fc309acd4">message</a>.length
<a name="l01501"></a>01501       , <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa32988dd09d5a9481dfadbb89d1426ab">msg</a> = <a class="code" href="../../d6/d1b/pprthred_8h.html#afe76c3c951fe40bd646fbf0b89cbcd17">stack</a>.slice(0, index)
<a name="l01502"></a>01502       , actual = err.actual
<a name="l01503"></a>01503       , expected = err.expected
<a name="l01504"></a>01504       , <a class="code" href="../../d6/d5f/build__stage_2email_2shared_2js_2template_8js.html#a33a96f75996c5f7687e69910a1d04595">escape</a> = <span class="keyword">true</span>;
<a name="l01505"></a>01505 
<a name="l01506"></a>01506     <span class="comment">// explicitly show diff</span>
<a name="l01507"></a>01507     <span class="keywordflow">if</span> (err.showDiff) {
<a name="l01508"></a>01508       <a class="code" href="../../d6/d5f/build__stage_2email_2shared_2js_2template_8js.html#a33a96f75996c5f7687e69910a1d04595">escape</a> = <span class="keyword">false</span>;
<a name="l01509"></a>01509       err.actual = actual = JSON.stringify(actual, <a class="code" href="../../d1/d04/app__install__manager_8js.html#a66d98f9009f0502b9a5ce70e907f8f27">null</a>, 2);
<a name="l01510"></a>01510       err.expected = expected = JSON.stringify(expected, <a class="code" href="../../d1/d04/app__install__manager_8js.html#a66d98f9009f0502b9a5ce70e907f8f27">null</a>, 2);
<a name="l01511"></a>01511     }
<a name="l01512"></a>01512 
<a name="l01513"></a>01513     <span class="comment">// actual / expected diff</span>
<a name="l01514"></a>01514     <span class="keywordflow">if</span> (<span class="stringliteral">&#39;string&#39;</span> == <a class="code" href="../../d1/d22/ical_8js.html#a6053319846c80bf9561a1958bb817380">typeof</a> actual &amp;&amp; <span class="stringliteral">&#39;string&#39;</span> == <a class="code" href="../../d1/d22/ical_8js.html#a6053319846c80bf9561a1958bb817380">typeof</a> expected) {
<a name="l01515"></a>01515       var <a class="code" href="../../d9/d04/expat_8h.html#a5df20ff5bc70fb664abe3912796e90df">len</a> = Math.max(actual.length, expected.length);
<a name="l01516"></a>01516 
<a name="l01517"></a>01517       <span class="keywordflow">if</span> (len &lt; 20) <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa32988dd09d5a9481dfadbb89d1426ab">msg</a> = errorDiff(err, <span class="stringliteral">&#39;Chars&#39;</span>, <a class="code" href="../../d6/d5f/build__stage_2email_2shared_2js_2template_8js.html#a33a96f75996c5f7687e69910a1d04595">escape</a>);
<a name="l01518"></a>01518       <span class="keywordflow">else</span> <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa32988dd09d5a9481dfadbb89d1426ab">msg</a> = errorDiff(err, <span class="stringliteral">&#39;Words&#39;</span>, <a class="code" href="../../d6/d5f/build__stage_2email_2shared_2js_2template_8js.html#a33a96f75996c5f7687e69910a1d04595">escape</a>);
<a name="l01519"></a>01519 
<a name="l01520"></a>01520       <span class="comment">// linenos</span>
<a name="l01521"></a>01521       var <a class="code" href="../../de/deb/jsdbgapi_8h.html#a8e2960b7346236feeabed4635c5d39d6">lines</a> = <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa32988dd09d5a9481dfadbb89d1426ab">msg</a>.split(<span class="charliteral">&#39;\n&#39;</span>);
<a name="l01522"></a>01522       <span class="keywordflow">if</span> (lines.length &gt; 4) {
<a name="l01523"></a>01523         var <a class="code" href="../../d4/d8c/viewphoto_8js.html#adb90f9ed3668a895cc5b90a19bcdee13">width</a> = String(lines.length).length;
<a name="l01524"></a>01524         <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa32988dd09d5a9481dfadbb89d1426ab">msg</a> = lines.map(<span class="keyword">function</span>(<a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>, <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>){
<a name="l01525"></a>01525           <span class="keywordflow">return</span> <a class="code" href="../../d3/d4b/lockscreen_8js.html#aab07e0767354fbee7035e642fa0081ed">pad</a>(++<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>, width) + <span class="stringliteral">&#39; |&#39;</span> + <span class="charliteral">&#39; &#39;</span> + <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>;
<a name="l01526"></a>01526         }).<a class="code" href="../../de/d11/path_8js.html#a9c4b06c29cf28f47c4f54ed4e30c85b3">join</a>(<span class="charliteral">&#39;\n&#39;</span>);
<a name="l01527"></a>01527       }
<a name="l01528"></a>01528 
<a name="l01529"></a>01529       <span class="comment">// legend</span>
<a name="l01530"></a>01530       <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa32988dd09d5a9481dfadbb89d1426ab">msg</a> = <span class="charliteral">&#39;\n&#39;</span>
<a name="l01531"></a>01531         + <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;diff removed&#39;</span>, <span class="stringliteral">&#39;actual&#39;</span>)
<a name="l01532"></a>01532         + <span class="charliteral">&#39; &#39;</span>
<a name="l01533"></a>01533         + <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;diff added&#39;</span>, <span class="stringliteral">&#39;expected&#39;</span>)
<a name="l01534"></a>01534         + <span class="stringliteral">&#39;\n\n&#39;</span>
<a name="l01535"></a>01535         + <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa32988dd09d5a9481dfadbb89d1426ab">msg</a>
<a name="l01536"></a>01536         + <span class="charliteral">&#39;\n&#39;</span>;
<a name="l01537"></a>01537 
<a name="l01538"></a>01538       <span class="comment">// indent</span>
<a name="l01539"></a>01539       <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa32988dd09d5a9481dfadbb89d1426ab">msg</a> = <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa32988dd09d5a9481dfadbb89d1426ab">msg</a>.replace(/^/gm, <span class="stringliteral">&#39;      &#39;</span>);
<a name="l01540"></a>01540 
<a name="l01541"></a>01541       fmt = <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;error title&#39;</span>, <span class="stringliteral">&#39;  %s) %s:\n%s&#39;</span>)
<a name="l01542"></a>01542         + <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;error stack&#39;</span>, <span class="stringliteral">&#39;\n%s\n&#39;</span>);
<a name="l01543"></a>01543     }
<a name="l01544"></a>01544 
<a name="l01545"></a>01545     <span class="comment">// indent stack trace without msg</span>
<a name="l01546"></a>01546     <a class="code" href="../../d6/d1b/pprthred_8h.html#afe76c3c951fe40bd646fbf0b89cbcd17">stack</a> = <a class="code" href="../../d6/d1b/pprthred_8h.html#afe76c3c951fe40bd646fbf0b89cbcd17">stack</a>.slice(index ? index + 1 : index)
<a name="l01547"></a>01547       .replace(/^/gm, <span class="stringliteral">&#39;  &#39;</span>);
<a name="l01548"></a>01548 
<a name="l01549"></a>01549     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.error(fmt, (<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> + 1), test.fullTitle(), <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa32988dd09d5a9481dfadbb89d1426ab">msg</a>, <a class="code" href="../../d6/d1b/pprthred_8h.html#afe76c3c951fe40bd646fbf0b89cbcd17">stack</a>);
<a name="l01550"></a>01550   });
<a name="l01551"></a>01551 };
<a name="l01552"></a>01552 
<a name="l01565"></a>01565 <span class="keyword">function</span> <a class="code" href="../../d3/d10/apps_2settings_2test_2marionette_2app_2app_8js.html#a9e9b777c6c201cee9f04395483bb677d">Base</a>(runner) {
<a name="l01566"></a>01566   var <span class="keyword">self</span> = <a class="code" href="../../d5/d09/apps_2email_2test_2integration_2_r_e_a_d_m_e_8md.html#ad995d7ecb156c0e4738ce089b58e2714">this</a>
<a name="l01567"></a>01567     , stats = this.stats = { suites: 0, tests: 0, passes: 0, pending: 0, failures: 0 }
<a name="l01568"></a>01568     , failures = this.failures = [];
<a name="l01569"></a>01569 
<a name="l01570"></a>01570   <span class="keywordflow">if</span> (!runner) <span class="keywordflow">return</span>;
<a name="l01571"></a>01571   this.runner = runner;
<a name="l01572"></a>01572 
<a name="l01573"></a>01573   runner.stats = stats;
<a name="l01574"></a>01574 
<a name="l01575"></a>01575   runner.on(<span class="stringliteral">&#39;start&#39;</span>, <span class="keyword">function</span>(){
<a name="l01576"></a>01576     stats.start = <span class="keyword">new</span> Date;
<a name="l01577"></a>01577   });
<a name="l01578"></a>01578 
<a name="l01579"></a>01579   runner.on(<span class="stringliteral">&#39;suite&#39;</span>, <span class="keyword">function</span>(suite){
<a name="l01580"></a>01580     stats.suites = stats.suites || 0;
<a name="l01581"></a>01581     suite.root || stats.suites++;
<a name="l01582"></a>01582   });
<a name="l01583"></a>01583 
<a name="l01584"></a>01584   runner.on(<span class="stringliteral">&#39;test end&#39;</span>, <span class="keyword">function</span>(test){
<a name="l01585"></a>01585     stats.tests = stats.tests || 0;
<a name="l01586"></a>01586     stats.tests++;
<a name="l01587"></a>01587   });
<a name="l01588"></a>01588 
<a name="l01589"></a>01589   runner.on(<span class="stringliteral">&#39;pass&#39;</span>, <span class="keyword">function</span>(test){
<a name="l01590"></a>01590     stats.passes = stats.passes || 0;
<a name="l01591"></a>01591 
<a name="l01592"></a>01592     var medium = test.slow() / 2;
<a name="l01593"></a>01593     test.speed = test.duration &gt; test.slow()
<a name="l01594"></a>01594       ? <span class="stringliteral">&#39;slow&#39;</span>
<a name="l01595"></a>01595       : test.duration &gt; medium
<a name="l01596"></a>01596         ? <span class="stringliteral">&#39;medium&#39;</span>
<a name="l01597"></a>01597         : <span class="stringliteral">&#39;fast&#39;</span>;
<a name="l01598"></a>01598 
<a name="l01599"></a>01599     stats.passes++;
<a name="l01600"></a>01600   });
<a name="l01601"></a>01601 
<a name="l01602"></a>01602   runner.on(<span class="stringliteral">&#39;fail&#39;</span>, <span class="keyword">function</span>(test, err){
<a name="l01603"></a>01603     stats.failures = stats.failures || 0;
<a name="l01604"></a>01604     stats.failures++;
<a name="l01605"></a>01605     test.err = err;
<a name="l01606"></a>01606     failures.push(test);
<a name="l01607"></a>01607   });
<a name="l01608"></a>01608 
<a name="l01609"></a>01609   runner.on(<span class="stringliteral">&#39;end&#39;</span>, <span class="keyword">function</span>(){
<a name="l01610"></a>01610     stats.end = <span class="keyword">new</span> Date;
<a name="l01611"></a>01611     stats.duration = <span class="keyword">new</span> Date - stats.start;
<a name="l01612"></a>01612   });
<a name="l01613"></a>01613 
<a name="l01614"></a>01614   runner.on(<span class="stringliteral">&#39;pending&#39;</span>, <span class="keyword">function</span>(){
<a name="l01615"></a>01615     stats.pending++;
<a name="l01616"></a>01616   });
<a name="l01617"></a>01617 }
<a name="l01618"></a>01618 
<a name="l01626"></a>01626 <a class="code" href="../../d3/d10/apps_2settings_2test_2marionette_2app_2app_8js.html#a9e9b777c6c201cee9f04395483bb677d">Base</a>.prototype.epilogue = <span class="keyword">function</span>(){
<a name="l01627"></a>01627   var stats = this.stats
<a name="l01628"></a>01628     , <a class="code" href="../../d2/dbe/jsprf_8h.html#a776e5cba9e51aac9902b10c9a2c354cc">fmt</a>
<a name="l01629"></a>01629     , tests;
<a name="l01630"></a>01630 
<a name="l01631"></a>01631   <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log();
<a name="l01632"></a>01632 
<a name="l01633"></a>01633   <span class="keyword">function</span> pluralize(n) {
<a name="l01634"></a>01634     <span class="keywordflow">return</span> 1 == n ? <span class="stringliteral">&#39;test&#39;</span> : <span class="stringliteral">&#39;tests&#39;</span>;
<a name="l01635"></a>01635   }
<a name="l01636"></a>01636 
<a name="l01637"></a>01637   <span class="comment">// failure</span>
<a name="l01638"></a>01638   <span class="keywordflow">if</span> (stats.failures) {
<a name="l01639"></a>01639     fmt = <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;bright fail&#39;</span>, <span class="stringliteral">&#39;  &#39;</span> + <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.symbols.err)
<a name="l01640"></a>01640       + <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;fail&#39;</span>, <span class="stringliteral">&#39; %d of %d %s failed&#39;</span>)
<a name="l01641"></a>01641       + <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;light&#39;</span>, <span class="charliteral">&#39;:&#39;</span>)
<a name="l01642"></a>01642 
<a name="l01643"></a>01643     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.<a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>(fmt,
<a name="l01644"></a>01644       stats.failures,
<a name="l01645"></a>01645       <a class="code" href="../../d5/d09/apps_2email_2test_2integration_2_r_e_a_d_m_e_8md.html#ad995d7ecb156c0e4738ce089b58e2714">this</a>.runner.<a class="code" href="../../da/ddf/ns_i_d_o_m_progress_event_8idl.html#ac3db248c35e11a75b4e99f0087d77c90">total</a>,
<a name="l01646"></a>01646       pluralize(<a class="code" href="../../d5/d09/apps_2email_2test_2integration_2_r_e_a_d_m_e_8md.html#ad995d7ecb156c0e4738ce089b58e2714">this</a>.runner.total));
<a name="l01647"></a>01647 
<a name="l01648"></a>01648     <a class="code" href="../../d3/d10/apps_2settings_2test_2marionette_2app_2app_8js.html#a9e9b777c6c201cee9f04395483bb677d">Base</a>.list(<a class="code" href="../../d5/d09/apps_2email_2test_2integration_2_r_e_a_d_m_e_8md.html#ad995d7ecb156c0e4738ce089b58e2714">this</a>.failures);
<a name="l01649"></a>01649     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.<a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>();
<a name="l01650"></a>01650     <a class="code" href="../../d5/dbd/camera_2js_2camera_8js.html#a9717e7bbecb906637e86cef6da3d83c2">return</a>;
<a name="l01651"></a>01651   }
<a name="l01652"></a>01652 
<a name="l01653"></a>01653   <span class="comment">// pass</span>
<a name="l01654"></a>01654   fmt = color(&#39;bright pass&#39;, &#39; &#39;)
<a name="l01655"></a>01655     + color(&#39;<a class="code" href="../../d3/d91/j3d_8js.html#a125886e25d16035cd275f7029676343f">green</a>&#39;, &#39; %d %s complete&#39;)
<a name="l01656"></a>01656     + color(&#39;light&#39;, &#39; (%s)&#39;);
<a name="l01657"></a>01657 
<a name="l01658"></a>01658   <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.<a class="code" href="../../d8/dfa/init_8js.html#aad81d14d4c8eea114056d7dc1f18f9b7">log</a>(fmt,
<a name="l01659"></a>01659     stats.tests || 0,
<a name="l01660"></a>01660     pluralize(stats.tests),
<a name="l01661"></a>01661     ms(stats.duration));
<a name="l01662"></a>01662 
<a name="l01663"></a>01663   <span class="comment">// pending</span>
<a name="l01664"></a>01664   <a class="code" href="../../d6/d52/js_2browser_8js.html#a7321fd84345f4f9455f25996b932b8fd">if</a> (stats.pending) {
<a name="l01665"></a>01665     fmt = <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;pending&#39;</span>, <span class="charliteral">&#39; &#39;</span>)
<a name="l01666"></a>01666       + <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;pending&#39;</span>, <span class="stringliteral">&#39; %d %s pending&#39;</span>);
<a name="l01667"></a>01667 
<a name="l01668"></a>01668     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(fmt, stats.pending, pluralize(stats.pending));
<a name="l01669"></a>01669   }
<a name="l01670"></a>01670 
<a name="l01671"></a>01671   <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log();
<a name="l01672"></a>01672 };
<a name="l01673"></a>01673 
<a name="l01683"></a>01683 <span class="keyword">function</span> <a class="code" href="../../d3/d4b/lockscreen_8js.html#aab07e0767354fbee7035e642fa0081ed">pad</a>(<a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>, len) {
<a name="l01684"></a>01684   <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a> = String(<a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>);
<a name="l01685"></a>01685   <span class="keywordflow">return</span> Array(len - <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>.length + 1).join(<span class="charliteral">&#39; &#39;</span>) + <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>;
<a name="l01686"></a>01686 }
<a name="l01687"></a>01687 
<a name="l01696"></a>01696 <span class="keyword">function</span> errorDiff(err, type, <a class="code" href="../../d6/d5f/build__stage_2email_2shared_2js_2template_8js.html#a33a96f75996c5f7687e69910a1d04595">escape</a>) {
<a name="l01697"></a>01697   <span class="keywordflow">return</span> diff[<span class="stringliteral">&#39;diff&#39;</span> + <a class="code" href="../../df/d44/permission__manager_8js.html#a5996578fe734dff3d2912807ee458e83">type</a>](err.actual, err.expected).map(<span class="keyword">function</span>(<a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>){
<a name="l01698"></a>01698     <span class="keywordflow">if</span> (<a class="code" href="../../d6/d5f/build__stage_2email_2shared_2js_2template_8js.html#a33a96f75996c5f7687e69910a1d04595">escape</a>) {
<a name="l01699"></a>01699       <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>.value = <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>.value
<a name="l01700"></a>01700         .replace(/\t/<a class="code" href="../../d8/dad/apps_2email_2js_2ext_2mailapi_2chewlayer_8js.html#a73c18c59a39b18382081ec00bb456d43">g</a>, <span class="stringliteral">&#39;&lt;tab&gt;&#39;</span>)
<a name="l01701"></a>01701         .replace(/\r/<a class="code" href="../../d8/dad/apps_2email_2js_2ext_2mailapi_2chewlayer_8js.html#a73c18c59a39b18382081ec00bb456d43">g</a>, <span class="stringliteral">&#39;&lt;CR&gt;&#39;</span>)
<a name="l01702"></a>01702         .replace(/\n/<a class="code" href="../../d8/dad/apps_2email_2js_2ext_2mailapi_2chewlayer_8js.html#a73c18c59a39b18382081ec00bb456d43">g</a>, <span class="stringliteral">&#39;&lt;LF&gt;\n&#39;</span>);
<a name="l01703"></a>01703     }
<a name="l01704"></a>01704     <span class="keywordflow">if</span> (<a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>.added) <span class="keywordflow">return</span> colorLines(<span class="stringliteral">&#39;diff added&#39;</span>, <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>.value);
<a name="l01705"></a>01705     <span class="keywordflow">if</span> (<a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>.removed) <span class="keywordflow">return</span> colorLines(<span class="stringliteral">&#39;diff removed&#39;</span>, <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>.value);
<a name="l01706"></a>01706     <span class="keywordflow">return</span> <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>.value;
<a name="l01707"></a>01707   }).<a class="code" href="../../de/d11/path_8js.html#a9c4b06c29cf28f47c4f54ed4e30c85b3">join</a>(<span class="stringliteral">&#39;&#39;</span>);
<a name="l01708"></a>01708 }
<a name="l01709"></a>01709 
<a name="l01719"></a>01719 <span class="keyword">function</span> colorLines(name, <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>) {
<a name="l01720"></a>01720   <span class="keywordflow">return</span> <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>.split(<span class="charliteral">&#39;\n&#39;</span>).map(<span class="keyword">function</span>(<a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>){
<a name="l01721"></a>01721     <span class="keywordflow">return</span> <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(name, <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>);
<a name="l01722"></a>01722   }).<a class="code" href="../../de/d11/path_8js.html#a9c4b06c29cf28f47c4f54ed4e30c85b3">join</a>(<span class="charliteral">&#39;\n&#39;</span>);
<a name="l01723"></a>01723 }
<a name="l01724"></a>01724 
<a name="l01725"></a>01725 }); <span class="comment">// module: reporters/base.js</span>
<a name="l01726"></a>01726 
<a name="l01727"></a>01727 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;reporters/doc.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l01728"></a>01728 
<a name="l01733"></a>01733 var <a class="code" href="../../d3/d10/apps_2settings_2test_2marionette_2app_2app_8js.html#a9e9b777c6c201cee9f04395483bb677d">Base</a> = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./base&#39;</span>)
<a name="l01734"></a>01734   , <a class="code" href="../../d0/df4/contacts__shortcuts_8js.html#a7b58b8887c6d26e09f79fbacfbda7f53">utils</a> = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;../utils&#39;</span>);
<a name="l01735"></a>01735 
<a name="l01740"></a>01740 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = Doc;
<a name="l01741"></a>01741 
<a name="l01749"></a>01749 <span class="keyword">function</span> Doc(runner) {
<a name="l01750"></a>01750   Base.call(<span class="keyword">this</span>, runner);
<a name="l01751"></a>01751 
<a name="l01752"></a>01752   var <span class="keyword">self</span> = <a class="code" href="../../d5/d09/apps_2email_2test_2integration_2_r_e_a_d_m_e_8md.html#ad995d7ecb156c0e4738ce089b58e2714">this</a>
<a name="l01753"></a>01753     , stats = this.stats
<a name="l01754"></a>01754     , total = runner.total
<a name="l01755"></a>01755     , indents = 2;
<a name="l01756"></a>01756 
<a name="l01757"></a>01757   <span class="keyword">function</span> <a class="code" href="../../d2/d7d/jsapi_8h.html#a1690d53859da68596cb443452d57672c">indent</a>() {
<a name="l01758"></a>01758     <span class="keywordflow">return</span> Array(indents).join(<span class="stringliteral">&#39;  &#39;</span>);
<a name="l01759"></a>01759   }
<a name="l01760"></a>01760 
<a name="l01761"></a>01761   runner.on(<span class="stringliteral">&#39;suite&#39;</span>, <span class="keyword">function</span>(suite){
<a name="l01762"></a>01762     <span class="keywordflow">if</span> (suite.root) <span class="keywordflow">return</span>;
<a name="l01763"></a>01763     ++indents;
<a name="l01764"></a>01764     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<span class="stringliteral">&#39;%s&lt;section class=&quot;suite&quot;&gt;&#39;</span>, <a class="code" href="../../d2/d7d/jsapi_8h.html#a1690d53859da68596cb443452d57672c">indent</a>());
<a name="l01765"></a>01765     ++indents;
<a name="l01766"></a>01766     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<span class="stringliteral">&#39;%s&lt;h1&gt;%s&lt;/h1&gt;&#39;</span>, <a class="code" href="../../d2/d7d/jsapi_8h.html#a1690d53859da68596cb443452d57672c">indent</a>(), <a class="code" href="../../d0/df4/contacts__shortcuts_8js.html#a7b58b8887c6d26e09f79fbacfbda7f53">utils</a>.escape(suite.title));
<a name="l01767"></a>01767     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<span class="stringliteral">&#39;%s&lt;dl&gt;&#39;</span>, <a class="code" href="../../d2/d7d/jsapi_8h.html#a1690d53859da68596cb443452d57672c">indent</a>());
<a name="l01768"></a>01768   });
<a name="l01769"></a>01769 
<a name="l01770"></a>01770   runner.on(<span class="stringliteral">&#39;suite end&#39;</span>, <span class="keyword">function</span>(suite){
<a name="l01771"></a>01771     <span class="keywordflow">if</span> (suite.root) <span class="keywordflow">return</span>;
<a name="l01772"></a>01772     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<span class="stringliteral">&#39;%s&lt;/dl&gt;&#39;</span>, <a class="code" href="../../d2/d7d/jsapi_8h.html#a1690d53859da68596cb443452d57672c">indent</a>());
<a name="l01773"></a>01773     --indents;
<a name="l01774"></a>01774     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<span class="stringliteral">&#39;%s&lt;/section&gt;&#39;</span>, <a class="code" href="../../d2/d7d/jsapi_8h.html#a1690d53859da68596cb443452d57672c">indent</a>());
<a name="l01775"></a>01775     --indents;
<a name="l01776"></a>01776   });
<a name="l01777"></a>01777 
<a name="l01778"></a>01778   runner.on(<span class="stringliteral">&#39;pass&#39;</span>, <span class="keyword">function</span>(test){
<a name="l01779"></a>01779     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<span class="stringliteral">&#39;%s  &lt;dt&gt;%s&lt;/dt&gt;&#39;</span>, <a class="code" href="../../d2/d7d/jsapi_8h.html#a1690d53859da68596cb443452d57672c">indent</a>(), <a class="code" href="../../d0/df4/contacts__shortcuts_8js.html#a7b58b8887c6d26e09f79fbacfbda7f53">utils</a>.escape(test.title));
<a name="l01780"></a>01780     var <a class="code" href="../../d3/d4b/lockscreen_8js.html#a3bc1c2f8ec4ed34fc21f9f10eacbfa93">code</a> = <a class="code" href="../../d0/df4/contacts__shortcuts_8js.html#a7b58b8887c6d26e09f79fbacfbda7f53">utils</a>.escape(<a class="code" href="../../d0/df4/contacts__shortcuts_8js.html#a7b58b8887c6d26e09f79fbacfbda7f53">utils</a>.clean(test.fn.toString()));
<a name="l01781"></a>01781     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<span class="stringliteral">&#39;%s  &lt;dd&gt;&lt;pre&gt;&lt;code&gt;%s&lt;/code&gt;&lt;/pre&gt;&lt;/dd&gt;&#39;</span>, <a class="code" href="../../d2/d7d/jsapi_8h.html#a1690d53859da68596cb443452d57672c">indent</a>(), code);
<a name="l01782"></a>01782   });
<a name="l01783"></a>01783 }
<a name="l01784"></a>01784 
<a name="l01785"></a>01785 }); <span class="comment">// module: reporters/doc.js</span>
<a name="l01786"></a>01786 
<a name="l01787"></a>01787 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;reporters/dot.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l01788"></a>01788 
<a name="l01793"></a>01793 var Base = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./base&#39;</span>)
<a name="l01794"></a>01794   , color = Base.color;
<a name="l01795"></a>01795 
<a name="l01800"></a>01800 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = Dot;
<a name="l01801"></a>01801 
<a name="l01809"></a>01809 <span class="keyword">function</span> Dot(runner) {
<a name="l01810"></a>01810   Base.call(<span class="keyword">this</span>, runner);
<a name="l01811"></a>01811 
<a name="l01812"></a>01812   var <span class="keyword">self</span> = <a class="code" href="../../d5/d09/apps_2email_2test_2integration_2_r_e_a_d_m_e_8md.html#ad995d7ecb156c0e4738ce089b58e2714">this</a>
<a name="l01813"></a>01813     , stats = this.stats
<a name="l01814"></a>01814     , width = Base.window.width * .75 | 0
<a name="l01815"></a>01815     , n = 0;
<a name="l01816"></a>01816 
<a name="l01817"></a>01817   runner.on(<span class="stringliteral">&#39;start&#39;</span>, <span class="keyword">function</span>(){
<a name="l01818"></a>01818     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(<span class="stringliteral">&#39;\n  &#39;</span>);
<a name="l01819"></a>01819   });
<a name="l01820"></a>01820 
<a name="l01821"></a>01821   runner.on(<span class="stringliteral">&#39;pending&#39;</span>, <span class="keyword">function</span>(test){
<a name="l01822"></a>01822     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;pending&#39;</span>, Base.symbols.dot));
<a name="l01823"></a>01823   });
<a name="l01824"></a>01824 
<a name="l01825"></a>01825   runner.on(<span class="stringliteral">&#39;pass&#39;</span>, <span class="keyword">function</span>(test){
<a name="l01826"></a>01826     <span class="keywordflow">if</span> (++n % width == 0) <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(<span class="stringliteral">&#39;\n  &#39;</span>);
<a name="l01827"></a>01827     <span class="keywordflow">if</span> (<span class="stringliteral">&#39;slow&#39;</span> == test.speed) {
<a name="l01828"></a>01828       <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;bright yellow&#39;</span>, Base.symbols.dot));
<a name="l01829"></a>01829     } <span class="keywordflow">else</span> {
<a name="l01830"></a>01830       <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(test.speed, Base.symbols.dot));
<a name="l01831"></a>01831     }
<a name="l01832"></a>01832   });
<a name="l01833"></a>01833 
<a name="l01834"></a>01834   runner.on(<span class="stringliteral">&#39;fail&#39;</span>, <span class="keyword">function</span>(test, err){
<a name="l01835"></a>01835     <span class="keywordflow">if</span> (++n % width == 0) <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(<span class="stringliteral">&#39;\n  &#39;</span>);
<a name="l01836"></a>01836     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;fail&#39;</span>, Base.symbols.dot));
<a name="l01837"></a>01837   });
<a name="l01838"></a>01838 
<a name="l01839"></a>01839   runner.on(<span class="stringliteral">&#39;end&#39;</span>, <span class="keyword">function</span>(){
<a name="l01840"></a>01840     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log();
<a name="l01841"></a>01841     <span class="keyword">self</span>.epilogue();
<a name="l01842"></a>01842   });
<a name="l01843"></a>01843 }
<a name="l01844"></a>01844 
<a name="l01849"></a>01849 Dot.prototype = <span class="keyword">new</span> <a class="code" href="../../d3/d10/apps_2settings_2test_2marionette_2app_2app_8js.html#a9e9b777c6c201cee9f04395483bb677d">Base</a>;
<a name="l01850"></a>01850 Dot.prototype.constructor = Dot;
<a name="l01851"></a>01851 
<a name="l01852"></a>01852 }); <span class="comment">// module: reporters/dot.js</span>
<a name="l01853"></a>01853 
<a name="l01854"></a>01854 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;reporters/html-cov.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l01855"></a>01855 
<a name="l01860"></a>01860 var JSONCov = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./json-cov&#39;</span>)
<a name="l01861"></a>01861   , <a class="code" href="../../dd/dfd/build__stage_2email_2shared_2test_2integration_2profile__builder_8js.html#a229733b8ea40200fae09e883376030bf">fs</a> = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;browser/fs&#39;</span>);
<a name="l01862"></a>01862 
<a name="l01867"></a>01867 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = HTMLCov;
<a name="l01868"></a>01868 
<a name="l01876"></a>01876 <span class="keyword">function</span> HTMLCov(runner) {
<a name="l01877"></a>01877   var jade = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;jade&#39;</span>)
<a name="l01878"></a>01878     , <a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a> = __dirname + <span class="stringliteral">&#39;/templates/coverage.jade&#39;</span>
<a name="l01879"></a>01879     , <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a> = <a class="code" href="../../dd/dfd/build__stage_2email_2shared_2test_2integration_2profile__builder_8js.html#a229733b8ea40200fae09e883376030bf">fs</a>.readFileSync(<a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a>, <span class="stringliteral">&#39;utf8&#39;</span>)
<a name="l01880"></a>01880     , fn = jade.compile(str, { <a class="code" href="../../d2/d7d/jsapi_8h.html#a9b61fad0b15688b43345d3f5c3a3d44b">filename</a>: <a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a> })
<a name="l01881"></a>01881     , <span class="keyword">self</span> = <span class="keyword">this</span>;
<a name="l01882"></a>01882 
<a name="l01883"></a>01883   JSONCov.call(<span class="keyword">this</span>, runner, <span class="keyword">false</span>);
<a name="l01884"></a>01884 
<a name="l01885"></a>01885   runner.on(<span class="stringliteral">&#39;end&#39;</span>, <span class="keyword">function</span>(){
<a name="l01886"></a>01886     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(fn({
<a name="l01887"></a>01887         cov: <span class="keyword">self</span>.cov
<a name="l01888"></a>01888       , coverageClass: coverageClass
<a name="l01889"></a>01889     }));
<a name="l01890"></a>01890   });
<a name="l01891"></a>01891 }
<a name="l01892"></a>01892 
<a name="l01900"></a>01900 <span class="keyword">function</span> coverageClass(n) {
<a name="l01901"></a>01901   <span class="keywordflow">if</span> (n &gt;= 75) <span class="keywordflow">return</span> <span class="stringliteral">&#39;high&#39;</span>;
<a name="l01902"></a>01902   <span class="keywordflow">if</span> (n &gt;= 50) <span class="keywordflow">return</span> <span class="stringliteral">&#39;medium&#39;</span>;
<a name="l01903"></a>01903   <span class="keywordflow">if</span> (n &gt;= 25) <span class="keywordflow">return</span> <span class="stringliteral">&#39;low&#39;</span>;
<a name="l01904"></a>01904   <span class="keywordflow">return</span> <span class="stringliteral">&#39;terrible&#39;</span>;
<a name="l01905"></a>01905 }
<a name="l01906"></a>01906 }); <span class="comment">// module: reporters/html-cov.js</span>
<a name="l01907"></a>01907 
<a name="l01908"></a>01908 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;reporters/html.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l01909"></a>01909 
<a name="l01914"></a>01914 var Base = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./base&#39;</span>)
<a name="l01915"></a>01915   , <a class="code" href="../../d0/df4/contacts__shortcuts_8js.html#a7b58b8887c6d26e09f79fbacfbda7f53">utils</a> = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;../utils&#39;</span>)
<a name="l01916"></a>01916   , Progress = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;../browser/progress&#39;</span>)
<a name="l01917"></a>01917   , <a class="code" href="../../d6/d5f/build__stage_2email_2shared_2js_2template_8js.html#a33a96f75996c5f7687e69910a1d04595">escape</a> = <a class="code" href="../../d0/df4/contacts__shortcuts_8js.html#a7b58b8887c6d26e09f79fbacfbda7f53">utils</a>.escape;
<a name="l01918"></a>01918 
<a name="l01923"></a>01923 var Date = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a5363025b2c2d773292f0f064aeb11f9e">global</a>.Date
<a name="l01924"></a>01924   , <a class="code" href="../../da/da1/timers_8js.html#a619d004395c481cc1032f1c3747a04b9">setTimeout</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a5363025b2c2d773292f0f064aeb11f9e">global</a>.setTimeout
<a name="l01925"></a>01925   , <a class="code" href="../../da/da1/timers_8js.html#a810d0ceb38081cd3ca4c39b096dcaa26">setInterval</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a5363025b2c2d773292f0f064aeb11f9e">global</a>.setInterval
<a name="l01926"></a>01926   , <a class="code" href="../../da/da1/timers_8js.html#ab37ff0db33a3bf80b0163adc40a58424">clearTimeout</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a5363025b2c2d773292f0f064aeb11f9e">global</a>.clearTimeout
<a name="l01927"></a>01927   , <a class="code" href="../../da/da1/timers_8js.html#a5ab25cb8f2b07d7b66e5baa00d82df67">clearInterval</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a5363025b2c2d773292f0f064aeb11f9e">global</a>.clearInterval;
<a name="l01928"></a>01928 
<a name="l01933"></a>01933 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = HTML;
<a name="l01934"></a>01934 
<a name="l01939"></a>01939 var statsTemplate = <span class="stringliteral">&#39;&lt;ul id=&quot;mocha-stats&quot;&gt;&#39;</span>
<a name="l01940"></a>01940   + <span class="stringliteral">&#39;&lt;li class=&quot;progress&quot;&gt;&lt;canvas width=&quot;40&quot; height=&quot;40&quot;&gt;&lt;/canvas&gt;&lt;/li&gt;&#39;</span>
<a name="l01941"></a>01941   + <span class="stringliteral">&#39;&lt;li class=&quot;passes&quot;&gt;&lt;a href=&quot;#&quot;&gt;passes:&lt;/a&gt; &lt;em&gt;0&lt;/em&gt;&lt;/li&gt;&#39;</span>
<a name="l01942"></a>01942   + <span class="stringliteral">&#39;&lt;li class=&quot;failures&quot;&gt;&lt;a href=&quot;#&quot;&gt;failures:&lt;/a&gt; &lt;em&gt;0&lt;/em&gt;&lt;/li&gt;&#39;</span>
<a name="l01943"></a>01943   + <span class="stringliteral">&#39;&lt;li class=&quot;duration&quot;&gt;duration: &lt;em&gt;0&lt;/em&gt;s&lt;/li&gt;&#39;</span>
<a name="l01944"></a>01944   + <span class="stringliteral">&#39;&lt;/ul&gt;&#39;</span>;
<a name="l01945"></a>01945 
<a name="l01953"></a>01953 <span class="keyword">function</span> HTML(runner, <a class="code" href="../../d1/df9/apps_2email_2js_2ext_2mailapi_2activesync_2configurator_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a>) {
<a name="l01954"></a>01954   Base.call(<span class="keyword">this</span>, runner);
<a name="l01955"></a>01955 
<a name="l01956"></a>01956   var <span class="keyword">self</span> = <a class="code" href="../../d5/d09/apps_2email_2test_2integration_2_r_e_a_d_m_e_8md.html#ad995d7ecb156c0e4738ce089b58e2714">this</a>
<a name="l01957"></a>01957     , stats = this.stats
<a name="l01958"></a>01958     , total = runner.total
<a name="l01959"></a>01959     , <a class="code" href="../../df/db4/_h_i_s_t_o_r_y_8md.html#a6ac0a01571195d629db7aa0727b90fd9">stat</a> = fragment(statsTemplate)
<a name="l01960"></a>01960     , items = <a class="code" href="../../df/db4/_h_i_s_t_o_r_y_8md.html#a6ac0a01571195d629db7aa0727b90fd9">stat</a>.getElementsByTagName(<span class="stringliteral">&#39;li&#39;</span>)
<a name="l01961"></a>01961     , passes = items[1].getElementsByTagName(<span class="stringliteral">&#39;em&#39;</span>)[0]
<a name="l01962"></a>01962     , passesLink = items[1].getElementsByTagName(<span class="charliteral">&#39;a&#39;</span>)[0]
<a name="l01963"></a>01963     , failures = items[2].getElementsByTagName(<span class="stringliteral">&#39;em&#39;</span>)[0]
<a name="l01964"></a>01964     , failuresLink = items[2].getElementsByTagName(<span class="charliteral">&#39;a&#39;</span>)[0]
<a name="l01965"></a>01965     , duration = items[3].getElementsByTagName(<span class="stringliteral">&#39;em&#39;</span>)[0]
<a name="l01966"></a>01966     , <a class="code" href="../../d3/d2e/webgl-demo_8js.html#a1c82fafbefefac03f47e6f1a3cad5b73">canvas</a> = <a class="code" href="../../df/db4/_h_i_s_t_o_r_y_8md.html#a6ac0a01571195d629db7aa0727b90fd9">stat</a>.getElementsByTagName(<span class="stringliteral">&#39;canvas&#39;</span>)[0]
<a name="l01967"></a>01967     , <a class="code" href="../../da/ded/ds-test_8js.html#a3965fca7088910bf330fb0212a125cbb">report</a> = fragment(<span class="stringliteral">&#39;&lt;ul id=&quot;mocha-report&quot;&gt;&lt;/ul&gt;&#39;</span>)
<a name="l01968"></a>01968     , <a class="code" href="../../d6/d1b/pprthred_8h.html#afe76c3c951fe40bd646fbf0b89cbcd17">stack</a> = [<a class="code" href="../../da/ded/ds-test_8js.html#a3965fca7088910bf330fb0212a125cbb">report</a>]
<a name="l01969"></a>01969     , progress
<a name="l01970"></a>01970     , ctx
<a name="l01971"></a>01971 
<a name="l01972"></a>01972   <a class="code" href="../../d1/df9/apps_2email_2js_2ext_2mailapi_2activesync_2configurator_8js.html#a11a10a6834f3c54a5380f4ff04d002a9">root</a> = root || <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#af61dbe660d8213297c7fed5b5c99d223">document</a>.getElementById(<span class="stringliteral">&#39;mocha&#39;</span>);
<a name="l01973"></a>01973 
<a name="l01974"></a>01974   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d2e/webgl-demo_8js.html#a1c82fafbefefac03f47e6f1a3cad5b73">canvas</a>.getContext) {
<a name="l01975"></a>01975     var ratio = <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>.devicePixelRatio || 1;
<a name="l01976"></a>01976     <a class="code" href="../../d3/d2e/webgl-demo_8js.html#a1c82fafbefefac03f47e6f1a3cad5b73">canvas</a>.style.width = <a class="code" href="../../d3/d2e/webgl-demo_8js.html#a1c82fafbefefac03f47e6f1a3cad5b73">canvas</a>.width;
<a name="l01977"></a>01977     <a class="code" href="../../d3/d2e/webgl-demo_8js.html#a1c82fafbefefac03f47e6f1a3cad5b73">canvas</a>.style.height = <a class="code" href="../../d3/d2e/webgl-demo_8js.html#a1c82fafbefefac03f47e6f1a3cad5b73">canvas</a>.height;
<a name="l01978"></a>01978     <a class="code" href="../../d3/d2e/webgl-demo_8js.html#a1c82fafbefefac03f47e6f1a3cad5b73">canvas</a>.width *= ratio;
<a name="l01979"></a>01979     <a class="code" href="../../d3/d2e/webgl-demo_8js.html#a1c82fafbefefac03f47e6f1a3cad5b73">canvas</a>.height *= ratio;
<a name="l01980"></a>01980     ctx = <a class="code" href="../../d3/d2e/webgl-demo_8js.html#a1c82fafbefefac03f47e6f1a3cad5b73">canvas</a>.getContext(<span class="stringliteral">&#39;2d&#39;</span>);
<a name="l01981"></a>01981     ctx.scale(ratio, ratio);
<a name="l01982"></a>01982     progress = <span class="keyword">new</span> Progress;
<a name="l01983"></a>01983   }
<a name="l01984"></a>01984 
<a name="l01985"></a>01985   <span class="keywordflow">if</span> (!root) <span class="keywordflow">return</span> <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>(<span class="stringliteral">&#39;#mocha div missing, add it to your document&#39;</span>);
<a name="l01986"></a>01986 
<a name="l01987"></a>01987   <span class="comment">// pass toggle</span>
<a name="l01988"></a>01988   <a class="code" href="../../d3/d4a/mock__recipients_8js.html#a7940c57332eea343200607dcc55a2b00">on</a>(passesLink, <span class="stringliteral">&#39;click&#39;</span>, <span class="keyword">function</span>(){
<a name="l01989"></a>01989     unhide();
<a name="l01990"></a>01990     var name = /pass/.test(<a class="code" href="../../da/ded/ds-test_8js.html#a3965fca7088910bf330fb0212a125cbb">report</a>.className) ? <span class="stringliteral">&#39;&#39;</span> : <span class="stringliteral">&#39; pass&#39;</span>;
<a name="l01991"></a>01991     <a class="code" href="../../da/ded/ds-test_8js.html#a3965fca7088910bf330fb0212a125cbb">report</a>.className = <a class="code" href="../../da/ded/ds-test_8js.html#a3965fca7088910bf330fb0212a125cbb">report</a>.className.replace(/fail|pass/<a class="code" href="../../d8/dad/apps_2email_2js_2ext_2mailapi_2chewlayer_8js.html#a73c18c59a39b18382081ec00bb456d43">g</a>, <span class="stringliteral">&#39;&#39;</span>) + <a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>;
<a name="l01992"></a>01992     <span class="keywordflow">if</span> (<a class="code" href="../../da/ded/ds-test_8js.html#a3965fca7088910bf330fb0212a125cbb">report</a>.className.trim()) hideSuitesWithout(<span class="stringliteral">&#39;test pass&#39;</span>);
<a name="l01993"></a>01993   });
<a name="l01994"></a>01994 
<a name="l01995"></a>01995   <span class="comment">// failure toggle</span>
<a name="l01996"></a>01996   <a class="code" href="../../d3/d4a/mock__recipients_8js.html#a7940c57332eea343200607dcc55a2b00">on</a>(failuresLink, <span class="stringliteral">&#39;click&#39;</span>, <span class="keyword">function</span>(){
<a name="l01997"></a>01997     unhide();
<a name="l01998"></a>01998     var name = /fail/.test(<a class="code" href="../../da/ded/ds-test_8js.html#a3965fca7088910bf330fb0212a125cbb">report</a>.className) ? <span class="stringliteral">&#39;&#39;</span> : <span class="stringliteral">&#39; fail&#39;</span>;
<a name="l01999"></a>01999     <a class="code" href="../../da/ded/ds-test_8js.html#a3965fca7088910bf330fb0212a125cbb">report</a>.className = <a class="code" href="../../da/ded/ds-test_8js.html#a3965fca7088910bf330fb0212a125cbb">report</a>.className.replace(/fail|pass/<a class="code" href="../../d8/dad/apps_2email_2js_2ext_2mailapi_2chewlayer_8js.html#a73c18c59a39b18382081ec00bb456d43">g</a>, <span class="stringliteral">&#39;&#39;</span>) + <a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>;
<a name="l02000"></a>02000     <span class="keywordflow">if</span> (<a class="code" href="../../da/ded/ds-test_8js.html#a3965fca7088910bf330fb0212a125cbb">report</a>.className.trim()) hideSuitesWithout(<span class="stringliteral">&#39;test fail&#39;</span>);
<a name="l02001"></a>02001   });
<a name="l02002"></a>02002 
<a name="l02003"></a>02003   root.appendChild(<a class="code" href="../../df/db4/_h_i_s_t_o_r_y_8md.html#a6ac0a01571195d629db7aa0727b90fd9">stat</a>);
<a name="l02004"></a>02004   root.appendChild(<a class="code" href="../../da/ded/ds-test_8js.html#a3965fca7088910bf330fb0212a125cbb">report</a>);
<a name="l02005"></a>02005 
<a name="l02006"></a>02006   <span class="keywordflow">if</span> (progress) progress.size(40);
<a name="l02007"></a>02007 
<a name="l02008"></a>02008   runner.on(<span class="stringliteral">&#39;suite&#39;</span>, <span class="keyword">function</span>(suite){
<a name="l02009"></a>02009     <span class="keywordflow">if</span> (suite.root) <span class="keywordflow">return</span>;
<a name="l02010"></a>02010 
<a name="l02011"></a>02011     <span class="comment">// suite</span>
<a name="l02012"></a>02012     var <a class="code" href="../../d3/d4b/lockscreen_8js.html#a85c9a955e7da65bfd5fc9b87158c3570">url</a> = <span class="stringliteral">&#39;?grep=&#39;</span> + encodeURIComponent(suite.fullTitle());
<a name="l02013"></a>02013     var el = fragment(<span class="stringliteral">&#39;&lt;li class=&quot;suite&quot;&gt;&lt;h1&gt;&lt;a href=&quot;%s&quot;&gt;%s&lt;/a&gt;&lt;/h1&gt;&lt;/li&gt;&#39;</span>, <a class="code" href="../../d3/d4b/lockscreen_8js.html#a85c9a955e7da65bfd5fc9b87158c3570">url</a>, <a class="code" href="../../d6/d5f/build__stage_2email_2shared_2js_2template_8js.html#a33a96f75996c5f7687e69910a1d04595">escape</a>(suite.title));
<a name="l02014"></a>02014 
<a name="l02015"></a>02015     <span class="comment">// container</span>
<a name="l02016"></a>02016     <a class="code" href="../../d6/d1b/pprthred_8h.html#afe76c3c951fe40bd646fbf0b89cbcd17">stack</a>[0].appendChild(el);
<a name="l02017"></a>02017     <a class="code" href="../../d6/d1b/pprthred_8h.html#afe76c3c951fe40bd646fbf0b89cbcd17">stack</a>.unshift(<a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#af61dbe660d8213297c7fed5b5c99d223">document</a>.createElement(<span class="stringliteral">&#39;ul&#39;</span>));
<a name="l02018"></a>02018     el.appendChild(<a class="code" href="../../d6/d1b/pprthred_8h.html#afe76c3c951fe40bd646fbf0b89cbcd17">stack</a>[0]);
<a name="l02019"></a>02019   });
<a name="l02020"></a>02020 
<a name="l02021"></a>02021   runner.on(<span class="stringliteral">&#39;suite end&#39;</span>, <span class="keyword">function</span>(suite){
<a name="l02022"></a>02022     <span class="keywordflow">if</span> (suite.root) <span class="keywordflow">return</span>;
<a name="l02023"></a>02023     <a class="code" href="../../d6/d1b/pprthred_8h.html#afe76c3c951fe40bd646fbf0b89cbcd17">stack</a>.shift();
<a name="l02024"></a>02024   });
<a name="l02025"></a>02025 
<a name="l02026"></a>02026   runner.on(<span class="stringliteral">&#39;fail&#39;</span>, <span class="keyword">function</span>(test, err){
<a name="l02027"></a>02027     <span class="keywordflow">if</span> (<span class="stringliteral">&#39;hook&#39;</span> == test.type) runner.emit(<span class="stringliteral">&#39;test end&#39;</span>, test);
<a name="l02028"></a>02028   });
<a name="l02029"></a>02029 
<a name="l02030"></a>02030   runner.on(<span class="stringliteral">&#39;test end&#39;</span>, <span class="keyword">function</span>(test){
<a name="l02031"></a>02031     <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>.scrollTo(0, <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#af61dbe660d8213297c7fed5b5c99d223">document</a>.body.scrollHeight);
<a name="l02032"></a>02032 
<a name="l02033"></a>02033     <span class="comment">// TODO: add to stats</span>
<a name="l02034"></a>02034     var percent = stats.tests / this.total * 100 | 0;
<a name="l02035"></a>02035     <span class="keywordflow">if</span> (progress) progress.update(percent).draw(ctx);
<a name="l02036"></a>02036 
<a name="l02037"></a>02037     <span class="comment">// update stats</span>
<a name="l02038"></a>02038     var ms = <span class="keyword">new</span> Date - stats.start;
<a name="l02039"></a>02039     <a class="code" href="../../db/de5/namespacedefault__timezones.html#ae7928ec4a8ba39a389a278ef371587b8">text</a>(passes, stats.passes);
<a name="l02040"></a>02040     <a class="code" href="../../db/de5/namespacedefault__timezones.html#ae7928ec4a8ba39a389a278ef371587b8">text</a>(failures, stats.failures);
<a name="l02041"></a>02041     <a class="code" href="../../db/de5/namespacedefault__timezones.html#ae7928ec4a8ba39a389a278ef371587b8">text</a>(duration, (ms / 1000).toFixed(2));
<a name="l02042"></a>02042 
<a name="l02043"></a>02043     <span class="comment">// test</span>
<a name="l02044"></a>02044     <span class="keywordflow">if</span> (<span class="stringliteral">&#39;passed&#39;</span> == test.state) {
<a name="l02045"></a>02045       var el = fragment(<span class="stringliteral">&#39;&lt;li class=&quot;test pass %e&quot;&gt;&lt;h2&gt;%e&lt;span class=&quot;duration&quot;&gt;%ems&lt;/span&gt; &lt;a href=&quot;?grep=%e&quot; class=&quot;replay&quot;&gt;‣&lt;/a&gt;&lt;/h2&gt;&lt;/li&gt;&#39;</span>, test.speed, test.title, test.duration, encodeURIComponent(test.fullTitle()));
<a name="l02046"></a>02046     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (test.pending) {
<a name="l02047"></a>02047       var el = fragment(<span class="stringliteral">&#39;&lt;li class=&quot;test pass pending&quot;&gt;&lt;h2&gt;%e&lt;/h2&gt;&lt;/li&gt;&#39;</span>, test.title);
<a name="l02048"></a>02048     } <span class="keywordflow">else</span> {
<a name="l02049"></a>02049       var el = fragment(<span class="stringliteral">&#39;&lt;li class=&quot;test fail&quot;&gt;&lt;h2&gt;%e &lt;a href=&quot;?grep=%e&quot; class=&quot;replay&quot;&gt;‣&lt;/a&gt;&lt;/h2&gt;&lt;/li&gt;&#39;</span>, test.title, encodeURIComponent(test.fullTitle()));
<a name="l02050"></a>02050       var str = test.err.stack || test.err.toString();
<a name="l02051"></a>02051 
<a name="l02052"></a>02052       <span class="comment">// FF / Opera do not add the message</span>
<a name="l02053"></a>02053       <span class="keywordflow">if</span> (!~str.indexOf(test.err.message)) {
<a name="l02054"></a>02054         str = test.err.message + <span class="charliteral">&#39;\n&#39;</span> + <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>;
<a name="l02055"></a>02055       }
<a name="l02056"></a>02056 
<a name="l02057"></a>02057       <span class="comment">// &lt;=IE7 stringifies to [Object Error]. Since it can be overloaded, we</span>
<a name="l02058"></a>02058       <span class="comment">// check for the result of the stringifying.</span>
<a name="l02059"></a>02059       <span class="keywordflow">if</span> (<span class="stringliteral">&#39;[object Error]&#39;</span> == str) str = test.err.message;
<a name="l02060"></a>02060 
<a name="l02061"></a>02061       <span class="comment">// Safari doesn&#39;t give you a stack. Let&#39;s at least provide a source line.</span>
<a name="l02062"></a>02062       <span class="keywordflow">if</span> (!test.err.stack &amp;&amp; test.err.sourceURL &amp;&amp; test.err.line !== undefined) {
<a name="l02063"></a>02063         str += <span class="stringliteral">&quot;\n(&quot;</span> + test.err.sourceURL + <span class="stringliteral">&quot;:&quot;</span> + test.err.line + <span class="stringliteral">&quot;)&quot;</span>;
<a name="l02064"></a>02064       }
<a name="l02065"></a>02065 
<a name="l02066"></a>02066       el.appendChild(fragment(<span class="stringliteral">&#39;&lt;pre class=&quot;error&quot;&gt;%e&lt;/pre&gt;&#39;</span>, str));
<a name="l02067"></a>02067     }
<a name="l02068"></a>02068 
<a name="l02069"></a>02069     <span class="comment">// toggle code</span>
<a name="l02070"></a>02070     <span class="comment">// TODO: defer</span>
<a name="l02071"></a>02071     <span class="keywordflow">if</span> (!test.pending) {
<a name="l02072"></a>02072       var h2 = el.getElementsByTagName(<span class="stringliteral">&#39;h2&#39;</span>)[0];
<a name="l02073"></a>02073 
<a name="l02074"></a>02074       <a class="code" href="../../d3/d4a/mock__recipients_8js.html#a7940c57332eea343200607dcc55a2b00">on</a>(h2, <span class="stringliteral">&#39;click&#39;</span>, <span class="keyword">function</span>(){
<a name="l02075"></a>02075         pre.style.display = <span class="stringliteral">&#39;none&#39;</span> == pre.style.display
<a name="l02076"></a>02076           ? <span class="stringliteral">&#39;inline-block&#39;</span>
<a name="l02077"></a>02077           : <span class="stringliteral">&#39;none&#39;</span>;
<a name="l02078"></a>02078       });
<a name="l02079"></a>02079 
<a name="l02080"></a>02080       var pre = fragment(<span class="stringliteral">&#39;&lt;pre&gt;&lt;code&gt;%e&lt;/code&gt;&lt;/pre&gt;&#39;</span>, <a class="code" href="../../d0/df4/contacts__shortcuts_8js.html#a7b58b8887c6d26e09f79fbacfbda7f53">utils</a>.clean(test.fn.toString()));
<a name="l02081"></a>02081       el.appendChild(pre);
<a name="l02082"></a>02082       pre.style.display = <span class="stringliteral">&#39;none&#39;</span>;
<a name="l02083"></a>02083     }
<a name="l02084"></a>02084 
<a name="l02085"></a>02085     <span class="comment">// Don&#39;t call .appendChild if #mocha-report was already .shift()&#39;ed off the stack.</span>
<a name="l02086"></a>02086     <span class="keywordflow">if</span> (<a class="code" href="../../d6/d1b/pprthred_8h.html#afe76c3c951fe40bd646fbf0b89cbcd17">stack</a>[0]) <a class="code" href="../../d6/d1b/pprthred_8h.html#afe76c3c951fe40bd646fbf0b89cbcd17">stack</a>[0].appendChild(el);
<a name="l02087"></a>02087   });
<a name="l02088"></a>02088 }
<a name="l02089"></a>02089 
<a name="l02094"></a>02094 <span class="keyword">function</span> <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa32988dd09d5a9481dfadbb89d1426ab">msg</a>) {
<a name="l02095"></a>02095   <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#af61dbe660d8213297c7fed5b5c99d223">document</a>.body.appendChild(fragment(<span class="stringliteral">&#39;&lt;div id=&quot;mocha-error&quot;&gt;%s&lt;/div&gt;&#39;</span>, <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa32988dd09d5a9481dfadbb89d1426ab">msg</a>));
<a name="l02096"></a>02096 }
<a name="l02097"></a>02097 
<a name="l02102"></a>02102 <span class="keyword">function</span> fragment(html) {
<a name="l02103"></a>02103   var args = arguments
<a name="l02104"></a>02104     , div = <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#af61dbe660d8213297c7fed5b5c99d223">document</a>.createElement(<span class="stringliteral">&#39;div&#39;</span>)
<a name="l02105"></a>02105     , <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 1;
<a name="l02106"></a>02106 
<a name="l02107"></a>02107   div.innerHTML = html.replace(/%([se])/<a class="code" href="../../d8/dad/apps_2email_2js_2ext_2mailapi_2chewlayer_8js.html#a73c18c59a39b18382081ec00bb456d43">g</a>, <span class="keyword">function</span>(<a class="code" href="../../d6/d52/js_2browser_8js.html#a6e69a5af94d7d53886e51f89fb3bd6b4">_</a>, type){
<a name="l02108"></a>02108     <span class="keywordflow">switch</span> (type) {
<a name="l02109"></a>02109       <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>: <span class="keywordflow">return</span> String(args[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++]);
<a name="l02110"></a>02110       <span class="keywordflow">case</span> <span class="charliteral">&#39;e&#39;</span>: <span class="keywordflow">return</span> <a class="code" href="../../d6/d5f/build__stage_2email_2shared_2js_2template_8js.html#a33a96f75996c5f7687e69910a1d04595">escape</a>(args[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++]);
<a name="l02111"></a>02111     }
<a name="l02112"></a>02112   });
<a name="l02113"></a>02113 
<a name="l02114"></a>02114   <span class="keywordflow">return</span> div.firstChild;
<a name="l02115"></a>02115 }
<a name="l02116"></a>02116 
<a name="l02122"></a>02122 <span class="keyword">function</span> hideSuitesWithout(classname) {
<a name="l02123"></a>02123   var suites = <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#af61dbe660d8213297c7fed5b5c99d223">document</a>.getElementsByClassName(<span class="stringliteral">&#39;suite&#39;</span>);
<a name="l02124"></a>02124   <span class="keywordflow">for</span> (var <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; suites.length; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++) {
<a name="l02125"></a>02125     var els = suites[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].getElementsByClassName(classname);
<a name="l02126"></a>02126     <span class="keywordflow">if</span> (0 == els.length) suites[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].className += <span class="stringliteral">&#39; hidden&#39;</span>;
<a name="l02127"></a>02127   }
<a name="l02128"></a>02128 }
<a name="l02129"></a>02129 
<a name="l02134"></a>02134 <span class="keyword">function</span> unhide() {
<a name="l02135"></a>02135   var els = <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#af61dbe660d8213297c7fed5b5c99d223">document</a>.getElementsByClassName(<span class="stringliteral">&#39;suite hidden&#39;</span>);
<a name="l02136"></a>02136   <span class="keywordflow">for</span> (var <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; els.length; ++<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>) {
<a name="l02137"></a>02137     els[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].className = els[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].className.replace(<span class="stringliteral">&#39;suite hidden&#39;</span>, <span class="stringliteral">&#39;suite&#39;</span>);
<a name="l02138"></a>02138   }
<a name="l02139"></a>02139 }
<a name="l02140"></a>02140 
<a name="l02145"></a>02145 <span class="keyword">function</span> <a class="code" href="../../db/de5/namespacedefault__timezones.html#ae7928ec4a8ba39a389a278ef371587b8">text</a>(el, str) {
<a name="l02146"></a>02146   <span class="keywordflow">if</span> (el.textContent) {
<a name="l02147"></a>02147     el.textContent = <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>;
<a name="l02148"></a>02148   } <span class="keywordflow">else</span> {
<a name="l02149"></a>02149     el.innerText = <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>;
<a name="l02150"></a>02150   }
<a name="l02151"></a>02151 }
<a name="l02152"></a>02152 
<a name="l02157"></a>02157 <span class="keyword">function</span> <a class="code" href="../../d3/d4a/mock__recipients_8js.html#a7940c57332eea343200607dcc55a2b00">on</a>(el, <a class="code" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>, fn) {
<a name="l02158"></a>02158   <span class="keywordflow">if</span> (el.addEventListener) {
<a name="l02159"></a>02159     el.addEventListener(<a class="code" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>, fn, <span class="keyword">false</span>);
<a name="l02160"></a>02160   } <span class="keywordflow">else</span> {
<a name="l02161"></a>02161     el.attachEvent(<span class="stringliteral">&#39;on&#39;</span> + <a class="code" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>, fn);
<a name="l02162"></a>02162   }
<a name="l02163"></a>02163 }
<a name="l02164"></a>02164 
<a name="l02165"></a>02165 }); <span class="comment">// module: reporters/html.js</span>
<a name="l02166"></a>02166 
<a name="l02167"></a>02167 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;reporters/index.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l02168"></a>02168 
<a name="l02169"></a>02169 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.Base = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./base&#39;</span>);
<a name="l02170"></a>02170 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.Dot = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./dot&#39;</span>);
<a name="l02171"></a>02171 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.Doc = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./doc&#39;</span>);
<a name="l02172"></a>02172 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.TAP = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./tap&#39;</span>);
<a name="l02173"></a>02173 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.JSON = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./json&#39;</span>);
<a name="l02174"></a>02174 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.HTML = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./html&#39;</span>);
<a name="l02175"></a>02175 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.List = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./list&#39;</span>);
<a name="l02176"></a>02176 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.Min = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./min&#39;</span>);
<a name="l02177"></a>02177 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.Spec = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./spec&#39;</span>);
<a name="l02178"></a>02178 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.Nyan = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./nyan&#39;</span>);
<a name="l02179"></a>02179 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.XUnit = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./xunit&#39;</span>);
<a name="l02180"></a>02180 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.Markdown = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./markdown&#39;</span>);
<a name="l02181"></a>02181 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.Progress = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./progress&#39;</span>);
<a name="l02182"></a>02182 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.Landing = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./landing&#39;</span>);
<a name="l02183"></a>02183 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.JSONCov = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./json-cov&#39;</span>);
<a name="l02184"></a>02184 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.HTMLCov = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./html-cov&#39;</span>);
<a name="l02185"></a>02185 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.JSONStream = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./json-stream&#39;</span>);
<a name="l02186"></a>02186 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.Teamcity = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./teamcity&#39;</span>);
<a name="l02187"></a>02187 
<a name="l02188"></a>02188 }); <span class="comment">// module: reporters/index.js</span>
<a name="l02189"></a>02189 
<a name="l02190"></a>02190 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;reporters/json-cov.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l02191"></a>02191 
<a name="l02196"></a>02196 var Base = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./base&#39;</span>);
<a name="l02197"></a>02197 
<a name="l02202"></a>02202 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = JSONCov;
<a name="l02203"></a>02203 
<a name="l02212"></a>02212 <span class="keyword">function</span> JSONCov(runner, <a class="code" href="../../df/d12/latin__test_8js.html#a34687689873d42dec2c94cc27f36e1e9">output</a>) {
<a name="l02213"></a>02213   var <span class="keyword">self</span> = <a class="code" href="../../d5/d09/apps_2email_2test_2integration_2_r_e_a_d_m_e_8md.html#ad995d7ecb156c0e4738ce089b58e2714">this</a>
<a name="l02214"></a>02214     , <a class="code" href="../../df/d12/latin__test_8js.html#a34687689873d42dec2c94cc27f36e1e9">output</a> = 1 == arguments.length ? <span class="keyword">true</span> : <a class="code" href="../../df/d12/latin__test_8js.html#a34687689873d42dec2c94cc27f36e1e9">output</a>;
<a name="l02215"></a>02215 
<a name="l02216"></a>02216   Base.call(<span class="keyword">this</span>, runner);
<a name="l02217"></a>02217 
<a name="l02218"></a>02218   var tests = []
<a name="l02219"></a>02219     , failures = []
<a name="l02220"></a>02220     , passes = [];
<a name="l02221"></a>02221 
<a name="l02222"></a>02222   runner.on(<span class="stringliteral">&#39;test end&#39;</span>, <span class="keyword">function</span>(test){
<a name="l02223"></a>02223     tests.push(test);
<a name="l02224"></a>02224   });
<a name="l02225"></a>02225 
<a name="l02226"></a>02226   runner.on(<span class="stringliteral">&#39;pass&#39;</span>, <span class="keyword">function</span>(test){
<a name="l02227"></a>02227     passes.push(test);
<a name="l02228"></a>02228   });
<a name="l02229"></a>02229 
<a name="l02230"></a>02230   runner.on(<span class="stringliteral">&#39;fail&#39;</span>, <span class="keyword">function</span>(test){
<a name="l02231"></a>02231     failures.push(test);
<a name="l02232"></a>02232   });
<a name="l02233"></a>02233 
<a name="l02234"></a>02234   runner.on(<span class="stringliteral">&#39;end&#39;</span>, <span class="keyword">function</span>(){
<a name="l02235"></a>02235     var cov = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a5363025b2c2d773292f0f064aeb11f9e">global</a>._$jscoverage || {};
<a name="l02236"></a>02236     var <a class="code" href="../../da/d7d/cook_8js.html#a65ab37df1aa3fe0eb3d8e51a835fb617">result</a> = <span class="keyword">self</span>.cov = map(cov);
<a name="l02237"></a>02237     result.stats = <span class="keyword">self</span>.stats;
<a name="l02238"></a>02238     result.tests = tests.map(<a class="code" href="../../d3/d44/updatable_8js.html#ae40bb54f47dbbe6c42fdb6d8c0f1da50">clean</a>);
<a name="l02239"></a>02239     result.failures = failures.map(<a class="code" href="../../d3/d44/updatable_8js.html#ae40bb54f47dbbe6c42fdb6d8c0f1da50">clean</a>);
<a name="l02240"></a>02240     result.passes = passes.map(<a class="code" href="../../d3/d44/updatable_8js.html#ae40bb54f47dbbe6c42fdb6d8c0f1da50">clean</a>);
<a name="l02241"></a>02241     <span class="keywordflow">if</span> (!output) <span class="keywordflow">return</span>;
<a name="l02242"></a>02242     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(JSON.stringify(result, <a class="code" href="../../d1/d04/app__install__manager_8js.html#a66d98f9009f0502b9a5ce70e907f8f27">null</a>, 2 ));
<a name="l02243"></a>02243   });
<a name="l02244"></a>02244 }
<a name="l02245"></a>02245 
<a name="l02255"></a>02255 <span class="keyword">function</span> map(cov) {
<a name="l02256"></a>02256   var <a class="code" href="../../d6/da5/libpinyin_8js.html#a2a7ba084dafcf16766cf163d1f5fbbba">ret</a> = {
<a name="l02257"></a>02257       instrumentation: <span class="stringliteral">&#39;node-jscoverage&#39;</span>
<a name="l02258"></a>02258     , sloc: 0
<a name="l02259"></a>02259     , hits: 0
<a name="l02260"></a>02260     , misses: 0
<a name="l02261"></a>02261     , coverage: 0
<a name="l02262"></a>02262     , <a class="code" href="../../d0/da2/gallery_8js.html#a0742cac2750bccc2d88ac080fb9daa22">files</a>: []
<a name="l02263"></a>02263   };
<a name="l02264"></a>02264 
<a name="l02265"></a>02265   <span class="keywordflow">for</span> (var <a class="code" href="../../d2/d7d/jsapi_8h.html#a9b61fad0b15688b43345d3f5c3a3d44b">filename</a> in cov) {
<a name="l02266"></a>02266     var <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a> = coverage(<a class="code" href="../../d2/d7d/jsapi_8h.html#a9b61fad0b15688b43345d3f5c3a3d44b">filename</a>, cov[<a class="code" href="../../d2/d7d/jsapi_8h.html#a9b61fad0b15688b43345d3f5c3a3d44b">filename</a>]);
<a name="l02267"></a>02267     ret.files.push(data);
<a name="l02268"></a>02268     ret.hits += data.hits;
<a name="l02269"></a>02269     ret.misses += data.misses;
<a name="l02270"></a>02270     ret.sloc += data.sloc;
<a name="l02271"></a>02271   }
<a name="l02272"></a>02272 
<a name="l02273"></a>02273   ret.files.sort(<span class="keyword">function</span>(<a class="code" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a>, <a class="code" href="../../da/ded/jpegint_8h.html#af320905358fa78701e4cc60b6135601f">b</a>) {
<a name="l02274"></a>02274     <span class="keywordflow">return</span> <a class="code" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a>.filename.localeCompare(<a class="code" href="../../da/ded/jpegint_8h.html#af320905358fa78701e4cc60b6135601f">b</a>.filename);
<a name="l02275"></a>02275   });
<a name="l02276"></a>02276 
<a name="l02277"></a>02277   <span class="keywordflow">if</span> (ret.sloc &gt; 0) {
<a name="l02278"></a>02278     ret.coverage = (ret.hits / ret.sloc) * 100;
<a name="l02279"></a>02279   }
<a name="l02280"></a>02280 
<a name="l02281"></a>02281   <span class="keywordflow">return</span> <a class="code" href="../../d6/da5/libpinyin_8js.html#a2a7ba084dafcf16766cf163d1f5fbbba">ret</a>;
<a name="l02282"></a>02282 };
<a name="l02283"></a>02283 
<a name="l02294"></a>02294 <span class="keyword">function</span> coverage(<a class="code" href="../../d2/d7d/jsapi_8h.html#a9b61fad0b15688b43345d3f5c3a3d44b">filename</a>, data) {
<a name="l02295"></a>02295   var ret = {
<a name="l02296"></a>02296     <a class="code" href="../../d2/d7d/jsapi_8h.html#a9b61fad0b15688b43345d3f5c3a3d44b">filename</a>: <a class="code" href="../../d2/d7d/jsapi_8h.html#a9b61fad0b15688b43345d3f5c3a3d44b">filename</a>,
<a name="l02297"></a>02297     coverage: 0,
<a name="l02298"></a>02298     hits: 0,
<a name="l02299"></a>02299     misses: 0,
<a name="l02300"></a>02300     sloc: 0,
<a name="l02301"></a>02301     source: {}
<a name="l02302"></a>02302   };
<a name="l02303"></a>02303 
<a name="l02304"></a>02304   data.source.forEach(<span class="keyword">function</span>(<a class="code" href="../../da/d7d/cook_8js.html#ae379b8c31475b8ad7712b7ead5ce1173">line</a>, <a class="code" href="../../de/d81/xpt__struct_8h.html#af23ba264fc6071dcd37179d8a2b5440b">num</a>){
<a name="l02305"></a>02305     <a class="code" href="../../de/d81/xpt__struct_8h.html#af23ba264fc6071dcd37179d8a2b5440b">num</a>++;
<a name="l02306"></a>02306 
<a name="l02307"></a>02307     <span class="keywordflow">if</span> (data[<a class="code" href="../../de/d81/xpt__struct_8h.html#af23ba264fc6071dcd37179d8a2b5440b">num</a>] === 0) {
<a name="l02308"></a>02308       ret.misses++;
<a name="l02309"></a>02309       ret.sloc++;
<a name="l02310"></a>02310     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (data[<a class="code" href="../../de/d81/xpt__struct_8h.html#af23ba264fc6071dcd37179d8a2b5440b">num</a>] !== undefined) {
<a name="l02311"></a>02311       ret.hits++;
<a name="l02312"></a>02312       ret.sloc++;
<a name="l02313"></a>02313     }
<a name="l02314"></a>02314 
<a name="l02315"></a>02315     ret.source[<a class="code" href="../../de/d81/xpt__struct_8h.html#af23ba264fc6071dcd37179d8a2b5440b">num</a>] = {
<a name="l02316"></a>02316         source: <a class="code" href="../../da/d7d/cook_8js.html#ae379b8c31475b8ad7712b7ead5ce1173">line</a>
<a name="l02317"></a>02317       , coverage: data[<a class="code" href="../../de/d81/xpt__struct_8h.html#af23ba264fc6071dcd37179d8a2b5440b">num</a>] === undefined
<a name="l02318"></a>02318         ? <span class="stringliteral">&#39;&#39;</span>
<a name="l02319"></a>02319         : data[<a class="code" href="../../de/d81/xpt__struct_8h.html#af23ba264fc6071dcd37179d8a2b5440b">num</a>]
<a name="l02320"></a>02320     };
<a name="l02321"></a>02321   });
<a name="l02322"></a>02322 
<a name="l02323"></a>02323   ret.coverage = ret.hits / ret.sloc * 100;
<a name="l02324"></a>02324 
<a name="l02325"></a>02325   <span class="keywordflow">return</span> <a class="code" href="../../d6/da5/libpinyin_8js.html#a2a7ba084dafcf16766cf163d1f5fbbba">ret</a>;
<a name="l02326"></a>02326 }
<a name="l02327"></a>02327 
<a name="l02337"></a>02337 <span class="keyword">function</span> <a class="code" href="../../d3/d44/updatable_8js.html#ae40bb54f47dbbe6c42fdb6d8c0f1da50">clean</a>(test) {
<a name="l02338"></a>02338   <span class="keywordflow">return</span> {
<a name="l02339"></a>02339       <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>: test.title
<a name="l02340"></a>02340     , fullTitle: test.fullTitle()
<a name="l02341"></a>02341     , duration: test.duration
<a name="l02342"></a>02342   }
<a name="l02343"></a>02343 }
<a name="l02344"></a>02344 
<a name="l02345"></a>02345 }); <span class="comment">// module: reporters/json-cov.js</span>
<a name="l02346"></a>02346 
<a name="l02347"></a>02347 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;reporters/json-stream.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l02348"></a>02348 
<a name="l02353"></a>02353 var Base = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./base&#39;</span>)
<a name="l02354"></a>02354   , color = Base.color;
<a name="l02355"></a>02355 
<a name="l02360"></a>02360 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = <a class="code" href="../../d7/d8a/list_8js.html#a8a1a2034843b0ebcea5dbc6450eaf356">List</a>;
<a name="l02361"></a>02361 
<a name="l02369"></a>02369 <span class="keyword">function</span> <a class="code" href="../../d7/d8a/list_8js.html#a8a1a2034843b0ebcea5dbc6450eaf356">List</a>(runner) {
<a name="l02370"></a>02370   Base.call(<span class="keyword">this</span>, runner);
<a name="l02371"></a>02371 
<a name="l02372"></a>02372   var <span class="keyword">self</span> = <a class="code" href="../../d5/d09/apps_2email_2test_2integration_2_r_e_a_d_m_e_8md.html#ad995d7ecb156c0e4738ce089b58e2714">this</a>
<a name="l02373"></a>02373     , stats = this.stats
<a name="l02374"></a>02374     , total = runner.total;
<a name="l02375"></a>02375 
<a name="l02376"></a>02376   runner.on(<span class="stringliteral">&#39;start&#39;</span>, <span class="keyword">function</span>(){
<a name="l02377"></a>02377     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(JSON.stringify([<span class="stringliteral">&#39;start&#39;</span>, { total: total }]));
<a name="l02378"></a>02378   });
<a name="l02379"></a>02379 
<a name="l02380"></a>02380   runner.on(<span class="stringliteral">&#39;pass&#39;</span>, <span class="keyword">function</span>(test){
<a name="l02381"></a>02381     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(JSON.stringify([<span class="stringliteral">&#39;pass&#39;</span>, <a class="code" href="../../d3/d44/updatable_8js.html#ae40bb54f47dbbe6c42fdb6d8c0f1da50">clean</a>(test)]));
<a name="l02382"></a>02382   });
<a name="l02383"></a>02383 
<a name="l02384"></a>02384   runner.on(<span class="stringliteral">&#39;fail&#39;</span>, <span class="keyword">function</span>(test, err){
<a name="l02385"></a>02385     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(JSON.stringify([<span class="stringliteral">&#39;fail&#39;</span>, <a class="code" href="../../d3/d44/updatable_8js.html#ae40bb54f47dbbe6c42fdb6d8c0f1da50">clean</a>(test)]));
<a name="l02386"></a>02386   });
<a name="l02387"></a>02387 
<a name="l02388"></a>02388   runner.on(<span class="stringliteral">&#39;end&#39;</span>, <span class="keyword">function</span>(){
<a name="l02389"></a>02389     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(JSON.stringify([<span class="stringliteral">&#39;end&#39;</span>, <span class="keyword">self</span>.stats]));
<a name="l02390"></a>02390   });
<a name="l02391"></a>02391 }
<a name="l02392"></a>02392 
<a name="l02402"></a>02402 <span class="keyword">function</span> <a class="code" href="../../d3/d44/updatable_8js.html#ae40bb54f47dbbe6c42fdb6d8c0f1da50">clean</a>(test) {
<a name="l02403"></a>02403   <span class="keywordflow">return</span> {
<a name="l02404"></a>02404       <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>: test.title
<a name="l02405"></a>02405     , fullTitle: test.fullTitle()
<a name="l02406"></a>02406     , duration: test.duration
<a name="l02407"></a>02407   }
<a name="l02408"></a>02408 }
<a name="l02409"></a>02409 }); <span class="comment">// module: reporters/json-stream.js</span>
<a name="l02410"></a>02410 
<a name="l02411"></a>02411 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;reporters/json.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l02412"></a>02412 
<a name="l02417"></a>02417 var Base = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./base&#39;</span>)
<a name="l02418"></a>02418   , <a class="code" href="../../dc/d6a/xpt__xdr_8h.html#a7056fb315468c5bec29afb3b459e8b92">cursor</a> = Base.cursor
<a name="l02419"></a>02419   , color = Base.color;
<a name="l02420"></a>02420 
<a name="l02425"></a>02425 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = JSONReporter;
<a name="l02426"></a>02426 
<a name="l02434"></a>02434 <span class="keyword">function</span> JSONReporter(runner) {
<a name="l02435"></a>02435   var <span class="keyword">self</span> = <span class="keyword">this</span>;
<a name="l02436"></a>02436   Base.call(<span class="keyword">this</span>, runner);
<a name="l02437"></a>02437 
<a name="l02438"></a>02438   var tests = []
<a name="l02439"></a>02439     , failures = []
<a name="l02440"></a>02440     , passes = [];
<a name="l02441"></a>02441 
<a name="l02442"></a>02442   runner.on(<span class="stringliteral">&#39;test end&#39;</span>, <span class="keyword">function</span>(test){
<a name="l02443"></a>02443     tests.push(test);
<a name="l02444"></a>02444   });
<a name="l02445"></a>02445 
<a name="l02446"></a>02446   runner.on(<span class="stringliteral">&#39;pass&#39;</span>, <span class="keyword">function</span>(test){
<a name="l02447"></a>02447     passes.push(test);
<a name="l02448"></a>02448   });
<a name="l02449"></a>02449 
<a name="l02450"></a>02450   runner.on(<span class="stringliteral">&#39;fail&#39;</span>, <span class="keyword">function</span>(test){
<a name="l02451"></a>02451     failures.push(test);
<a name="l02452"></a>02452   });
<a name="l02453"></a>02453 
<a name="l02454"></a>02454   runner.on(<span class="stringliteral">&#39;end&#39;</span>, <span class="keyword">function</span>(){
<a name="l02455"></a>02455     var obj = {
<a name="l02456"></a>02456         stats: <span class="keyword">self</span>.stats
<a name="l02457"></a>02457       , tests: tests.map(<a class="code" href="../../d3/d44/updatable_8js.html#ae40bb54f47dbbe6c42fdb6d8c0f1da50">clean</a>)
<a name="l02458"></a>02458       , failures: failures.map(<a class="code" href="../../d3/d44/updatable_8js.html#ae40bb54f47dbbe6c42fdb6d8c0f1da50">clean</a>)
<a name="l02459"></a>02459       , passes: passes.map(<a class="code" href="../../d3/d44/updatable_8js.html#ae40bb54f47dbbe6c42fdb6d8c0f1da50">clean</a>)
<a name="l02460"></a>02460     };
<a name="l02461"></a>02461 
<a name="l02462"></a>02462     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(JSON.stringify(obj, <a class="code" href="../../d1/d04/app__install__manager_8js.html#a66d98f9009f0502b9a5ce70e907f8f27">null</a>, 2));
<a name="l02463"></a>02463   });
<a name="l02464"></a>02464 }
<a name="l02465"></a>02465 
<a name="l02475"></a>02475 <span class="keyword">function</span> <a class="code" href="../../d3/d44/updatable_8js.html#ae40bb54f47dbbe6c42fdb6d8c0f1da50">clean</a>(test) {
<a name="l02476"></a>02476   <span class="keywordflow">return</span> {
<a name="l02477"></a>02477       <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>: test.title
<a name="l02478"></a>02478     , fullTitle: test.fullTitle()
<a name="l02479"></a>02479     , duration: test.duration
<a name="l02480"></a>02480   }
<a name="l02481"></a>02481 }
<a name="l02482"></a>02482 }); <span class="comment">// module: reporters/json.js</span>
<a name="l02483"></a>02483 
<a name="l02484"></a>02484 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;reporters/landing.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l02485"></a>02485 
<a name="l02490"></a>02490 var Base = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./base&#39;</span>)
<a name="l02491"></a>02491   , <a class="code" href="../../dc/d6a/xpt__xdr_8h.html#a7056fb315468c5bec29afb3b459e8b92">cursor</a> = Base.cursor
<a name="l02492"></a>02492   , color = Base.color;
<a name="l02493"></a>02493 
<a name="l02498"></a>02498 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = Landing;
<a name="l02499"></a>02499 
<a name="l02504"></a>02504 Base.colors.plane = 0;
<a name="l02505"></a>02505 
<a name="l02510"></a>02510 Base.colors[<span class="stringliteral">&#39;plane crash&#39;</span>] = 31;
<a name="l02511"></a>02511 
<a name="l02516"></a>02516 Base.colors.runway = 90;
<a name="l02517"></a>02517 
<a name="l02525"></a>02525 <span class="keyword">function</span> Landing(runner) {
<a name="l02526"></a>02526   Base.call(<span class="keyword">this</span>, runner);
<a name="l02527"></a>02527 
<a name="l02528"></a>02528   var <span class="keyword">self</span> = <a class="code" href="../../d5/d09/apps_2email_2test_2integration_2_r_e_a_d_m_e_8md.html#ad995d7ecb156c0e4738ce089b58e2714">this</a>
<a name="l02529"></a>02529     , stats = this.stats
<a name="l02530"></a>02530     , width = Base.window.width * .75 | 0
<a name="l02531"></a>02531     , total = runner.total
<a name="l02532"></a>02532     , stream = <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout
<a name="l02533"></a>02533     , plane = <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;plane&#39;</span>, <span class="stringliteral">&#39;✈&#39;</span>)
<a name="l02534"></a>02534     , crashed = -1
<a name="l02535"></a>02535     , n = 0;
<a name="l02536"></a>02536 
<a name="l02537"></a>02537   <span class="keyword">function</span> runway() {
<a name="l02538"></a>02538     var <a class="code" href="../../da/d32/prio_8h.html#ac14417684334d01b4e1e807a19d92816">buf</a> = Array(width).join(<span class="charliteral">&#39;-&#39;</span>);
<a name="l02539"></a>02539     <span class="keywordflow">return</span> <span class="stringliteral">&#39;  &#39;</span> + <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;runway&#39;</span>, buf);
<a name="l02540"></a>02540   }
<a name="l02541"></a>02541 
<a name="l02542"></a>02542   runner.on(<span class="stringliteral">&#39;start&#39;</span>, <span class="keyword">function</span>(){
<a name="l02543"></a>02543     stream.write(<span class="stringliteral">&#39;\n  &#39;</span>);
<a name="l02544"></a>02544     <a class="code" href="../../dc/d6a/xpt__xdr_8h.html#a7056fb315468c5bec29afb3b459e8b92">cursor</a>.hide();
<a name="l02545"></a>02545   });
<a name="l02546"></a>02546 
<a name="l02547"></a>02547   runner.on(<span class="stringliteral">&#39;test end&#39;</span>, <span class="keyword">function</span>(test){
<a name="l02548"></a>02548     <span class="comment">// check if the plane crashed</span>
<a name="l02549"></a>02549     var col = -1 == crashed
<a name="l02550"></a>02550       ? width * ++n / total | 0
<a name="l02551"></a>02551       : crashed;
<a name="l02552"></a>02552 
<a name="l02553"></a>02553     <span class="comment">// show the crash</span>
<a name="l02554"></a>02554     <span class="keywordflow">if</span> (<span class="stringliteral">&#39;failed&#39;</span> == test.state) {
<a name="l02555"></a>02555       plane = color(<span class="stringliteral">&#39;plane crash&#39;</span>, <span class="stringliteral">&#39;✈&#39;</span>);
<a name="l02556"></a>02556       crashed = col;
<a name="l02557"></a>02557     }
<a name="l02558"></a>02558 
<a name="l02559"></a>02559     <span class="comment">// render landing strip</span>
<a name="l02560"></a>02560     stream.write(<span class="stringliteral">&#39;\u001b[4F\n\n&#39;</span>);
<a name="l02561"></a>02561     stream.write(runway());
<a name="l02562"></a>02562     stream.write(<span class="stringliteral">&#39;\n  &#39;</span>);
<a name="l02563"></a>02563     stream.write(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;runway&#39;</span>, Array(col).<a class="code" href="../../de/d11/path_8js.html#a9c4b06c29cf28f47c4f54ed4e30c85b3">join</a>(<span class="stringliteral">&#39;⋅&#39;</span>)));
<a name="l02564"></a>02564     stream.write(plane)
<a name="l02565"></a>02565     stream.write(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;runway&#39;</span>, Array(width - col).<a class="code" href="../../de/d11/path_8js.html#a9c4b06c29cf28f47c4f54ed4e30c85b3">join</a>(<span class="stringliteral">&#39;⋅&#39;</span>) + <span class="charliteral">&#39;\n&#39;</span>));
<a name="l02566"></a>02566     stream.write(runway());
<a name="l02567"></a>02567     stream.write(<span class="stringliteral">&#39;\u001b[0m&#39;</span>);
<a name="l02568"></a>02568   });
<a name="l02569"></a>02569 
<a name="l02570"></a>02570   runner.on(<span class="stringliteral">&#39;end&#39;</span>, <span class="keyword">function</span>(){
<a name="l02571"></a>02571     <a class="code" href="../../dc/d6a/xpt__xdr_8h.html#a7056fb315468c5bec29afb3b459e8b92">cursor</a>.show();
<a name="l02572"></a>02572     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log();
<a name="l02573"></a>02573     <span class="keyword">self</span>.epilogue();
<a name="l02574"></a>02574   });
<a name="l02575"></a>02575 }
<a name="l02576"></a>02576 
<a name="l02581"></a>02581 Landing.prototype = <span class="keyword">new</span> <a class="code" href="../../d3/d10/apps_2settings_2test_2marionette_2app_2app_8js.html#a9e9b777c6c201cee9f04395483bb677d">Base</a>;
<a name="l02582"></a>02582 Landing.prototype.constructor = Landing;
<a name="l02583"></a>02583 
<a name="l02584"></a>02584 }); <span class="comment">// module: reporters/landing.js</span>
<a name="l02585"></a>02585 
<a name="l02586"></a>02586 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;reporters/list.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l02587"></a>02587 
<a name="l02592"></a>02592 var Base = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./base&#39;</span>)
<a name="l02593"></a>02593   , <a class="code" href="../../dc/d6a/xpt__xdr_8h.html#a7056fb315468c5bec29afb3b459e8b92">cursor</a> = Base.cursor
<a name="l02594"></a>02594   , color = Base.color;
<a name="l02595"></a>02595 
<a name="l02600"></a>02600 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = <a class="code" href="../../d7/d8a/list_8js.html#a8a1a2034843b0ebcea5dbc6450eaf356">List</a>;
<a name="l02601"></a>02601 
<a name="l02609"></a>02609 <span class="keyword">function</span> <a class="code" href="../../d7/d8a/list_8js.html#a8a1a2034843b0ebcea5dbc6450eaf356">List</a>(runner) {
<a name="l02610"></a>02610   Base.call(<span class="keyword">this</span>, runner);
<a name="l02611"></a>02611 
<a name="l02612"></a>02612   var <span class="keyword">self</span> = <a class="code" href="../../d5/d09/apps_2email_2test_2integration_2_r_e_a_d_m_e_8md.html#ad995d7ecb156c0e4738ce089b58e2714">this</a>
<a name="l02613"></a>02613     , stats = this.stats
<a name="l02614"></a>02614     , n = 0;
<a name="l02615"></a>02615 
<a name="l02616"></a>02616   runner.on(<span class="stringliteral">&#39;start&#39;</span>, <span class="keyword">function</span>(){
<a name="l02617"></a>02617     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log();
<a name="l02618"></a>02618   });
<a name="l02619"></a>02619 
<a name="l02620"></a>02620   runner.on(<span class="stringliteral">&#39;test&#39;</span>, <span class="keyword">function</span>(test){
<a name="l02621"></a>02621     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;pass&#39;</span>, <span class="stringliteral">&#39;    &#39;</span> + test.fullTitle() + <span class="stringliteral">&#39;: &#39;</span>));
<a name="l02622"></a>02622   });
<a name="l02623"></a>02623 
<a name="l02624"></a>02624   runner.on(<span class="stringliteral">&#39;pending&#39;</span>, <span class="keyword">function</span>(test){
<a name="l02625"></a>02625     var fmt = <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;checkmark&#39;</span>, <span class="stringliteral">&#39;  -&#39;</span>)
<a name="l02626"></a>02626       + <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;pending&#39;</span>, <span class="stringliteral">&#39; %s&#39;</span>);
<a name="l02627"></a>02627     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(fmt, test.fullTitle());
<a name="l02628"></a>02628   });
<a name="l02629"></a>02629 
<a name="l02630"></a>02630   runner.on(<span class="stringliteral">&#39;pass&#39;</span>, <span class="keyword">function</span>(test){
<a name="l02631"></a>02631     var fmt = <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;checkmark&#39;</span>, <span class="stringliteral">&#39;  &#39;</span>+Base.symbols.dot)
<a name="l02632"></a>02632       + <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;pass&#39;</span>, <span class="stringliteral">&#39; %s: &#39;</span>)
<a name="l02633"></a>02633       + <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(test.speed, <span class="stringliteral">&#39;%dms&#39;</span>);
<a name="l02634"></a>02634     <a class="code" href="../../dc/d6a/xpt__xdr_8h.html#a7056fb315468c5bec29afb3b459e8b92">cursor</a>.CR();
<a name="l02635"></a>02635     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(fmt, test.fullTitle(), test.duration);
<a name="l02636"></a>02636   });
<a name="l02637"></a>02637 
<a name="l02638"></a>02638   runner.on(<span class="stringliteral">&#39;fail&#39;</span>, <span class="keyword">function</span>(test, err){
<a name="l02639"></a>02639     <a class="code" href="../../dc/d6a/xpt__xdr_8h.html#a7056fb315468c5bec29afb3b459e8b92">cursor</a>.CR();
<a name="l02640"></a>02640     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;fail&#39;</span>, <span class="stringliteral">&#39;  %d) %s&#39;</span>), ++n, test.fullTitle());
<a name="l02641"></a>02641   });
<a name="l02642"></a>02642 
<a name="l02643"></a>02643   runner.on(<span class="stringliteral">&#39;end&#39;</span>, <span class="keyword">self</span>.epilogue.bind(<span class="keyword">self</span>));
<a name="l02644"></a>02644 }
<a name="l02645"></a>02645 
<a name="l02650"></a>02650 <a class="code" href="../../d7/d8a/list_8js.html#a8a1a2034843b0ebcea5dbc6450eaf356">List</a>.prototype = <span class="keyword">new</span> <a class="code" href="../../d3/d10/apps_2settings_2test_2marionette_2app_2app_8js.html#a9e9b777c6c201cee9f04395483bb677d">Base</a>;
<a name="l02651"></a>02651 <a class="code" href="../../d7/d8a/list_8js.html#a8a1a2034843b0ebcea5dbc6450eaf356">List</a>.prototype.constructor = <a class="code" href="../../d7/d8a/list_8js.html#a8a1a2034843b0ebcea5dbc6450eaf356">List</a>;
<a name="l02652"></a>02652 
<a name="l02653"></a>02653 
<a name="l02654"></a>02654 }); <span class="comment">// module: reporters/list.js</span>
<a name="l02655"></a>02655 
<a name="l02656"></a>02656 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;reporters/markdown.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l02661"></a>02661 var Base = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./base&#39;</span>)
<a name="l02662"></a>02662   , <a class="code" href="../../d0/df4/contacts__shortcuts_8js.html#a7b58b8887c6d26e09f79fbacfbda7f53">utils</a> = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;../utils&#39;</span>);
<a name="l02663"></a>02663 
<a name="l02668"></a>02668 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = Markdown;
<a name="l02669"></a>02669 
<a name="l02677"></a>02677 <span class="keyword">function</span> Markdown(runner) {
<a name="l02678"></a>02678   Base.call(<span class="keyword">this</span>, runner);
<a name="l02679"></a>02679 
<a name="l02680"></a>02680   var <span class="keyword">self</span> = <a class="code" href="../../d5/d09/apps_2email_2test_2integration_2_r_e_a_d_m_e_8md.html#ad995d7ecb156c0e4738ce089b58e2714">this</a>
<a name="l02681"></a>02681     , stats = this.stats
<a name="l02682"></a>02682     , total = runner.total
<a name="l02683"></a>02683     , level = 0
<a name="l02684"></a>02684     , buf = <span class="stringliteral">&#39;&#39;</span>;
<a name="l02685"></a>02685 
<a name="l02686"></a>02686   <span class="keyword">function</span> <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>(str) {
<a name="l02687"></a>02687     <span class="keywordflow">return</span> Array(level).join(<span class="charliteral">&#39;#&#39;</span>) + <span class="charliteral">&#39; &#39;</span> + <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>;
<a name="l02688"></a>02688   }
<a name="l02689"></a>02689 
<a name="l02690"></a>02690   <span class="keyword">function</span> <a class="code" href="../../d2/d7d/jsapi_8h.html#a1690d53859da68596cb443452d57672c">indent</a>() {
<a name="l02691"></a>02691     <span class="keywordflow">return</span> Array(level).join(<span class="stringliteral">&#39;  &#39;</span>);
<a name="l02692"></a>02692   }
<a name="l02693"></a>02693 
<a name="l02694"></a>02694   <span class="keyword">function</span> mapTOC(suite, obj) {
<a name="l02695"></a>02695     var ret = <a class="code" href="../../d2/d7d/jsapi_8h.html#a2219cf9467e8547184b3cf2b051e8067">obj</a>;
<a name="l02696"></a>02696     obj = obj[suite.title] = obj[suite.title] || { suite: suite };
<a name="l02697"></a>02697     suite.suites.forEach(<span class="keyword">function</span>(suite){
<a name="l02698"></a>02698       mapTOC(suite, obj);
<a name="l02699"></a>02699     });
<a name="l02700"></a>02700     <span class="keywordflow">return</span> <a class="code" href="../../d6/da5/libpinyin_8js.html#a2a7ba084dafcf16766cf163d1f5fbbba">ret</a>;
<a name="l02701"></a>02701   }
<a name="l02702"></a>02702 
<a name="l02703"></a>02703   <span class="keyword">function</span> stringifyTOC(obj, level) {
<a name="l02704"></a>02704     ++level;
<a name="l02705"></a>02705     var buf = <span class="stringliteral">&#39;&#39;</span>;
<a name="l02706"></a>02706     var link;
<a name="l02707"></a>02707     <span class="keywordflow">for</span> (var key in obj) {
<a name="l02708"></a>02708       <span class="keywordflow">if</span> (<span class="stringliteral">&#39;suite&#39;</span> == key) <span class="keywordflow">continue</span>;
<a name="l02709"></a>02709       <span class="keywordflow">if</span> (key) link = <span class="stringliteral">&#39; - [&#39;</span> + key + <span class="stringliteral">&#39;](#&#39;</span> + <a class="code" href="../../d0/df4/contacts__shortcuts_8js.html#a7b58b8887c6d26e09f79fbacfbda7f53">utils</a>.slug(obj[key].suite.fullTitle()) + <span class="stringliteral">&#39;)\n&#39;</span>;
<a name="l02710"></a>02710       <span class="keywordflow">if</span> (key) buf += Array(level).join(<span class="stringliteral">&#39;  &#39;</span>) + link;
<a name="l02711"></a>02711       buf += stringifyTOC(obj[key], level);
<a name="l02712"></a>02712     }
<a name="l02713"></a>02713     --level;
<a name="l02714"></a>02714     <span class="keywordflow">return</span> <a class="code" href="../../da/d32/prio_8h.html#ac14417684334d01b4e1e807a19d92816">buf</a>;
<a name="l02715"></a>02715   }
<a name="l02716"></a>02716 
<a name="l02717"></a>02717   <span class="keyword">function</span> generateTOC(suite) {
<a name="l02718"></a>02718     var obj = mapTOC(suite, {});
<a name="l02719"></a>02719     <span class="keywordflow">return</span> stringifyTOC(obj, 0);
<a name="l02720"></a>02720   }
<a name="l02721"></a>02721 
<a name="l02722"></a>02722   generateTOC(runner.suite);
<a name="l02723"></a>02723 
<a name="l02724"></a>02724   runner.on(<span class="stringliteral">&#39;suite&#39;</span>, <span class="keyword">function</span>(suite){
<a name="l02725"></a>02725     ++level;
<a name="l02726"></a>02726     var slug = <a class="code" href="../../d0/df4/contacts__shortcuts_8js.html#a7b58b8887c6d26e09f79fbacfbda7f53">utils</a>.slug(suite.fullTitle());
<a name="l02727"></a>02727     buf += <span class="stringliteral">&#39;&lt;a name=&quot;&#39;</span> + slug + <span class="stringliteral">&#39;&quot;&gt;&lt;/a&gt;&#39;</span> + <span class="charliteral">&#39;\n&#39;</span>;
<a name="l02728"></a>02728     buf += <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>(suite.title) + <span class="charliteral">&#39;\n&#39;</span>;
<a name="l02729"></a>02729   });
<a name="l02730"></a>02730 
<a name="l02731"></a>02731   runner.on(<span class="stringliteral">&#39;suite end&#39;</span>, <span class="keyword">function</span>(suite){
<a name="l02732"></a>02732     --level;
<a name="l02733"></a>02733   });
<a name="l02734"></a>02734 
<a name="l02735"></a>02735   runner.on(<span class="stringliteral">&#39;pass&#39;</span>, <span class="keyword">function</span>(test){
<a name="l02736"></a>02736     var code = <a class="code" href="../../d0/df4/contacts__shortcuts_8js.html#a7b58b8887c6d26e09f79fbacfbda7f53">utils</a>.clean(test.fn.toString());
<a name="l02737"></a>02737     buf += test.title + <span class="stringliteral">&#39;.\n&#39;</span>;
<a name="l02738"></a>02738     buf += <span class="stringliteral">&#39;\n```js\n&#39;</span>;
<a name="l02739"></a>02739     buf += code + <span class="charliteral">&#39;\n&#39;</span>;
<a name="l02740"></a>02740     buf += <span class="stringliteral">&#39;```\n\n&#39;</span>;
<a name="l02741"></a>02741   });
<a name="l02742"></a>02742 
<a name="l02743"></a>02743   runner.on(<span class="stringliteral">&#39;end&#39;</span>, <span class="keyword">function</span>(){
<a name="l02744"></a>02744     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(<span class="stringliteral">&#39;# TOC\n&#39;</span>);
<a name="l02745"></a>02745     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(generateTOC(runner.suite));
<a name="l02746"></a>02746     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(buf);
<a name="l02747"></a>02747   });
<a name="l02748"></a>02748 }
<a name="l02749"></a>02749 }); <span class="comment">// module: reporters/markdown.js</span>
<a name="l02750"></a>02750 
<a name="l02751"></a>02751 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;reporters/min.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l02752"></a>02752 
<a name="l02757"></a>02757 var Base = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./base&#39;</span>);
<a name="l02758"></a>02758 
<a name="l02763"></a>02763 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = Min;
<a name="l02764"></a>02764 
<a name="l02772"></a>02772 <span class="keyword">function</span> Min(runner) {
<a name="l02773"></a>02773   Base.call(<span class="keyword">this</span>, runner);
<a name="l02774"></a>02774   
<a name="l02775"></a>02775   runner.on(<span class="stringliteral">&#39;start&#39;</span>, <span class="keyword">function</span>(){
<a name="l02776"></a>02776     <span class="comment">// clear screen</span>
<a name="l02777"></a>02777     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(<span class="stringliteral">&#39;\u001b[2J&#39;</span>);
<a name="l02778"></a>02778     <span class="comment">// set cursor position</span>
<a name="l02779"></a>02779     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(<span class="stringliteral">&#39;\u001b[1;3H&#39;</span>);
<a name="l02780"></a>02780   });
<a name="l02781"></a>02781 
<a name="l02782"></a>02782   runner.on(<span class="stringliteral">&#39;end&#39;</span>, this.epilogue.bind(<span class="keyword">this</span>));
<a name="l02783"></a>02783 }
<a name="l02784"></a>02784 
<a name="l02789"></a>02789 Min.prototype = <span class="keyword">new</span> <a class="code" href="../../d3/d10/apps_2settings_2test_2marionette_2app_2app_8js.html#a9e9b777c6c201cee9f04395483bb677d">Base</a>;
<a name="l02790"></a>02790 Min.prototype.constructor = Min;
<a name="l02791"></a>02791 
<a name="l02792"></a>02792 }); <span class="comment">// module: reporters/min.js</span>
<a name="l02793"></a>02793 
<a name="l02794"></a>02794 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;reporters/nyan.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l02795"></a>02795 
<a name="l02800"></a>02800 var Base = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./base&#39;</span>)
<a name="l02801"></a>02801   , color = Base.color;
<a name="l02802"></a>02802 
<a name="l02807"></a>02807 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = NyanCat;
<a name="l02808"></a>02808 
<a name="l02816"></a>02816 <span class="keyword">function</span> NyanCat(runner) {
<a name="l02817"></a>02817   Base.call(<span class="keyword">this</span>, runner);
<a name="l02818"></a>02818 
<a name="l02819"></a>02819   var <span class="keyword">self</span> = <a class="code" href="../../d5/d09/apps_2email_2test_2integration_2_r_e_a_d_m_e_8md.html#ad995d7ecb156c0e4738ce089b58e2714">this</a>
<a name="l02820"></a>02820     , stats = this.stats
<a name="l02821"></a>02821     , width = Base.window.width * .75 | 0
<a name="l02822"></a>02822     , rainbowColors = this.rainbowColors = <span class="keyword">self</span>.generateColors()
<a name="l02823"></a>02823     , colorIndex = this.colorIndex = 0
<a name="l02824"></a>02824     , numerOfLines = this.numberOfLines = 4
<a name="l02825"></a>02825     , trajectories = this.trajectories = [[], [], [], []]
<a name="l02826"></a>02826     , nyanCatWidth = this.nyanCatWidth = 11
<a name="l02827"></a>02827     , trajectoryWidthMax = this.trajectoryWidthMax = (width - nyanCatWidth)
<a name="l02828"></a>02828     , scoreboardWidth = this.scoreboardWidth = 5
<a name="l02829"></a>02829     , <a class="code" href="../../d3/d91/j3d_8js.html#aeba439cf129372b4ebc312b3a29efe66">tick</a> = this.<a class="code" href="../../d3/d91/j3d_8js.html#aeba439cf129372b4ebc312b3a29efe66">tick</a> = 0
<a name="l02830"></a>02830     , n = 0;
<a name="l02831"></a>02831 
<a name="l02832"></a>02832   runner.on(<span class="stringliteral">&#39;start&#39;</span>, <span class="keyword">function</span>(){
<a name="l02833"></a>02833     Base.cursor.hide();
<a name="l02834"></a>02834     <span class="keyword">self</span>.draw(<span class="stringliteral">&#39;start&#39;</span>);
<a name="l02835"></a>02835   });
<a name="l02836"></a>02836 
<a name="l02837"></a>02837   runner.on(<span class="stringliteral">&#39;pending&#39;</span>, <span class="keyword">function</span>(test){
<a name="l02838"></a>02838     <span class="keyword">self</span>.draw(<span class="stringliteral">&#39;pending&#39;</span>);
<a name="l02839"></a>02839   });
<a name="l02840"></a>02840 
<a name="l02841"></a>02841   runner.on(<span class="stringliteral">&#39;pass&#39;</span>, <span class="keyword">function</span>(test){
<a name="l02842"></a>02842     <span class="keyword">self</span>.draw(<span class="stringliteral">&#39;pass&#39;</span>);
<a name="l02843"></a>02843   });
<a name="l02844"></a>02844 
<a name="l02845"></a>02845   runner.on(<span class="stringliteral">&#39;fail&#39;</span>, <span class="keyword">function</span>(test, err){
<a name="l02846"></a>02846     <span class="keyword">self</span>.draw(<span class="stringliteral">&#39;fail&#39;</span>);
<a name="l02847"></a>02847   });
<a name="l02848"></a>02848 
<a name="l02849"></a>02849   runner.on(<span class="stringliteral">&#39;end&#39;</span>, <span class="keyword">function</span>(){
<a name="l02850"></a>02850     Base.cursor.show();
<a name="l02851"></a>02851     <span class="keywordflow">for</span> (var <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; <span class="keyword">self</span>.numberOfLines; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++) write(<span class="charliteral">&#39;\n&#39;</span>);
<a name="l02852"></a>02852     <span class="keyword">self</span>.epilogue();
<a name="l02853"></a>02853   });
<a name="l02854"></a>02854 }
<a name="l02855"></a>02855 
<a name="l02863"></a>02863 NyanCat.prototype.draw = <span class="keyword">function</span>(<a class="code" href="../../da/da1/communications_2contacts_2js_2utilities_2status_8js.html#a0818854fd36b9ae0fdfe5872464dae94">status</a>){
<a name="l02864"></a>02864   this.appendRainbow();
<a name="l02865"></a>02865   this.drawScoreboard();
<a name="l02866"></a>02866   this.drawRainbow();
<a name="l02867"></a>02867   this.drawNyanCat(<a class="code" href="../../da/da1/communications_2contacts_2js_2utilities_2status_8js.html#a0818854fd36b9ae0fdfe5872464dae94">status</a>);
<a name="l02868"></a>02868   this.<a class="code" href="../../d3/d91/j3d_8js.html#aeba439cf129372b4ebc312b3a29efe66">tick</a> = !this.<a class="code" href="../../d3/d91/j3d_8js.html#aeba439cf129372b4ebc312b3a29efe66">tick</a>;
<a name="l02869"></a>02869 };
<a name="l02870"></a>02870 
<a name="l02878"></a>02878 NyanCat.prototype.drawScoreboard = <span class="keyword">function</span>(){
<a name="l02879"></a>02879   var stats = this.stats;
<a name="l02880"></a>02880   var <a class="code" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#a205bb968a83c85324e6b50fecdb4b630">colors</a> = Base.colors;
<a name="l02881"></a>02881 
<a name="l02882"></a>02882   <span class="keyword">function</span> <a class="code" href="../../db/d0b/_image_editor_8js.html#a1a41bd0f68ff2fab7479e1eb88959c72">draw</a>(color, n) {
<a name="l02883"></a>02883     write(<span class="charliteral">&#39; &#39;</span>);
<a name="l02884"></a>02884     write(<span class="stringliteral">&#39;\u001b[&#39;</span> + color + <span class="charliteral">&#39;m&#39;</span> + n + <span class="stringliteral">&#39;\u001b[0m&#39;</span>);
<a name="l02885"></a>02885     write(<span class="charliteral">&#39;\n&#39;</span>);
<a name="l02886"></a>02886   }
<a name="l02887"></a>02887 
<a name="l02888"></a>02888   <a class="code" href="../../db/d0b/_image_editor_8js.html#a1a41bd0f68ff2fab7479e1eb88959c72">draw</a>(colors.green, stats.passes);
<a name="l02889"></a>02889   <a class="code" href="../../db/d0b/_image_editor_8js.html#a1a41bd0f68ff2fab7479e1eb88959c72">draw</a>(colors.fail, stats.failures);
<a name="l02890"></a>02890   <a class="code" href="../../db/d0b/_image_editor_8js.html#a1a41bd0f68ff2fab7479e1eb88959c72">draw</a>(colors.pending, stats.pending);
<a name="l02891"></a>02891   write(<span class="charliteral">&#39;\n&#39;</span>);
<a name="l02892"></a>02892 
<a name="l02893"></a>02893   this.cursorUp(this.numberOfLines);
<a name="l02894"></a>02894 };
<a name="l02895"></a>02895 
<a name="l02902"></a>02902 NyanCat.prototype.appendRainbow = <span class="keyword">function</span>(){
<a name="l02903"></a>02903   var segment = this.<a class="code" href="../../d3/d91/j3d_8js.html#aeba439cf129372b4ebc312b3a29efe66">tick</a> ? <span class="charliteral">&#39;_&#39;</span> : <span class="charliteral">&#39;-&#39;</span>;
<a name="l02904"></a>02904   var rainbowified = this.rainbowify(segment);
<a name="l02905"></a>02905 
<a name="l02906"></a>02906   <span class="keywordflow">for</span> (var index = 0; index &lt; this.numberOfLines; index++) {
<a name="l02907"></a>02907     var trajectory = this.trajectories[<a class="code" href="../../d2/d7d/jsapi_8h.html#aafd95f8c7a99b9189ede7cdf0871ebe8">index</a>];
<a name="l02908"></a>02908     <span class="keywordflow">if</span> (trajectory.length &gt;= <span class="keyword">this</span>.trajectoryWidthMax) trajectory.shift();
<a name="l02909"></a>02909     trajectory.push(rainbowified);
<a name="l02910"></a>02910   }
<a name="l02911"></a>02911 };
<a name="l02912"></a>02912 
<a name="l02919"></a>02919 NyanCat.prototype.drawRainbow = <span class="keyword">function</span>(){
<a name="l02920"></a>02920   var <span class="keyword">self</span> = <span class="keyword">this</span>;
<a name="l02921"></a>02921 
<a name="l02922"></a>02922   this.trajectories.forEach(<span class="keyword">function</span>(<a class="code" href="../../da/d7d/cook_8js.html#ae379b8c31475b8ad7712b7ead5ce1173">line</a>, index) {
<a name="l02923"></a>02923     write(<span class="stringliteral">&#39;\u001b[&#39;</span> + <span class="keyword">self</span>.scoreboardWidth + <span class="charliteral">&#39;C&#39;</span>);
<a name="l02924"></a>02924     write(<a class="code" href="../../da/d7d/cook_8js.html#ae379b8c31475b8ad7712b7ead5ce1173">line</a>.join(<span class="stringliteral">&#39;&#39;</span>));
<a name="l02925"></a>02925     write(<span class="charliteral">&#39;\n&#39;</span>);
<a name="l02926"></a>02926   });
<a name="l02927"></a>02927 
<a name="l02928"></a>02928   this.cursorUp(this.numberOfLines);
<a name="l02929"></a>02929 };
<a name="l02930"></a>02930 
<a name="l02938"></a>02938 NyanCat.prototype.drawNyanCat = <span class="keyword">function</span>(<a class="code" href="../../da/da1/communications_2contacts_2js_2utilities_2status_8js.html#a0818854fd36b9ae0fdfe5872464dae94">status</a>) {
<a name="l02939"></a>02939   var <span class="keyword">self</span> = <span class="keyword">this</span>;
<a name="l02940"></a>02940   var startWidth = this.scoreboardWidth + this.trajectories[0].length;
<a name="l02941"></a>02941 
<a name="l02942"></a>02942   [0, 1, 2, 3].forEach(<span class="keyword">function</span>(index) {
<a name="l02943"></a>02943     write(<span class="stringliteral">&#39;\u001b[&#39;</span> + startWidth + <span class="charliteral">&#39;C&#39;</span>);
<a name="l02944"></a>02944 
<a name="l02945"></a>02945     <span class="keywordflow">switch</span> (index) {
<a name="l02946"></a>02946       <span class="keywordflow">case</span> 0:
<a name="l02947"></a>02947         write(<span class="stringliteral">&#39;_,------,&#39;</span>);
<a name="l02948"></a>02948         write(<span class="charliteral">&#39;\n&#39;</span>);
<a name="l02949"></a>02949         <span class="keywordflow">break</span>;
<a name="l02950"></a>02950       <span class="keywordflow">case</span> 1:
<a name="l02951"></a>02951         var <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#abfd6e472c86a3f969f47ab7abba74ed0">padding</a> = <span class="keyword">self</span>.tick ? <span class="stringliteral">&#39;  &#39;</span> : <span class="stringliteral">&#39;   &#39;</span>;
<a name="l02952"></a>02952         write(<span class="stringliteral">&#39;_|&#39;</span> + padding + <span class="stringliteral">&#39;/\\_/\\ &#39;</span>);
<a name="l02953"></a>02953         write(<span class="charliteral">&#39;\n&#39;</span>);
<a name="l02954"></a>02954         <span class="keywordflow">break</span>;
<a name="l02955"></a>02955       <span class="keywordflow">case</span> 2:
<a name="l02956"></a>02956         var padding = <span class="keyword">self</span>.tick ? <span class="charliteral">&#39;_&#39;</span> : <span class="stringliteral">&#39;__&#39;</span>;
<a name="l02957"></a>02957         var tail = <span class="keyword">self</span>.tick ? <span class="charliteral">&#39;~&#39;</span> : <span class="charliteral">&#39;^&#39;</span>;
<a name="l02958"></a>02958         var face;
<a name="l02959"></a>02959         <span class="keywordflow">switch</span> (<a class="code" href="../../da/da1/communications_2contacts_2js_2utilities_2status_8js.html#a0818854fd36b9ae0fdfe5872464dae94">status</a>) {
<a name="l02960"></a>02960           <span class="keywordflow">case</span> <span class="stringliteral">&#39;pass&#39;</span>:
<a name="l02961"></a>02961             face = <span class="stringliteral">&#39;( ^ .^)&#39;</span>;
<a name="l02962"></a>02962             <span class="keywordflow">break</span>;
<a name="l02963"></a>02963           <span class="keywordflow">case</span> <span class="stringliteral">&#39;fail&#39;</span>:
<a name="l02964"></a>02964             face = <span class="stringliteral">&#39;( o .o)&#39;</span>;
<a name="l02965"></a>02965             <span class="keywordflow">break</span>;
<a name="l02966"></a>02966           <span class="keywordflow">default</span>:
<a name="l02967"></a>02967             face = <span class="stringliteral">&#39;( - .-)&#39;</span>;
<a name="l02968"></a>02968         }
<a name="l02969"></a>02969         write(tail + <span class="charliteral">&#39;|&#39;</span> + padding + face + <span class="charliteral">&#39; &#39;</span>);
<a name="l02970"></a>02970         write(<span class="charliteral">&#39;\n&#39;</span>);
<a name="l02971"></a>02971         <span class="keywordflow">break</span>;
<a name="l02972"></a>02972       <span class="keywordflow">case</span> 3:
<a name="l02973"></a>02973         var padding = <span class="keyword">self</span>.tick ? <span class="charliteral">&#39; &#39;</span> : <span class="stringliteral">&#39;  &#39;</span>;
<a name="l02974"></a>02974         write(padding + <span class="stringliteral">&#39;&quot;&quot;  &quot;&quot; &#39;</span>);
<a name="l02975"></a>02975         write(<span class="charliteral">&#39;\n&#39;</span>);
<a name="l02976"></a>02976         <span class="keywordflow">break</span>;
<a name="l02977"></a>02977     }
<a name="l02978"></a>02978   });
<a name="l02979"></a>02979 
<a name="l02980"></a>02980   this.cursorUp(this.numberOfLines);
<a name="l02981"></a>02981 };
<a name="l02982"></a>02982 
<a name="l02990"></a>02990 NyanCat.prototype.cursorUp = <span class="keyword">function</span>(<a class="code" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a>) {
<a name="l02991"></a>02991   write(<span class="stringliteral">&#39;\u001b[&#39;</span> + n + <span class="charliteral">&#39;A&#39;</span>);
<a name="l02992"></a>02992 };
<a name="l02993"></a>02993 
<a name="l03001"></a>03001 NyanCat.prototype.cursorDown = <span class="keyword">function</span>(<a class="code" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a>) {
<a name="l03002"></a>03002   write(<span class="stringliteral">&#39;\u001b[&#39;</span> + n + <span class="charliteral">&#39;B&#39;</span>);
<a name="l03003"></a>03003 };
<a name="l03004"></a>03004 
<a name="l03012"></a>03012 NyanCat.prototype.generateColors = <span class="keyword">function</span>(){
<a name="l03013"></a>03013   var <a class="code" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#a205bb968a83c85324e6b50fecdb4b630">colors</a> = [];
<a name="l03014"></a>03014 
<a name="l03015"></a>03015   <span class="keywordflow">for</span> (var <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; (6 * 7); <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++) {
<a name="l03016"></a>03016     var pi3 = Math.floor(Math.PI / 3);
<a name="l03017"></a>03017     var n = (<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> * (1.0 / 6));
<a name="l03018"></a>03018     var r = Math.floor(3 * Math.sin(n) + 3);
<a name="l03019"></a>03019     var <a class="code" href="../../d8/dad/apps_2email_2js_2ext_2mailapi_2chewlayer_8js.html#a73c18c59a39b18382081ec00bb456d43">g</a> = Math.floor(3 * Math.sin(n + 2 * pi3) + 3);
<a name="l03020"></a>03020     var <a class="code" href="../../da/ded/jpegint_8h.html#af320905358fa78701e4cc60b6135601f">b</a> = Math.floor(3 * Math.sin(n + 4 * pi3) + 3);
<a name="l03021"></a>03021     colors.push(36 * r + 6 * g + b + 16);
<a name="l03022"></a>03022   }
<a name="l03023"></a>03023 
<a name="l03024"></a>03024   <span class="keywordflow">return</span> <a class="code" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#a205bb968a83c85324e6b50fecdb4b630">colors</a>;
<a name="l03025"></a>03025 };
<a name="l03026"></a>03026 
<a name="l03035"></a>03035 NyanCat.prototype.rainbowify = <span class="keyword">function</span>(<a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>){
<a name="l03036"></a>03036   var color = this.rainbowColors[this.colorIndex % this.rainbowColors.length];
<a name="l03037"></a>03037   this.colorIndex += 1;
<a name="l03038"></a>03038   <span class="keywordflow">return</span> <span class="stringliteral">&#39;\u001b[38;5;&#39;</span> + color + <span class="charliteral">&#39;m&#39;</span> + str + <span class="stringliteral">&#39;\u001b[0m&#39;</span>;
<a name="l03039"></a>03039 };
<a name="l03040"></a>03040 
<a name="l03045"></a>03045 <span class="keyword">function</span> write(<span class="keywordtype">string</span>) {
<a name="l03046"></a>03046   <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(<span class="keywordtype">string</span>);
<a name="l03047"></a>03047 }
<a name="l03048"></a>03048 
<a name="l03053"></a>03053 NyanCat.prototype = <span class="keyword">new</span> <a class="code" href="../../d3/d10/apps_2settings_2test_2marionette_2app_2app_8js.html#a9e9b777c6c201cee9f04395483bb677d">Base</a>;
<a name="l03054"></a>03054 NyanCat.prototype.constructor = NyanCat;
<a name="l03055"></a>03055 
<a name="l03056"></a>03056 
<a name="l03057"></a>03057 }); <span class="comment">// module: reporters/nyan.js</span>
<a name="l03058"></a>03058 
<a name="l03059"></a>03059 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;reporters/progress.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l03060"></a>03060 
<a name="l03065"></a>03065 var Base = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./base&#39;</span>)
<a name="l03066"></a>03066   , <a class="code" href="../../dc/d6a/xpt__xdr_8h.html#a7056fb315468c5bec29afb3b459e8b92">cursor</a> = Base.cursor
<a name="l03067"></a>03067   , color = Base.color;
<a name="l03068"></a>03068 
<a name="l03073"></a>03073 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = Progress;
<a name="l03074"></a>03074 
<a name="l03079"></a>03079 Base.colors.progress = 90;
<a name="l03080"></a>03080 
<a name="l03089"></a>03089 <span class="keyword">function</span> Progress(runner, options) {
<a name="l03090"></a>03090   Base.call(<span class="keyword">this</span>, runner);
<a name="l03091"></a>03091 
<a name="l03092"></a>03092   var <span class="keyword">self</span> = <a class="code" href="../../d5/d09/apps_2email_2test_2integration_2_r_e_a_d_m_e_8md.html#ad995d7ecb156c0e4738ce089b58e2714">this</a>
<a name="l03093"></a>03093     , options = options || {}
<a name="l03094"></a>03094     , stats = this.stats
<a name="l03095"></a>03095     , width = Base.window.width * .50 | 0
<a name="l03096"></a>03096     , total = runner.total
<a name="l03097"></a>03097     , complete = 0
<a name="l03098"></a>03098     , <a class="code" href="../../db/d13/ns_i_d_o_m_device_proximity_event_8idl.html#a0b0ede69e8156eb97acc579b88e883de">max</a> = Math.max;
<a name="l03099"></a>03099 
<a name="l03100"></a>03100   <span class="comment">// default chars</span>
<a name="l03101"></a>03101   options.open = options.open || <span class="charliteral">&#39;[&#39;</span>;
<a name="l03102"></a>03102   options.complete = options.complete || <span class="stringliteral">&#39;▬&#39;</span>;
<a name="l03103"></a>03103   options.incomplete = options.incomplete || Base.symbols.dot;
<a name="l03104"></a>03104   options.close = options.close || <span class="charliteral">&#39;]&#39;</span>;
<a name="l03105"></a>03105   options.verbose = <span class="keyword">false</span>;
<a name="l03106"></a>03106 
<a name="l03107"></a>03107   <span class="comment">// tests started</span>
<a name="l03108"></a>03108   runner.on(<span class="stringliteral">&#39;start&#39;</span>, <span class="keyword">function</span>(){
<a name="l03109"></a>03109     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log();
<a name="l03110"></a>03110     <a class="code" href="../../dc/d6a/xpt__xdr_8h.html#a7056fb315468c5bec29afb3b459e8b92">cursor</a>.hide();
<a name="l03111"></a>03111   });
<a name="l03112"></a>03112 
<a name="l03113"></a>03113   <span class="comment">// tests complete</span>
<a name="l03114"></a>03114   runner.on(<span class="stringliteral">&#39;test end&#39;</span>, <span class="keyword">function</span>(){
<a name="l03115"></a>03115     complete++;
<a name="l03116"></a>03116     var incomplete = total - complete
<a name="l03117"></a>03117       , percent = complete / <a class="code" href="../../da/ddf/ns_i_d_o_m_progress_event_8idl.html#ac3db248c35e11a75b4e99f0087d77c90">total</a>
<a name="l03118"></a>03118       , n = width * percent | 0
<a name="l03119"></a>03119       , <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = width - <a class="code" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a>;
<a name="l03120"></a>03120 
<a name="l03121"></a>03121     <a class="code" href="../../dc/d6a/xpt__xdr_8h.html#a7056fb315468c5bec29afb3b459e8b92">cursor</a>.CR();
<a name="l03122"></a>03122     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(<span class="stringliteral">&#39;\u001b[J&#39;</span>);
<a name="l03123"></a>03123     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;progress&#39;</span>, <span class="stringliteral">&#39;  &#39;</span> + options.open));
<a name="l03124"></a>03124     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(Array(n).<a class="code" href="../../de/d11/path_8js.html#a9c4b06c29cf28f47c4f54ed4e30c85b3">join</a>(options.complete));
<a name="l03125"></a>03125     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(Array(<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>).<a class="code" href="../../de/d11/path_8js.html#a9c4b06c29cf28f47c4f54ed4e30c85b3">join</a>(options.incomplete));
<a name="l03126"></a>03126     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;progress&#39;</span>, options.close));
<a name="l03127"></a>03127     <span class="keywordflow">if</span> (options.verbose) {
<a name="l03128"></a>03128       <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;progress&#39;</span>, <span class="charliteral">&#39; &#39;</span> + complete + <span class="stringliteral">&#39; of &#39;</span> + total));
<a name="l03129"></a>03129     }
<a name="l03130"></a>03130   });
<a name="l03131"></a>03131 
<a name="l03132"></a>03132   <span class="comment">// tests are complete, output some stats</span>
<a name="l03133"></a>03133   <span class="comment">// and the failures if any</span>
<a name="l03134"></a>03134   runner.on(<span class="stringliteral">&#39;end&#39;</span>, <span class="keyword">function</span>(){
<a name="l03135"></a>03135     <a class="code" href="../../dc/d6a/xpt__xdr_8h.html#a7056fb315468c5bec29afb3b459e8b92">cursor</a>.show();
<a name="l03136"></a>03136     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log();
<a name="l03137"></a>03137     <span class="keyword">self</span>.epilogue();
<a name="l03138"></a>03138   });
<a name="l03139"></a>03139 }
<a name="l03140"></a>03140 
<a name="l03145"></a>03145 Progress.prototype = <span class="keyword">new</span> <a class="code" href="../../d3/d10/apps_2settings_2test_2marionette_2app_2app_8js.html#a9e9b777c6c201cee9f04395483bb677d">Base</a>;
<a name="l03146"></a>03146 Progress.prototype.constructor = Progress;
<a name="l03147"></a>03147 
<a name="l03148"></a>03148 
<a name="l03149"></a>03149 }); <span class="comment">// module: reporters/progress.js</span>
<a name="l03150"></a>03150 
<a name="l03151"></a>03151 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;reporters/spec.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l03152"></a>03152 
<a name="l03157"></a>03157 var Base = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./base&#39;</span>)
<a name="l03158"></a>03158   , <a class="code" href="../../dc/d6a/xpt__xdr_8h.html#a7056fb315468c5bec29afb3b459e8b92">cursor</a> = Base.cursor
<a name="l03159"></a>03159   , color = Base.color;
<a name="l03160"></a>03160 
<a name="l03165"></a>03165 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = Spec;
<a name="l03166"></a>03166 
<a name="l03174"></a>03174 <span class="keyword">function</span> Spec(runner) {
<a name="l03175"></a>03175   Base.call(<span class="keyword">this</span>, runner);
<a name="l03176"></a>03176 
<a name="l03177"></a>03177   var <span class="keyword">self</span> = <a class="code" href="../../d5/d09/apps_2email_2test_2integration_2_r_e_a_d_m_e_8md.html#ad995d7ecb156c0e4738ce089b58e2714">this</a>
<a name="l03178"></a>03178     , stats = this.stats
<a name="l03179"></a>03179     , indents = 0
<a name="l03180"></a>03180     , n = 0;
<a name="l03181"></a>03181 
<a name="l03182"></a>03182   <span class="keyword">function</span> <a class="code" href="../../d2/d7d/jsapi_8h.html#a1690d53859da68596cb443452d57672c">indent</a>() {
<a name="l03183"></a>03183     <span class="keywordflow">return</span> Array(indents).join(<span class="stringliteral">&#39;  &#39;</span>)
<a name="l03184"></a>03184   }
<a name="l03185"></a>03185 
<a name="l03186"></a>03186   runner.on(<span class="stringliteral">&#39;start&#39;</span>, <span class="keyword">function</span>(){
<a name="l03187"></a>03187     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log();
<a name="l03188"></a>03188   });
<a name="l03189"></a>03189 
<a name="l03190"></a>03190   runner.on(<span class="stringliteral">&#39;suite&#39;</span>, <span class="keyword">function</span>(suite){
<a name="l03191"></a>03191     ++indents;
<a name="l03192"></a>03192     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;suite&#39;</span>, <span class="stringliteral">&#39;%s%s&#39;</span>), <a class="code" href="../../d2/d7d/jsapi_8h.html#a1690d53859da68596cb443452d57672c">indent</a>(), suite.title);
<a name="l03193"></a>03193   });
<a name="l03194"></a>03194 
<a name="l03195"></a>03195   runner.on(<span class="stringliteral">&#39;suite end&#39;</span>, <span class="keyword">function</span>(suite){
<a name="l03196"></a>03196     --indents;
<a name="l03197"></a>03197     <span class="keywordflow">if</span> (1 == indents) <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log();
<a name="l03198"></a>03198   });
<a name="l03199"></a>03199 
<a name="l03200"></a>03200   runner.on(<span class="stringliteral">&#39;test&#39;</span>, <span class="keyword">function</span>(test){
<a name="l03201"></a>03201     <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout.write(<a class="code" href="../../d2/d7d/jsapi_8h.html#a1690d53859da68596cb443452d57672c">indent</a>() + <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;pass&#39;</span>, <span class="stringliteral">&#39;  ◦ &#39;</span> + test.title + <span class="stringliteral">&#39;: &#39;</span>));
<a name="l03202"></a>03202   });
<a name="l03203"></a>03203 
<a name="l03204"></a>03204   runner.on(<span class="stringliteral">&#39;pending&#39;</span>, <span class="keyword">function</span>(test){
<a name="l03205"></a>03205     var fmt = <a class="code" href="../../d2/d7d/jsapi_8h.html#a1690d53859da68596cb443452d57672c">indent</a>() + <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;pending&#39;</span>, <span class="stringliteral">&#39;  - %s&#39;</span>);
<a name="l03206"></a>03206     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(fmt, test.title);
<a name="l03207"></a>03207   });
<a name="l03208"></a>03208 
<a name="l03209"></a>03209   runner.on(<span class="stringliteral">&#39;pass&#39;</span>, <span class="keyword">function</span>(test){
<a name="l03210"></a>03210     <span class="keywordflow">if</span> (<span class="stringliteral">&#39;fast&#39;</span> == test.speed) {
<a name="l03211"></a>03211       var fmt = <a class="code" href="../../d2/d7d/jsapi_8h.html#a1690d53859da68596cb443452d57672c">indent</a>()
<a name="l03212"></a>03212         + <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;checkmark&#39;</span>, <span class="stringliteral">&#39;  &#39;</span> + Base.symbols.ok)
<a name="l03213"></a>03213         + color(<span class="stringliteral">&#39;pass&#39;</span>, <span class="stringliteral">&#39; %s &#39;</span>);
<a name="l03214"></a>03214       <a class="code" href="../../dc/d6a/xpt__xdr_8h.html#a7056fb315468c5bec29afb3b459e8b92">cursor</a>.CR();
<a name="l03215"></a>03215       <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(fmt, test.title);
<a name="l03216"></a>03216     } <span class="keywordflow">else</span> {
<a name="l03217"></a>03217       var fmt = <a class="code" href="../../d2/d7d/jsapi_8h.html#a1690d53859da68596cb443452d57672c">indent</a>()
<a name="l03218"></a>03218         + <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;checkmark&#39;</span>, <span class="stringliteral">&#39;  &#39;</span> + Base.symbols.ok)
<a name="l03219"></a>03219         + <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;pass&#39;</span>, <span class="stringliteral">&#39; %s &#39;</span>)
<a name="l03220"></a>03220         + <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(test.speed, <span class="stringliteral">&#39;(%dms)&#39;</span>);
<a name="l03221"></a>03221       <a class="code" href="../../dc/d6a/xpt__xdr_8h.html#a7056fb315468c5bec29afb3b459e8b92">cursor</a>.CR();
<a name="l03222"></a>03222       <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(fmt, test.title, test.duration);
<a name="l03223"></a>03223     }
<a name="l03224"></a>03224   });
<a name="l03225"></a>03225 
<a name="l03226"></a>03226   runner.on(<span class="stringliteral">&#39;fail&#39;</span>, <span class="keyword">function</span>(test, err){
<a name="l03227"></a>03227     <a class="code" href="../../dc/d6a/xpt__xdr_8h.html#a7056fb315468c5bec29afb3b459e8b92">cursor</a>.CR();
<a name="l03228"></a>03228     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<a class="code" href="../../d2/d7d/jsapi_8h.html#a1690d53859da68596cb443452d57672c">indent</a>() + <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>(<span class="stringliteral">&#39;fail&#39;</span>, <span class="stringliteral">&#39;  %d) %s&#39;</span>), ++n, test.title);
<a name="l03229"></a>03229   });
<a name="l03230"></a>03230 
<a name="l03231"></a>03231   runner.on(<span class="stringliteral">&#39;end&#39;</span>, <span class="keyword">self</span>.epilogue.bind(<span class="keyword">self</span>));
<a name="l03232"></a>03232 }
<a name="l03233"></a>03233 
<a name="l03238"></a>03238 Spec.prototype = <span class="keyword">new</span> <a class="code" href="../../d3/d10/apps_2settings_2test_2marionette_2app_2app_8js.html#a9e9b777c6c201cee9f04395483bb677d">Base</a>;
<a name="l03239"></a>03239 Spec.prototype.constructor = Spec;
<a name="l03240"></a>03240 
<a name="l03241"></a>03241 
<a name="l03242"></a>03242 }); <span class="comment">// module: reporters/spec.js</span>
<a name="l03243"></a>03243 
<a name="l03244"></a>03244 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;reporters/tap.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l03245"></a>03245 
<a name="l03250"></a>03250 var Base = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./base&#39;</span>)
<a name="l03251"></a>03251   , <a class="code" href="../../dc/d6a/xpt__xdr_8h.html#a7056fb315468c5bec29afb3b459e8b92">cursor</a> = Base.cursor
<a name="l03252"></a>03252   , color = Base.color;
<a name="l03253"></a>03253 
<a name="l03258"></a>03258 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = TAP;
<a name="l03259"></a>03259 
<a name="l03267"></a>03267 <span class="keyword">function</span> TAP(runner) {
<a name="l03268"></a>03268   Base.call(<span class="keyword">this</span>, runner);
<a name="l03269"></a>03269 
<a name="l03270"></a>03270   var <span class="keyword">self</span> = <a class="code" href="../../d5/d09/apps_2email_2test_2integration_2_r_e_a_d_m_e_8md.html#ad995d7ecb156c0e4738ce089b58e2714">this</a>
<a name="l03271"></a>03271     , stats = this.stats
<a name="l03272"></a>03272     , n = 1
<a name="l03273"></a>03273     , passes = 0
<a name="l03274"></a>03274     , failures = 1;
<a name="l03275"></a>03275 
<a name="l03276"></a>03276   runner.on(<span class="stringliteral">&#39;start&#39;</span>, <span class="keyword">function</span>(){
<a name="l03277"></a>03277     var total = runner.grepTotal(runner.suite);
<a name="l03278"></a>03278     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<span class="stringliteral">&#39;%d..%d&#39;</span>, 1, total);
<a name="l03279"></a>03279   });
<a name="l03280"></a>03280 
<a name="l03281"></a>03281   runner.on(<span class="stringliteral">&#39;test end&#39;</span>, <span class="keyword">function</span>(){
<a name="l03282"></a>03282     ++<a class="code" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a>;
<a name="l03283"></a>03283   });
<a name="l03284"></a>03284 
<a name="l03285"></a>03285   runner.on(<span class="stringliteral">&#39;pending&#39;</span>, <span class="keyword">function</span>(test){
<a name="l03286"></a>03286     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<span class="stringliteral">&#39;ok %d %s # SKIP -&#39;</span>, n, <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>(test));
<a name="l03287"></a>03287   });
<a name="l03288"></a>03288 
<a name="l03289"></a>03289   runner.on(<span class="stringliteral">&#39;pass&#39;</span>, <span class="keyword">function</span>(test){
<a name="l03290"></a>03290     passes++;
<a name="l03291"></a>03291     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<span class="stringliteral">&#39;ok %d %s&#39;</span>, n, <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>(test));
<a name="l03292"></a>03292   });
<a name="l03293"></a>03293 
<a name="l03294"></a>03294   runner.on(<span class="stringliteral">&#39;fail&#39;</span>, <span class="keyword">function</span>(test, err){
<a name="l03295"></a>03295     failures++;
<a name="l03296"></a>03296     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<span class="stringliteral">&#39;not ok %d %s&#39;</span>, n, <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>(test));
<a name="l03297"></a>03297     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(err.stack.replace(/^/gm, <span class="stringliteral">&#39;  &#39;</span>));
<a name="l03298"></a>03298   });
<a name="l03299"></a>03299 
<a name="l03300"></a>03300   runner.on(<span class="stringliteral">&#39;end&#39;</span>, <span class="keyword">function</span>(){
<a name="l03301"></a>03301     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<span class="stringliteral">&#39;# tests &#39;</span> + (passes + failures));
<a name="l03302"></a>03302     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<span class="stringliteral">&#39;# pass &#39;</span> + passes);
<a name="l03303"></a>03303     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<span class="stringliteral">&#39;# fail &#39;</span> + failures);
<a name="l03304"></a>03304   });
<a name="l03305"></a>03305 }
<a name="l03306"></a>03306 
<a name="l03315"></a>03315 <span class="keyword">function</span> <a class="code" href="../../d1/d04/app__install__manager_8js.html#aa5a506cf1e53b91549e35a5d3bc3dc06">title</a>(test) {
<a name="l03316"></a>03316   <span class="keywordflow">return</span> test.fullTitle().replace(/#/g, <span class="stringliteral">&#39;&#39;</span>);
<a name="l03317"></a>03317 }
<a name="l03318"></a>03318 
<a name="l03319"></a>03319 }); <span class="comment">// module: reporters/tap.js</span>
<a name="l03320"></a>03320 
<a name="l03321"></a>03321 <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>.register(<span class="stringliteral">&quot;reporters/teamcity.js&quot;</span>, <span class="keyword">function</span>(<a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>, <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>, <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>){
<a name="l03322"></a>03322 
<a name="l03327"></a>03327 var Base = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;./base&#39;</span>);
<a name="l03328"></a>03328 
<a name="l03333"></a>03333 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a> = <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a84770557f73663cbea2a9e12e7d45257">module</a>.exports = Teamcity;
<a name="l03334"></a>03334 
<a name="l03342"></a>03342 <span class="keyword">function</span> Teamcity(runner) {
<a name="l03343"></a>03343   Base.call(<span class="keyword">this</span>, runner);
<a name="l03344"></a>03344   var stats = this.stats;
<a name="l03345"></a>03345 
<a name="l03346"></a>03346   runner.on(<span class="stringliteral">&#39;start&#39;</span>, <span class="keyword">function</span>() {
<a name="l03347"></a>03347     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<span class="stringliteral">&quot;##teamcity[testSuiteStarted name=&#39;mocha.suite&#39;]&quot;</span>);
<a name="l03348"></a>03348   });
<a name="l03349"></a>03349 
<a name="l03350"></a>03350   runner.on(<span class="stringliteral">&#39;test&#39;</span>, <span class="keyword">function</span>(test) {
<a name="l03351"></a>03351     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<span class="stringliteral">&quot;##teamcity[testStarted name=&#39;&quot;</span> + <a class="code" href="../../d6/d5f/build__stage_2email_2shared_2js_2template_8js.html#a33a96f75996c5f7687e69910a1d04595">escape</a>(test.fullTitle()) + <span class="stringliteral">&quot;&#39;]&quot;</span>);
<a name="l03352"></a>03352   });
<a name="l03353"></a>03353 
<a name="l03354"></a>03354   runner.on(<span class="stringliteral">&#39;fail&#39;</span>, <span class="keyword">function</span>(test, err) {
<a name="l03355"></a>03355     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<span class="stringliteral">&quot;##teamcity[testFailed name=&#39;&quot;</span> + <a class="code" href="../../d6/d5f/build__stage_2email_2shared_2js_2template_8js.html#a33a96f75996c5f7687e69910a1d04595">escape</a>(test.fullTitle()) + <span class="stringliteral">&quot;&#39; message=&#39;&quot;</span> + <a class="code" href="../../d6/d5f/build__stage_2email_2shared_2js_2template_8js.html#a33a96f75996c5f7687e69910a1d04595">escape</a>(err.message) + <span class="stringliteral">&quot;&#39;]&quot;</span>);
<a name="l03356"></a>03356   });
<a name="l03357"></a>03357 
<a name="l03358"></a>03358   runner.on(<span class="stringliteral">&#39;pending&#39;</span>, <span class="keyword">function</span>(test) {
<a name="l03359"></a>03359     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<span class="stringliteral">&quot;##teamcity[testIgnored name=&#39;&quot;</span> + <a class="code" href="../../d6/d5f/build__stage_2email_2shared_2js_2template_8js.html#a33a96f75996c5f7687e69910a1d04595">escape</a>(test.fullTitle()) + <span class="stringliteral">&quot;&#39; message=&#39;pending&#39;]&quot;</span>);
<a name="l03360"></a>03360   });
<a name="l03361"></a>03361 
<a name="l03362"></a>03362   runner.on(<span class="stringliteral">&#39;test end&#39;</span>, <span class="keyword">function</span>(test) {
<a name="l03363"></a>03363     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<span class="stringliteral">&quot;##teamcity[testFinished name=&#39;&quot;</span> + <a class="code" href="../../d6/d5f/build__stage_2email_2shared_2js_2template_8js.html#a33a96f75996c5f7687e69910a1d04595">escape</a>(test.fullTitle()) + <span class="stringliteral">&quot;&#39; duration=&#39;&quot;</span> + test.duration + <span class="stringliteral">&quot;&#39;]&quot;</span>);
<a name="l03364"></a>03364   });
<a name="l03365"></a>03365 
<a name="l03366"></a>03366   runner.on(<span class="stringliteral">&#39;end&#39;</span>, <span class="keyword">function</span>() {
<a name="l03367"></a>03367     <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.log(<span class="stringliteral">&quot;##teamcity[testSuiteFinished name=&#39;mocha.suite&#39; duration=&#39;&quot;</span> + stats.duration + <span class="stringliteral">&quot;&#39;]&quot;</span>);
<a name="l03368"></a>03368   });
<a name="l03369"></a>03369 }
<a name="l03370"></a>03370 
<a name="l03375"></a>03375 <span class="keyword">function</span> <a class="code" href="../../d6/d5f/build__stage_2email_2shared_2js_2template_8js.html#a33a96f75996c5f7687e69910a1d04595">escape</a>(str) {
<a name="l03376"></a>03376   <span class="keywordflow">return</span> str
<a name="l03377"></a>03377     .replace(/\|/g, <span class="stringliteral">&quot;||&quot;</span>)
<a name="l03378"></a>03378     .replace(/\n/g, <span class="stringliteral">&quot;|n&quot;</span>)
<a name="l03379"></a>03379     .replace(/\r/g, <span class="stringliteral">&quot;|r&quot;</span>)
<a name="l03380"></a>03380     .replace(/\[/g, <span class="stringliteral">&quot;|[&quot;</span>)
<a name="l03381"></a>03381     .replace(/\]/g, <span class="stringliteral">&quot;|]&quot;</span>)
<a name="l03382"></a>03382     .replace(/\u0085/g, <span class="stringliteral">&quot;|x&quot;</span>)
<a name="l03383"></a>03383     .replace(/\u2028/g, <span class="stringliteral">&quot;|l&quot;</span>)
<a name="l03384"></a>03384     .replace(/\u2029/g, <span class="stringliteral">&quot;|p&quot;</span>)
<a name="l03385"></a>03385     .replace(/<span class="stringliteral">&#39;/g, &quot;|&#39;</span><span class="stringliteral">&quot;);</span>
<a name="l03386"></a>03386 <span class="stringliteral">}</span>
<a name="l03387"></a>03387 <span class="stringliteral"></span>
<a name="l03388"></a>03388 <span class="stringliteral">}); // module: reporters/teamcity.js</span>
<a name="l03389"></a>03389 <span class="stringliteral"></span>
<a name="l03390"></a>03390 <span class="stringliteral">require.register(&quot;</span>reporters/xunit.js<span class="stringliteral">&quot;, function(module, exports, require){</span>
<a name="l03391"></a>03391 <span class="stringliteral"></span>
<a name="l03396"></a>03396 <span class="stringliteral">var Base = require(&#39;./base&#39;)</span>
<a name="l03397"></a>03397 <span class="stringliteral">  , utils = require(&#39;../utils&#39;)</span>
<a name="l03398"></a>03398 <span class="stringliteral">  , escape = utils.escape;</span>
<a name="l03399"></a>03399 <span class="stringliteral"></span>
<a name="l03404"></a>03404 <span class="stringliteral">var Date = global.Date</span>
<a name="l03405"></a>03405 <span class="stringliteral">  , setTimeout = global.setTimeout</span>
<a name="l03406"></a>03406 <span class="stringliteral">  , setInterval = global.setInterval</span>
<a name="l03407"></a>03407 <span class="stringliteral">  , clearTimeout = global.clearTimeout</span>
<a name="l03408"></a>03408 <span class="stringliteral">  , clearInterval = global.clearInterval;</span>
<a name="l03409"></a>03409 <span class="stringliteral"></span>
<a name="l03414"></a>03414 <span class="stringliteral">exports = module.exports = XUnit;</span>
<a name="l03415"></a>03415 <span class="stringliteral"></span>
<a name="l03423"></a>03423 <span class="stringliteral">function XUnit(runner) {</span>
<a name="l03424"></a>03424 <span class="stringliteral">  Base.call(this, runner);</span>
<a name="l03425"></a>03425 <span class="stringliteral">  var stats = this.stats</span>
<a name="l03426"></a>03426 <span class="stringliteral">    , tests = []</span>
<a name="l03427"></a>03427 <span class="stringliteral">    , self = this;</span>
<a name="l03428"></a>03428 <span class="stringliteral"></span>
<a name="l03429"></a>03429 <span class="stringliteral">  runner.on(&#39;pass&#39;, function(test){</span>
<a name="l03430"></a>03430 <span class="stringliteral">    tests.push(test);</span>
<a name="l03431"></a>03431 <span class="stringliteral">  });</span>
<a name="l03432"></a>03432 <span class="stringliteral">  </span>
<a name="l03433"></a>03433 <span class="stringliteral">  runner.on(&#39;fail&#39;, function(test){</span>
<a name="l03434"></a>03434 <span class="stringliteral">    tests.push(test);</span>
<a name="l03435"></a>03435 <span class="stringliteral">  });</span>
<a name="l03436"></a>03436 <span class="stringliteral"></span>
<a name="l03437"></a>03437 <span class="stringliteral">  runner.on(&#39;end&#39;, function(){</span>
<a name="l03438"></a>03438 <span class="stringliteral">    console.log(tag(&#39;testsuite&#39;, {</span>
<a name="l03439"></a>03439 <span class="stringliteral">        name: &#39;Mocha Tests&#39;</span>
<a name="l03440"></a>03440 <span class="stringliteral">      , tests: stats.tests</span>
<a name="l03441"></a>03441 <span class="stringliteral">      , failures: stats.failures</span>
<a name="l03442"></a>03442 <span class="stringliteral">      , errors: stats.failures</span>
<a name="l03443"></a>03443 <span class="stringliteral">      , skip: stats.tests - stats.failures - stats.passes</span>
<a name="l03444"></a>03444 <span class="stringliteral">      , timestamp: (new Date).toUTCString()</span>
<a name="l03445"></a>03445 <span class="stringliteral">      , time: stats.duration / 1000</span>
<a name="l03446"></a>03446 <span class="stringliteral">    }, false));</span>
<a name="l03447"></a>03447 <span class="stringliteral"></span>
<a name="l03448"></a>03448 <span class="stringliteral">    tests.forEach(test);</span>
<a name="l03449"></a>03449 <span class="stringliteral">    console.log(&#39;&lt;/testsuite&gt;&#39;);    </span>
<a name="l03450"></a>03450 <span class="stringliteral">  });</span>
<a name="l03451"></a>03451 <span class="stringliteral">}</span>
<a name="l03452"></a>03452 <span class="stringliteral"></span>
<a name="l03457"></a>03457 <span class="stringliteral">XUnit.prototype = new Base;</span>
<a name="l03458"></a>03458 <span class="stringliteral">XUnit.prototype.constructor = XUnit;</span>
<a name="l03459"></a>03459 <span class="stringliteral"></span>
<a name="l03460"></a>03460 <span class="stringliteral"></span>
<a name="l03465"></a>03465 <span class="stringliteral">function test(test) {</span>
<a name="l03466"></a>03466 <span class="stringliteral">  var attrs = {</span>
<a name="l03467"></a>03467 <span class="stringliteral">      classname: test.parent.fullTitle()</span>
<a name="l03468"></a>03468 <span class="stringliteral">    , name: test.title</span>
<a name="l03469"></a>03469 <span class="stringliteral">    , time: test.duration / 1000</span>
<a name="l03470"></a>03470 <span class="stringliteral">  };</span>
<a name="l03471"></a>03471 <span class="stringliteral"></span>
<a name="l03472"></a>03472 <span class="stringliteral">  if (&#39;failed&#39; == test.state) {</span>
<a name="l03473"></a>03473 <span class="stringliteral">    var err = test.err;</span>
<a name="l03474"></a>03474 <span class="stringliteral">    attrs.message = escape(err.message);</span>
<a name="l03475"></a>03475 <span class="stringliteral">    console.log(tag(&#39;testcase&#39;, attrs, false, tag(&#39;failure&#39;, attrs, false, cdata(err.stack))));</span>
<a name="l03476"></a>03476 <span class="stringliteral">  } else if (test.pending) {</span>
<a name="l03477"></a>03477 <span class="stringliteral">    console.log(tag(&#39;testcase&#39;, attrs, false, tag(&#39;skipped&#39;, {}, true)));</span>
<a name="l03478"></a>03478 <span class="stringliteral">  } else {</span>
<a name="l03479"></a>03479 <span class="stringliteral">    console.log(tag(&#39;testcase&#39;, attrs, true) );</span>
<a name="l03480"></a>03480 <span class="stringliteral">  }</span>
<a name="l03481"></a>03481 <span class="stringliteral">}</span>
<a name="l03482"></a>03482 <span class="stringliteral"></span>
<a name="l03487"></a>03487 <span class="stringliteral">function tag(name, attrs, close, content) {</span>
<a name="l03488"></a>03488 <span class="stringliteral">  var end = close ? &#39;/&gt;&#39; : &#39;&gt;&#39;</span>
<a name="l03489"></a>03489 <span class="stringliteral">    , pairs = []</span>
<a name="l03490"></a>03490 <span class="stringliteral">    , tag;</span>
<a name="l03491"></a>03491 <span class="stringliteral"></span>
<a name="l03492"></a>03492 <span class="stringliteral">  for (var key in attrs) {</span>
<a name="l03493"></a>03493 <span class="stringliteral">    pairs.push(key + &#39;=&quot;</span><span class="stringliteral">&#39; + escape(attrs[key]) + &#39;</span><span class="stringliteral">&quot;&#39;);</span>
<a name="l03494"></a>03494 <span class="stringliteral">  }</span>
<a name="l03495"></a>03495 <span class="stringliteral"></span>
<a name="l03496"></a>03496 <span class="stringliteral">  tag = &#39;&lt;&#39; + name + (pairs.length ? &#39; &#39; + pairs.join(&#39; &#39;) : &#39;&#39;) + end;</span>
<a name="l03497"></a>03497 <span class="stringliteral">  if (content) tag += content + &#39;&lt;/&#39; + name + end;</span>
<a name="l03498"></a>03498 <span class="stringliteral">  return tag;</span>
<a name="l03499"></a>03499 <span class="stringliteral">}</span>
<a name="l03500"></a>03500 <span class="stringliteral"></span>
<a name="l03505"></a>03505 <span class="stringliteral">function cdata(str) {</span>
<a name="l03506"></a>03506 <span class="stringliteral">  return &#39;&lt;![CDATA[&#39; + escape(str) + &#39;]]&gt;&#39;;</span>
<a name="l03507"></a>03507 <span class="stringliteral">}</span>
<a name="l03508"></a>03508 <span class="stringliteral"></span>
<a name="l03509"></a>03509 <span class="stringliteral">}); // module: reporters/xunit.js</span>
<a name="l03510"></a>03510 <span class="stringliteral"></span>
<a name="l03511"></a>03511 <span class="stringliteral">require.register(&quot;</span>runnable.js<span class="stringliteral">&quot;, function(module, exports, require){</span>
<a name="l03512"></a>03512 <span class="stringliteral"></span>
<a name="l03517"></a>03517 <span class="stringliteral">var EventEmitter = require(&#39;browser/events&#39;).EventEmitter</span>
<a name="l03518"></a>03518 <span class="stringliteral">  , debug = require(&#39;browser/debug&#39;)(&#39;mocha:runnable&#39;)</span>
<a name="l03519"></a>03519 <span class="stringliteral">  , milliseconds = require(&#39;./ms&#39;);</span>
<a name="l03520"></a>03520 <span class="stringliteral"></span>
<a name="l03525"></a>03525 <span class="stringliteral">var Date = global.Date</span>
<a name="l03526"></a>03526 <span class="stringliteral">  , setTimeout = global.setTimeout</span>
<a name="l03527"></a>03527 <span class="stringliteral">  , setInterval = global.setInterval</span>
<a name="l03528"></a>03528 <span class="stringliteral">  , clearTimeout = global.clearTimeout</span>
<a name="l03529"></a>03529 <span class="stringliteral">  , clearInterval = global.clearInterval;</span>
<a name="l03530"></a>03530 <span class="stringliteral"></span>
<a name="l03535"></a>03535 <span class="stringliteral">var toString = Object.prototype.toString;</span>
<a name="l03536"></a>03536 <span class="stringliteral"></span>
<a name="l03541"></a>03541 <span class="stringliteral">module.exports = Runnable;</span>
<a name="l03542"></a>03542 <span class="stringliteral"></span>
<a name="l03551"></a>03551 <span class="stringliteral">function Runnable(title, fn) {</span>
<a name="l03552"></a>03552 <span class="stringliteral">  this.title = title;</span>
<a name="l03553"></a>03553 <span class="stringliteral">  this.fn = fn;</span>
<a name="l03554"></a>03554 <span class="stringliteral">  this.async = fn &amp;&amp; fn.length;</span>
<a name="l03555"></a>03555 <span class="stringliteral">  this.sync = ! this.async;</span>
<a name="l03556"></a>03556 <span class="stringliteral">  this._timeout = 2000;</span>
<a name="l03557"></a>03557 <span class="stringliteral">  this._slow = 75;</span>
<a name="l03558"></a>03558 <span class="stringliteral">  this.timedOut = false;</span>
<a name="l03559"></a>03559 <span class="stringliteral">}</span>
<a name="l03560"></a>03560 <span class="stringliteral"></span>
<a name="l03565"></a>03565 <span class="stringliteral">Runnable.prototype = new EventEmitter;</span>
<a name="l03566"></a>03566 <span class="stringliteral">Runnable.prototype.constructor = Runnable;</span>
<a name="l03567"></a>03567 <span class="stringliteral"></span>
<a name="l03568"></a>03568 <span class="stringliteral"></span>
<a name="l03577"></a>03577 <span class="stringliteral">Runnable.prototype.timeout = function(ms){</span>
<a name="l03578"></a>03578 <span class="stringliteral">  if (0 == arguments.length) return this._timeout;</span>
<a name="l03579"></a>03579 <span class="stringliteral">  if (&#39;string&#39; == typeof ms) ms = milliseconds(ms);</span>
<a name="l03580"></a>03580 <span class="stringliteral">  debug(&#39;timeout %d&#39;, ms);</span>
<a name="l03581"></a>03581 <span class="stringliteral">  this._timeout = ms;</span>
<a name="l03582"></a>03582 <span class="stringliteral">  if (this.timer) this.resetTimeout();</span>
<a name="l03583"></a>03583 <span class="stringliteral">  return this;</span>
<a name="l03584"></a>03584 <span class="stringliteral">};</span>
<a name="l03585"></a>03585 <span class="stringliteral"></span>
<a name="l03594"></a>03594 <span class="stringliteral">Runnable.prototype.slow = function(ms){</span>
<a name="l03595"></a>03595 <span class="stringliteral">  if (0 === arguments.length) return this._slow;</span>
<a name="l03596"></a>03596 <span class="stringliteral">  if (&#39;string&#39; == typeof ms) ms = milliseconds(ms);</span>
<a name="l03597"></a>03597 <span class="stringliteral">  debug(&#39;timeout %d&#39;, ms);</span>
<a name="l03598"></a>03598 <span class="stringliteral">  this._slow = ms;</span>
<a name="l03599"></a>03599 <span class="stringliteral">  return this;</span>
<a name="l03600"></a>03600 <span class="stringliteral">};</span>
<a name="l03601"></a>03601 <span class="stringliteral"></span>
<a name="l03610"></a>03610 <span class="stringliteral">Runnable.prototype.fullTitle = function(){</span>
<a name="l03611"></a>03611 <span class="stringliteral">  return this.parent.fullTitle() + &#39; &#39; + this.title;</span>
<a name="l03612"></a>03612 <span class="stringliteral">};</span>
<a name="l03613"></a>03613 <span class="stringliteral"></span>
<a name="l03620"></a>03620 <span class="stringliteral">Runnable.prototype.clearTimeout = function(){</span>
<a name="l03621"></a>03621 <span class="stringliteral">  clearTimeout(this.timer);</span>
<a name="l03622"></a>03622 <span class="stringliteral">};</span>
<a name="l03623"></a>03623 <span class="stringliteral"></span>
<a name="l03631"></a>03631 <span class="stringliteral">Runnable.prototype.inspect = function(){</span>
<a name="l03632"></a>03632 <span class="stringliteral">  return JSON.stringify(this, function(key, val){</span>
<a name="l03633"></a>03633 <span class="stringliteral">    if (&#39;_&#39; == key[0]) return;</span>
<a name="l03634"></a>03634 <span class="stringliteral">    if (&#39;parent&#39; == key) return &#39;#&lt;Suite&gt;&#39;;</span>
<a name="l03635"></a>03635 <span class="stringliteral">    if (&#39;ctx&#39; == key) return &#39;#&lt;Context&gt;&#39;;</span>
<a name="l03636"></a>03636 <span class="stringliteral">    return val;</span>
<a name="l03637"></a>03637 <span class="stringliteral">  }, 2);</span>
<a name="l03638"></a>03638 <span class="stringliteral">};</span>
<a name="l03639"></a>03639 <span class="stringliteral"></span>
<a name="l03646"></a>03646 <span class="stringliteral">Runnable.prototype.resetTimeout = function(){</span>
<a name="l03647"></a>03647 <span class="stringliteral">  var self = this</span>
<a name="l03648"></a>03648 <span class="stringliteral">    , ms = this.timeout();</span>
<a name="l03649"></a>03649 <span class="stringliteral"></span>
<a name="l03650"></a>03650 <span class="stringliteral">  this.clearTimeout();</span>
<a name="l03651"></a>03651 <span class="stringliteral">  if (ms) {</span>
<a name="l03652"></a>03652 <span class="stringliteral">    this.timer = setTimeout(function(){</span>
<a name="l03653"></a>03653 <span class="stringliteral">      self.callback(new Error(&#39;timeout of &#39; + ms + &#39;ms exceeded&#39;));</span>
<a name="l03654"></a>03654 <span class="stringliteral">      self.timedOut = true;</span>
<a name="l03655"></a>03655 <span class="stringliteral">    }, ms);</span>
<a name="l03656"></a>03656 <span class="stringliteral">  }</span>
<a name="l03657"></a>03657 <span class="stringliteral">};</span>
<a name="l03658"></a>03658 <span class="stringliteral"></span>
<a name="l03666"></a>03666 <span class="stringliteral">Runnable.prototype.run = function(fn){</span>
<a name="l03667"></a>03667 <span class="stringliteral">  var self = this</span>
<a name="l03668"></a>03668 <span class="stringliteral">    , ms = this.timeout()</span>
<a name="l03669"></a>03669 <span class="stringliteral">    , start = new Date</span>
<a name="l03670"></a>03670 <span class="stringliteral">    , ctx = this.ctx</span>
<a name="l03671"></a>03671 <span class="stringliteral">    , finished</span>
<a name="l03672"></a>03672 <span class="stringliteral">    , emitted;</span>
<a name="l03673"></a>03673 <span class="stringliteral"></span>
<a name="l03674"></a>03674 <span class="stringliteral">  if (ctx) ctx.runnable(this);</span>
<a name="l03675"></a>03675 <span class="stringliteral"></span>
<a name="l03676"></a>03676 <span class="stringliteral">  // timeout</span>
<a name="l03677"></a>03677 <span class="stringliteral">  if (this.async) {</span>
<a name="l03678"></a>03678 <span class="stringliteral">    if (ms) {</span>
<a name="l03679"></a>03679 <span class="stringliteral">      this.timer = setTimeout(function(){</span>
<a name="l03680"></a>03680 <span class="stringliteral">        done(new Error(&#39;timeout of &#39; + ms + &#39;ms exceeded&#39;));</span>
<a name="l03681"></a>03681 <span class="stringliteral">        self.timedOut = true;</span>
<a name="l03682"></a>03682 <span class="stringliteral">      }, ms);</span>
<a name="l03683"></a>03683 <span class="stringliteral">    }</span>
<a name="l03684"></a>03684 <span class="stringliteral">  }</span>
<a name="l03685"></a>03685 <span class="stringliteral"></span>
<a name="l03686"></a>03686 <span class="stringliteral">  // called multiple times</span>
<a name="l03687"></a>03687 <span class="stringliteral">  function multiple(err) {</span>
<a name="l03688"></a>03688 <span class="stringliteral">    if (emitted) return;</span>
<a name="l03689"></a>03689 <span class="stringliteral">    emitted = true;</span>
<a name="l03690"></a>03690 <span class="stringliteral">    self.emit(&#39;error&#39;, err || new Error(&#39;done() called multiple times&#39;));</span>
<a name="l03691"></a>03691 <span class="stringliteral">  }</span>
<a name="l03692"></a>03692 <span class="stringliteral"></span>
<a name="l03693"></a>03693 <span class="stringliteral">  // finished</span>
<a name="l03694"></a>03694 <span class="stringliteral">  function done(err) {</span>
<a name="l03695"></a>03695 <span class="stringliteral">    if (self.timedOut) return;</span>
<a name="l03696"></a>03696 <span class="stringliteral">    if (finished) return multiple(err);</span>
<a name="l03697"></a>03697 <span class="stringliteral">    self.clearTimeout();</span>
<a name="l03698"></a>03698 <span class="stringliteral">    self.duration = new Date - start;</span>
<a name="l03699"></a>03699 <span class="stringliteral">    finished = true;</span>
<a name="l03700"></a>03700 <span class="stringliteral">    fn(err);</span>
<a name="l03701"></a>03701 <span class="stringliteral">  }</span>
<a name="l03702"></a>03702 <span class="stringliteral"></span>
<a name="l03703"></a>03703 <span class="stringliteral">  // for .resetTimeout()</span>
<a name="l03704"></a>03704 <span class="stringliteral">  this.callback = done;</span>
<a name="l03705"></a>03705 <span class="stringliteral"></span>
<a name="l03706"></a>03706 <span class="stringliteral">  // async</span>
<a name="l03707"></a>03707 <span class="stringliteral">  if (this.async) {</span>
<a name="l03708"></a>03708 <span class="stringliteral">    try {</span>
<a name="l03709"></a>03709 <span class="stringliteral">      this.fn.call(ctx, function(err){</span>
<a name="l03710"></a>03710 <span class="stringliteral">        if (toString.call(err) === &quot;</span>[<span class="keywordtype">object</span> <a class="code" href="../../dc/d06/calendar_2js_2error_8js.html#abd05c43175d3c93c6889542cefc822f3">Error</a>]<span class="stringliteral">&quot;) return done(err);</span>
<a name="l03711"></a>03711 <span class="stringliteral">        if (null != err) return done(new Error(&#39;done() invoked with non-Error: &#39; + err));</span>
<a name="l03712"></a>03712 <span class="stringliteral">        done();</span>
<a name="l03713"></a>03713 <span class="stringliteral">      });</span>
<a name="l03714"></a>03714 <span class="stringliteral">    } catch (err) {</span>
<a name="l03715"></a>03715 <span class="stringliteral">      done(err);</span>
<a name="l03716"></a>03716 <span class="stringliteral">    }</span>
<a name="l03717"></a>03717 <span class="stringliteral">    return;</span>
<a name="l03718"></a>03718 <span class="stringliteral">  }</span>
<a name="l03719"></a>03719 <span class="stringliteral"></span>
<a name="l03720"></a>03720 <span class="stringliteral">  if (this.asyncOnly) {</span>
<a name="l03721"></a>03721 <span class="stringliteral">    return done(new Error(&#39;--async-only option in use without declaring `done()`&#39;));</span>
<a name="l03722"></a>03722 <span class="stringliteral">  }</span>
<a name="l03723"></a>03723 <span class="stringliteral"></span>
<a name="l03724"></a>03724 <span class="stringliteral">  // sync</span>
<a name="l03725"></a>03725 <span class="stringliteral">  try {</span>
<a name="l03726"></a>03726 <span class="stringliteral">    if (!this.pending) this.fn.call(ctx);</span>
<a name="l03727"></a>03727 <span class="stringliteral">    this.duration = new Date - start;</span>
<a name="l03728"></a>03728 <span class="stringliteral">    fn();</span>
<a name="l03729"></a>03729 <span class="stringliteral">  } catch (err) {</span>
<a name="l03730"></a>03730 <span class="stringliteral">    fn(err);</span>
<a name="l03731"></a>03731 <span class="stringliteral">  }</span>
<a name="l03732"></a>03732 <span class="stringliteral">};</span>
<a name="l03733"></a>03733 <span class="stringliteral"></span>
<a name="l03734"></a>03734 <span class="stringliteral">}); // module: runnable.js</span>
<a name="l03735"></a>03735 <span class="stringliteral"></span>
<a name="l03736"></a>03736 <span class="stringliteral">require.register(&quot;</span>runner.js<span class="stringliteral">&quot;, function(module, exports, require){</span>
<a name="l03737"></a>03737 <span class="stringliteral"></span>
<a name="l03742"></a>03742 <span class="stringliteral">var EventEmitter = require(&#39;browser/events&#39;).EventEmitter</span>
<a name="l03743"></a>03743 <span class="stringliteral">  , debug = require(&#39;browser/debug&#39;)(&#39;mocha:runner&#39;)</span>
<a name="l03744"></a>03744 <span class="stringliteral">  , Test = require(&#39;./test&#39;)</span>
<a name="l03745"></a>03745 <span class="stringliteral">  , utils = require(&#39;./utils&#39;)</span>
<a name="l03746"></a>03746 <span class="stringliteral">  , filter = utils.filter</span>
<a name="l03747"></a>03747 <span class="stringliteral">  , keys = utils.keys</span>
<a name="l03748"></a>03748 <span class="stringliteral">  , noop = function(){};</span>
<a name="l03749"></a>03749 <span class="stringliteral"></span>
<a name="l03754"></a>03754 <span class="stringliteral">var globals = [</span>
<a name="l03755"></a>03755 <span class="stringliteral">  &#39;setTimeout&#39;,</span>
<a name="l03756"></a>03756 <span class="stringliteral">  &#39;clearTimeout&#39;,</span>
<a name="l03757"></a>03757 <span class="stringliteral">  &#39;setInterval&#39;,</span>
<a name="l03758"></a>03758 <span class="stringliteral">  &#39;clearInterval&#39;,</span>
<a name="l03759"></a>03759 <span class="stringliteral">  &#39;XMLHttpRequest&#39;,</span>
<a name="l03760"></a>03760 <span class="stringliteral">  &#39;Date&#39;</span>
<a name="l03761"></a>03761 <span class="stringliteral">];</span>
<a name="l03762"></a>03762 <span class="stringliteral"></span>
<a name="l03767"></a>03767 <span class="stringliteral">module.exports = Runner;</span>
<a name="l03768"></a>03768 <span class="stringliteral"></span>
<a name="l03788"></a>03788 <span class="stringliteral">function Runner(suite) {</span>
<a name="l03789"></a>03789 <span class="stringliteral">  var self = this;</span>
<a name="l03790"></a>03790 <span class="stringliteral">  this._globals = [];</span>
<a name="l03791"></a>03791 <span class="stringliteral">  this.suite = suite;</span>
<a name="l03792"></a>03792 <span class="stringliteral">  this.total = suite.total();</span>
<a name="l03793"></a>03793 <span class="stringliteral">  this.failures = 0;</span>
<a name="l03794"></a>03794 <span class="stringliteral">  this.on(&#39;test end&#39;, function(test){ self.checkGlobals(test); });</span>
<a name="l03795"></a>03795 <span class="stringliteral">  this.on(&#39;hook end&#39;, function(hook){ self.checkGlobals(hook); });</span>
<a name="l03796"></a>03796 <span class="stringliteral">  this.grep(/.*/);</span>
<a name="l03797"></a>03797 <span class="stringliteral">  this.globals(this.globalProps().concat([&#39;errno&#39;]));</span>
<a name="l03798"></a>03798 <span class="stringliteral">}</span>
<a name="l03799"></a>03799 <span class="stringliteral"></span>
<a name="l03804"></a>03804 <span class="stringliteral">Runner.prototype = new EventEmitter;</span>
<a name="l03805"></a>03805 <span class="stringliteral">Runner.prototype.constructor = Runner;</span>
<a name="l03806"></a>03806 <span class="stringliteral"></span>
<a name="l03807"></a>03807 <span class="stringliteral"></span>
<a name="l03818"></a>03818 <span class="stringliteral">Runner.prototype.grep = function(re, invert){</span>
<a name="l03819"></a>03819 <span class="stringliteral">  debug(&#39;grep %s&#39;, re);</span>
<a name="l03820"></a>03820 <span class="stringliteral">  this._grep = re;</span>
<a name="l03821"></a>03821 <span class="stringliteral">  this._invert = invert;</span>
<a name="l03822"></a>03822 <span class="stringliteral">  this.total = this.grepTotal(this.suite);</span>
<a name="l03823"></a>03823 <span class="stringliteral">  return this;</span>
<a name="l03824"></a>03824 <span class="stringliteral">};</span>
<a name="l03825"></a>03825 <span class="stringliteral"></span>
<a name="l03835"></a>03835 <span class="stringliteral">Runner.prototype.grepTotal = function(suite) {</span>
<a name="l03836"></a>03836 <span class="stringliteral">  var self = this;</span>
<a name="l03837"></a>03837 <span class="stringliteral">  var total = 0;</span>
<a name="l03838"></a>03838 <span class="stringliteral"></span>
<a name="l03839"></a>03839 <span class="stringliteral">  suite.eachTest(function(test){</span>
<a name="l03840"></a>03840 <span class="stringliteral">    var match = self._grep.test(test.fullTitle());</span>
<a name="l03841"></a>03841 <span class="stringliteral">    if (self._invert) match = !match;</span>
<a name="l03842"></a>03842 <span class="stringliteral">    if (match) total++;</span>
<a name="l03843"></a>03843 <span class="stringliteral">  });</span>
<a name="l03844"></a>03844 <span class="stringliteral"></span>
<a name="l03845"></a>03845 <span class="stringliteral">  return total;</span>
<a name="l03846"></a>03846 <span class="stringliteral">};</span>
<a name="l03847"></a>03847 <span class="stringliteral"></span>
<a name="l03855"></a>03855 <span class="stringliteral">Runner.prototype.globalProps = function() {</span>
<a name="l03856"></a>03856 <span class="stringliteral">  var props = utils.keys(global);</span>
<a name="l03857"></a>03857 <span class="stringliteral"></span>
<a name="l03858"></a>03858 <span class="stringliteral">  // non-enumerables</span>
<a name="l03859"></a>03859 <span class="stringliteral">  for (var i = 0; i &lt; globals.length; ++i) {</span>
<a name="l03860"></a>03860 <span class="stringliteral">    if (~utils.indexOf(props, globals[i])) continue;</span>
<a name="l03861"></a>03861 <span class="stringliteral">    props.push(globals[i]);</span>
<a name="l03862"></a>03862 <span class="stringliteral">  }</span>
<a name="l03863"></a>03863 <span class="stringliteral"></span>
<a name="l03864"></a>03864 <span class="stringliteral">  return props;</span>
<a name="l03865"></a>03865 <span class="stringliteral">};</span>
<a name="l03866"></a>03866 <span class="stringliteral"></span>
<a name="l03875"></a>03875 <span class="stringliteral">Runner.prototype.globals = function(arr){</span>
<a name="l03876"></a>03876 <span class="stringliteral">  if (0 == arguments.length) return this._globals;</span>
<a name="l03877"></a>03877 <span class="stringliteral">  debug(&#39;globals %j&#39;, arr);</span>
<a name="l03878"></a>03878 <span class="stringliteral">  utils.forEach(arr, function(arr){</span>
<a name="l03879"></a>03879 <span class="stringliteral">    this._globals.push(arr);</span>
<a name="l03880"></a>03880 <span class="stringliteral">  }, this);</span>
<a name="l03881"></a>03881 <span class="stringliteral">  return this;</span>
<a name="l03882"></a>03882 <span class="stringliteral">};</span>
<a name="l03883"></a>03883 <span class="stringliteral"></span>
<a name="l03890"></a>03890 <span class="stringliteral">Runner.prototype.checkGlobals = function(test){</span>
<a name="l03891"></a>03891 <span class="stringliteral">  if (this.ignoreLeaks) return;</span>
<a name="l03892"></a>03892 <span class="stringliteral">  var ok = this._globals;</span>
<a name="l03893"></a>03893 <span class="stringliteral">  var globals = this.globalProps();</span>
<a name="l03894"></a>03894 <span class="stringliteral">  var isNode = process.kill;</span>
<a name="l03895"></a>03895 <span class="stringliteral">  var leaks;</span>
<a name="l03896"></a>03896 <span class="stringliteral"></span>
<a name="l03897"></a>03897 <span class="stringliteral">  // check length - 2 (&#39;errno&#39; and &#39;location&#39; globals)</span>
<a name="l03898"></a>03898 <span class="stringliteral">  if (isNode &amp;&amp; 1 == ok.length - globals.length) return</span>
<a name="l03899"></a>03899 <span class="stringliteral">  else if (2 == ok.length - globals.length) return;</span>
<a name="l03900"></a>03900 <span class="stringliteral"></span>
<a name="l03901"></a>03901 <span class="stringliteral">  leaks = filterLeaks(ok, globals);</span>
<a name="l03902"></a>03902 <span class="stringliteral">  this._globals = this._globals.concat(leaks);</span>
<a name="l03903"></a>03903 <span class="stringliteral"></span>
<a name="l03904"></a>03904 <span class="stringliteral">  if (leaks.length &gt; 1) {</span>
<a name="l03905"></a>03905 <span class="stringliteral">    this.fail(test, new Error(&#39;global leaks detected: &#39; + leaks.join(&#39;, &#39;) + &#39;&#39;));</span>
<a name="l03906"></a>03906 <span class="stringliteral">  } else if (leaks.length) {</span>
<a name="l03907"></a>03907 <span class="stringliteral">    this.fail(test, new Error(&#39;global leak detected: &#39; + leaks[0]));</span>
<a name="l03908"></a>03908 <span class="stringliteral">  }</span>
<a name="l03909"></a>03909 <span class="stringliteral">};</span>
<a name="l03910"></a>03910 <span class="stringliteral"></span>
<a name="l03919"></a>03919 <span class="stringliteral">Runner.prototype.fail = function(test, err){</span>
<a name="l03920"></a>03920 <span class="stringliteral">  ++this.failures;</span>
<a name="l03921"></a>03921 <span class="stringliteral">  test.state = &#39;failed&#39;;</span>
<a name="l03922"></a>03922 <span class="stringliteral"></span>
<a name="l03923"></a>03923 <span class="stringliteral">  if (&#39;string&#39; == typeof err) {</span>
<a name="l03924"></a>03924 <span class="stringliteral">    err = new Error(&#39;the string &quot;</span><span class="stringliteral">&#39; + err + &#39;</span><span class="stringliteral">&quot; was thrown, throw an Error :)&#39;);</span>
<a name="l03925"></a>03925 <span class="stringliteral">  }</span>
<a name="l03926"></a>03926 <span class="stringliteral">  </span>
<a name="l03927"></a>03927 <span class="stringliteral">  this.emit(&#39;fail&#39;, test, err);</span>
<a name="l03928"></a>03928 <span class="stringliteral">};</span>
<a name="l03929"></a>03929 <span class="stringliteral"></span>
<a name="l03943"></a>03943 <span class="stringliteral">Runner.prototype.failHook = function(hook, err){</span>
<a name="l03944"></a>03944 <span class="stringliteral">  this.fail(hook, err);</span>
<a name="l03945"></a>03945 <span class="stringliteral">  this.emit(&#39;end&#39;);</span>
<a name="l03946"></a>03946 <span class="stringliteral">};</span>
<a name="l03947"></a>03947 <span class="stringliteral"></span>
<a name="l03956"></a>03956 <span class="stringliteral">Runner.prototype.hook = function(name, fn){</span>
<a name="l03957"></a>03957 <span class="stringliteral">  var suite = this.suite</span>
<a name="l03958"></a>03958 <span class="stringliteral">    , hooks = suite[&#39;_&#39; + name]</span>
<a name="l03959"></a>03959 <span class="stringliteral">    , self = this</span>
<a name="l03960"></a>03960 <span class="stringliteral">    , timer;</span>
<a name="l03961"></a>03961 <span class="stringliteral"></span>
<a name="l03962"></a>03962 <span class="stringliteral">  function next(i) {</span>
<a name="l03963"></a>03963 <span class="stringliteral">    var hook = hooks[i];</span>
<a name="l03964"></a>03964 <span class="stringliteral">    if (!hook) return fn();</span>
<a name="l03965"></a>03965 <span class="stringliteral">    self.currentRunnable = hook;</span>
<a name="l03966"></a>03966 <span class="stringliteral"></span>
<a name="l03967"></a>03967 <span class="stringliteral">    self.emit(&#39;hook&#39;, hook);</span>
<a name="l03968"></a>03968 <span class="stringliteral"></span>
<a name="l03969"></a>03969 <span class="stringliteral">    hook.on(&#39;error&#39;, function(err){</span>
<a name="l03970"></a>03970 <span class="stringliteral">      self.failHook(hook, err);</span>
<a name="l03971"></a>03971 <span class="stringliteral">    });</span>
<a name="l03972"></a>03972 <span class="stringliteral"></span>
<a name="l03973"></a>03973 <span class="stringliteral">    hook.run(function(err){</span>
<a name="l03974"></a>03974 <span class="stringliteral">      hook.removeAllListeners(&#39;error&#39;);</span>
<a name="l03975"></a>03975 <span class="stringliteral">      var testError = hook.error();</span>
<a name="l03976"></a>03976 <span class="stringliteral">      if (testError) self.fail(self.test, testError);</span>
<a name="l03977"></a>03977 <span class="stringliteral">      if (err) return self.failHook(hook, err);</span>
<a name="l03978"></a>03978 <span class="stringliteral">      self.emit(&#39;hook end&#39;, hook);</span>
<a name="l03979"></a>03979 <span class="stringliteral">      next(++i);</span>
<a name="l03980"></a>03980 <span class="stringliteral">    });</span>
<a name="l03981"></a>03981 <span class="stringliteral">  }</span>
<a name="l03982"></a>03982 <span class="stringliteral"></span>
<a name="l03983"></a>03983 <span class="stringliteral">  process.nextTick(function(){</span>
<a name="l03984"></a>03984 <span class="stringliteral">    next(0);</span>
<a name="l03985"></a>03985 <span class="stringliteral">  });</span>
<a name="l03986"></a>03986 <span class="stringliteral">};</span>
<a name="l03987"></a>03987 <span class="stringliteral"></span>
<a name="l03998"></a>03998 <span class="stringliteral">Runner.prototype.hooks = function(name, suites, fn){</span>
<a name="l03999"></a>03999 <span class="stringliteral">  var self = this</span>
<a name="l04000"></a>04000 <span class="stringliteral">    , orig = this.suite;</span>
<a name="l04001"></a>04001 <span class="stringliteral"></span>
<a name="l04002"></a>04002 <span class="stringliteral">  function next(suite) {</span>
<a name="l04003"></a>04003 <span class="stringliteral">    self.suite = suite;</span>
<a name="l04004"></a>04004 <span class="stringliteral"></span>
<a name="l04005"></a>04005 <span class="stringliteral">    if (!suite) {</span>
<a name="l04006"></a>04006 <span class="stringliteral">      self.suite = orig;</span>
<a name="l04007"></a>04007 <span class="stringliteral">      return fn();</span>
<a name="l04008"></a>04008 <span class="stringliteral">    }</span>
<a name="l04009"></a>04009 <span class="stringliteral"></span>
<a name="l04010"></a>04010 <span class="stringliteral">    self.hook(name, function(err){</span>
<a name="l04011"></a>04011 <span class="stringliteral">      if (err) {</span>
<a name="l04012"></a>04012 <span class="stringliteral">        self.suite = orig;</span>
<a name="l04013"></a>04013 <span class="stringliteral">        return fn(err);</span>
<a name="l04014"></a>04014 <span class="stringliteral">      }</span>
<a name="l04015"></a>04015 <span class="stringliteral"></span>
<a name="l04016"></a>04016 <span class="stringliteral">      next(suites.pop());</span>
<a name="l04017"></a>04017 <span class="stringliteral">    });</span>
<a name="l04018"></a>04018 <span class="stringliteral">  }</span>
<a name="l04019"></a>04019 <span class="stringliteral"></span>
<a name="l04020"></a>04020 <span class="stringliteral">  next(suites.pop());</span>
<a name="l04021"></a>04021 <span class="stringliteral">};</span>
<a name="l04022"></a>04022 <span class="stringliteral"></span>
<a name="l04031"></a>04031 <span class="stringliteral">Runner.prototype.hookUp = function(name, fn){</span>
<a name="l04032"></a>04032 <span class="stringliteral">  var suites = [this.suite].concat(this.parents()).reverse();</span>
<a name="l04033"></a>04033 <span class="stringliteral">  this.hooks(name, suites, fn);</span>
<a name="l04034"></a>04034 <span class="stringliteral">};</span>
<a name="l04035"></a>04035 <span class="stringliteral"></span>
<a name="l04044"></a>04044 <span class="stringliteral">Runner.prototype.hookDown = function(name, fn){</span>
<a name="l04045"></a>04045 <span class="stringliteral">  var suites = [this.suite].concat(this.parents());</span>
<a name="l04046"></a>04046 <span class="stringliteral">  this.hooks(name, suites, fn);</span>
<a name="l04047"></a>04047 <span class="stringliteral">};</span>
<a name="l04048"></a>04048 <span class="stringliteral"></span>
<a name="l04057"></a>04057 <span class="stringliteral">Runner.prototype.parents = function(){</span>
<a name="l04058"></a>04058 <span class="stringliteral">  var suite = this.suite</span>
<a name="l04059"></a>04059 <span class="stringliteral">    , suites = [];</span>
<a name="l04060"></a>04060 <span class="stringliteral">  while (suite = suite.parent) suites.push(suite);</span>
<a name="l04061"></a>04061 <span class="stringliteral">  return suites;</span>
<a name="l04062"></a>04062 <span class="stringliteral">};</span>
<a name="l04063"></a>04063 <span class="stringliteral"></span>
<a name="l04071"></a>04071 <span class="stringliteral">Runner.prototype.runTest = function(fn){</span>
<a name="l04072"></a>04072 <span class="stringliteral">  var test = this.test</span>
<a name="l04073"></a>04073 <span class="stringliteral">    , self = this;</span>
<a name="l04074"></a>04074 <span class="stringliteral"></span>
<a name="l04075"></a>04075 <span class="stringliteral">  if (this.asyncOnly) test.asyncOnly = true;</span>
<a name="l04076"></a>04076 <span class="stringliteral"></span>
<a name="l04077"></a>04077 <span class="stringliteral">  try {</span>
<a name="l04078"></a>04078 <span class="stringliteral">    test.on(&#39;error&#39;, function(err){</span>
<a name="l04079"></a>04079 <span class="stringliteral">      self.fail(test, err);</span>
<a name="l04080"></a>04080 <span class="stringliteral">    });</span>
<a name="l04081"></a>04081 <span class="stringliteral">    test.run(fn);</span>
<a name="l04082"></a>04082 <span class="stringliteral">  } catch (err) {</span>
<a name="l04083"></a>04083 <span class="stringliteral">    fn(err);</span>
<a name="l04084"></a>04084 <span class="stringliteral">  }</span>
<a name="l04085"></a>04085 <span class="stringliteral">};</span>
<a name="l04086"></a>04086 <span class="stringliteral"></span>
<a name="l04096"></a>04096 <span class="stringliteral">Runner.prototype.runTests = function(suite, fn){</span>
<a name="l04097"></a>04097 <span class="stringliteral">  var self = this</span>
<a name="l04098"></a>04098 <span class="stringliteral">    , tests = suite.tests.slice()</span>
<a name="l04099"></a>04099 <span class="stringliteral">    , test;</span>
<a name="l04100"></a>04100 <span class="stringliteral"></span>
<a name="l04101"></a>04101 <span class="stringliteral">  function next(err) {</span>
<a name="l04102"></a>04102 <span class="stringliteral">    // if we bail after first err</span>
<a name="l04103"></a>04103 <span class="stringliteral">    if (self.failures &amp;&amp; suite._bail) return fn();</span>
<a name="l04104"></a>04104 <span class="stringliteral"></span>
<a name="l04105"></a>04105 <span class="stringliteral">    // next test</span>
<a name="l04106"></a>04106 <span class="stringliteral">    test = tests.shift();</span>
<a name="l04107"></a>04107 <span class="stringliteral"></span>
<a name="l04108"></a>04108 <span class="stringliteral">    // all done</span>
<a name="l04109"></a>04109 <span class="stringliteral">    if (!test) return fn();</span>
<a name="l04110"></a>04110 <span class="stringliteral"></span>
<a name="l04111"></a>04111 <span class="stringliteral">    // grep</span>
<a name="l04112"></a>04112 <span class="stringliteral">    var match = self._grep.test(test.fullTitle());</span>
<a name="l04113"></a>04113 <span class="stringliteral">    if (self._invert) match = !match;</span>
<a name="l04114"></a>04114 <span class="stringliteral">    if (!match) return next();</span>
<a name="l04115"></a>04115 <span class="stringliteral"></span>
<a name="l04116"></a>04116 <span class="stringliteral">    // pending</span>
<a name="l04117"></a>04117 <span class="stringliteral">    if (test.pending) {</span>
<a name="l04118"></a>04118 <span class="stringliteral">      self.emit(&#39;pending&#39;, test);</span>
<a name="l04119"></a>04119 <span class="stringliteral">      self.emit(&#39;test end&#39;, test);</span>
<a name="l04120"></a>04120 <span class="stringliteral">      return next();</span>
<a name="l04121"></a>04121 <span class="stringliteral">    }</span>
<a name="l04122"></a>04122 <span class="stringliteral"></span>
<a name="l04123"></a>04123 <span class="stringliteral">    // execute test and hook(s)</span>
<a name="l04124"></a>04124 <span class="stringliteral">    self.emit(&#39;test&#39;, self.test = test);</span>
<a name="l04125"></a>04125 <span class="stringliteral">    self.hookDown(&#39;beforeEach&#39;, function(){</span>
<a name="l04126"></a>04126 <span class="stringliteral">      self.currentRunnable = self.test;</span>
<a name="l04127"></a>04127 <span class="stringliteral">      self.runTest(function(err){</span>
<a name="l04128"></a>04128 <span class="stringliteral">        test = self.test;</span>
<a name="l04129"></a>04129 <span class="stringliteral"></span>
<a name="l04130"></a>04130 <span class="stringliteral">        if (err) {</span>
<a name="l04131"></a>04131 <span class="stringliteral">          self.fail(test, err);</span>
<a name="l04132"></a>04132 <span class="stringliteral">          self.emit(&#39;test end&#39;, test);</span>
<a name="l04133"></a>04133 <span class="stringliteral">          return self.hookUp(&#39;afterEach&#39;, next);</span>
<a name="l04134"></a>04134 <span class="stringliteral">        }</span>
<a name="l04135"></a>04135 <span class="stringliteral"></span>
<a name="l04136"></a>04136 <span class="stringliteral">        test.state = &#39;passed&#39;;</span>
<a name="l04137"></a>04137 <span class="stringliteral">        self.emit(&#39;pass&#39;, test);</span>
<a name="l04138"></a>04138 <span class="stringliteral">        self.emit(&#39;test end&#39;, test);</span>
<a name="l04139"></a>04139 <span class="stringliteral">        self.hookUp(&#39;afterEach&#39;, next);</span>
<a name="l04140"></a>04140 <span class="stringliteral">      });</span>
<a name="l04141"></a>04141 <span class="stringliteral">    });</span>
<a name="l04142"></a>04142 <span class="stringliteral">  }</span>
<a name="l04143"></a>04143 <span class="stringliteral"></span>
<a name="l04144"></a>04144 <span class="stringliteral">  this.next = next;</span>
<a name="l04145"></a>04145 <span class="stringliteral">  next();</span>
<a name="l04146"></a>04146 <span class="stringliteral">};</span>
<a name="l04147"></a>04147 <span class="stringliteral"></span>
<a name="l04157"></a>04157 <span class="stringliteral">Runner.prototype.runSuite = function(suite, fn){</span>
<a name="l04158"></a>04158 <span class="stringliteral">  var total = this.grepTotal(suite)</span>
<a name="l04159"></a>04159 <span class="stringliteral">    , self = this</span>
<a name="l04160"></a>04160 <span class="stringliteral">    , i = 0;</span>
<a name="l04161"></a>04161 <span class="stringliteral"></span>
<a name="l04162"></a>04162 <span class="stringliteral">  debug(&#39;run suite %s&#39;, suite.fullTitle());</span>
<a name="l04163"></a>04163 <span class="stringliteral"></span>
<a name="l04164"></a>04164 <span class="stringliteral">  if (!total) return fn();</span>
<a name="l04165"></a>04165 <span class="stringliteral"></span>
<a name="l04166"></a>04166 <span class="stringliteral">  this.emit(&#39;suite&#39;, this.suite = suite);</span>
<a name="l04167"></a>04167 <span class="stringliteral"></span>
<a name="l04168"></a>04168 <span class="stringliteral">  function next() {</span>
<a name="l04169"></a>04169 <span class="stringliteral">    var curr = suite.suites[i++];</span>
<a name="l04170"></a>04170 <span class="stringliteral">    if (!curr) return done();</span>
<a name="l04171"></a>04171 <span class="stringliteral">    self.runSuite(curr, next);</span>
<a name="l04172"></a>04172 <span class="stringliteral">  }</span>
<a name="l04173"></a>04173 <span class="stringliteral"></span>
<a name="l04174"></a>04174 <span class="stringliteral">  function done() {</span>
<a name="l04175"></a>04175 <span class="stringliteral">    self.suite = suite;</span>
<a name="l04176"></a>04176 <span class="stringliteral">    self.hook(&#39;afterAll&#39;, function(){</span>
<a name="l04177"></a>04177 <span class="stringliteral">      self.emit(&#39;suite end&#39;, suite);</span>
<a name="l04178"></a>04178 <span class="stringliteral">      fn();</span>
<a name="l04179"></a>04179 <span class="stringliteral">    });</span>
<a name="l04180"></a>04180 <span class="stringliteral">  }</span>
<a name="l04181"></a>04181 <span class="stringliteral"></span>
<a name="l04182"></a>04182 <span class="stringliteral">  this.hook(&#39;beforeAll&#39;, function(){</span>
<a name="l04183"></a>04183 <span class="stringliteral">    self.runTests(suite, next);</span>
<a name="l04184"></a>04184 <span class="stringliteral">  });</span>
<a name="l04185"></a>04185 <span class="stringliteral">};</span>
<a name="l04186"></a>04186 <span class="stringliteral"></span>
<a name="l04194"></a>04194 <span class="stringliteral">Runner.prototype.uncaught = function(err){</span>
<a name="l04195"></a>04195 <span class="stringliteral">  debug(&#39;uncaught exception %s&#39;, err.message);</span>
<a name="l04196"></a>04196 <span class="stringliteral">  var runnable = this.currentRunnable;</span>
<a name="l04197"></a>04197 <span class="stringliteral">  if (!runnable || &#39;failed&#39; == runnable.state) return;</span>
<a name="l04198"></a>04198 <span class="stringliteral">  runnable.clearTimeout();</span>
<a name="l04199"></a>04199 <span class="stringliteral">  err.uncaught = true;</span>
<a name="l04200"></a>04200 <span class="stringliteral">  this.fail(runnable, err);</span>
<a name="l04201"></a>04201 <span class="stringliteral"></span>
<a name="l04202"></a>04202 <span class="stringliteral">  // recover from test</span>
<a name="l04203"></a>04203 <span class="stringliteral">  if (&#39;test&#39; == runnable.type) {</span>
<a name="l04204"></a>04204 <span class="stringliteral">    this.emit(&#39;test end&#39;, runnable);</span>
<a name="l04205"></a>04205 <span class="stringliteral">    this.hookUp(&#39;afterEach&#39;, this.next);</span>
<a name="l04206"></a>04206 <span class="stringliteral">    return;</span>
<a name="l04207"></a>04207 <span class="stringliteral">  }</span>
<a name="l04208"></a>04208 <span class="stringliteral"></span>
<a name="l04209"></a>04209 <span class="stringliteral">  // bail on hooks</span>
<a name="l04210"></a>04210 <span class="stringliteral">  this.emit(&#39;end&#39;);</span>
<a name="l04211"></a>04211 <span class="stringliteral">};</span>
<a name="l04212"></a>04212 <span class="stringliteral"></span>
<a name="l04222"></a>04222 <span class="stringliteral">Runner.prototype.run = function(fn){</span>
<a name="l04223"></a>04223 <span class="stringliteral">  var self = this</span>
<a name="l04224"></a>04224 <span class="stringliteral">    , fn = fn || function(){};</span>
<a name="l04225"></a>04225 <span class="stringliteral"></span>
<a name="l04226"></a>04226 <span class="stringliteral">  debug(&#39;start&#39;);</span>
<a name="l04227"></a>04227 <span class="stringliteral"></span>
<a name="l04228"></a>04228 <span class="stringliteral">  // callback</span>
<a name="l04229"></a>04229 <span class="stringliteral">  this.on(&#39;end&#39;, function(){</span>
<a name="l04230"></a>04230 <span class="stringliteral">    debug(&#39;end&#39;);</span>
<a name="l04231"></a>04231 <span class="stringliteral">    process.removeListener(&#39;uncaughtException&#39;, function(err){</span>
<a name="l04232"></a>04232 <span class="stringliteral">      self.uncaught(err);</span>
<a name="l04233"></a>04233 <span class="stringliteral">    });</span>
<a name="l04234"></a>04234 <span class="stringliteral">    fn(self.failures);</span>
<a name="l04235"></a>04235 <span class="stringliteral">  });</span>
<a name="l04236"></a>04236 <span class="stringliteral"></span>
<a name="l04237"></a>04237 <span class="stringliteral">  // run suites</span>
<a name="l04238"></a>04238 <span class="stringliteral">  this.emit(&#39;start&#39;);</span>
<a name="l04239"></a>04239 <span class="stringliteral">  this.runSuite(this.suite, function(){</span>
<a name="l04240"></a>04240 <span class="stringliteral">    debug(&#39;finished running&#39;);</span>
<a name="l04241"></a>04241 <span class="stringliteral">    self.emit(&#39;end&#39;);</span>
<a name="l04242"></a>04242 <span class="stringliteral">  });</span>
<a name="l04243"></a>04243 <span class="stringliteral"></span>
<a name="l04244"></a>04244 <span class="stringliteral">  // uncaught exception</span>
<a name="l04245"></a>04245 <span class="stringliteral">  process.on(&#39;uncaughtException&#39;, function(err){</span>
<a name="l04246"></a>04246 <span class="stringliteral">    self.uncaught(err);</span>
<a name="l04247"></a>04247 <span class="stringliteral">  });</span>
<a name="l04248"></a>04248 <span class="stringliteral"></span>
<a name="l04249"></a>04249 <span class="stringliteral">  return this;</span>
<a name="l04250"></a>04250 <span class="stringliteral">};</span>
<a name="l04251"></a>04251 <span class="stringliteral"></span>
<a name="l04261"></a>04261 <span class="stringliteral">function filterLeaks(ok, globals) {</span>
<a name="l04262"></a>04262 <span class="stringliteral">  return filter(globals, function(key){</span>
<a name="l04263"></a>04263 <span class="stringliteral">    var matched = filter(ok, function(ok){</span>
<a name="l04264"></a>04264 <span class="stringliteral">      if (~ok.indexOf(&#39;*&#39;)) return 0 == key.indexOf(ok.split(&#39;*&#39;)[0]);</span>
<a name="l04265"></a>04265 <span class="stringliteral">      // Opera and IE expose global variables for HTML element IDs (issue #243)</span>
<a name="l04266"></a>04266 <span class="stringliteral">      if (/^mocha-/.test(key)) return true;</span>
<a name="l04267"></a>04267 <span class="stringliteral">      return key == ok;</span>
<a name="l04268"></a>04268 <span class="stringliteral">    });</span>
<a name="l04269"></a>04269 <span class="stringliteral">    return matched.length == 0 &amp;&amp; (!global.navigator || &#39;onerror&#39; !== key);</span>
<a name="l04270"></a>04270 <span class="stringliteral">  });</span>
<a name="l04271"></a>04271 <span class="stringliteral">}</span>
<a name="l04272"></a>04272 <span class="stringliteral"></span>
<a name="l04273"></a>04273 <span class="stringliteral">}); // module: runner.js</span>
<a name="l04274"></a>04274 <span class="stringliteral"></span>
<a name="l04275"></a>04275 <span class="stringliteral">require.register(&quot;</span>suite.js<span class="stringliteral">&quot;, function(module, exports, require){</span>
<a name="l04276"></a>04276 <span class="stringliteral"></span>
<a name="l04281"></a>04281 <span class="stringliteral">var EventEmitter = require(&#39;browser/events&#39;).EventEmitter</span>
<a name="l04282"></a>04282 <span class="stringliteral">  , debug = require(&#39;browser/debug&#39;)(&#39;mocha:suite&#39;)</span>
<a name="l04283"></a>04283 <span class="stringliteral">  , milliseconds = require(&#39;./ms&#39;)</span>
<a name="l04284"></a>04284 <span class="stringliteral">  , utils = require(&#39;./utils&#39;)</span>
<a name="l04285"></a>04285 <span class="stringliteral">  , Hook = require(&#39;./hook&#39;);</span>
<a name="l04286"></a>04286 <span class="stringliteral"></span>
<a name="l04291"></a>04291 <span class="stringliteral">exports = module.exports = Suite;</span>
<a name="l04292"></a>04292 <span class="stringliteral"></span>
<a name="l04306"></a>04306 <span class="stringliteral">exports.create = function(parent, title){</span>
<a name="l04307"></a>04307 <span class="stringliteral">  var suite = new Suite(title, parent.ctx);</span>
<a name="l04308"></a>04308 <span class="stringliteral">  suite.parent = parent;</span>
<a name="l04309"></a>04309 <span class="stringliteral">  if (parent.pending) suite.pending = true;</span>
<a name="l04310"></a>04310 <span class="stringliteral">  title = suite.fullTitle();</span>
<a name="l04311"></a>04311 <span class="stringliteral">  parent.addSuite(suite);</span>
<a name="l04312"></a>04312 <span class="stringliteral">  return suite;</span>
<a name="l04313"></a>04313 <span class="stringliteral">};</span>
<a name="l04314"></a>04314 <span class="stringliteral"></span>
<a name="l04324"></a>04324 <span class="stringliteral">function Suite(title, ctx) {</span>
<a name="l04325"></a>04325 <span class="stringliteral">  this.title = title;</span>
<a name="l04326"></a>04326 <span class="stringliteral">  this.ctx = ctx;</span>
<a name="l04327"></a>04327 <span class="stringliteral">  this.suites = [];</span>
<a name="l04328"></a>04328 <span class="stringliteral">  this.tests = [];</span>
<a name="l04329"></a>04329 <span class="stringliteral">  this.pending = false;</span>
<a name="l04330"></a>04330 <span class="stringliteral">  this._beforeEach = [];</span>
<a name="l04331"></a>04331 <span class="stringliteral">  this._beforeAll = [];</span>
<a name="l04332"></a>04332 <span class="stringliteral">  this._afterEach = [];</span>
<a name="l04333"></a>04333 <span class="stringliteral">  this._afterAll = [];</span>
<a name="l04334"></a>04334 <span class="stringliteral">  this.root = !title;</span>
<a name="l04335"></a>04335 <span class="stringliteral">  this._timeout = 2000;</span>
<a name="l04336"></a>04336 <span class="stringliteral">  this._slow = 75;</span>
<a name="l04337"></a>04337 <span class="stringliteral">  this._bail = false;</span>
<a name="l04338"></a>04338 <span class="stringliteral">}</span>
<a name="l04339"></a>04339 <span class="stringliteral"></span>
<a name="l04344"></a>04344 <span class="stringliteral">Suite.prototype = new EventEmitter;</span>
<a name="l04345"></a>04345 <span class="stringliteral">Suite.prototype.constructor = Suite;</span>
<a name="l04346"></a>04346 <span class="stringliteral"></span>
<a name="l04347"></a>04347 <span class="stringliteral"></span>
<a name="l04355"></a>04355 <span class="stringliteral">Suite.prototype.clone = function(){</span>
<a name="l04356"></a>04356 <span class="stringliteral">  var suite = new Suite(this.title);</span>
<a name="l04357"></a>04357 <span class="stringliteral">  debug(&#39;clone&#39;);</span>
<a name="l04358"></a>04358 <span class="stringliteral">  suite.ctx = this.ctx;</span>
<a name="l04359"></a>04359 <span class="stringliteral">  suite.timeout(this.timeout());</span>
<a name="l04360"></a>04360 <span class="stringliteral">  suite.slow(this.slow());</span>
<a name="l04361"></a>04361 <span class="stringliteral">  suite.bail(this.bail());</span>
<a name="l04362"></a>04362 <span class="stringliteral">  return suite;</span>
<a name="l04363"></a>04363 <span class="stringliteral">};</span>
<a name="l04364"></a>04364 <span class="stringliteral"></span>
<a name="l04373"></a>04373 <span class="stringliteral">Suite.prototype.timeout = function(ms){</span>
<a name="l04374"></a>04374 <span class="stringliteral">  if (0 == arguments.length) return this._timeout;</span>
<a name="l04375"></a>04375 <span class="stringliteral">  if (&#39;string&#39; == typeof ms) ms = milliseconds(ms);</span>
<a name="l04376"></a>04376 <span class="stringliteral">  debug(&#39;timeout %d&#39;, ms);</span>
<a name="l04377"></a>04377 <span class="stringliteral">  this._timeout = parseInt(ms, 10);</span>
<a name="l04378"></a>04378 <span class="stringliteral">  return this;</span>
<a name="l04379"></a>04379 <span class="stringliteral">};</span>
<a name="l04380"></a>04380 <span class="stringliteral"></span>
<a name="l04389"></a>04389 <span class="stringliteral">Suite.prototype.slow = function(ms){</span>
<a name="l04390"></a>04390 <span class="stringliteral">  if (0 === arguments.length) return this._slow;</span>
<a name="l04391"></a>04391 <span class="stringliteral">  if (&#39;string&#39; == typeof ms) ms = milliseconds(ms);</span>
<a name="l04392"></a>04392 <span class="stringliteral">  debug(&#39;slow %d&#39;, ms);</span>
<a name="l04393"></a>04393 <span class="stringliteral">  this._slow = ms;</span>
<a name="l04394"></a>04394 <span class="stringliteral">  return this;</span>
<a name="l04395"></a>04395 <span class="stringliteral">};</span>
<a name="l04396"></a>04396 <span class="stringliteral"></span>
<a name="l04405"></a>04405 <span class="stringliteral">Suite.prototype.bail = function(bail){</span>
<a name="l04406"></a>04406 <span class="stringliteral">  if (0 == arguments.length) return this._bail;</span>
<a name="l04407"></a>04407 <span class="stringliteral">  debug(&#39;bail %s&#39;, bail);</span>
<a name="l04408"></a>04408 <span class="stringliteral">  this._bail = bail;</span>
<a name="l04409"></a>04409 <span class="stringliteral">  return this;</span>
<a name="l04410"></a>04410 <span class="stringliteral">};</span>
<a name="l04411"></a>04411 <span class="stringliteral"></span>
<a name="l04420"></a>04420 <span class="stringliteral">Suite.prototype.beforeAll = function(fn){</span>
<a name="l04421"></a>04421 <span class="stringliteral">  if (this.pending) return this;</span>
<a name="l04422"></a>04422 <span class="stringliteral">  var hook = new Hook(&#39;&quot;</span>before all<span class="stringliteral">&quot; hook&#39;, fn);</span>
<a name="l04423"></a>04423 <span class="stringliteral">  hook.parent = this;</span>
<a name="l04424"></a>04424 <span class="stringliteral">  hook.timeout(this.timeout());</span>
<a name="l04425"></a>04425 <span class="stringliteral">  hook.slow(this.slow());</span>
<a name="l04426"></a>04426 <span class="stringliteral">  hook.ctx = this.ctx;</span>
<a name="l04427"></a>04427 <span class="stringliteral">  this._beforeAll.push(hook);</span>
<a name="l04428"></a>04428 <span class="stringliteral">  this.emit(&#39;beforeAll&#39;, hook);</span>
<a name="l04429"></a>04429 <span class="stringliteral">  return this;</span>
<a name="l04430"></a>04430 <span class="stringliteral">};</span>
<a name="l04431"></a>04431 <span class="stringliteral"></span>
<a name="l04440"></a>04440 <span class="stringliteral">Suite.prototype.afterAll = function(fn){</span>
<a name="l04441"></a>04441 <span class="stringliteral">  if (this.pending) return this;</span>
<a name="l04442"></a>04442 <span class="stringliteral">  var hook = new Hook(&#39;&quot;</span>after all<span class="stringliteral">&quot; hook&#39;, fn);</span>
<a name="l04443"></a>04443 <span class="stringliteral">  hook.parent = this;</span>
<a name="l04444"></a>04444 <span class="stringliteral">  hook.timeout(this.timeout());</span>
<a name="l04445"></a>04445 <span class="stringliteral">  hook.slow(this.slow());</span>
<a name="l04446"></a>04446 <span class="stringliteral">  hook.ctx = this.ctx;</span>
<a name="l04447"></a>04447 <span class="stringliteral">  this._afterAll.push(hook);</span>
<a name="l04448"></a>04448 <span class="stringliteral">  this.emit(&#39;afterAll&#39;, hook);</span>
<a name="l04449"></a>04449 <span class="stringliteral">  return this;</span>
<a name="l04450"></a>04450 <span class="stringliteral">};</span>
<a name="l04451"></a>04451 <span class="stringliteral"></span>
<a name="l04460"></a>04460 <span class="stringliteral">Suite.prototype.beforeEach = function(fn){</span>
<a name="l04461"></a>04461 <span class="stringliteral">  if (this.pending) return this;</span>
<a name="l04462"></a>04462 <span class="stringliteral">  var hook = new Hook(&#39;&quot;</span>before each<span class="stringliteral">&quot; hook&#39;, fn);</span>
<a name="l04463"></a>04463 <span class="stringliteral">  hook.parent = this;</span>
<a name="l04464"></a>04464 <span class="stringliteral">  hook.timeout(this.timeout());</span>
<a name="l04465"></a>04465 <span class="stringliteral">  hook.slow(this.slow());</span>
<a name="l04466"></a>04466 <span class="stringliteral">  hook.ctx = this.ctx;</span>
<a name="l04467"></a>04467 <span class="stringliteral">  this._beforeEach.push(hook);</span>
<a name="l04468"></a>04468 <span class="stringliteral">  this.emit(&#39;beforeEach&#39;, hook);</span>
<a name="l04469"></a>04469 <span class="stringliteral">  return this;</span>
<a name="l04470"></a>04470 <span class="stringliteral">};</span>
<a name="l04471"></a>04471 <span class="stringliteral"></span>
<a name="l04480"></a>04480 <span class="stringliteral">Suite.prototype.afterEach = function(fn){</span>
<a name="l04481"></a>04481 <span class="stringliteral">  if (this.pending) return this;</span>
<a name="l04482"></a>04482 <span class="stringliteral">  var hook = new Hook(&#39;&quot;</span>after each<span class="stringliteral">&quot; hook&#39;, fn);</span>
<a name="l04483"></a>04483 <span class="stringliteral">  hook.parent = this;</span>
<a name="l04484"></a>04484 <span class="stringliteral">  hook.timeout(this.timeout());</span>
<a name="l04485"></a>04485 <span class="stringliteral">  hook.slow(this.slow());</span>
<a name="l04486"></a>04486 <span class="stringliteral">  hook.ctx = this.ctx;</span>
<a name="l04487"></a>04487 <span class="stringliteral">  this._afterEach.push(hook);</span>
<a name="l04488"></a>04488 <span class="stringliteral">  this.emit(&#39;afterEach&#39;, hook);</span>
<a name="l04489"></a>04489 <span class="stringliteral">  return this;</span>
<a name="l04490"></a>04490 <span class="stringliteral">};</span>
<a name="l04491"></a>04491 <span class="stringliteral"></span>
<a name="l04500"></a>04500 <span class="stringliteral">Suite.prototype.addSuite = function(suite){</span>
<a name="l04501"></a>04501 <span class="stringliteral">  suite.parent = this;</span>
<a name="l04502"></a>04502 <span class="stringliteral">  suite.timeout(this.timeout());</span>
<a name="l04503"></a>04503 <span class="stringliteral">  suite.slow(this.slow());</span>
<a name="l04504"></a>04504 <span class="stringliteral">  suite.bail(this.bail());</span>
<a name="l04505"></a>04505 <span class="stringliteral">  this.suites.push(suite);</span>
<a name="l04506"></a>04506 <span class="stringliteral">  this.emit(&#39;suite&#39;, suite);</span>
<a name="l04507"></a>04507 <span class="stringliteral">  return this;</span>
<a name="l04508"></a>04508 <span class="stringliteral">};</span>
<a name="l04509"></a>04509 <span class="stringliteral"></span>
<a name="l04518"></a>04518 <span class="stringliteral">Suite.prototype.addTest = function(test){</span>
<a name="l04519"></a>04519 <span class="stringliteral">  test.parent = this;</span>
<a name="l04520"></a>04520 <span class="stringliteral">  test.timeout(this.timeout());</span>
<a name="l04521"></a>04521 <span class="stringliteral">  test.slow(this.slow());</span>
<a name="l04522"></a>04522 <span class="stringliteral">  test.ctx = this.ctx;</span>
<a name="l04523"></a>04523 <span class="stringliteral">  this.tests.push(test);</span>
<a name="l04524"></a>04524 <span class="stringliteral">  this.emit(&#39;test&#39;, test);</span>
<a name="l04525"></a>04525 <span class="stringliteral">  return this;</span>
<a name="l04526"></a>04526 <span class="stringliteral">};</span>
<a name="l04527"></a>04527 <span class="stringliteral"></span>
<a name="l04536"></a>04536 <span class="stringliteral">Suite.prototype.fullTitle = function(){</span>
<a name="l04537"></a>04537 <span class="stringliteral">  if (this.parent) {</span>
<a name="l04538"></a>04538 <span class="stringliteral">    var full = this.parent.fullTitle();</span>
<a name="l04539"></a>04539 <span class="stringliteral">    if (full) return full + &#39; &#39; + this.title;</span>
<a name="l04540"></a>04540 <span class="stringliteral">  }</span>
<a name="l04541"></a>04541 <span class="stringliteral">  return this.title;</span>
<a name="l04542"></a>04542 <span class="stringliteral">};</span>
<a name="l04543"></a>04543 <span class="stringliteral"></span>
<a name="l04551"></a>04551 <span class="stringliteral">Suite.prototype.total = function(){</span>
<a name="l04552"></a>04552 <span class="stringliteral">  return utils.reduce(this.suites, function(sum, suite){</span>
<a name="l04553"></a>04553 <span class="stringliteral">    return sum + suite.total();</span>
<a name="l04554"></a>04554 <span class="stringliteral">  }, 0) + this.tests.length;</span>
<a name="l04555"></a>04555 <span class="stringliteral">};</span>
<a name="l04556"></a>04556 <span class="stringliteral"></span>
<a name="l04567"></a>04567 <span class="stringliteral">Suite.prototype.eachTest = function(fn){</span>
<a name="l04568"></a>04568 <span class="stringliteral">  utils.forEach(this.tests, fn);</span>
<a name="l04569"></a>04569 <span class="stringliteral">  utils.forEach(this.suites, function(suite){</span>
<a name="l04570"></a>04570 <span class="stringliteral">    suite.eachTest(fn);</span>
<a name="l04571"></a>04571 <span class="stringliteral">  });</span>
<a name="l04572"></a>04572 <span class="stringliteral">  return this;</span>
<a name="l04573"></a>04573 <span class="stringliteral">};</span>
<a name="l04574"></a>04574 <span class="stringliteral"></span>
<a name="l04575"></a>04575 <span class="stringliteral">}); // module: suite.js</span>
<a name="l04576"></a>04576 <span class="stringliteral"></span>
<a name="l04577"></a>04577 <span class="stringliteral">require.register(&quot;</span>test.js<span class="stringliteral">&quot;, function(module, exports, require){</span>
<a name="l04578"></a>04578 <span class="stringliteral"></span>
<a name="l04583"></a>04583 <span class="stringliteral">var Runnable = require(&#39;./runnable&#39;);</span>
<a name="l04584"></a>04584 <span class="stringliteral"></span>
<a name="l04589"></a>04589 <span class="stringliteral">module.exports = Test;</span>
<a name="l04590"></a>04590 <span class="stringliteral"></span>
<a name="l04599"></a>04599 <span class="stringliteral">function Test(title, fn) {</span>
<a name="l04600"></a>04600 <span class="stringliteral">  Runnable.call(this, title, fn);</span>
<a name="l04601"></a>04601 <span class="stringliteral">  this.pending = !fn;</span>
<a name="l04602"></a>04602 <span class="stringliteral">  this.type = &#39;test&#39;;</span>
<a name="l04603"></a>04603 <span class="stringliteral">}</span>
<a name="l04604"></a>04604 <span class="stringliteral"></span>
<a name="l04609"></a>04609 <span class="stringliteral">Test.prototype = new Runnable;</span>
<a name="l04610"></a>04610 <span class="stringliteral">Test.prototype.constructor = Test;</span>
<a name="l04611"></a>04611 <span class="stringliteral"></span>
<a name="l04612"></a>04612 <span class="stringliteral"></span>
<a name="l04613"></a>04613 <span class="stringliteral">}); // module: test.js</span>
<a name="l04614"></a>04614 <span class="stringliteral"></span>
<a name="l04615"></a>04615 <span class="stringliteral">require.register(&quot;</span><a class="code" href="../../d0/df4/contacts__shortcuts_8js.html#a7b58b8887c6d26e09f79fbacfbda7f53">utils</a>.js<span class="stringliteral">&quot;, function(module, exports, require){</span>
<a name="l04616"></a>04616 <span class="stringliteral"></span>
<a name="l04621"></a>04621 <span class="stringliteral">var fs = require(&#39;browser/fs&#39;)</span>
<a name="l04622"></a>04622 <span class="stringliteral">  , path = require(&#39;browser/path&#39;)</span>
<a name="l04623"></a>04623 <span class="stringliteral">  , join = path.join</span>
<a name="l04624"></a>04624 <span class="stringliteral">  , debug = require(&#39;browser/debug&#39;)(&#39;mocha:watch&#39;);</span>
<a name="l04625"></a>04625 <span class="stringliteral"></span>
<a name="l04630"></a>04630 <span class="stringliteral">var ignore = [&#39;node_modules&#39;, &#39;.git&#39;];</span>
<a name="l04631"></a>04631 <span class="stringliteral"></span>
<a name="l04640"></a>04640 <span class="stringliteral">exports.escape = function(html){</span>
<a name="l04641"></a>04641 <span class="stringliteral">  return String(html)</span>
<a name="l04642"></a>04642 <span class="stringliteral">    .replace(/&amp;/g, &#39;&amp;amp;&#39;)</span>
<a name="l04643"></a>04643 <span class="stringliteral">    .replace(/&quot;</span>/g, <span class="stringliteral">&#39;&amp;quot;&#39;</span>)
<a name="l04644"></a>04644     .replace(/&lt;/g, <span class="stringliteral">&#39;&amp;lt;&#39;</span>)
<a name="l04645"></a>04645     .replace(/&gt;/g, <span class="stringliteral">&#39;&amp;gt;&#39;</span>);
<a name="l04646"></a>04646 };
<a name="l04647"></a>04647 
<a name="l04657"></a>04657 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.forEach = <span class="keyword">function</span>(<a class="code" href="../../d9/d43/membuster_8js.html#a9219f6f481200e42d75e135845aeeb3b">arr</a>, fn, <a class="code" href="../../d6/d1b/pprthred_8h.html#abebc974dc471da8573244b14d2646069">scope</a>){
<a name="l04658"></a>04658   <span class="keywordflow">for</span> (var <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0, <a class="code" href="../../d9/d6a/ns_color_8h.html#a0ad4b5fc255f59a8dace6aa74c5ca790">l</a> = <a class="code" href="../../d9/d43/membuster_8js.html#a9219f6f481200e42d75e135845aeeb3b">arr</a>.length; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; <a class="code" href="../../d9/d6a/ns_color_8h.html#a0ad4b5fc255f59a8dace6aa74c5ca790">l</a>; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++)
<a name="l04659"></a>04659     fn.call(<a class="code" href="../../d6/d1b/pprthred_8h.html#abebc974dc471da8573244b14d2646069">scope</a>, <a class="code" href="../../d9/d43/membuster_8js.html#a9219f6f481200e42d75e135845aeeb3b">arr</a>[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>], i);
<a name="l04660"></a>04660 };
<a name="l04661"></a>04661 
<a name="l04671"></a>04671 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.indexOf = <span class="keyword">function</span>(<a class="code" href="../../d9/d43/membuster_8js.html#a9219f6f481200e42d75e135845aeeb3b">arr</a>, <a class="code" href="../../d2/d7d/jsapi_8h.html#a2219cf9467e8547184b3cf2b051e8067">obj</a>, <a class="code" href="../../d7/dbf/build__stage_2email_2shared_2js_2media_2remote__controls_8js.html#afea9dd5375e7783397a6e3911cc64e28">start</a>){
<a name="l04672"></a>04672   <span class="keywordflow">for</span> (var <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = <a class="code" href="../../d7/dbf/build__stage_2email_2shared_2js_2media_2remote__controls_8js.html#afea9dd5375e7783397a6e3911cc64e28">start</a> || 0, <a class="code" href="../../d9/d6a/ns_color_8h.html#a0ad4b5fc255f59a8dace6aa74c5ca790">l</a> = <a class="code" href="../../d9/d43/membuster_8js.html#a9219f6f481200e42d75e135845aeeb3b">arr</a>.length; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; <a class="code" href="../../d9/d6a/ns_color_8h.html#a0ad4b5fc255f59a8dace6aa74c5ca790">l</a>; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++) {
<a name="l04673"></a>04673     <span class="keywordflow">if</span> (<a class="code" href="../../d9/d43/membuster_8js.html#a9219f6f481200e42d75e135845aeeb3b">arr</a>[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>] === obj)
<a name="l04674"></a>04674       <span class="keywordflow">return</span> <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>;
<a name="l04675"></a>04675   }
<a name="l04676"></a>04676   <span class="keywordflow">return</span> -1;
<a name="l04677"></a>04677 };
<a name="l04678"></a>04678 
<a name="l04688"></a>04688 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.reduce = <span class="keyword">function</span>(<a class="code" href="../../d9/d43/membuster_8js.html#a9219f6f481200e42d75e135845aeeb3b">arr</a>, fn, <a class="code" href="../../d7/d27/jpeglib_8h.html#abde23394a8cafaa525be2efd5c6d4b2e">val</a>){
<a name="l04689"></a>04689   var <a class="code" href="../../d2/d7d/jsapi_8h.html#a5a883d97b566da72dc454ea1438aaccb">rval</a> = <a class="code" href="../../d7/d27/jpeglib_8h.html#abde23394a8cafaa525be2efd5c6d4b2e">val</a>;
<a name="l04690"></a>04690 
<a name="l04691"></a>04691   <span class="keywordflow">for</span> (var <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0, <a class="code" href="../../d9/d6a/ns_color_8h.html#a0ad4b5fc255f59a8dace6aa74c5ca790">l</a> = <a class="code" href="../../d9/d43/membuster_8js.html#a9219f6f481200e42d75e135845aeeb3b">arr</a>.length; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; <a class="code" href="../../d9/d6a/ns_color_8h.html#a0ad4b5fc255f59a8dace6aa74c5ca790">l</a>; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++) {
<a name="l04692"></a>04692     rval = fn(rval, <a class="code" href="../../d9/d43/membuster_8js.html#a9219f6f481200e42d75e135845aeeb3b">arr</a>[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>], i, <a class="code" href="../../d9/d43/membuster_8js.html#a9219f6f481200e42d75e135845aeeb3b">arr</a>);
<a name="l04693"></a>04693   }
<a name="l04694"></a>04694 
<a name="l04695"></a>04695   <span class="keywordflow">return</span> <a class="code" href="../../d2/d7d/jsapi_8h.html#a5a883d97b566da72dc454ea1438aaccb">rval</a>;
<a name="l04696"></a>04696 };
<a name="l04697"></a>04697 
<a name="l04706"></a>04706 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.filter = <span class="keyword">function</span>(<a class="code" href="../../d9/d43/membuster_8js.html#a9219f6f481200e42d75e135845aeeb3b">arr</a>, fn){
<a name="l04707"></a>04707   var ret = [];
<a name="l04708"></a>04708 
<a name="l04709"></a>04709   <span class="keywordflow">for</span> (var <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0, <a class="code" href="../../d9/d6a/ns_color_8h.html#a0ad4b5fc255f59a8dace6aa74c5ca790">l</a> = <a class="code" href="../../d9/d43/membuster_8js.html#a9219f6f481200e42d75e135845aeeb3b">arr</a>.length; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; <a class="code" href="../../d9/d6a/ns_color_8h.html#a0ad4b5fc255f59a8dace6aa74c5ca790">l</a>; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++) {
<a name="l04710"></a>04710     var <a class="code" href="../../d7/d27/jpeglib_8h.html#abde23394a8cafaa525be2efd5c6d4b2e">val</a> = <a class="code" href="../../d9/d43/membuster_8js.html#a9219f6f481200e42d75e135845aeeb3b">arr</a>[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>];
<a name="l04711"></a>04711     <span class="keywordflow">if</span> (fn(val, <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>, <a class="code" href="../../d9/d43/membuster_8js.html#a9219f6f481200e42d75e135845aeeb3b">arr</a>)) ret.push(val);
<a name="l04712"></a>04712   }
<a name="l04713"></a>04713 
<a name="l04714"></a>04714   <span class="keywordflow">return</span> <a class="code" href="../../d6/da5/libpinyin_8js.html#a2a7ba084dafcf16766cf163d1f5fbbba">ret</a>;
<a name="l04715"></a>04715 };
<a name="l04716"></a>04716 
<a name="l04725"></a>04725 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.keys = Object.keys || <span class="keyword">function</span>(<a class="code" href="../../d2/d7d/jsapi_8h.html#a2219cf9467e8547184b3cf2b051e8067">obj</a>) {
<a name="l04726"></a>04726   var <a class="code" href="../../dc/d33/namespaceread_j_s_o_n.html#a5b3073959c18dcb060a912824297e59d">keys</a> = []
<a name="l04727"></a>04727     , has = Object.prototype.hasOwnProperty <span class="comment">// for `window` on &lt;=IE8</span>
<a name="l04728"></a>04728 
<a name="l04729"></a>04729   <span class="keywordflow">for</span> (var key in obj) {
<a name="l04730"></a>04730     <span class="keywordflow">if</span> (has.call(obj, key)) {
<a name="l04731"></a>04731       keys.push(key);
<a name="l04732"></a>04732     }
<a name="l04733"></a>04733   }
<a name="l04734"></a>04734 
<a name="l04735"></a>04735   <span class="keywordflow">return</span> <a class="code" href="../../dc/d33/namespaceread_j_s_o_n.html#a5b3073959c18dcb060a912824297e59d">keys</a>;
<a name="l04736"></a>04736 };
<a name="l04737"></a>04737 
<a name="l04747"></a>04747 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.watch = <span class="keyword">function</span>(<a class="code" href="../../d0/da2/gallery_8js.html#a0742cac2750bccc2d88ac080fb9daa22">files</a>, fn){
<a name="l04748"></a>04748   var options = { interval: 100 };
<a name="l04749"></a>04749   <a class="code" href="../../d0/da2/gallery_8js.html#a0742cac2750bccc2d88ac080fb9daa22">files</a>.forEach(<span class="keyword">function</span>(<a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a>){
<a name="l04750"></a>04750     <a class="code" href="../../d8/d0e/apps_2costcontrol_2js_2settings_2settings_8js.html#a651046067579e48d7f0d03ce38dc7cf8">debug</a>(<span class="stringliteral">&#39;file %s&#39;</span>, <a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a>);
<a name="l04751"></a>04751     <a class="code" href="../../dd/dfd/build__stage_2email_2shared_2test_2integration_2profile__builder_8js.html#a229733b8ea40200fae09e883376030bf">fs</a>.watchFile(<a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a>, options, <span class="keyword">function</span>(curr, <a class="code" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#aa8ce26f0d9a701e8f80cbff3ed272d85">prev</a>){
<a name="l04752"></a>04752       <span class="keywordflow">if</span> (<a class="code" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#aa8ce26f0d9a701e8f80cbff3ed272d85">prev</a>.mtime &lt; curr.mtime) fn(<a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a>);
<a name="l04753"></a>04753     });
<a name="l04754"></a>04754   });
<a name="l04755"></a>04755 };
<a name="l04756"></a>04756 
<a name="l04761"></a>04761 <span class="keyword">function</span> ignored(path){
<a name="l04762"></a>04762   <span class="keywordflow">return</span> !~ignore.indexOf(path);
<a name="l04763"></a>04763 }
<a name="l04764"></a>04764 
<a name="l04772"></a>04772 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.files = <span class="keyword">function</span>(<a class="code" href="../../d3/d4b/lockscreen_8js.html#aec4b49f6f844eec3e3877aef25ed0b84">dir</a>, <a class="code" href="../../d6/da5/libpinyin_8js.html#a2a7ba084dafcf16766cf163d1f5fbbba">ret</a>){
<a name="l04773"></a>04773   ret = ret || [];
<a name="l04774"></a>04774 
<a name="l04775"></a>04775   <a class="code" href="../../dd/dfd/build__stage_2email_2shared_2test_2integration_2profile__builder_8js.html#a229733b8ea40200fae09e883376030bf">fs</a>.readdirSync(<a class="code" href="../../d3/d4b/lockscreen_8js.html#aec4b49f6f844eec3e3877aef25ed0b84">dir</a>)
<a name="l04776"></a>04776   .filter(ignored)
<a name="l04777"></a>04777   .forEach(<span class="keyword">function</span>(path){
<a name="l04778"></a>04778     path = <a class="code" href="../../de/d11/path_8js.html#a9c4b06c29cf28f47c4f54ed4e30c85b3">join</a>(<a class="code" href="../../d3/d4b/lockscreen_8js.html#aec4b49f6f844eec3e3877aef25ed0b84">dir</a>, path);
<a name="l04779"></a>04779     <span class="keywordflow">if</span> (<a class="code" href="../../dd/dfd/build__stage_2email_2shared_2test_2integration_2profile__builder_8js.html#a229733b8ea40200fae09e883376030bf">fs</a>.statSync(path).isDirectory()) {
<a name="l04780"></a>04780       <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.files(path, ret);
<a name="l04781"></a>04781     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (path.match(/\.(js|coffee)$/)) {
<a name="l04782"></a>04782       ret.push(path);
<a name="l04783"></a>04783     }
<a name="l04784"></a>04784   });
<a name="l04785"></a>04785 
<a name="l04786"></a>04786   <span class="keywordflow">return</span> <a class="code" href="../../d6/da5/libpinyin_8js.html#a2a7ba084dafcf16766cf163d1f5fbbba">ret</a>;
<a name="l04787"></a>04787 };
<a name="l04788"></a>04788 
<a name="l04797"></a>04797 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.slug = <span class="keyword">function</span>(<a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>){
<a name="l04798"></a>04798   <span class="keywordflow">return</span> str
<a name="l04799"></a>04799     .toLowerCase()
<a name="l04800"></a>04800     .replace(/ +/g, <span class="charliteral">&#39;-&#39;</span>)
<a name="l04801"></a>04801     .replace(/[^-\w]/g, <span class="stringliteral">&#39;&#39;</span>);
<a name="l04802"></a>04802 };
<a name="l04803"></a>04803 
<a name="l04809"></a>04809 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.clean = <span class="keyword">function</span>(<a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>) {
<a name="l04810"></a>04810   str = str
<a name="l04811"></a>04811     .replace(/^<span class="keyword">function</span> *\(.*\) *{/, <span class="stringliteral">&#39;&#39;</span>)
<a name="l04812"></a>04812     .<a class="code" href="../../dc/d89/wappush_2js_2message_8js.html#a7c5f9536f6c7849a4a7a592bfedf18f1">replace</a>(/\s+\}$/, <span class="stringliteral">&#39;&#39;</span>);
<a name="l04813"></a>04813 
<a name="l04814"></a>04814   var spaces = str.match(/^\n?( *)/)[1].length
<a name="l04815"></a>04815     , re = <span class="keyword">new</span> RegExp(<span class="stringliteral">&#39;^ {&#39;</span> + spaces + <span class="charliteral">&#39;}&#39;</span>, <span class="stringliteral">&#39;gm&#39;</span>);
<a name="l04816"></a>04816 
<a name="l04817"></a>04817   str = str.replace(re, <span class="stringliteral">&#39;&#39;</span>);
<a name="l04818"></a>04818 
<a name="l04819"></a>04819   <span class="keywordflow">return</span> <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.trim(str);
<a name="l04820"></a>04820 };
<a name="l04821"></a>04821 
<a name="l04830"></a>04830 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.escapeRegexp = <span class="keyword">function</span>(<a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>){
<a name="l04831"></a>04831   <span class="keywordflow">return</span> str.replace(/[-\\^$*+?.()|[\]{}]/<a class="code" href="../../d8/dad/apps_2email_2js_2ext_2mailapi_2chewlayer_8js.html#a73c18c59a39b18382081ec00bb456d43">g</a>, <span class="stringliteral">&quot;\\$&amp;&quot;</span>);
<a name="l04832"></a>04832 };
<a name="l04833"></a>04833 
<a name="l04842"></a>04842 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.trim = <span class="keyword">function</span>(<a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>){
<a name="l04843"></a>04843   <span class="keywordflow">return</span> str.replace(/^\s+|\s+$/g, <span class="stringliteral">&#39;&#39;</span>);
<a name="l04844"></a>04844 };
<a name="l04845"></a>04845 
<a name="l04854"></a>04854 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.parseQuery = <span class="keyword">function</span>(qs){
<a name="l04855"></a>04855   <span class="keywordflow">return</span> <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.reduce(qs.replace(<span class="charliteral">&#39;?&#39;</span>, <span class="stringliteral">&#39;&#39;</span>).split(<span class="charliteral">&#39;&amp;&#39;</span>), <span class="keyword">function</span>(<a class="code" href="../../d2/d7d/jsapi_8h.html#a2219cf9467e8547184b3cf2b051e8067">obj</a>, pair){
<a name="l04856"></a>04856     var <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = pair.indexOf(<span class="charliteral">&#39;=&#39;</span>)
<a name="l04857"></a>04857       , key = pair.slice(0, i)
<a name="l04858"></a>04858       , val = pair.slice(++i);
<a name="l04859"></a>04859 
<a name="l04860"></a>04860     obj[<a class="code" href="../../d2/d7d/jsapi_8h.html#a02d8cbd1392e102198d5bb521715f608">key</a>] = decodeURIComponent(val);
<a name="l04861"></a>04861     <span class="keywordflow">return</span> <a class="code" href="../../d2/d7d/jsapi_8h.html#a2219cf9467e8547184b3cf2b051e8067">obj</a>;
<a name="l04862"></a>04862   }, {});
<a name="l04863"></a>04863 };
<a name="l04864"></a>04864 
<a name="l04873"></a>04873 <span class="keyword">function</span> highlight(js) {
<a name="l04874"></a>04874   <span class="keywordflow">return</span> js
<a name="l04875"></a>04875     .replace(/&lt;/g, <span class="stringliteral">&#39;&amp;lt;&#39;</span>)
<a name="l04876"></a>04876     .replace(/&gt;/g, <span class="stringliteral">&#39;&amp;gt;&#39;</span>)
<a name="l04877"></a>04877     .replace(/\/\/(.*)/gm, <span class="stringliteral">&#39;&lt;span class=&quot;comment&quot;&gt;//$1&lt;/span&gt;&#39;</span>)
<a name="l04878"></a>04878     .replace(/(<span class="stringliteral">&#39;.*?&#39;</span>)/gm, <span class="stringliteral">&#39;&lt;span class=&quot;string&quot;&gt;$1&lt;/span&gt;&#39;</span>)
<a name="l04879"></a>04879     .replace(/(\d+\.\d+)/gm, <span class="stringliteral">&#39;&lt;span class=&quot;number&quot;&gt;$1&lt;/span&gt;&#39;</span>)
<a name="l04880"></a>04880     .replace(/(\d+)/gm, <span class="stringliteral">&#39;&lt;span class=&quot;number&quot;&gt;$1&lt;/span&gt;&#39;</span>)
<a name="l04881"></a>04881     .replace(/\bnew *(\w+)/gm, <span class="stringliteral">&#39;&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;init&quot;&gt;$1&lt;/span&gt;&#39;</span>)
<a name="l04882"></a>04882     .replace(/\<a class="code" href="../../da/ded/jpegint_8h.html#af320905358fa78701e4cc60b6135601f">b</a>(<span class="keyword">function</span>|<span class="keyword">new</span>|<span class="keywordflow">throw</span>|<span class="keywordflow">return</span>|var|<span class="keywordflow">if</span>|<span class="keywordflow">else</span>)\b/gm, <span class="stringliteral">&#39;&lt;span class=&quot;keyword&quot;&gt;$1&lt;/span&gt;&#39;</span>)
<a name="l04883"></a>04883 }
<a name="l04884"></a>04884 
<a name="l04892"></a>04892 <a class="code" href="../../d8/deb/test_2marionette_2lib_2browser_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>.highlightTags = <span class="keyword">function</span>(<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>) {
<a name="l04893"></a>04893   var code = <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#af61dbe660d8213297c7fed5b5c99d223">document</a>.getElementsByTagName(name);
<a name="l04894"></a>04894   <span class="keywordflow">for</span> (var i = 0, len = code.length; i &lt; len; ++i) {
<a name="l04895"></a>04895     code[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].innerHTML = highlight(code[i].<a class="code" href="../../d1/d04/app__install__manager_8js.html#acd145aedb51101ac15a526f73673b0b9">innerHTML</a>);
<a name="l04896"></a>04896   }
<a name="l04897"></a>04897 };
<a name="l04898"></a>04898 
<a name="l04899"></a>04899 }); <span class="comment">// module: utils.js</span>
<a name="l04909"></a>04909 <span class="comment"></span><a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a> = {};
<a name="l04910"></a>04910 <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.exit = <span class="keyword">function</span>(<a class="code" href="../../da/da1/communications_2contacts_2js_2utilities_2status_8js.html#a0818854fd36b9ae0fdfe5872464dae94">status</a>){};
<a name="l04911"></a>04911 <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.stdout = {};
<a name="l04912"></a>04912 <a class="code" href="../../dc/dd7/ext_2caldav_8js.html#a5363025b2c2d773292f0f064aeb11f9e">global</a> = <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>;
<a name="l04913"></a>04913 
<a name="l04918"></a>04918 <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.nextTick = (<span class="keyword">function</span>(){
<a name="l04919"></a>04919   <span class="comment">// postMessage behaves badly on IE8</span>
<a name="l04920"></a>04920   <span class="keywordflow">if</span> (<a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>.ActiveXObject || !<a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>.postMessage) {
<a name="l04921"></a>04921     <span class="keywordflow">return</span> <span class="keyword">function</span>(fn){ fn() };
<a name="l04922"></a>04922   }
<a name="l04923"></a>04923 
<a name="l04924"></a>04924   <span class="comment">// based on setZeroTimeout by David Baron</span>
<a name="l04925"></a>04925   <span class="comment">// - http://dbaron.org/log/20100309-faster-timeouts</span>
<a name="l04926"></a>04926   var timeouts = []
<a name="l04927"></a>04927     , name = <span class="stringliteral">&#39;mocha-zero-timeout&#39;</span>
<a name="l04928"></a>04928 
<a name="l04929"></a>04929   <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>.addEventListener(<span class="stringliteral">&#39;message&#39;</span>, <span class="keyword">function</span>(<a class="code" href="../../d1/d04/app__install__manager_8js.html#ab5902775854a8b8440bcd25e0fe1c120">e</a>){
<a name="l04930"></a>04930     <span class="keywordflow">if</span> (<a class="code" href="../../d1/d04/app__install__manager_8js.html#ab5902775854a8b8440bcd25e0fe1c120">e</a>.source == <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a> &amp;&amp; <a class="code" href="../../d1/d04/app__install__manager_8js.html#ab5902775854a8b8440bcd25e0fe1c120">e</a>.data == name) {
<a name="l04931"></a>04931       <a class="code" href="../../d6/d52/js_2browser_8js.html#a7321fd84345f4f9455f25996b932b8fd">if</a> (<a class="code" href="../../d1/d04/app__install__manager_8js.html#ab5902775854a8b8440bcd25e0fe1c120">e</a>.stopPropagation) <a class="code" href="../../d1/d04/app__install__manager_8js.html#ab5902775854a8b8440bcd25e0fe1c120">e</a>.stopPropagation();
<a name="l04932"></a>04932       <span class="keywordflow">if</span> (timeouts.length) timeouts.shift()();
<a name="l04933"></a>04933     }
<a name="l04934"></a>04934   }, <span class="keyword">true</span>);
<a name="l04935"></a>04935 
<a name="l04936"></a>04936   <span class="keywordflow">return</span> <span class="keyword">function</span>(fn){
<a name="l04937"></a>04937     timeouts.push(fn);
<a name="l04938"></a>04938     <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>.postMessage(name, <span class="charliteral">&#39;*&#39;</span>);
<a name="l04939"></a>04939   }
<a name="l04940"></a>04940 })();
<a name="l04941"></a>04941 
<a name="l04946"></a>04946 <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.removeListener = <span class="keyword">function</span>(<a class="code" href="../../d1/d04/app__install__manager_8js.html#ab5902775854a8b8440bcd25e0fe1c120">e</a>){
<a name="l04947"></a>04947   <span class="keywordflow">if</span> (<span class="stringliteral">&#39;uncaughtException&#39;</span> == <a class="code" href="../../d1/d04/app__install__manager_8js.html#ab5902775854a8b8440bcd25e0fe1c120">e</a>) {
<a name="l04948"></a>04948     <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>.onerror = <a class="code" href="../../d1/d04/app__install__manager_8js.html#a66d98f9009f0502b9a5ce70e907f8f27">null</a>;
<a name="l04949"></a>04949   }
<a name="l04950"></a>04950 };
<a name="l04951"></a>04951 
<a name="l04956"></a>04956 <a class="code" href="../../db/d3b/vcard__parser_8js.html#a6f2ec0a8b53b1e2d7d68df633707f9ae">process</a>.on = <span class="keyword">function</span>(<a class="code" href="../../d1/d04/app__install__manager_8js.html#ab5902775854a8b8440bcd25e0fe1c120">e</a>, fn){
<a name="l04957"></a>04957   <span class="keywordflow">if</span> (<span class="stringliteral">&#39;uncaughtException&#39;</span> == <a class="code" href="../../d1/d04/app__install__manager_8js.html#ab5902775854a8b8440bcd25e0fe1c120">e</a>) {
<a name="l04958"></a>04958     <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>.onerror = <span class="keyword">function</span>(err, <a class="code" href="../../d3/d4b/lockscreen_8js.html#a85c9a955e7da65bfd5fc9b87158c3570">url</a>, <a class="code" href="../../da/d7d/cook_8js.html#ae379b8c31475b8ad7712b7ead5ce1173">line</a>){
<a name="l04959"></a>04959       fn(<span class="keyword">new</span> <a class="code" href="../../dc/d06/calendar_2js_2error_8js.html#abd05c43175d3c93c6889542cefc822f3">Error</a>(err + <span class="stringliteral">&#39; (&#39;</span> + url + <span class="charliteral">&#39;:&#39;</span> + <a class="code" href="../../da/d7d/cook_8js.html#ae379b8c31475b8ad7712b7ead5ce1173">line</a> + <span class="charliteral">&#39;)&#39;</span>));
<a name="l04960"></a>04960     };
<a name="l04961"></a>04961   }
<a name="l04962"></a>04962 };
<a name="l04963"></a>04963 
<a name="l04964"></a>04964 <span class="comment">// boot</span>
<a name="l04965"></a>04965 ;(<span class="keyword">function</span>(){
<a name="l04966"></a>04966 
<a name="l04971"></a>04971   var Mocha = <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>.Mocha = <a class="code" href="../../d9/d2e/alameda_8js.html#a4b4eb847520ff4e45de16db801e26133">require</a>(<span class="stringliteral">&#39;mocha&#39;</span>),
<a name="l04972"></a>04972       mocha = <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>.mocha = <span class="keyword">new</span> Mocha({ reporter: <span class="stringliteral">&#39;html&#39;</span> });
<a name="l04973"></a>04973 
<a name="l04979"></a>04979   mocha.ui = <span class="keyword">function</span>(ui){
<a name="l04980"></a>04980     Mocha.prototype.ui.call(<span class="keyword">this</span>, ui);
<a name="l04981"></a>04981     this.suite.emit(<span class="stringliteral">&#39;pre-require&#39;</span>, <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>, <a class="code" href="../../d1/d04/app__install__manager_8js.html#a66d98f9009f0502b9a5ce70e907f8f27">null</a>, <span class="keyword">this</span>);
<a name="l04982"></a>04982     <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l04983"></a>04983   };
<a name="l04984"></a>04984 
<a name="l04989"></a>04989   mocha.setup = <span class="keyword">function</span>(opts){
<a name="l04990"></a>04990     <span class="keywordflow">if</span> (<span class="stringliteral">&#39;string&#39;</span> == <a class="code" href="../../d1/d22/ical_8js.html#a6053319846c80bf9561a1958bb817380">typeof</a> opts) opts = { ui: opts };
<a name="l04991"></a>04991     <span class="keywordflow">for</span> (var <a class="code" href="../../d2/d7d/jsapi_8h.html#aefde3c032db0d11ae0c92cb43ad6ef1f">opt</a> in opts) <span class="keyword">this</span>[<a class="code" href="../../d2/d7d/jsapi_8h.html#aefde3c032db0d11ae0c92cb43ad6ef1f">opt</a>](opts[<a class="code" href="../../d2/d7d/jsapi_8h.html#aefde3c032db0d11ae0c92cb43ad6ef1f">opt</a>]);
<a name="l04992"></a>04992     <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l04993"></a>04993   };
<a name="l04994"></a>04994 
<a name="l04999"></a>04999   mocha.run = <span class="keyword">function</span>(fn){
<a name="l05000"></a>05000     var options = mocha.options;
<a name="l05001"></a>05001     mocha.globals(<span class="stringliteral">&#39;location&#39;</span>);
<a name="l05002"></a>05002 
<a name="l05003"></a>05003     var query = Mocha.utils.parseQuery(<a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>.location.search || <span class="stringliteral">&#39;&#39;</span>);
<a name="l05004"></a>05004     <span class="keywordflow">if</span> (query.grep) mocha.grep(query.grep);
<a name="l05005"></a>05005     <span class="keywordflow">if</span> (query.invert) mocha.invert();
<a name="l05006"></a>05006 
<a name="l05007"></a>05007     <span class="keywordflow">return</span> Mocha.prototype.run.call(mocha, <span class="keyword">function</span>(){
<a name="l05008"></a>05008       Mocha.utils.highlightTags(<span class="stringliteral">&#39;code&#39;</span>);
<a name="l05009"></a>05009       <span class="keywordflow">if</span> (fn) fn();
<a name="l05010"></a>05010     });
<a name="l05011"></a>05011   };
<a name="l05012"></a>05012 })();
<a name="l05013"></a>05013 })();
<a name="l05014"></a>05014 
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d0/d0a/test-agent_2common_2vendor_2mocha_2mocha_8js.html">mocha.js</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 00:52:48に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
