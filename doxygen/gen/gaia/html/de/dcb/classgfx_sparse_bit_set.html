<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: クラス gfxSparseBitSet</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li><a href="../../classes.html"><span>データ構造索引</span></a></li>
      <li><a href="../../inherits.html"><span>クラス階層</span></a></li>
      <li><a href="../../functions.html"><span>データフィールド</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('de/dcb/classgfx_sparse_bit_set.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">データ構造</a> &#124;
<a href="#pub-methods">Public メソッド</a>  </div>
  <div class="headertitle">
<div class="title">クラス gfxSparseBitSet</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="gfxSparseBitSet" -->
<p><code>#include &lt;<a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html">gfxFontUtils.h</a>&gt;</code></p>
<div class="dynheader">
gfxSparseBitSetに対する継承グラフ</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dc/db7/classgfx_sparse_bit_set__inherit__graph.svg" width="134" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">凡例</a>]</span></center></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
データ構造</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><b>Block</b></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a1c15be968820dbeb1f28383e9f905ee2">gfxSparseBitSet</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a8145ca81f0261982c462296006f2f1af">gfxSparseBitSet</a> (<a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html">gfxSparseBitSet</a> &amp;aBitset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dd2/qcmstypes_8h.html#acac1f8caeb95c0bd16fe8c0743249831">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a2929eef8d9a530612346b07132f09e58">Equals</a> (<a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html">gfxSparseBitSet</a> *aOther) <a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dd2/qcmstypes_8h.html#acac1f8caeb95c0bd16fe8c0743249831">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a04c0afe2197d86698b51f000e5eba465">test</a> (uint32_t aIndex) <a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dd2/qcmstypes_8h.html#acac1f8caeb95c0bd16fe8c0743249831">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a328c489a5eaa3fb69b1620ceeba512f2">TestRange</a> (uint32_t aStart, uint32_t aEnd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a6e4409e089886fc1526a9235e4d95f5a">set</a> (uint32_t aIndex)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#aa756f784b14a63bbb8e0d59c085e5da1">set</a> (uint32_t aIndex, <a class="el" href="../../d7/dd2/qcmstypes_8h.html#acac1f8caeb95c0bd16fe8c0743249831">bool</a> aValue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#aeead3d1160d7a13f36073faf8b5e53be">SetRange</a> (uint32_t aStart, uint32_t aEnd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#acf250415e0a1842732d922a0d43ff8cf">clear</a> (uint32_t aIndex)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a6a3cc6ea95600ee6ddee6458691bc131">ClearRange</a> (uint32_t aStart, uint32_t aEnd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a3548bf2c4d9633fd820dcf7798a8239d">SizeOfExcludingThis</a> (mozilla::MallocSizeOf aMallocSizeOf) <a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a217ab90e5b7f12675934d7f5f274d37e">SizeOfIncludingThis</a> (mozilla::MallocSizeOf aMallocSizeOf) <a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a67f925ffad0272b5567c472a4f75e4c2">reset</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a5cbb57d422ffeaf969606a311abc85c3">Union</a> (<a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html">gfxSparseBitSet</a> &amp;aBitset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a5abcf593cc10f60010d4456c02327d1b">Compact</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a20eebbf58478160a34c7c63775c6924a">GetChecksum</a> () <a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> </td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>説明</h2>
<div class="textblock">
<p> <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html">gfxFontUtils.h</a> の <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html#l00039">39</a> 行で定義されています。</p>
</div><hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a1c15be968820dbeb1f28383e9f905ee2"></a><!-- doxytag: member="gfxSparseBitSet::gfxSparseBitSet" ref="a1c15be968820dbeb1f28383e9f905ee2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a1c15be968820dbeb1f28383e9f905ee2">gfxSparseBitSet::gfxSparseBitSet</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html">gfxFontUtils.h</a> の <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html#l00052">52</a> 行で定義されています。</p>
<div class="fragment"><pre class="fragment">{ }
</pre></div>
</div>
</div>
<a class="anchor" id="a8145ca81f0261982c462296006f2f1af"></a><!-- doxytag: member="gfxSparseBitSet::gfxSparseBitSet" ref="a8145ca81f0261982c462296006f2f1af" args="(const gfxSparseBitSet &amp;aBitset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a1c15be968820dbeb1f28383e9f905ee2">gfxSparseBitSet::gfxSparseBitSet</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html">gfxSparseBitSet</a> &amp;&#160;</td>
          <td class="paramname"><em>aBitset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html">gfxFontUtils.h</a> の <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html#l00053">53</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="../../d1/db9/ns_t_array_8h_source.html#l01199">nsTArray_Impl&lt; E, Alloc &gt;::AppendElements()</a>, <a class="el" href="../../da/d7d/sylvester_8js_source.html#l00308">i</a>, と <a class="el" href="../../d1/db9/ns_t_array_8h_source.html#l00370">nsTArray_base&lt; Alloc, Copy &gt;::Length()</a>.</p>
<div class="fragment"><pre class="fragment">                                                    {
        uint32_t <a class="code" href="../../d9/d04/expat_8h.html#a5df20ff5bc70fb664abe3912796e90df">len</a> = aBitset.mBlocks.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>();
        mBlocks.<a class="code" href="../../d4/dd8/classns_t_array___impl.html#a1c222edc1c9c3fa51d40b1bccbee6ffd">AppendElements</a>(len);
        <span class="keywordflow">for</span> (uint32_t <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; <a class="code" href="../../d9/d04/expat_8h.html#a5df20ff5bc70fb664abe3912796e90df">len</a>; ++<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>) {
            Block *block = aBitset.mBlocks[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>];
            <span class="keywordflow">if</span> (block)
                mBlocks[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>] = <span class="keyword">new</span> Block(*block);
        }
    }
</pre></div>
<p><div class="dynheader">
関数の呼び出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../de/dcb/classgfx_sparse_bit_set_a8145ca81f0261982c462296006f2f1af_cgraph.svg" width="496" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<hr/><h2>メソッド</h2>
<a class="anchor" id="acf250415e0a1842732d922a0d43ff8cf"></a><!-- doxytag: member="gfxSparseBitSet::clear" ref="acf250415e0a1842732d922a0d43ff8cf" args="(uint32_t aIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a> <a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#acf250415e0a1842732d922a0d43ff8cf">gfxSparseBitSet::clear</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>aIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html">gfxFontUtils.h</a> の <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html#l00217">217</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="../../d1/db9/ns_t_array_8h_source.html#l01199">nsTArray_Impl&lt; E, Alloc &gt;::AppendElements()</a>, <a class="el" href="../../d1/db9/ns_t_array_8h_source.html#l00370">nsTArray_base&lt; Alloc, Copy &gt;::Length()</a>, と <a class="el" href="../../d1/d8a/_likely_8h_source.html#l00020">MOZ_UNLIKELY</a>.</p>

<p>参照元 <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html#l00173">set()</a>.</p>
<div class="fragment"><pre class="fragment">                                {
        uint32_t blockIndex = aIndex/BLOCK_SIZE_BITS;
        <span class="keywordflow">if</span> (blockIndex &gt;= mBlocks.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>()) {
            <a class="code" href="../../d1/d89/classns_auto_ptr.html">nsAutoPtr&lt;Block&gt;</a> *blocks = mBlocks.<a class="code" href="../../d4/dd8/classns_t_array___impl.html#a1c222edc1c9c3fa51d40b1bccbee6ffd">AppendElements</a>(blockIndex + 1 - mBlocks.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>());
            <span class="keywordflow">if</span> (<a class="code" href="../../d1/d8a/_likely_8h.html#a017cc7db7d122a8bd07caba5c6f9397a">MOZ_UNLIKELY</a>(!blocks)) <span class="comment">// OOM</span>
                <span class="keywordflow">return</span>;
        }
        Block *block = mBlocks[blockIndex];
        <span class="keywordflow">if</span> (!block) {
            <span class="keywordflow">return</span>;
        }
        block-&gt;mBits[(aIndex&gt;&gt;3) &amp; (BLOCK_SIZE - 1)] &amp;= ~(1 &lt;&lt; (aIndex &amp; 0x7));
    }
</pre></div>
<p><div class="dynheader">
関数の呼び出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../de/dcb/classgfx_sparse_bit_set_acf250415e0a1842732d922a0d43ff8cf_cgraph.svg" width="430" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
呼出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../de/dcb/classgfx_sparse_bit_set_acf250415e0a1842732d922a0d43ff8cf_icgraph.svg" width="358" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6a3cc6ea95600ee6ddee6458691bc131"></a><!-- doxytag: member="gfxSparseBitSet::ClearRange" ref="a6a3cc6ea95600ee6ddee6458691bc131" args="(uint32_t aStart, uint32_t aEnd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a> <a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a6a3cc6ea95600ee6ddee6458691bc131">gfxSparseBitSet::ClearRange</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>aStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>aEnd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html">gfxFontUtils.h</a> の <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html#l00231">231</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="../../d1/db9/ns_t_array_8h_source.html#l01199">nsTArray_Impl&lt; E, Alloc &gt;::AppendElements()</a>, <a class="el" href="../../d8/d64/ns_u_r_l_helper_8h_source.html#l00152">end</a>, <a class="el" href="../../da/d7d/sylvester_8js_source.html#l00308">i</a>, <a class="el" href="../../d1/db9/ns_t_array_8h_source.html#l00370">nsTArray_base&lt; Alloc, Copy &gt;::Length()</a>, <a class="el" href="../../d1/d8a/_likely_8h_source.html#l00020">MOZ_UNLIKELY</a>, と <a class="el" href="../../d7/dbf/build__stage_2email_2shared_2js_2media_2remote__controls_8js_source.html#l00123">start</a>.</p>
<div class="fragment"><pre class="fragment">                                                    {
        <span class="keyword">const</span> uint32_t startIndex = aStart/BLOCK_SIZE_BITS;
        <span class="keyword">const</span> uint32_t endIndex = aEnd/BLOCK_SIZE_BITS;

        <span class="keywordflow">if</span> (endIndex &gt;= mBlocks.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>()) {
            uint32_t numNewBlocks = endIndex + 1 - mBlocks.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>();
            <a class="code" href="../../d1/d89/classns_auto_ptr.html">nsAutoPtr&lt;Block&gt;</a> *blocks = mBlocks.<a class="code" href="../../d4/dd8/classns_t_array___impl.html#a1c222edc1c9c3fa51d40b1bccbee6ffd">AppendElements</a>(numNewBlocks);
            <span class="keywordflow">if</span> (<a class="code" href="../../d1/d8a/_likely_8h.html#a017cc7db7d122a8bd07caba5c6f9397a">MOZ_UNLIKELY</a>(!blocks)) <span class="comment">// OOM</span>
                <span class="keywordflow">return</span>;
        }

        <span class="keywordflow">for</span> (uint32_t <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = startIndex; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt;= endIndex; ++<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>) {
            <span class="keyword">const</span> uint32_t blockFirstBit = <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> * BLOCK_SIZE_BITS;

            Block *block = mBlocks[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>];
            <span class="keywordflow">if</span> (!block) {
                <span class="comment">// any nonexistent block is implicitly all clear,</span>
                <span class="comment">// so there&#39;s no need to even create it</span>
                <span class="keywordflow">continue</span>;
            }

            <span class="keyword">const</span> uint32_t <a class="code" href="../../d7/dbf/build__stage_2email_2shared_2js_2media_2remote__controls_8js.html#afea9dd5375e7783397a6e3911cc64e28">start</a> = aStart &gt; blockFirstBit ? aStart - blockFirstBit : 0;
            <span class="keyword">const</span> uint32_t <a class="code" href="../../d8/d64/ns_u_r_l_helper_8h.html#abe43fe84431eb0cabf3c21ccc94bd756">end</a> = std::min&lt;uint32_t&gt;(aEnd - blockFirstBit, BLOCK_SIZE_BITS - 1);

            <span class="keywordflow">for</span> (uint32_t bit = start; bit &lt;= <a class="code" href="../../d8/d64/ns_u_r_l_helper_8h.html#abe43fe84431eb0cabf3c21ccc94bd756">end</a>; ++bit) {
                block-&gt;mBits[bit&gt;&gt;3] &amp;= ~(1 &lt;&lt; (bit &amp; 0x7));
            }
        }
    }
</pre></div>
<p><div class="dynheader">
関数の呼び出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../de/dcb/classgfx_sparse_bit_set_a6a3cc6ea95600ee6ddee6458691bc131_cgraph.svg" width="470" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5abcf593cc10f60010d4456c02327d1b"></a><!-- doxytag: member="gfxSparseBitSet::Compact" ref="a5abcf593cc10f60010d4456c02327d1b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a> <a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a5abcf593cc10f60010d4456c02327d1b">gfxSparseBitSet::Compact</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html">gfxFontUtils.h</a> の <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html#l00314">314</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="../../d1/db9/ns_t_array_8h_source.html#l01435">nsTArray_Impl&lt; E, Alloc &gt;::Compact()</a>.</p>
<div class="fragment"><pre class="fragment">                   {
        mBlocks.<a class="code" href="../../d4/dd8/classns_t_array___impl.html#aa4bafea0f89ebe567a616e41416e3df8">Compact</a>();
    }
</pre></div>
<p><div class="dynheader">
関数の呼び出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../de/dcb/classgfx_sparse_bit_set_a5abcf593cc10f60010d4456c02327d1b_cgraph.svg" width="406" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2929eef8d9a530612346b07132f09e58"></a><!-- doxytag: member="gfxSparseBitSet::Equals" ref="a2929eef8d9a530612346b07132f09e58" args="(const gfxSparseBitSet *aOther) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dd2/qcmstypes_8h.html#acac1f8caeb95c0bd16fe8c0743249831">bool</a> <a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a2929eef8d9a530612346b07132f09e58">gfxSparseBitSet::Equals</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html">gfxSparseBitSet</a> *&#160;</td>
          <td class="paramname"><em>aOther</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html">gfxFontUtils.h</a> の <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html#l00063">63</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="../../da/d7d/sylvester_8js_source.html#l00308">i</a>, <a class="el" href="../../d1/db9/ns_t_array_8h_source.html#l00370">nsTArray_base&lt; Alloc, Copy &gt;::Length()</a>, と <a class="el" href="../../d2/d7d/jsapi_8h_source.html#l04320">n</a>.</p>
<div class="fragment"><pre class="fragment">                                                     {
        <span class="keywordflow">if</span> (mBlocks.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>() != aOther-&gt;mBlocks.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>()) {
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
        <span class="keywordtype">size_t</span> <a class="code" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a> = mBlocks.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>();
        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; <a class="code" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a>; ++<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>) {
            <span class="keyword">const</span> Block *b1 = mBlocks[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>];
            <span class="keyword">const</span> Block *b2 = aOther-&gt;mBlocks[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>];
            <span class="keywordflow">if</span> (!b1 != !b2) {
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
            }
            <span class="keywordflow">if</span> (!b1) {
                <span class="keywordflow">continue</span>;
            }
            <span class="keywordflow">if</span> (memcmp(&amp;b1-&gt;mBits, &amp;b2-&gt;mBits, BLOCK_SIZE) != 0) {
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
            }
        }
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
</pre></div>
<p><div class="dynheader">
関数の呼び出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../de/dcb/classgfx_sparse_bit_set_a2929eef8d9a530612346b07132f09e58_cgraph.svg" width="382" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a20eebbf58478160a34c7c63775c6924a"></a><!-- doxytag: member="gfxSparseBitSet::GetChecksum" ref="a20eebbf58478160a34c7c63775c6924a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a20eebbf58478160a34c7c63775c6924a">gfxSparseBitSet::GetChecksum</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html">gfxFontUtils.h</a> の <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html#l00318">318</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="../../dc/d4d/mozzconf_8h_source.html#l00055">adler32</a>, <a class="el" href="../../d7/dfd/jcconv_8py_source.html#l00091">jcconv::check()</a>, <a class="el" href="../../da/d7d/sylvester_8js_source.html#l00308">i</a>, <a class="el" href="../../d1/db9/ns_t_array_8h_source.html#l00370">nsTArray_base&lt; Alloc, Copy &gt;::Length()</a>, と <a class="el" href="../../d4/dae/zlib_8h_source.html#l00208">Z_NULL</a>.</p>

<p>参照元 <a class="el" href="../../d3/d0b/gfx_font_8h_source.html#l00202">gfxCharacterMap::CalcHash()</a>.</p>
<div class="fragment"><pre class="fragment">                                 {
        uint32_t <a class="code" href="../../d1/d5b/namespacejcconv.html#a846efc552618562a262a88978ef66841">check</a> = <a class="code" href="../../dc/d4d/mozzconf_8h.html#a88899508e9a73aad5db1854cd1cc87d7">adler32</a>(0, <a class="code" href="../../d4/dae/zlib_8h.html#ad15afa2776b41b2f4d8582dd152bd736">Z_NULL</a>, 0);
        <span class="keywordflow">for</span> (uint32_t <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; mBlocks.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>(); <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++) {
            <span class="keywordflow">if</span> (mBlocks[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>]) {
                <span class="keyword">const</span> Block *block = mBlocks[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>];
                check = <a class="code" href="../../dc/d4d/mozzconf_8h.html#a88899508e9a73aad5db1854cd1cc87d7">adler32</a>(check, (uint8_t*) (&amp;i), 4);
                check = <a class="code" href="../../dc/d4d/mozzconf_8h.html#a88899508e9a73aad5db1854cd1cc87d7">adler32</a>(check, (uint8_t*) block, <span class="keyword">sizeof</span>(Block));
            }
        }
        <span class="keywordflow">return</span> <a class="code" href="../../d1/d5b/namespacejcconv.html#a846efc552618562a262a88978ef66841">check</a>;
    }
</pre></div>
<p><div class="dynheader">
関数の呼び出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../de/dcb/classgfx_sparse_bit_set_a20eebbf58478160a34c7c63775c6924a_cgraph.svg" width="427" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
呼出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../de/dcb/classgfx_sparse_bit_set_a20eebbf58478160a34c7c63775c6924a_icgraph.svg" width="459" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a67f925ffad0272b5567c472a4f75e4c2"></a><!-- doxytag: member="gfxSparseBitSet::reset" ref="a67f925ffad0272b5567c472a4f75e4c2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a> <a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a67f925ffad0272b5567c472a4f75e4c2">gfxSparseBitSet::reset</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html">gfxFontUtils.h</a> の <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html#l00276">276</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="../../da/d7d/sylvester_8js_source.html#l00308">i</a>, と <a class="el" href="../../d1/db9/ns_t_array_8h_source.html#l00370">nsTArray_base&lt; Alloc, Copy &gt;::Length()</a>.</p>
<div class="fragment"><pre class="fragment">                 {
        uint32_t <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>;
        <span class="keywordflow">for</span> (i = 0; i &lt; mBlocks.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>(); i++)
            mBlocks[i] = <span class="keyword">nullptr</span>;    
    }
</pre></div>
<p><div class="dynheader">
関数の呼び出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../de/dcb/classgfx_sparse_bit_set_a67f925ffad0272b5567c472a4f75e4c2_cgraph.svg" width="371" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6e4409e089886fc1526a9235e4d95f5a"></a><!-- doxytag: member="gfxSparseBitSet::set" ref="a6e4409e089886fc1526a9235e4d95f5a" args="(uint32_t aIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a> <a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a6e4409e089886fc1526a9235e4d95f5a">gfxSparseBitSet::set</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>aIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html">gfxFontUtils.h</a> の <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html#l00158">158</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="../../d1/db9/ns_t_array_8h_source.html#l01199">nsTArray_Impl&lt; E, Alloc &gt;::AppendElements()</a>, <a class="el" href="../../d1/db9/ns_t_array_8h_source.html#l00370">nsTArray_base&lt; Alloc, Copy &gt;::Length()</a>, と <a class="el" href="../../d1/d8a/_likely_8h_source.html#l00020">MOZ_UNLIKELY</a>.</p>
<div class="fragment"><pre class="fragment">                              {
        uint32_t blockIndex = aIndex/BLOCK_SIZE_BITS;
        <span class="keywordflow">if</span> (blockIndex &gt;= mBlocks.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>()) {
            <a class="code" href="../../d1/d89/classns_auto_ptr.html">nsAutoPtr&lt;Block&gt;</a> *blocks = mBlocks.<a class="code" href="../../d4/dd8/classns_t_array___impl.html#a1c222edc1c9c3fa51d40b1bccbee6ffd">AppendElements</a>(blockIndex + 1 - mBlocks.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>());
            <span class="keywordflow">if</span> (<a class="code" href="../../d1/d8a/_likely_8h.html#a017cc7db7d122a8bd07caba5c6f9397a">MOZ_UNLIKELY</a>(!blocks)) <span class="comment">// OOM</span>
                <span class="keywordflow">return</span>;
        }
        Block *block = mBlocks[blockIndex];
        <span class="keywordflow">if</span> (!block) {
            block = <span class="keyword">new</span> Block;
            mBlocks[blockIndex] = block;
        }
        block-&gt;mBits[(aIndex&gt;&gt;3) &amp; (BLOCK_SIZE - 1)] |= 1 &lt;&lt; (aIndex &amp; 0x7);
    }
</pre></div>
<p><div class="dynheader">
関数の呼び出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../de/dcb/classgfx_sparse_bit_set_a6e4409e089886fc1526a9235e4d95f5a_cgraph.svg" width="419" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa756f784b14a63bbb8e0d59c085e5da1"></a><!-- doxytag: member="gfxSparseBitSet::set" ref="aa756f784b14a63bbb8e0d59c085e5da1" args="(uint32_t aIndex, bool aValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a> <a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a6e4409e089886fc1526a9235e4d95f5a">gfxSparseBitSet::set</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>aIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/dd2/qcmstypes_8h.html#acac1f8caeb95c0bd16fe8c0743249831">bool</a>&#160;</td>
          <td class="paramname"><em>aValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html">gfxFontUtils.h</a> の <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html#l00173">173</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html#l00217">clear()</a>.</p>
<div class="fragment"><pre class="fragment">                                           {
        <span class="keywordflow">if</span> (aValue)
            <span class="keyword">set</span>(aIndex);
        <span class="keywordflow">else</span>
            <a class="code" href="../../de/dcb/classgfx_sparse_bit_set.html#acf250415e0a1842732d922a0d43ff8cf">clear</a>(aIndex);
    }
</pre></div>
<p><div class="dynheader">
関数の呼び出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../de/dcb/classgfx_sparse_bit_set_aa756f784b14a63bbb8e0d59c085e5da1_cgraph.svg" width="622" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aeead3d1160d7a13f36073faf8b5e53be"></a><!-- doxytag: member="gfxSparseBitSet::SetRange" ref="aeead3d1160d7a13f36073faf8b5e53be" args="(uint32_t aStart, uint32_t aEnd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a> <a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#aeead3d1160d7a13f36073faf8b5e53be">gfxSparseBitSet::SetRange</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>aStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>aEnd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html">gfxFontUtils.h</a> の <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html#l00180">180</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="../../d1/db9/ns_t_array_8h_source.html#l01199">nsTArray_Impl&lt; E, Alloc &gt;::AppendElements()</a>, <a class="el" href="../../d8/d64/ns_u_r_l_helper_8h_source.html#l00152">end</a>, <a class="el" href="../../da/d7d/sylvester_8js_source.html#l00308">i</a>, <a class="el" href="../../d1/db9/ns_t_array_8h_source.html#l00370">nsTArray_base&lt; Alloc, Copy &gt;::Length()</a>, <a class="el" href="../../d1/d8a/_likely_8h_source.html#l00020">MOZ_UNLIKELY</a>, と <a class="el" href="../../d7/dbf/build__stage_2email_2shared_2js_2media_2remote__controls_8js_source.html#l00123">start</a>.</p>
<div class="fragment"><pre class="fragment">                                                  {
        <span class="keyword">const</span> uint32_t startIndex = aStart/BLOCK_SIZE_BITS;
        <span class="keyword">const</span> uint32_t endIndex = aEnd/BLOCK_SIZE_BITS;

        <span class="keywordflow">if</span> (endIndex &gt;= mBlocks.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>()) {
            uint32_t numNewBlocks = endIndex + 1 - mBlocks.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>();
            <a class="code" href="../../d1/d89/classns_auto_ptr.html">nsAutoPtr&lt;Block&gt;</a> *blocks = mBlocks.<a class="code" href="../../d4/dd8/classns_t_array___impl.html#a1c222edc1c9c3fa51d40b1bccbee6ffd">AppendElements</a>(numNewBlocks);
            <span class="keywordflow">if</span> (<a class="code" href="../../d1/d8a/_likely_8h.html#a017cc7db7d122a8bd07caba5c6f9397a">MOZ_UNLIKELY</a>(!blocks)) <span class="comment">// OOM</span>
                <span class="keywordflow">return</span>;
        }

        <span class="keywordflow">for</span> (uint32_t <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = startIndex; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt;= endIndex; ++<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>) {
            <span class="keyword">const</span> uint32_t blockFirstBit = <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> * BLOCK_SIZE_BITS;
            <span class="keyword">const</span> uint32_t blockLastBit = blockFirstBit + BLOCK_SIZE_BITS - 1;

            Block *block = mBlocks[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>];
            <span class="keywordflow">if</span> (!block) {
                <span class="keywordtype">bool</span> fullBlock = <span class="keyword">false</span>;
                <span class="keywordflow">if</span> (aStart &lt;= blockFirstBit &amp;&amp; aEnd &gt;= blockLastBit)
                    fullBlock = <span class="keyword">true</span>;

                block = <span class="keyword">new</span> Block(fullBlock ? 0xFF : 0);
                mBlocks[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>] = block;

                <span class="keywordflow">if</span> (fullBlock)
                    <span class="keywordflow">continue</span>;
            }

            <span class="keyword">const</span> uint32_t <a class="code" href="../../d7/dbf/build__stage_2email_2shared_2js_2media_2remote__controls_8js.html#afea9dd5375e7783397a6e3911cc64e28">start</a> = aStart &gt; blockFirstBit ? aStart - blockFirstBit : 0;
            <span class="keyword">const</span> uint32_t <a class="code" href="../../d8/d64/ns_u_r_l_helper_8h.html#abe43fe84431eb0cabf3c21ccc94bd756">end</a> = std::min&lt;uint32_t&gt;(aEnd - blockFirstBit, BLOCK_SIZE_BITS - 1);

            <span class="keywordflow">for</span> (uint32_t bit = start; bit &lt;= <a class="code" href="../../d8/d64/ns_u_r_l_helper_8h.html#abe43fe84431eb0cabf3c21ccc94bd756">end</a>; ++bit) {
                block-&gt;mBits[bit&gt;&gt;3] |= 1 &lt;&lt; (bit &amp; 0x7);
            }
        }
    }
</pre></div>
<p><div class="dynheader">
関数の呼び出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../de/dcb/classgfx_sparse_bit_set_aeead3d1160d7a13f36073faf8b5e53be_cgraph.svg" width="459" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3548bf2c4d9633fd820dcf7798a8239d"></a><!-- doxytag: member="gfxSparseBitSet::SizeOfExcludingThis" ref="a3548bf2c4d9633fd820dcf7798a8239d" args="(mozilla::MallocSizeOf aMallocSizeOf) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a3548bf2c4d9633fd820dcf7798a8239d">gfxSparseBitSet::SizeOfExcludingThis</a> </td>
          <td>(</td>
          <td class="paramtype">mozilla::MallocSizeOf&#160;</td>
          <td class="paramname"><em>aMallocSizeOf</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="../../d8/d58/classgfx_character_map.html#a814e9d0539dec6d94e96e0589cf94e42">gfxCharacterMap</a>で再定義されています。</p>

<p> <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html">gfxFontUtils.h</a> の <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html#l00261">261</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="../../da/d7d/sylvester_8js_source.html#l00308">i</a>, <a class="el" href="../../d1/db9/ns_t_array_8h_source.html#l00370">nsTArray_base&lt; Alloc, Copy &gt;::Length()</a>, <a class="el" href="../../d1/db9/ns_t_array_8h_source.html#l00832">nsTArray_Impl&lt; E, Alloc &gt;::SizeOfExcludingThis()</a>, と <a class="el" href="../../da/ddf/ns_i_d_o_m_progress_event_8idl_source.html#l00031">total</a>.</p>

<p>参照元 <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html#l00271">SizeOfIncludingThis()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                        {
        <span class="keywordtype">size_t</span> <a class="code" href="../../da/ddf/ns_i_d_o_m_progress_event_8idl.html#ac3db248c35e11a75b4e99f0087d77c90">total</a> = mBlocks.<a class="code" href="../../d4/dd8/classns_t_array___impl.html#a3b062ff0e48c0b9c8a99097df62fede5">SizeOfExcludingThis</a>(aMallocSizeOf);
        <span class="keywordflow">for</span> (uint32_t <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; mBlocks.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>(); <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++) {
            <span class="keywordflow">if</span> (mBlocks[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>]) {
                total += aMallocSizeOf(mBlocks[i]);
            }
        }
        <span class="keywordflow">return</span> <a class="code" href="../../da/ddf/ns_i_d_o_m_progress_event_8idl.html#ac3db248c35e11a75b4e99f0087d77c90">total</a>;
    }
</pre></div>
<p><div class="dynheader">
関数の呼び出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../de/dcb/classgfx_sparse_bit_set_a3548bf2c4d9633fd820dcf7798a8239d_cgraph.svg" width="544" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
呼出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../de/dcb/classgfx_sparse_bit_set_a3548bf2c4d9633fd820dcf7798a8239d_icgraph.svg" width="550" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a217ab90e5b7f12675934d7f5f274d37e"></a><!-- doxytag: member="gfxSparseBitSet::SizeOfIncludingThis" ref="a217ab90e5b7f12675934d7f5f274d37e" args="(mozilla::MallocSizeOf aMallocSizeOf) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a217ab90e5b7f12675934d7f5f274d37e">gfxSparseBitSet::SizeOfIncludingThis</a> </td>
          <td>(</td>
          <td class="paramtype">mozilla::MallocSizeOf&#160;</td>
          <td class="paramname"><em>aMallocSizeOf</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html">gfxFontUtils.h</a> の <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html#l00271">271</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html#l00261">SizeOfExcludingThis()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                        {
        <span class="keywordflow">return</span> aMallocSizeOf(<span class="keyword">this</span>) + <a class="code" href="../../de/dcb/classgfx_sparse_bit_set.html#a3548bf2c4d9633fd820dcf7798a8239d">SizeOfExcludingThis</a>(aMallocSizeOf);
    }
</pre></div>
<p><div class="dynheader">
関数の呼び出しグラフ:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../de/dcb/classgfx_sparse_bit_set_a217ab90e5b7f12675934d7f5f274d37e_cgraph.svg" width="100%" height="110"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a04c0afe2197d86698b51f000e5eba465"></a><!-- doxytag: member="gfxSparseBitSet::test" ref="a04c0afe2197d86698b51f000e5eba465" args="(uint32_t aIndex) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dd2/qcmstypes_8h.html#acac1f8caeb95c0bd16fe8c0743249831">bool</a> <a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a04c0afe2197d86698b51f000e5eba465">gfxSparseBitSet::test</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>aIndex</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html">gfxFontUtils.h</a> の <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html#l00084">84</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="../../d1/db9/ns_t_array_8h_source.html#l00370">nsTArray_base&lt; Alloc, Copy &gt;::Length()</a>, と <a class="el" href="../../dc/d6d/ns_debug_8h_source.html#l00145">NS_ASSERTION</a>.</p>

<p>参照元 <a class="el" href="../../d3/d0b/gfx_font_8h_source.html#l00307">gfxFontEntry::HasCharacter()</a>.</p>
<div class="fragment"><pre class="fragment">                                     {
        <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(mBlocks.DebugGetHeader(), <span class="stringliteral">&quot;mHdr is null, this is bad&quot;</span>);
        uint32_t blockIndex = aIndex/BLOCK_SIZE_BITS;
        <span class="keywordflow">if</span> (blockIndex &gt;= mBlocks.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>())
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        Block *block = mBlocks[blockIndex];
        <span class="keywordflow">if</span> (!block)
            <span class="keywordflow">return</span> <span class="keyword">false</span>;
        <span class="keywordflow">return</span> ((block-&gt;mBits[(aIndex&gt;&gt;3) &amp; (BLOCK_SIZE - 1)]) &amp; (1 &lt;&lt; (aIndex &amp; 0x7))) != 0;
    }
</pre></div>
<p><div class="dynheader">
関数の呼び出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../de/dcb/classgfx_sparse_bit_set_a04c0afe2197d86698b51f000e5eba465_cgraph.svg" width="363" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
呼出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../de/dcb/classgfx_sparse_bit_set_a04c0afe2197d86698b51f000e5eba465_icgraph.svg" width="392" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a328c489a5eaa3fb69b1620ceeba512f2"></a><!-- doxytag: member="gfxSparseBitSet::TestRange" ref="a328c489a5eaa3fb69b1620ceeba512f2" args="(uint32_t aStart, uint32_t aEnd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dd2/qcmstypes_8h.html#acac1f8caeb95c0bd16fe8c0743249831">bool</a> <a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a328c489a5eaa3fb69b1620ceeba512f2">gfxSparseBitSet::TestRange</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>aStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>aEnd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html">gfxFontUtils.h</a> の <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html#l00100">100</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="../../d8/d64/ns_u_r_l_helper_8h_source.html#l00152">end</a>, <a class="el" href="../../da/d7d/sylvester_8js_source.html#l00308">i</a>, <a class="el" href="../../d2/d7d/jsapi_8h_source.html#l02928">index</a>, <a class="el" href="../../d1/db9/ns_t_array_8h_source.html#l00370">nsTArray_base&lt; Alloc, Copy &gt;::Length()</a>, <a class="el" href="../../db/d13/ns_i_d_o_m_device_proximity_event_8idl_source.html#l00025">min</a>, と <a class="el" href="../../d7/dbf/build__stage_2email_2shared_2js_2media_2remote__controls_8js_source.html#l00123">start</a>.</p>
<div class="fragment"><pre class="fragment">                                                   {
        uint32_t startBlock, endBlock, blockLen;
        
        <span class="comment">// start point is beyond the end of the block array? return false immediately</span>
        startBlock = aStart &gt;&gt; BLOCK_INDEX_SHIFT;
        blockLen = mBlocks.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>();
        <span class="keywordflow">if</span> (startBlock &gt;= blockLen) <span class="keywordflow">return</span> <span class="keyword">false</span>;
        
        <span class="comment">// check for blocks in range, if none, return false</span>
        uint32_t blockIndex;
        <span class="keywordtype">bool</span> hasBlocksInRange = <span class="keyword">false</span>;

        endBlock = aEnd &gt;&gt; BLOCK_INDEX_SHIFT;
        blockIndex = startBlock;
        <span class="keywordflow">for</span> (blockIndex = startBlock; blockIndex &lt;= endBlock; blockIndex++) {
            <span class="keywordflow">if</span> (blockIndex &lt; blockLen &amp;&amp; mBlocks[blockIndex])
                hasBlocksInRange = <span class="keyword">true</span>;
        }
        <span class="keywordflow">if</span> (!hasBlocksInRange) <span class="keywordflow">return</span> <span class="keyword">false</span>;

        Block *block;
        uint32_t <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>, <a class="code" href="../../d7/dbf/build__stage_2email_2shared_2js_2media_2remote__controls_8js.html#afea9dd5375e7783397a6e3911cc64e28">start</a>, <a class="code" href="../../d8/d64/ns_u_r_l_helper_8h.html#abe43fe84431eb0cabf3c21ccc94bd756">end</a>;
        
        <span class="comment">// first block, check bits</span>
        <span class="keywordflow">if</span> ((block = mBlocks[startBlock])) {
            start = aStart;
            end = <a class="code" href="../../db/d13/ns_i_d_o_m_device_proximity_event_8idl.html#aad36546e8175d2922bee165fe028fedc">std::min</a>(aEnd, ((startBlock+1) &lt;&lt; BLOCK_INDEX_SHIFT) - 1);
            <span class="keywordflow">for</span> (i = start; i &lt;= <a class="code" href="../../d8/d64/ns_u_r_l_helper_8h.html#abe43fe84431eb0cabf3c21ccc94bd756">end</a>; i++) {
                <span class="keywordflow">if</span> ((block-&gt;mBits[(i&gt;&gt;3) &amp; (BLOCK_SIZE - 1)]) &amp; (1 &lt;&lt; (i &amp; 0x7)))
                    <span class="keywordflow">return</span> <span class="keyword">true</span>;
            }
        }
        <span class="keywordflow">if</span> (endBlock == startBlock) <span class="keywordflow">return</span> <span class="keyword">false</span>;

        <span class="comment">// [2..n-1] blocks check bytes</span>
        <span class="keywordflow">for</span> (blockIndex = startBlock + 1; blockIndex &lt; endBlock; blockIndex++) {
            uint32_t <a class="code" href="../../d2/d7d/jsapi_8h.html#aafd95f8c7a99b9189ede7cdf0871ebe8">index</a>;
            
            <span class="keywordflow">if</span> (blockIndex &gt;= blockLen || !(block = mBlocks[blockIndex])) <span class="keywordflow">continue</span>;
            <span class="keywordflow">for</span> (index = 0; index &lt; BLOCK_SIZE; index++) {
                <span class="keywordflow">if</span> (block-&gt;mBits[index]) 
                    <span class="keywordflow">return</span> <span class="keyword">true</span>;
            }
        }
        
        <span class="comment">// last block, check bits</span>
        <span class="keywordflow">if</span> (endBlock &lt; blockLen &amp;&amp; (block = mBlocks[endBlock])) {
            start = endBlock &lt;&lt; BLOCK_INDEX_SHIFT;
            end = aEnd;
            <span class="keywordflow">for</span> (i = start; i &lt;= <a class="code" href="../../d8/d64/ns_u_r_l_helper_8h.html#abe43fe84431eb0cabf3c21ccc94bd756">end</a>; i++) {
                <span class="keywordflow">if</span> ((block-&gt;mBits[(i&gt;&gt;3) &amp; (BLOCK_SIZE - 1)]) &amp; (1 &lt;&lt; (i &amp; 0x7)))
                    <span class="keywordflow">return</span> <span class="keyword">true</span>;
            }
        }
        
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }
</pre></div>
<p><div class="dynheader">
関数の呼び出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../de/dcb/classgfx_sparse_bit_set_a328c489a5eaa3fb69b1620ceeba512f2_cgraph.svg" width="406" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5cbb57d422ffeaf969606a311abc85c3"></a><!-- doxytag: member="gfxSparseBitSet::Union" ref="a5cbb57d422ffeaf969606a311abc85c3" args="(const gfxSparseBitSet &amp;aBitset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a> <a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html#a5cbb57d422ffeaf969606a311abc85c3">gfxSparseBitSet::Union</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html">gfxSparseBitSet</a> &amp;&#160;</td>
          <td class="paramname"><em>aBitset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html">gfxFontUtils.h</a> の <a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html#l00283">283</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="../../d1/db9/ns_t_array_8h_source.html#l01199">nsTArray_Impl&lt; E, Alloc &gt;::AppendElements()</a>, <a class="el" href="../../da/d7d/sylvester_8js_source.html#l00308">i</a>, <a class="el" href="../../da/d7d/sylvester_8js_source.html#l00309">j</a>, <a class="el" href="../../d1/db9/ns_t_array_8h_source.html#l00370">nsTArray_base&lt; Alloc, Copy &gt;::Length()</a>, と <a class="el" href="../../d1/d8a/_likely_8h_source.html#l00020">MOZ_UNLIKELY</a>.</p>
<div class="fragment"><pre class="fragment">                                               {
        <span class="comment">// ensure mBlocks is large enough</span>
        uint32_t blockCount = aBitset.mBlocks.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>();
        <span class="keywordflow">if</span> (blockCount &gt; mBlocks.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>()) {
            uint32_t needed = blockCount - mBlocks.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>();
            <a class="code" href="../../d1/d89/classns_auto_ptr.html">nsAutoPtr&lt;Block&gt;</a> *blocks = mBlocks.<a class="code" href="../../d4/dd8/classns_t_array___impl.html#a1c222edc1c9c3fa51d40b1bccbee6ffd">AppendElements</a>(needed);
            <span class="keywordflow">if</span> (<a class="code" href="../../d1/d8a/_likely_8h.html#a017cc7db7d122a8bd07caba5c6f9397a">MOZ_UNLIKELY</a>(!blocks)) { <span class="comment">// OOM</span>
                <span class="keywordflow">return</span>;
            }
        }
        <span class="comment">// for each block that may be present in aBitset...</span>
        <span class="keywordflow">for</span> (uint32_t <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; blockCount; ++<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>) {
            <span class="comment">// if it is missing (implicitly empty), just skip</span>
            <span class="keywordflow">if</span> (!aBitset.mBlocks[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>]) {
                <span class="keywordflow">continue</span>;
            }
            <span class="comment">// if the block is missing in this set, just copy the other</span>
            <span class="keywordflow">if</span> (!mBlocks[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>]) {
                mBlocks[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>] = <span class="keyword">new</span> Block(*aBitset.mBlocks[i]);
                <span class="keywordflow">continue</span>;
            }
            <span class="comment">// else set existing block to the union of both</span>
            uint32_t *dst = <span class="keyword">reinterpret_cast&lt;</span>uint32_t*<span class="keyword">&gt;</span>(mBlocks[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>]-&gt;mBits);
            <span class="keyword">const</span> uint32_t *src =
                <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint32_t*<span class="keyword">&gt;</span>(aBitset.mBlocks[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>]-&gt;mBits);
            <span class="keywordflow">for</span> (uint32_t <a class="code" href="../../da/d7d/sylvester_8js.html#a8a080bd96df5681d77f59f96dc5da089">j</a> = 0; <a class="code" href="../../da/d7d/sylvester_8js.html#a8a080bd96df5681d77f59f96dc5da089">j</a> &lt; BLOCK_SIZE / 4; ++<a class="code" href="../../da/d7d/sylvester_8js.html#a8a080bd96df5681d77f59f96dc5da089">j</a>) {
                dst[<a class="code" href="../../da/d7d/sylvester_8js.html#a8a080bd96df5681d77f59f96dc5da089">j</a>] |= src[<a class="code" href="../../da/d7d/sylvester_8js.html#a8a080bd96df5681d77f59f96dc5da089">j</a>];
            }
        }
    }
</pre></div>
<p><div class="dynheader">
関数の呼び出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../de/dcb/classgfx_sparse_bit_set_a5cbb57d422ffeaf969606a311abc85c3_cgraph.svg" width="435" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li><a class="el" href="../../da/d2e/gfx_font_utils_8h_source.html">gfxFontUtils.h</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../de/dcb/classgfx_sparse_bit_set.html">gfxSparseBitSet</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 00:58:40に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
