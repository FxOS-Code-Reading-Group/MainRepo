<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: nsDisplayList.h ソースファイル</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li class="current"><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>ファイル一覧</span></a></li>
      <li><a href="../../globals.html"><span>グローバル</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('de/d41/ns_display_list_8h.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">nsDisplayList.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../de/d41/ns_display_list_8h.html">説明を見る。</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a name="l00002"></a>00002 <span class="comment"> * vim: set ts=2 sw=2 et tw=78:</span>
<a name="l00003"></a>00003 <span class="comment"> * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a name="l00004"></a>00004 <span class="comment"> * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a name="l00005"></a>00005 <span class="comment"> * file, You can obtain one at http://mozilla.org/MPL/2.0/.</span>
<a name="l00006"></a>00006 <span class="comment"> */</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="comment">/*</span>
<a name="l00009"></a>00009 <span class="comment"> * structures that represent things to be painted (ordered in z-order),</span>
<a name="l00010"></a>00010 <span class="comment"> * used during painting and hit testing</span>
<a name="l00011"></a>00011 <span class="comment"> */</span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="preprocessor">#ifndef NSDISPLAYLIST_H_</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span><span class="preprocessor">#define NSDISPLAYLIST_H_</span>
<a name="l00015"></a>00015 <span class="preprocessor"></span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &quot;<a class="code" href="../../d1/da8/_attributes_8h.html">mozilla/Attributes.h</a>&quot;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &quot;<a class="code" href="../../d5/d03/ns_c_o_m_ptr_8h.html">nsCOMPtr.h</a>&quot;</span>
<a name="l00018"></a><a class="code" href="../../db/d9b/classns_display_item.html#a253d7e0fd1993dd39da93f5bfc49a3a8">00018</a> <span class="preprocessor">#include &quot;<a class="code" href="../../d4/ddc/ns_i_frame_8h.html">nsIFrame.h</a>&quot;</span>
<a name="l00019"></a><a class="code" href="../../db/d9b/classns_display_item.html#a253d7e0fd1993dd39da93f5bfc49a3a8a2f7b425ce991db9b5d2cc08ab5c62b9f">00019</a> <span class="preprocessor">#include &quot;<a class="code" href="../../dc/d42/ns_point_8h.html">nsPoint.h</a>&quot;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &quot;<a class="code" href="../../d1/dbb/ns_rect_8h.html">nsRect.h</a>&quot;</span>
<a name="l00021"></a><a class="code" href="../../d3/d0f/ns_display_item_types_8h.html#a1fb3e918bf8902beb43c56d070c0e3ee">00021</a> <span class="preprocessor">#include &quot;<a class="code" href="../../d0/de0/ns_i_selection_8h.html">nsISelection.h</a>&quot;</span>
<a name="l00022"></a><a class="code" href="../../d3/d0f/ns_display_item_types_8h.html#a1708505da1cee93730cf02212ca92450">00022</a> <span class="preprocessor">#include &quot;<a class="code" href="../../de/d6e/ns_caret_8h.html">nsCaret.h</a>&quot;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &quot;<a class="code" href="../../d5/d70/plarena_8h.html">plarena.h</a>&quot;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &quot;<a class="code" href="../../db/ded/ns_region_8h.html">nsRegion.h</a>&quot;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;<a class="code" href="../../d4/d0e/_frame_layer_builder_8h.html">FrameLayerBuilder.h</a>&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;<a class="code" href="../../d8/d02/ns_theme_constants_8h.html">nsThemeConstants.h</a>&quot;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;<a class="code" href="../../dd/d85/ns_layout_utils_8h.html">nsLayoutUtils.h</a>&quot;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="../../d0/d03/ns_display_list_invalidation_8h.html">nsDisplayListInvalidation.h</a>&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;<a class="code" href="../../da/d4c/_display_list_clip_state_8h.html">DisplayListClipState.h</a>&quot;</span>
<a name="l00030"></a>00030 
<a name="l00031"></a><a class="code" href="../../db/d9b/classns_display_item.html#a0d349c3acc1e07f0edd90434e07fe3cfa52e1808e968974129d1083c389923f9b">00031</a> <span class="preprocessor">#include &lt;stdint.h&gt;</span>
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<a name="l00034"></a><a class="code" href="../../db/d9b/classns_display_item.html#a3d0623b9188ca84b2a3b8b2ffa350372">00034</a> <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00035"></a><a class="code" href="../../db/d9b/classns_display_item.html#a3d0623b9188ca84b2a3b8b2ffa350372a2a55e92a218bb8bc0a6830d8890ae028">00035</a> 
<a name="l00036"></a>00036 <span class="keyword">class </span><a class="code" href="../../d3/d8f/classns_i_pres_shell.html">nsIPresShell</a>;
<a name="l00037"></a>00037 <span class="keyword">class </span><a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>;
<a name="l00038"></a><a class="code" href="../../db/d9b/classns_display_item.html#a6af92ca1c4e7d5e929093c6d3bfea881">00038</a> <span class="keyword">class </span><a class="code" href="../../d5/d2c/classns_rendering_context.html">nsRenderingContext</a>;
<a name="l00039"></a>00039 <span class="keyword">class </span><a class="code" href="../../d1/dd6/classns_device_context.html">nsDeviceContext</a>;
<a name="l00040"></a>00040 <span class="keyword">class </span>nsDisplayTableItem;
<a name="l00041"></a>00041 <span class="keyword">class </span><a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>;
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="keyword">namespace </span>mozilla {
<a name="l00044"></a>00044 <span class="keyword">namespace </span>layers {
<a name="l00045"></a>00045 <span class="keyword">class </span>ImageLayer;
<a name="l00046"></a>00046 <span class="keyword">class </span><a class="code" href="../../d5/d28/img_i_container_8idl.html#ad87be060ab1d8022462df3fef51db8c9">ImageContainer</a>;
<a name="l00047"></a>00047 } <span class="comment">//namepsace</span>
<a name="l00048"></a>00048 } <span class="comment">//namepsace</span>
<a name="l00049"></a>00049 
<a name="l00050"></a>00050 <span class="comment">/*</span>
<a name="l00051"></a><a class="code" href="../../db/d9b/classns_display_item.html#aa296d1da3e150e23c9666376d47f1a1a">00051</a> <span class="comment"> * An nsIFrame can have many different visual parts. For example an image frame</span>
<a name="l00052"></a>00052 <span class="comment"> * can have a background, border, and outline, the image itself, and a</span>
<a name="l00053"></a>00053 <span class="comment"> * translucent selection overlay. In general these parts can be drawn at</span>
<a name="l00054"></a>00054 <span class="comment"> * discontiguous z-levels; see CSS2.1 appendix E:</span>
<a name="l00055"></a>00055 <span class="comment"> * http://www.w3.org/TR/CSS21/zindex.html</span>
<a name="l00056"></a>00056 <span class="comment"> * </span>
<a name="l00057"></a>00057 <span class="comment"> * We construct a display list for a frame tree that contains one item</span>
<a name="l00058"></a>00058 <span class="comment"> * for each visual part. The display list is itself a tree since some items</span>
<a name="l00059"></a>00059 <span class="comment"> * are containers for other items; however, its structure does not match</span>
<a name="l00060"></a>00060 <span class="comment"> * the structure of its source frame tree. The display list items are sorted</span>
<a name="l00061"></a>00061 <span class="comment"> * by z-order. A display list can be used to paint the frames, to determine</span>
<a name="l00062"></a>00062 <span class="comment"> * which frame is the target of a mouse event, and to determine what areas</span>
<a name="l00063"></a>00063 <span class="comment"> * need to be repainted when scrolling. The display lists built for each task</span>
<a name="l00064"></a>00064 <span class="comment"> * may be different for efficiency; in particular some frames need special</span>
<a name="l00065"></a><a class="code" href="../../db/d9b/classns_display_item.html#a103188dfef101fecf2f0029c0d4fa254">00065</a> <span class="comment"> * display list items only for event handling, and do not create these items</span>
<a name="l00066"></a>00066 <span class="comment"> * when the display list will be used for painting (the common case). For</span>
<a name="l00067"></a>00067 <span class="comment"> * example, when painting we avoid creating nsDisplayBackground items for</span>
<a name="l00068"></a>00068 <span class="comment"> * frames that don&#39;t display a visible background, but for event handling</span>
<a name="l00069"></a>00069 <span class="comment"> * we need those backgrounds because they are not transparent to events.</span>
<a name="l00070"></a>00070 <span class="comment"> * </span>
<a name="l00071"></a>00071 <span class="comment"> * We could avoid constructing an explicit display list by traversing the</span>
<a name="l00072"></a>00072 <span class="comment"> * frame tree multiple times in clever ways. However, reifying the display list</span>
<a name="l00073"></a>00073 <span class="comment"> * reduces code complexity and reduces the number of times each frame must be</span>
<a name="l00074"></a>00074 <span class="comment"> * traversed to one, which seems to be good for performance. It also means</span>
<a name="l00075"></a>00075 <span class="comment"> * we can share code for painting, event handling and scroll analysis.</span>
<a name="l00076"></a>00076 <span class="comment"> * </span>
<a name="l00077"></a>00077 <span class="comment"> * Display lists are short-lived; content and frame trees cannot change</span>
<a name="l00078"></a>00078 <span class="comment"> * between a display list being created and destroyed. Display lists should</span>
<a name="l00079"></a>00079 <span class="comment"> * not be created during reflow because the frame tree may be in an</span>
<a name="l00080"></a>00080 <span class="comment"> * inconsistent state (e.g., a frame&#39;s stored overflow-area may not include</span>
<a name="l00081"></a>00081 <span class="comment"> * the bounds of all its children). However, it should be fine to create</span>
<a name="l00082"></a>00082 <span class="comment"> * a display list while a reflow is pending, before it starts.</span>
<a name="l00083"></a>00083 <span class="comment"> * </span>
<a name="l00084"></a>00084 <span class="comment"> * A display list covers the &quot;extended&quot; frame tree; the display list for a frame</span>
<a name="l00085"></a>00085 <span class="comment"> * tree containing FRAME/IFRAME elements can include frames from the subdocuments.</span>
<a name="l00086"></a>00086 <span class="comment"> *</span>
<a name="l00087"></a>00087 <span class="comment"> * Display item&#39;s coordinates are relative to their nearest reference frame ancestor.</span>
<a name="l00088"></a>00088 <span class="comment"> * Both the display root and any frame with a transform act as a reference frame</span>
<a name="l00089"></a>00089 <span class="comment"> * for their frame subtrees.</span>
<a name="l00090"></a>00090 <span class="comment"> */</span>
<a name="l00091"></a>00091 
<a name="l00092"></a>00092 <span class="comment">// All types are defined in nsDisplayItemTypes.h</span>
<a name="l00093"></a>00093 <span class="preprocessor">#ifdef MOZ_DUMP_PAINTING</span>
<a name="l00094"></a>00094 <span class="preprocessor"></span><span class="preprocessor">#define NS_DISPLAY_DECL_NAME(n, e) \</span>
<a name="l00095"></a>00095 <span class="preprocessor">  virtual const char* Name() { return n; } \</span>
<a name="l00096"></a>00096 <span class="preprocessor">  virtual Type GetType() { return e; }</span>
<a name="l00097"></a>00097 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00098"></a><a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">00098</a> <span class="preprocessor"></span><span class="preprocessor">#define NS_DISPLAY_DECL_NAME(n, e) \</span>
<a name="l00099"></a>00099 <span class="preprocessor">  virtual Type GetType() { return e; }</span>
<a name="l00100"></a>00100 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00101"></a>00101 <span class="preprocessor"></span>
<a name="l00111"></a><a class="code" href="../../df/da5/classns_display_list_builder.html">00111</a> <span class="keyword">class </span><a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a> {
<a name="l00112"></a>00112 <span class="keyword">public</span>:
<a name="l00113"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a14ba7e58e0b1d37252c872213235b189">00113</a>   <span class="keyword">typedef</span> <a class="code" href="../../d5/df4/structmozilla_1_1_frame_property_descriptor.html">mozilla::FramePropertyDescriptor</a> <a class="code" href="../../df/da5/classns_display_list_builder.html#a14ba7e58e0b1d37252c872213235b189">FramePropertyDescriptor</a>;
<a name="l00114"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#acd8bd7c496b8e77d7f133f603722008c">00114</a>   <span class="keyword">typedef</span> <a class="code" href="../../d4/d08/classmozilla_1_1_frame_layer_builder.html">mozilla::FrameLayerBuilder</a> <a class="code" href="../../df/da5/classns_display_list_builder.html#acd8bd7c496b8e77d7f133f603722008c">FrameLayerBuilder</a>;
<a name="l00115"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a25b68f8592b5fb36ead41fdf2416490b">00115</a>   <span class="keyword">typedef</span> <a class="code" href="../../da/d95/classmozilla_1_1_display_item_clip.html">mozilla::DisplayItemClip</a> <a class="code" href="../../df/da5/classns_display_list_builder.html#a25b68f8592b5fb36ead41fdf2416490b">DisplayItemClip</a>;
<a name="l00116"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a53671a6f1bba3b89ff3c1b01c7a5fe82">00116</a>   <span class="keyword">typedef</span> <a class="code" href="../../d7/de0/classmozilla_1_1_display_list_clip_state.html">mozilla::DisplayListClipState</a> <a class="code" href="../../df/da5/classns_display_list_builder.html#a53671a6f1bba3b89ff3c1b01c7a5fe82">DisplayListClipState</a>;
<a name="l00117"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a571574d0de90bc071eac25a528fa5400">00117</a>   <span class="keyword">typedef</span> <a class="code" href="../../d0/de2/structns_i_widget_1_1_theme_geometry.html">nsIWidget::ThemeGeometry</a> <a class="code" href="../../df/da5/classns_display_list_builder.html#a571574d0de90bc071eac25a528fa5400">ThemeGeometry</a>;
<a name="l00118"></a>00118 
<a name="l00127"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#aac82dd069bc08eaf85d846b95156fb24">00127</a>   <span class="keyword">enum</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#aac82dd069bc08eaf85d846b95156fb24">Mode</a> {
<a name="l00128"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#aac82dd069bc08eaf85d846b95156fb24a6c567864c25fe09a9ca4c20226af65b8">00128</a>     <a class="code" href="../../df/da5/classns_display_list_builder.html#aac82dd069bc08eaf85d846b95156fb24a6c567864c25fe09a9ca4c20226af65b8">PAINTING</a>,
<a name="l00129"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#aac82dd069bc08eaf85d846b95156fb24a4ddb8c0604dbfbc58bc860a1deb0e06f">00129</a>     <a class="code" href="../../df/da5/classns_display_list_builder.html#aac82dd069bc08eaf85d846b95156fb24a4ddb8c0604dbfbc58bc860a1deb0e06f">EVENT_DELIVERY</a>,
<a name="l00130"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#aac82dd069bc08eaf85d846b95156fb24adc765eb502e843317f077f5ec9395a49">00130</a>     <a class="code" href="../../df/da5/classns_display_list_builder.html#aac82dd069bc08eaf85d846b95156fb24adc765eb502e843317f077f5ec9395a49">PLUGIN_GEOMETRY</a>,
<a name="l00131"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#aac82dd069bc08eaf85d846b95156fb24a6f6a65d0d7b375578c00691b6a5a2641">00131</a>     <a class="code" href="../../df/da5/classns_display_list_builder.html#aac82dd069bc08eaf85d846b95156fb24a6f6a65d0d7b375578c00691b6a5a2641">IMAGE_VISIBILITY</a>,
<a name="l00132"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#aac82dd069bc08eaf85d846b95156fb24ae741395ec82643c87f47f6a29069bb75">00132</a>     <a class="code" href="../../df/da5/classns_display_list_builder.html#aac82dd069bc08eaf85d846b95156fb24ae741395ec82643c87f47f6a29069bb75">OTHER</a>
<a name="l00133"></a>00133   };
<a name="l00134"></a>00134   <a class="code" href="../../df/da5/classns_display_list_builder.html#a31f58fd21ac710ee38c13049c8732f78">nsDisplayListBuilder</a>(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aReferenceFrame, <a class="code" href="../../df/da5/classns_display_list_builder.html#aac82dd069bc08eaf85d846b95156fb24">Mode</a> aMode, <span class="keywordtype">bool</span> aBuildCaret);
<a name="l00135"></a>00135   <a class="code" href="../../df/da5/classns_display_list_builder.html#aab43bd93f05ab565782ffa801b679dcb">~nsDisplayListBuilder</a>();
<a name="l00136"></a>00136 
<a name="l00137"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a0dd0c337ba6e7b78dbb433d95ce3000a">00137</a>   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a0dd0c337ba6e7b78dbb433d95ce3000a">SetWillComputePluginGeometry</a>(<span class="keywordtype">bool</span> aWillComputePluginGeometry)
<a name="l00138"></a>00138   {
<a name="l00139"></a>00139     mWillComputePluginGeometry = aWillComputePluginGeometry;
<a name="l00140"></a>00140   }
<a name="l00141"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a63d2f17bd687d6ad9d07dd43fb932044">00141</a>   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a63d2f17bd687d6ad9d07dd43fb932044">SetForPluginGeometry</a>()
<a name="l00142"></a>00142   {
<a name="l00143"></a>00143     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(mMode == <a class="code" href="../../df/da5/classns_display_list_builder.html#aac82dd069bc08eaf85d846b95156fb24a6c567864c25fe09a9ca4c20226af65b8">PAINTING</a>, <span class="stringliteral">&quot;Can only switch from PAINTING to PLUGIN_GEOMETRY&quot;</span>);
<a name="l00144"></a>00144     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(mWillComputePluginGeometry, <span class="stringliteral">&quot;Should have signalled this in advance&quot;</span>);
<a name="l00145"></a>00145     mMode = <a class="code" href="../../df/da5/classns_display_list_builder.html#aac82dd069bc08eaf85d846b95156fb24adc765eb502e843317f077f5ec9395a49">PLUGIN_GEOMETRY</a>;
<a name="l00146"></a>00146   }
<a name="l00147"></a>00147 
<a name="l00152"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a495bb583fdfd1e7abe2f2fe9ff1259bd">00152</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a495bb583fdfd1e7abe2f2fe9ff1259bd">IsForEventDelivery</a>() { <span class="keywordflow">return</span> mMode == <a class="code" href="../../df/da5/classns_display_list_builder.html#aac82dd069bc08eaf85d846b95156fb24a4ddb8c0604dbfbc58bc860a1deb0e06f">EVENT_DELIVERY</a>; }
<a name="l00160"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a04d018538ebadc298884f72d99319c5e">00160</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a04d018538ebadc298884f72d99319c5e">IsForPluginGeometry</a>() { <span class="keywordflow">return</span> mMode == <a class="code" href="../../df/da5/classns_display_list_builder.html#aac82dd069bc08eaf85d846b95156fb24adc765eb502e843317f077f5ec9395a49">PLUGIN_GEOMETRY</a>; }
<a name="l00164"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#ab232e6c47209347baf29a93f62087830">00164</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#ab232e6c47209347baf29a93f62087830">IsForPainting</a>() { <span class="keywordflow">return</span> mMode == <a class="code" href="../../df/da5/classns_display_list_builder.html#aac82dd069bc08eaf85d846b95156fb24a6c567864c25fe09a9ca4c20226af65b8">PAINTING</a>; }
<a name="l00169"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a6acf5b33411d8e77078b39e912d89c0e">00169</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a6acf5b33411d8e77078b39e912d89c0e">IsForImageVisibility</a>() { <span class="keywordflow">return</span> mMode == <a class="code" href="../../df/da5/classns_display_list_builder.html#aac82dd069bc08eaf85d846b95156fb24a6f6a65d0d7b375578c00691b6a5a2641">IMAGE_VISIBILITY</a>; }
<a name="l00170"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a170efcdee355e412234d2da1bf705b98">00170</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a170efcdee355e412234d2da1bf705b98">WillComputePluginGeometry</a>() { <span class="keywordflow">return</span> mWillComputePluginGeometry; }
<a name="l00175"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#ab0aaccd13ab3ffdd306c81003474f411">00175</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#ab0aaccd13ab3ffdd306c81003474f411">IsBackgroundOnly</a>() {
<a name="l00176"></a>00176     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(mPresShellStates.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>() &gt; 0,
<a name="l00177"></a>00177                  <span class="stringliteral">&quot;don&#39;t call this if we&#39;re not in a presshell&quot;</span>);
<a name="l00178"></a>00178     <span class="keywordflow">return</span> CurrentPresShellState()-&gt;mIsBackgroundOnly;
<a name="l00179"></a>00179   }
<a name="l00187"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a0153118014f1fd3fe6318cb4f67480d5">00187</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a0153118014f1fd3fe6318cb4f67480d5">IsAtRootOfPseudoStackingContext</a>() { <span class="keywordflow">return</span> mIsAtRootOfPseudoStackingContext; }
<a name="l00188"></a>00188 
<a name="l00193"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#ab086b05e51bb6e8d6d2f3be0322e4346">00193</a>   <a class="code" href="../../d4/de5/interfacens_i_selection.html">nsISelection</a>* <a class="code" href="../../df/da5/classns_display_list_builder.html#ab086b05e51bb6e8d6d2f3be0322e4346">GetBoundingSelection</a>() { <span class="keywordflow">return</span> mBoundingSelection; }
<a name="l00194"></a>00194 
<a name="l00199"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a88807031b34898c0550662b2044e5aaf">00199</a>   <span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../df/da5/classns_display_list_builder.html#a88807031b34898c0550662b2044e5aaf">FindReferenceFrameFor</a>(<span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a> *aFrame)
<a name="l00200"></a>00200   {
<a name="l00201"></a>00201     <span class="keywordflow">if</span> (aFrame == mCachedOffsetFrame) {
<a name="l00202"></a>00202       <span class="keywordflow">return</span> mCachedReferenceFrame;
<a name="l00203"></a>00203     }
<a name="l00204"></a>00204     <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../d3/d4b/lockscreen_8js.html#a9cf09a2972472098a4c689fd988f4dfc">f</a> = aFrame; <a class="code" href="../../d3/d4b/lockscreen_8js.html#a9cf09a2972472098a4c689fd988f4dfc">f</a>; <a class="code" href="../../d3/d4b/lockscreen_8js.html#a9cf09a2972472098a4c689fd988f4dfc">f</a> = <a class="code" href="../../d7/de1/classns_layout_utils.html#a88c8abe452069b001c5d6f544ae02262">nsLayoutUtils::GetCrossDocParentFrame</a>(<a class="code" href="../../d3/d4b/lockscreen_8js.html#a9cf09a2972472098a4c689fd988f4dfc">f</a>))
<a name="l00205"></a>00205     {
<a name="l00206"></a>00206       <span class="keywordflow">if</span> (<a class="code" href="../../d3/d4b/lockscreen_8js.html#a9cf09a2972472098a4c689fd988f4dfc">f</a> == mReferenceFrame || <a class="code" href="../../d3/d4b/lockscreen_8js.html#a9cf09a2972472098a4c689fd988f4dfc">f</a>-&gt;IsTransformed()) {
<a name="l00207"></a>00207         mCachedOffsetFrame = aFrame;
<a name="l00208"></a>00208         mCachedReferenceFrame = <a class="code" href="../../d3/d4b/lockscreen_8js.html#a9cf09a2972472098a4c689fd988f4dfc">f</a>;
<a name="l00209"></a>00209         mCachedOffset = aFrame-&gt;<a class="code" href="../../d7/d20/classns_i_frame.html#afa2dd23a16f3f882dc5e413480f45e10">GetOffsetToCrossDoc</a>(<a class="code" href="../../d3/d4b/lockscreen_8js.html#a9cf09a2972472098a4c689fd988f4dfc">f</a>);
<a name="l00210"></a>00210         <span class="keywordflow">return</span> <a class="code" href="../../d3/d4b/lockscreen_8js.html#a9cf09a2972472098a4c689fd988f4dfc">f</a>;
<a name="l00211"></a>00211       }
<a name="l00212"></a>00212     }
<a name="l00213"></a>00213     mCachedOffsetFrame = aFrame;
<a name="l00214"></a>00214     mCachedReferenceFrame = mReferenceFrame;
<a name="l00215"></a>00215     mCachedOffset = aFrame-&gt;<a class="code" href="../../d7/d20/classns_i_frame.html#afa2dd23a16f3f882dc5e413480f45e10">GetOffsetToCrossDoc</a>(mReferenceFrame);
<a name="l00216"></a>00216     <span class="keywordflow">return</span> mReferenceFrame;
<a name="l00217"></a>00217   }
<a name="l00218"></a>00218   
<a name="l00223"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a3da0bc19aae2d3b03ba3735a7a40d5d0">00223</a>   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../df/da5/classns_display_list_builder.html#a3da0bc19aae2d3b03ba3735a7a40d5d0">RootReferenceFrame</a>() 
<a name="l00224"></a>00224   {
<a name="l00225"></a>00225     <span class="keywordflow">return</span> mReferenceFrame;
<a name="l00226"></a>00226   }
<a name="l00227"></a>00227 
<a name="l00235"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a3065db79d086998adfd7d29b6a9a49d6">00235</a>   <span class="keyword">const</span> <a class="code" href="../../d6/d7b/structns_point.html">nsPoint</a>&amp; <a class="code" href="../../df/da5/classns_display_list_builder.html#a3065db79d086998adfd7d29b6a9a49d6">ToReferenceFrame</a>(<span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame) {
<a name="l00236"></a>00236     <span class="keywordflow">if</span> (aFrame != mCachedOffsetFrame) {
<a name="l00237"></a>00237       <a class="code" href="../../df/da5/classns_display_list_builder.html#a88807031b34898c0550662b2044e5aaf">FindReferenceFrameFor</a>(aFrame);
<a name="l00238"></a>00238     }
<a name="l00239"></a>00239     <span class="keywordflow">return</span> mCachedOffset;
<a name="l00240"></a>00240   }
<a name="l00247"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a19884f7ff467743720d2402defdb788c">00247</a>   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a19884f7ff467743720d2402defdb788c">SetIgnoreScrollFrame</a>(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame) { mIgnoreScrollFrame = aFrame; }
<a name="l00251"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a8c7bd2ecc595a1cca47624d6be6ecde3">00251</a>   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../df/da5/classns_display_list_builder.html#a8c7bd2ecc595a1cca47624d6be6ecde3">GetIgnoreScrollFrame</a>() { <span class="keywordflow">return</span> mIgnoreScrollFrame; }
<a name="l00257"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a7018b016c7676270e7c04f9a4338b86e">00257</a>   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a7018b016c7676270e7c04f9a4338b86e">SetIncludeAllOutOfFlows</a>() { mIncludeAllOutOfFlows = <span class="keyword">true</span>; }
<a name="l00258"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#afaaa6bc243f035dcd6f313d7520847b6">00258</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#afaaa6bc243f035dcd6f313d7520847b6">GetIncludeAllOutOfFlows</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mIncludeAllOutOfFlows; }
<a name="l00263"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a3343c266523136fd1af107d9894263ce">00263</a>   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a3343c266523136fd1af107d9894263ce">SetSelectedFramesOnly</a>() { mSelectedFramesOnly = <span class="keyword">true</span>; }
<a name="l00264"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a8787c2ee4528ea498f1817f6c5a4b840">00264</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a8787c2ee4528ea498f1817f6c5a4b840">GetSelectedFramesOnly</a>() { <span class="keywordflow">return</span> mSelectedFramesOnly; }
<a name="l00269"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#abfa5b4e59e6db9dc1aad468f56d9c5fb">00269</a>   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#abfa5b4e59e6db9dc1aad468f56d9c5fb">SetAccurateVisibleRegions</a>() { mAccurateVisibleRegions = <span class="keyword">true</span>; }
<a name="l00270"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#aef947acbf78b83e4f7b0fc6fb4f02664">00270</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#aef947acbf78b83e4f7b0fc6fb4f02664">GetAccurateVisibleRegions</a>() { <span class="keywordflow">return</span> mAccurateVisibleRegions; }
<a name="l00275"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a8bb4b73bd45957f22cc66ecaa8685c47">00275</a>   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a8bb4b73bd45957f22cc66ecaa8685c47">IgnorePaintSuppression</a>() { mIgnoreSuppression = <span class="keyword">true</span>; }
<a name="l00279"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a73a88cc06cee9fe640facc70c2035969">00279</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a73a88cc06cee9fe640facc70c2035969">IsIgnoringPaintSuppression</a>() { <span class="keywordflow">return</span> mIgnoreSuppression; }
<a name="l00284"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a302835315b5be98cd23c1c9ba321d1ea">00284</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a302835315b5be98cd23c1c9ba321d1ea">GetHadToIgnorePaintSuppression</a>() { <span class="keywordflow">return</span> mHadToIgnoreSuppression; }
<a name="l00288"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#af95a68828bde3d2c9108286ec462a290">00288</a>   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#af95a68828bde3d2c9108286ec462a290">SetPaintingToWindow</a>(<span class="keywordtype">bool</span> aToWindow) { mIsPaintingToWindow = aToWindow; }
<a name="l00289"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a7ee9d0d6243b7504305d98ee403b6fd2">00289</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a7ee9d0d6243b7504305d98ee403b6fd2">IsPaintingToWindow</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mIsPaintingToWindow; }
<a name="l00290"></a>00290 
<a name="l00295"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a04543cfa3f7457a17dad422ef0f2c85d">00295</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a04543cfa3f7457a17dad422ef0f2c85d">AllowMergingAndFlattening</a>() { <span class="keywordflow">return</span> mAllowMergingAndFlattening; }
<a name="l00296"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a8900c8b8166cdc3512a3baa8af577dd9">00296</a>   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a8900c8b8166cdc3512a3baa8af577dd9">SetAllowMergingAndFlattening</a>(<span class="keywordtype">bool</span> aAllow) { mAllowMergingAndFlattening = aAllow; }
<a name="l00297"></a>00297 
<a name="l00302"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a3d5f21147128ca923009ae1d88bc2dcc">00302</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a3d5f21147128ca923009ae1d88bc2dcc">IsInFixedPosition</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mIsInFixedPosition; }
<a name="l00303"></a>00303 
<a name="l00304"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#aaea2cd6c88c42f40f2f5b5e285c9fde5">00304</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#aaea2cd6c88c42f40f2f5b5e285c9fde5">SetIsCompositingCheap</a>(<span class="keywordtype">bool</span> aCompositingCheap) { 
<a name="l00305"></a>00305     <span class="keywordtype">bool</span> temp = mIsCompositingCheap; 
<a name="l00306"></a>00306     mIsCompositingCheap = aCompositingCheap;
<a name="l00307"></a>00307     <span class="keywordflow">return</span> temp;
<a name="l00308"></a>00308   }
<a name="l00309"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a21a6dc79155572f342ec1fcdc7fb79c0">00309</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a21a6dc79155572f342ec1fcdc7fb79c0">IsCompositingCheap</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mIsCompositingCheap; }
<a name="l00313"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a1f010e162f7a6d4a0e7c71f7e4719189">00313</a>   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a1f010e162f7a6d4a0e7c71f7e4719189">DisplayCaret</a>(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame, <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aDirtyRect,
<a name="l00314"></a>00314                     <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* aList) {
<a name="l00315"></a>00315     <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* frame = <a class="code" href="../../df/da5/classns_display_list_builder.html#a3228d9c2b04905c80d08009af789cb1b">GetCaretFrame</a>();
<a name="l00316"></a>00316     <span class="keywordflow">if</span> (aFrame == frame) {
<a name="l00317"></a>00317       frame-&gt;<a class="code" href="../../d7/d20/classns_i_frame.html#a00933a9ccfa3619e46da6d4e84e56ed7">DisplayCaret</a>(<span class="keyword">this</span>, aDirtyRect, aList);
<a name="l00318"></a>00318     }
<a name="l00319"></a>00319   }
<a name="l00324"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a3228d9c2b04905c80d08009af789cb1b">00324</a>   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../df/da5/classns_display_list_builder.html#a3228d9c2b04905c80d08009af789cb1b">GetCaretFrame</a>() {
<a name="l00325"></a>00325     <span class="keywordflow">return</span> CurrentPresShellState()-&gt;mCaretFrame;
<a name="l00326"></a>00326   }
<a name="l00330"></a>00330   <a class="code" href="../../db/da2/classns_caret.html">nsCaret</a>* <a class="code" href="../../df/da5/classns_display_list_builder.html#a0137e3593cd476c1ec329ee4543d8f63">GetCaret</a>();
<a name="l00336"></a>00336   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a66ebed4df918e1c2d13fc239fefa8a19">EnterPresShell</a>(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aReferenceFrame, <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aDirtyRect);
<a name="l00344"></a>00344   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a4f983e9796adde5e9e6eaa4c1473f11c">ResetMarkedFramesForDisplayList</a>();
<a name="l00348"></a>00348   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a3877baff5f838d06d035b0428342b7d2">LeavePresShell</a>(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aReferenceFrame, <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aDirtyRect);
<a name="l00349"></a>00349 
<a name="l00354"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a1c901212a15bb8b066bdb0db36dbe49a">00354</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a1c901212a15bb8b066bdb0db36dbe49a">IsInTransform</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mInTransform; }
<a name="l00359"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a23474f9abbb1986069ca2a9eaafa4be3">00359</a>   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a23474f9abbb1986069ca2a9eaafa4be3">SetInTransform</a>(<span class="keywordtype">bool</span> aInTransform) { mInTransform = aInTransform; }
<a name="l00360"></a>00360 
<a name="l00364"></a>00364   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a0f0dead9d5962c485da4e2258de29b75">SetDisplayPort</a>(<span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aDisplayPort);
<a name="l00365"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#aceab1890d5b967b502c8c8ddad0a153e">00365</a>   <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>* <a class="code" href="../../df/da5/classns_display_list_builder.html#aceab1890d5b967b502c8c8ddad0a153e">GetDisplayPort</a>() { <span class="keywordflow">return</span> mHasDisplayPort ? &amp;mDisplayPort : <span class="keyword">nullptr</span>; }
<a name="l00366"></a>00366 
<a name="l00372"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#ac34b9f37a124f1909f49e5ce62767aae">00372</a>   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#ac34b9f37a124f1909f49e5ce62767aae">SetHasFixedItems</a>() { mHasFixedItems = <span class="keyword">true</span>; }
<a name="l00373"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a8dfc1b14726f1e7d2b60817567ea2a74">00373</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a8dfc1b14726f1e7d2b60817567ea2a74">GetHasFixedItems</a>() { <span class="keywordflow">return</span> mHasFixedItems; }
<a name="l00374"></a>00374 
<a name="l00383"></a>00383   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#ac2bd40666548f2938d0ea6041f0b5849">IsFixedItem</a>(<a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>* aItem,
<a name="l00384"></a>00384                    <span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>** aActiveScrolledRoot = <span class="keyword">nullptr</span>,
<a name="l00385"></a>00385                    <span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aOverrideActiveScrolledRoot = <span class="keyword">nullptr</span>);
<a name="l00386"></a>00386 
<a name="l00390"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a6bd9b6acbfff35babebd511303085d81">00390</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a6bd9b6acbfff35babebd511303085d81">ShouldSyncDecodeImages</a>() { <span class="keywordflow">return</span> mSyncDecodeImages; }
<a name="l00391"></a>00391 
<a name="l00397"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#aa4cc311229a882014180402e4140624c">00397</a>   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#aa4cc311229a882014180402e4140624c">SetSyncDecodeImages</a>(<span class="keywordtype">bool</span> aSyncDecodeImages) {
<a name="l00398"></a>00398     mSyncDecodeImages = aSyncDecodeImages;
<a name="l00399"></a>00399   }
<a name="l00400"></a>00400 
<a name="l00406"></a>00406   uint32_t <a class="code" href="../../df/da5/classns_display_list_builder.html#af06e712257ce45d2d61b27e87c08c555">GetBackgroundPaintFlags</a>();
<a name="l00407"></a>00407 
<a name="l00414"></a>00414   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#ab1c6b7adadd20701c8e88ed769eb3b08">SubtractFromVisibleRegion</a>(<a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aVisibleRegion,
<a name="l00415"></a>00415                                  <span class="keyword">const</span> <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>&amp; aRegion);
<a name="l00416"></a>00416 
<a name="l00425"></a>00425   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a3ec15379c30509f378cd2648d06611e0">MarkFramesForDisplayList</a>(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aDirtyFrame,
<a name="l00426"></a>00426                                 <span class="keyword">const</span> <a class="code" href="../../dd/d64/classns_frame_list.html">nsFrameList</a>&amp; aFrames,
<a name="l00427"></a>00427                                 <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aDirtyRect);
<a name="l00433"></a>00433   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#aaa59ca28c902279e3718dbe4df8916ef">MarkPreserve3DFramesForDisplayList</a>(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aDirtyFrame, <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aDirtyRect);
<a name="l00434"></a>00434 
<a name="l00438"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a88c4653c58bcb380197a66eab8c4179e">00438</a>   <span class="keyword">const</span> <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* <a class="code" href="../../df/da5/classns_display_list_builder.html#a88c4653c58bcb380197a66eab8c4179e">GetFinalTransparentRegion</a>() { <span class="keywordflow">return</span> mFinalTransparentRegion; }
<a name="l00443"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a5054953d9b0a1ba37b86fe83b6ef51f8">00443</a>   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a5054953d9b0a1ba37b86fe83b6ef51f8">SetFinalTransparentRegion</a>(<span class="keyword">const</span> <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>&amp; aFinalTransparentRegion)
<a name="l00444"></a>00444   {
<a name="l00445"></a>00445     mFinalTransparentRegion = &amp;aFinalTransparentRegion;
<a name="l00446"></a>00446   }
<a name="l00447"></a>00447 
<a name="l00448"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#ae1021f0bbf17d723a405c8a7031a70eb">00448</a>   <span class="keyword">const</span> <a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;ThemeGeometry&gt;</a>&amp; <a class="code" href="../../df/da5/classns_display_list_builder.html#ae1021f0bbf17d723a405c8a7031a70eb">GetThemeGeometries</a>() { <span class="keywordflow">return</span> mThemeGeometries; }
<a name="l00449"></a>00449 
<a name="l00455"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#ac3a00ecc55979899ad07b887ee107f5b">00455</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#ac3a00ecc55979899ad07b887ee107f5b">ShouldDescendIntoFrame</a>(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame)<span class="keyword"> const </span>{
<a name="l00456"></a>00456     <span class="keywordflow">return</span>
<a name="l00457"></a>00457       (aFrame-&gt;<a class="code" href="../../d7/d20/classns_i_frame.html#a52e0e0cc483f2503172dd54c05ff86a9">GetStateBits</a>() &amp; <a class="code" href="../../d4/ddc/ns_i_frame_8h.html#a75335993015c174eeeb6ff1cfe4b6856">NS_FRAME_FORCE_DISPLAY_LIST_DESCEND_INTO</a>) ||
<a name="l00458"></a>00458       <a class="code" href="../../df/da5/classns_display_list_builder.html#afaaa6bc243f035dcd6f313d7520847b6">GetIncludeAllOutOfFlows</a>();
<a name="l00459"></a>00459   }
<a name="l00460"></a>00460 
<a name="l00475"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a96e03608d88062a2e85b227f726b070c">00475</a>   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a96e03608d88062a2e85b227f726b070c">RegisterThemeGeometry</a>(uint8_t aWidgetType,
<a name="l00476"></a>00476                              <span class="keyword">const</span> <a class="code" href="../../d7/dc7/structns_int_rect.html">nsIntRect</a>&amp; aRect) {
<a name="l00477"></a>00477     <span class="keywordflow">if</span> (mIsPaintingToWindow &amp;&amp; mPresShellStates.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>() == 1) {
<a name="l00478"></a>00478       <a class="code" href="../../d0/de2/structns_i_widget_1_1_theme_geometry.html">ThemeGeometry</a> geometry(aWidgetType, aRect);
<a name="l00479"></a>00479       mThemeGeometries.<a class="code" href="../../d4/dd8/classns_t_array___impl.html#aaa99ce990d80c69a2e82c4182bb54bd2">AppendElement</a>(geometry);
<a name="l00480"></a>00480     }
<a name="l00481"></a>00481   }
<a name="l00482"></a>00482 
<a name="l00488"></a>00488   <span class="keywordtype">void</span>* <a class="code" href="../../df/da5/classns_display_list_builder.html#a128cba13cc4b84efe0c25555f4be72c2">Allocate</a>(<span class="keywordtype">size_t</span> aSize);
<a name="l00489"></a>00489 
<a name="l00494"></a>00494   <span class="keyword">const</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a25b68f8592b5fb36ead41fdf2416490b">DisplayItemClip</a>* <a class="code" href="../../df/da5/classns_display_list_builder.html#aa52996522435901ec0cb70bf5d749e76">AllocateDisplayItemClip</a>(<span class="keyword">const</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a25b68f8592b5fb36ead41fdf2416490b">DisplayItemClip</a>&amp; aOriginal);
<a name="l00495"></a>00495 
<a name="l00502"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#af3c874e67b3b59a122b66a6f62df8ec6">00502</a>   <span class="keyword">class </span><a class="code" href="../../d5/d74/classns_display_list_builder_1_1_auto_building_display_list.html">AutoBuildingDisplayList</a>;
<a name="l00503"></a>00503   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../d5/d74/classns_display_list_builder_1_1_auto_building_display_list.html">AutoBuildingDisplayList</a>;
<a name="l00504"></a><a class="code" href="../../d5/d74/classns_display_list_builder_1_1_auto_building_display_list.html">00504</a>   <span class="keyword">class </span><a class="code" href="../../d5/d74/classns_display_list_builder_1_1_auto_building_display_list.html">AutoBuildingDisplayList</a> {
<a name="l00505"></a>00505   <span class="keyword">public</span>:
<a name="l00506"></a><a class="code" href="../../d5/d74/classns_display_list_builder_1_1_auto_building_display_list.html#a968ad5d43f5d45640e54516ed4c56242">00506</a>     <a class="code" href="../../d5/d74/classns_display_list_builder_1_1_auto_building_display_list.html#a968ad5d43f5d45640e54516ed4c56242">AutoBuildingDisplayList</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keywordtype">bool</span> aIsRoot)
<a name="l00507"></a>00507       : mBuilder(aBuilder),
<a name="l00508"></a>00508         mPrevCachedOffsetFrame(aBuilder-&gt;mCachedOffsetFrame),
<a name="l00509"></a>00509         mPrevCachedReferenceFrame(aBuilder-&gt;mCachedReferenceFrame),
<a name="l00510"></a>00510         mPrevCachedOffset(aBuilder-&gt;mCachedOffset),
<a name="l00511"></a>00511         mPrevIsAtRootOfPseudoStackingContext(aBuilder-&gt;mIsAtRootOfPseudoStackingContext) {
<a name="l00512"></a>00512       aBuilder-&gt;mIsAtRootOfPseudoStackingContext = aIsRoot;
<a name="l00513"></a>00513     }
<a name="l00514"></a><a class="code" href="../../d5/d74/classns_display_list_builder_1_1_auto_building_display_list.html#aeeb4e3ed7999a6e347f91fe1f6cb0d87">00514</a>     <a class="code" href="../../d5/d74/classns_display_list_builder_1_1_auto_building_display_list.html#a968ad5d43f5d45640e54516ed4c56242">AutoBuildingDisplayList</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l00515"></a>00515                             <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aForChild, <span class="keywordtype">bool</span> aIsRoot,
<a name="l00516"></a>00516                             <span class="keywordtype">bool</span> aIsInFixedPosition)
<a name="l00517"></a>00517       : mBuilder(aBuilder),
<a name="l00518"></a>00518         mPrevCachedOffsetFrame(aBuilder-&gt;mCachedOffsetFrame),
<a name="l00519"></a>00519         mPrevCachedReferenceFrame(aBuilder-&gt;mCachedReferenceFrame),
<a name="l00520"></a>00520         mPrevCachedOffset(aBuilder-&gt;mCachedOffset),
<a name="l00521"></a>00521         mPrevIsAtRootOfPseudoStackingContext(aBuilder-&gt;mIsAtRootOfPseudoStackingContext),
<a name="l00522"></a>00522         mPrevIsInFixedPosition(aBuilder-&gt;mIsInFixedPosition) {
<a name="l00523"></a>00523       <span class="keywordflow">if</span> (aForChild-&gt;<a class="code" href="../../d7/d20/classns_i_frame.html#a0597433936de7fda5330633e582b2309">IsTransformed</a>()) {
<a name="l00524"></a>00524         aBuilder-&gt;mCachedOffset = <a class="code" href="../../d6/d7b/structns_point.html">nsPoint</a>();
<a name="l00525"></a>00525         aBuilder-&gt;mCachedReferenceFrame = aForChild;
<a name="l00526"></a>00526       } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mPrevCachedOffsetFrame == aForChild-&gt;<a class="code" href="../../d7/d20/classns_i_frame.html#a1b5771947027457edd6a60f0eb776625">GetParent</a>()) {
<a name="l00527"></a>00527         aBuilder-&gt;mCachedOffset += aForChild-&gt;<a class="code" href="../../d7/d20/classns_i_frame.html#a0b33983f9584e4f38ad43bd086488654">GetPosition</a>();
<a name="l00528"></a>00528       } <span class="keywordflow">else</span> {
<a name="l00529"></a>00529         aBuilder-&gt;mCachedOffset = aBuilder-&gt;<a class="code" href="../../df/da5/classns_display_list_builder.html#a3065db79d086998adfd7d29b6a9a49d6">ToReferenceFrame</a>(aForChild);
<a name="l00530"></a>00530       }
<a name="l00531"></a>00531       aBuilder-&gt;mCachedOffsetFrame = aForChild;
<a name="l00532"></a>00532       aBuilder-&gt;mIsAtRootOfPseudoStackingContext = aIsRoot;
<a name="l00533"></a>00533       <span class="keywordflow">if</span> (aIsInFixedPosition) {
<a name="l00534"></a>00534         aBuilder-&gt;mIsInFixedPosition = aIsInFixedPosition;
<a name="l00535"></a>00535       }
<a name="l00536"></a>00536     }
<a name="l00537"></a><a class="code" href="../../d5/d74/classns_display_list_builder_1_1_auto_building_display_list.html#ace92f7cfb95c54c5c910dc57f91907ed">00537</a>     <a class="code" href="../../d5/d74/classns_display_list_builder_1_1_auto_building_display_list.html#ace92f7cfb95c54c5c910dc57f91907ed">~AutoBuildingDisplayList</a>() {
<a name="l00538"></a>00538       mBuilder-&gt;mCachedOffsetFrame = mPrevCachedOffsetFrame;
<a name="l00539"></a>00539       mBuilder-&gt;mCachedReferenceFrame = mPrevCachedReferenceFrame;
<a name="l00540"></a>00540       mBuilder-&gt;mCachedOffset = mPrevCachedOffset;
<a name="l00541"></a>00541       mBuilder-&gt;mIsAtRootOfPseudoStackingContext = mPrevIsAtRootOfPseudoStackingContext;
<a name="l00542"></a>00542       mBuilder-&gt;mIsInFixedPosition = mPrevIsInFixedPosition;
<a name="l00543"></a>00543     }
<a name="l00544"></a>00544   <span class="keyword">private</span>:
<a name="l00545"></a>00545     <a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* mBuilder;
<a name="l00546"></a>00546     <span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*       mPrevCachedOffsetFrame;
<a name="l00547"></a>00547     <span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*       mPrevCachedReferenceFrame;
<a name="l00548"></a>00548     <a class="code" href="../../d6/d7b/structns_point.html">nsPoint</a>               mPrevCachedOffset;
<a name="l00549"></a>00549     <span class="keywordtype">bool</span>                  mPrevIsAtRootOfPseudoStackingContext;
<a name="l00550"></a>00550     <span class="keywordtype">bool</span>                  mPrevIsInFixedPosition;
<a name="l00551"></a>00551   };
<a name="l00552"></a>00552 
<a name="l00556"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a815941215a54e9fd1e10f36886046fd9">00556</a>   <span class="keyword">class </span><a class="code" href="../../d6/d1c/classns_display_list_builder_1_1_auto_in_transform_setter.html">AutoInTransformSetter</a>;
<a name="l00557"></a>00557   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../d6/d1c/classns_display_list_builder_1_1_auto_in_transform_setter.html">AutoInTransformSetter</a>;
<a name="l00558"></a><a class="code" href="../../d6/d1c/classns_display_list_builder_1_1_auto_in_transform_setter.html">00558</a>   <span class="keyword">class </span><a class="code" href="../../d6/d1c/classns_display_list_builder_1_1_auto_in_transform_setter.html">AutoInTransformSetter</a> {
<a name="l00559"></a>00559   <span class="keyword">public</span>:
<a name="l00560"></a><a class="code" href="../../d6/d1c/classns_display_list_builder_1_1_auto_in_transform_setter.html#a5605167140bce4c370b101dc56330543">00560</a>     <a class="code" href="../../d6/d1c/classns_display_list_builder_1_1_auto_in_transform_setter.html#a5605167140bce4c370b101dc56330543">AutoInTransformSetter</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keywordtype">bool</span> aInTransform)
<a name="l00561"></a>00561       : mBuilder(aBuilder), mOldValue(aBuilder-&gt;mInTransform) {
<a name="l00562"></a>00562       aBuilder-&gt;mInTransform = aInTransform;
<a name="l00563"></a>00563     }
<a name="l00564"></a><a class="code" href="../../d6/d1c/classns_display_list_builder_1_1_auto_in_transform_setter.html#a859d23ce420ad1d8eb964a08f01ca19c">00564</a>     <a class="code" href="../../d6/d1c/classns_display_list_builder_1_1_auto_in_transform_setter.html#a859d23ce420ad1d8eb964a08f01ca19c">~AutoInTransformSetter</a>() {
<a name="l00565"></a>00565       mBuilder-&gt;mInTransform = mOldValue;
<a name="l00566"></a>00566     }
<a name="l00567"></a>00567   <span class="keyword">private</span>:
<a name="l00568"></a>00568     <a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* mBuilder;
<a name="l00569"></a>00569     <span class="keywordtype">bool</span>                  mOldValue;
<a name="l00570"></a>00570   };
<a name="l00571"></a>00571 
<a name="l00572"></a>00572   <span class="comment">// Helpers for tables</span>
<a name="l00573"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a9959f88f817767a44e942e8491c1e1d6">00573</a>   nsDisplayTableItem* <a class="code" href="../../df/da5/classns_display_list_builder.html#a9959f88f817767a44e942e8491c1e1d6">GetCurrentTableItem</a>() { <span class="keywordflow">return</span> mCurrentTableItem; }
<a name="l00574"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#aded27faf081e89449202d6fa0d6f9ddd">00574</a>   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#aded27faf081e89449202d6fa0d6f9ddd">SetCurrentTableItem</a>(nsDisplayTableItem* aTableItem) { mCurrentTableItem = aTableItem; }
<a name="l00575"></a>00575 
<a name="l00576"></a><a class="code" href="../../d4/d32/structns_display_list_builder_1_1_out_of_flow_display_data.html">00576</a>   <span class="keyword">struct </span><a class="code" href="../../d4/d32/structns_display_list_builder_1_1_out_of_flow_display_data.html">OutOfFlowDisplayData</a> {
<a name="l00577"></a><a class="code" href="../../d4/d32/structns_display_list_builder_1_1_out_of_flow_display_data.html#a79b2dca7e68ba6b0243906c078d8840d">00577</a>     <a class="code" href="../../d4/d32/structns_display_list_builder_1_1_out_of_flow_display_data.html#a79b2dca7e68ba6b0243906c078d8840d">OutOfFlowDisplayData</a>(<span class="keyword">const</span> <a class="code" href="../../da/d95/classmozilla_1_1_display_item_clip.html">DisplayItemClip</a>&amp; aContainingBlockClip,
<a name="l00578"></a>00578                          <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> &amp;aDirtyRect)
<a name="l00579"></a>00579       : <a class="code" href="../../d4/d32/structns_display_list_builder_1_1_out_of_flow_display_data.html#abc7eb1d22d919c1239ec8920b6625682">mContainingBlockClip</a>(aContainingBlockClip)
<a name="l00580"></a>00580       , <a class="code" href="../../d4/d32/structns_display_list_builder_1_1_out_of_flow_display_data.html#af540b6107c1c3827eb038d788e712dd9">mDirtyRect</a>(aDirtyRect)
<a name="l00581"></a>00581     {}
<a name="l00582"></a><a class="code" href="../../d4/d32/structns_display_list_builder_1_1_out_of_flow_display_data.html#a190e803936d63d72c0df5683f218f024">00582</a>     <a class="code" href="../../d4/d32/structns_display_list_builder_1_1_out_of_flow_display_data.html#a79b2dca7e68ba6b0243906c078d8840d">OutOfFlowDisplayData</a>(<span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> &amp;aDirtyRect)
<a name="l00583"></a>00583       : <a class="code" href="../../d4/d32/structns_display_list_builder_1_1_out_of_flow_display_data.html#af540b6107c1c3827eb038d788e712dd9">mDirtyRect</a>(aDirtyRect)
<a name="l00584"></a>00584     {}
<a name="l00585"></a><a class="code" href="../../d4/d32/structns_display_list_builder_1_1_out_of_flow_display_data.html#abc7eb1d22d919c1239ec8920b6625682">00585</a>     <a class="code" href="../../da/d95/classmozilla_1_1_display_item_clip.html">DisplayItemClip</a> <a class="code" href="../../d4/d32/structns_display_list_builder_1_1_out_of_flow_display_data.html#abc7eb1d22d919c1239ec8920b6625682">mContainingBlockClip</a>;
<a name="l00586"></a><a class="code" href="../../d4/d32/structns_display_list_builder_1_1_out_of_flow_display_data.html#af540b6107c1c3827eb038d788e712dd9">00586</a>     <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> <a class="code" href="../../d4/d32/structns_display_list_builder_1_1_out_of_flow_display_data.html#af540b6107c1c3827eb038d788e712dd9">mDirtyRect</a>;
<a name="l00587"></a>00587   };
<a name="l00588"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a272fbe0ae56c6557b3a748ddbf0a9230">00588</a>   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a272fbe0ae56c6557b3a748ddbf0a9230">DestroyOutOfFlowDisplayData</a>(<span class="keywordtype">void</span>* aPropertyValue)
<a name="l00589"></a>00589   {
<a name="l00590"></a>00590     <span class="keyword">delete</span> <span class="keyword">static_cast&lt;</span><a class="code" href="../../d4/d32/structns_display_list_builder_1_1_out_of_flow_display_data.html">OutOfFlowDisplayData</a>*<span class="keyword">&gt;</span>(aPropertyValue);
<a name="l00591"></a>00591   }
<a name="l00592"></a>00592 
<a name="l00593"></a>00593   <a class="code" href="../../d4/ddc/ns_i_frame_8h.html#a3e6715b86be85b1a30bb0ee8f77ef4f0">NS_DECLARE_FRAME_PROPERTY</a>(OutOfFlowDisplayDataProperty, <a class="code" href="../../df/da5/classns_display_list_builder.html#a272fbe0ae56c6557b3a748ddbf0a9230">DestroyOutOfFlowDisplayData</a>)
<a name="l00594"></a>00594   <a class="code" href="../../d4/ddc/ns_i_frame_8h.html#a3e6715b86be85b1a30bb0ee8f77ef4f0">NS_DECLARE_FRAME_PROPERTY</a>(Preserve3DDirtyRectProperty, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>::DestroyRect)
<a name="l00595"></a>00595 
<a name="l00596"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#af883e709464bcf8bacb92adfe706aa1a">00596</a>   <a class="code" href="../../d0/d65/classns_pres_context.html">nsPresContext</a>* <a class="code" href="../../df/da5/classns_display_list_builder.html#af883e709464bcf8bacb92adfe706aa1a">CurrentPresContext</a>() {
<a name="l00597"></a>00597     <span class="keywordflow">return</span> CurrentPresShellState()-&gt;mPresShell-&gt;GetPresContext();
<a name="l00598"></a>00598   }
<a name="l00599"></a>00599 
<a name="l00605"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#af27653011e5cf7db975f334a6ffce6a2">00605</a>   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#af27653011e5cf7db975f334a6ffce6a2">AddExcludedGlassRegion</a>(<a class="code" href="../../da/d97/structns_rect.html">nsRect</a> &amp;bounds) {
<a name="l00606"></a>00606     mExcludedGlassRegion.<a class="code" href="../../d9/df6/classns_region.html#a23726ce30a9ea76581f91483ea40deeb">Or</a>(mExcludedGlassRegion, bounds);
<a name="l00607"></a>00607   }
<a name="l00608"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a4409f70d62fe8393de41982bcb5751cf">00608</a>   <span class="keyword">const</span> <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>&amp; <a class="code" href="../../df/da5/classns_display_list_builder.html#a4409f70d62fe8393de41982bcb5751cf">GetExcludedGlassRegion</a>() {
<a name="l00609"></a>00609     <span class="keywordflow">return</span> mExcludedGlassRegion;
<a name="l00610"></a>00610   }
<a name="l00611"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a6e2a30f298e270561e0a7ee0d1205848">00611</a>   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a6e2a30f298e270561e0a7ee0d1205848">SetGlassDisplayItem</a>(<a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>* aItem) {
<a name="l00612"></a>00612     <span class="keywordflow">if</span> (mGlassDisplayItem) {
<a name="l00613"></a>00613       <span class="comment">// Web pages or extensions could trigger this by using</span>
<a name="l00614"></a>00614       <span class="comment">// -moz-appearance:win-borderless-glass etc on their own elements.</span>
<a name="l00615"></a>00615       <span class="comment">// Keep the first one, since that will be the background of the root</span>
<a name="l00616"></a>00616       <span class="comment">// window</span>
<a name="l00617"></a>00617       <a class="code" href="../../dc/d6d/ns_debug_8h.html#aa7f3deb23fbcb284ef465fd28ccaaa35">NS_WARNING</a>(<span class="stringliteral">&quot;Multiple glass backgrounds found?&quot;</span>);
<a name="l00618"></a>00618     } <span class="keywordflow">else</span> {
<a name="l00619"></a>00619       mGlassDisplayItem = aItem;
<a name="l00620"></a>00620     }
<a name="l00621"></a>00621   }
<a name="l00622"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a95ab1107798b018c537af4b55bdc13dc">00622</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a95ab1107798b018c537af4b55bdc13dc">NeedToForceTransparentSurfaceForItem</a>(<a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>* aItem) {
<a name="l00623"></a>00623     <span class="keywordflow">return</span> aItem == mGlassDisplayItem;
<a name="l00624"></a>00624   }
<a name="l00625"></a>00625 
<a name="l00626"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a9c3369d95590064a223a180e0337bdfb">00626</a>   <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a9c3369d95590064a223a180e0337bdfb">SetContainsPluginItem</a>() { mContainsPluginItem = <span class="keyword">true</span>; }
<a name="l00627"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#a898f223b6cd7aa6f8e91b55189f8c073">00627</a>   <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classns_display_list_builder.html#a898f223b6cd7aa6f8e91b55189f8c073">ContainsPluginItem</a>() { <span class="keywordflow">return</span> mContainsPluginItem; }
<a name="l00628"></a>00628 
<a name="l00629"></a><a class="code" href="../../df/da5/classns_display_list_builder.html#ad8b8a3106871439c5b8464622511f577">00629</a>   <a class="code" href="../../d7/de0/classmozilla_1_1_display_list_clip_state.html">DisplayListClipState</a>&amp; <a class="code" href="../../df/da5/classns_display_list_builder.html#ad8b8a3106871439c5b8464622511f577">ClipState</a>() { <span class="keywordflow">return</span> mClipState; }
<a name="l00630"></a>00630 
<a name="l00631"></a>00631 <span class="keyword">private</span>:
<a name="l00632"></a>00632   <span class="keywordtype">void</span> MarkOutOfFlowFrameForDisplay(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aDirtyFrame, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l00633"></a>00633                                     <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aDirtyRect);
<a name="l00634"></a>00634 
<a name="l00635"></a>00635   <span class="keyword">struct </span>PresShellState {
<a name="l00636"></a>00636     <a class="code" href="../../d3/d8f/classns_i_pres_shell.html">nsIPresShell</a>* mPresShell;
<a name="l00637"></a>00637     <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*     mCaretFrame;
<a name="l00638"></a>00638     uint32_t      mFirstFrameMarkedForDisplay;
<a name="l00639"></a>00639     <span class="keywordtype">bool</span>          mIsBackgroundOnly;
<a name="l00640"></a>00640   };
<a name="l00641"></a>00641   PresShellState* CurrentPresShellState() {
<a name="l00642"></a>00642     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(mPresShellStates.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>() &gt; 0,
<a name="l00643"></a>00643                  <span class="stringliteral">&quot;Someone forgot to enter a presshell&quot;</span>);
<a name="l00644"></a>00644     <span class="keywordflow">return</span> &amp;mPresShellStates[mPresShellStates.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>() - 1];
<a name="l00645"></a>00645   }
<a name="l00646"></a>00646 
<a name="l00647"></a>00647   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                      mReferenceFrame;
<a name="l00648"></a>00648   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                      mIgnoreScrollFrame;
<a name="l00649"></a>00649   <a class="code" href="../../df/db7/struct_p_l_arena_pool.html">PLArenaPool</a>                    mPool;
<a name="l00650"></a>00650   nsCOMPtr&lt;nsISelection&gt;         mBoundingSelection;
<a name="l00651"></a>00651   <a class="code" href="../../d2/dcf/classns_auto_t_array.html">nsAutoTArray&lt;PresShellState,8&gt;</a> mPresShellStates;
<a name="l00652"></a>00652   <a class="code" href="../../d2/dcf/classns_auto_t_array.html">nsAutoTArray&lt;nsIFrame*,100&gt;</a>    mFramesMarkedForDisplay;
<a name="l00653"></a>00653   <a class="code" href="../../d2/dcf/classns_auto_t_array.html">nsAutoTArray&lt;ThemeGeometry,2&gt;</a>  mThemeGeometries;
<a name="l00654"></a>00654   nsDisplayTableItem*            mCurrentTableItem;
<a name="l00655"></a>00655   <a class="code" href="../../df/da5/classns_display_list_builder.html#a53671a6f1bba3b89ff3c1b01c7a5fe82">DisplayListClipState</a>           mClipState;
<a name="l00656"></a>00656   <span class="keyword">const</span> <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>*                mFinalTransparentRegion;
<a name="l00657"></a>00657   <span class="comment">// When mCachedOffsetFrame is non-null, mCachedOffset is the offset from</span>
<a name="l00658"></a>00658   <span class="comment">// mCachedOffsetFrame to mReferenceFrame.</span>
<a name="l00659"></a>00659   <span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                mCachedOffsetFrame;
<a name="l00660"></a>00660   <span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                mCachedReferenceFrame;
<a name="l00661"></a>00661   <a class="code" href="../../d6/d7b/structns_point.html">nsPoint</a>                        mCachedOffset;
<a name="l00662"></a>00662   <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>                         mDisplayPort;
<a name="l00663"></a>00663   <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>                       mExcludedGlassRegion;
<a name="l00664"></a>00664   <span class="comment">// The display item for the Windows window glass background, if any</span>
<a name="l00665"></a>00665   <a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>*                 mGlassDisplayItem;
<a name="l00666"></a>00666   <a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;DisplayItemClip*&gt;</a>     mDisplayItemClipsToDestroy;
<a name="l00667"></a>00667   <a class="code" href="../../df/da5/classns_display_list_builder.html#aac82dd069bc08eaf85d846b95156fb24">Mode</a>                           mMode;
<a name="l00668"></a>00668   <span class="keywordtype">bool</span>                           mBuildCaret;
<a name="l00669"></a>00669   <span class="keywordtype">bool</span>                           mIgnoreSuppression;
<a name="l00670"></a>00670   <span class="keywordtype">bool</span>                           mHadToIgnoreSuppression;
<a name="l00671"></a>00671   <span class="keywordtype">bool</span>                           mIsAtRootOfPseudoStackingContext;
<a name="l00672"></a>00672   <span class="keywordtype">bool</span>                           mIncludeAllOutOfFlows;
<a name="l00673"></a>00673   <span class="keywordtype">bool</span>                           mSelectedFramesOnly;
<a name="l00674"></a>00674   <span class="keywordtype">bool</span>                           mAccurateVisibleRegions;
<a name="l00675"></a>00675   <span class="keywordtype">bool</span>                           mAllowMergingAndFlattening;
<a name="l00676"></a>00676   <span class="keywordtype">bool</span>                           mWillComputePluginGeometry;
<a name="l00677"></a>00677   <span class="comment">// True when we&#39;re building a display list that&#39;s directly or indirectly</span>
<a name="l00678"></a>00678   <span class="comment">// under an nsDisplayTransform</span>
<a name="l00679"></a>00679   <span class="keywordtype">bool</span>                           mInTransform;
<a name="l00680"></a>00680   <span class="keywordtype">bool</span>                           mSyncDecodeImages;
<a name="l00681"></a>00681   <span class="keywordtype">bool</span>                           mIsPaintingToWindow;
<a name="l00682"></a>00682   <span class="keywordtype">bool</span>                           mHasDisplayPort;
<a name="l00683"></a>00683   <span class="keywordtype">bool</span>                           mHasFixedItems;
<a name="l00684"></a>00684   <span class="keywordtype">bool</span>                           mIsInFixedPosition;
<a name="l00685"></a>00685   <span class="keywordtype">bool</span>                           mIsCompositingCheap;
<a name="l00686"></a>00686   <span class="keywordtype">bool</span>                           mContainsPluginItem;
<a name="l00687"></a>00687 };
<a name="l00688"></a>00688 
<a name="l00689"></a>00689 <span class="keyword">class </span><a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>;
<a name="l00690"></a>00690 <span class="keyword">class </span><a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>;
<a name="l00696"></a><a class="code" href="../../d7/d5b/classns_display_item_link.html">00696</a> <span class="keyword">class </span><a class="code" href="../../d7/d5b/classns_display_item_link.html">nsDisplayItemLink</a> {
<a name="l00697"></a>00697   <span class="comment">// This is never instantiated directly, so no need to count constructors and</span>
<a name="l00698"></a>00698   <span class="comment">// destructors.</span>
<a name="l00699"></a>00699 <span class="keyword">protected</span>:
<a name="l00700"></a><a class="code" href="../../d7/d5b/classns_display_item_link.html#ac0a271b6335ca4e30f3c40153d48c205">00700</a>   <a class="code" href="../../d7/d5b/classns_display_item_link.html#ac0a271b6335ca4e30f3c40153d48c205">nsDisplayItemLink</a>() : <a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a>(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a0fd163987980515e24ce34fc3926206d">nullptr</a>) {}
<a name="l00701"></a><a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">00701</a>   <a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>* <a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a>;  
<a name="l00702"></a>00702   
<a name="l00703"></a><a class="code" href="../../d7/d5b/classns_display_item_link.html#ab87e1cfa3dcec21180f5f9f1f55c3ac3">00703</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>;
<a name="l00704"></a>00704 };
<a name="l00705"></a>00705 
<a name="l00721"></a><a class="code" href="../../db/d9b/classns_display_item.html">00721</a> <span class="keyword">class </span><a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a> : <span class="keyword">public</span> <a class="code" href="../../d7/d5b/classns_display_item_link.html">nsDisplayItemLink</a> {
<a name="l00722"></a>00722 <span class="keyword">public</span>:
<a name="l00723"></a><a class="code" href="../../db/d9b/classns_display_item.html#a45cddfd479c69810f585748f94134e53">00723</a>   <span class="keyword">typedef</span> <a class="code" href="../../d4/d07/structmozilla_1_1_frame_layer_builder_1_1_container_parameters.html">mozilla::FrameLayerBuilder::ContainerParameters</a> <a class="code" href="../../db/d9b/classns_display_item.html#a45cddfd479c69810f585748f94134e53">ContainerParameters</a>;
<a name="l00724"></a><a class="code" href="../../db/d9b/classns_display_item.html#aef5bfa0de0e88156c818137ab5e8e706">00724</a>   <span class="keyword">typedef</span> <a class="code" href="../../da/d95/classmozilla_1_1_display_item_clip.html">mozilla::DisplayItemClip</a> <a class="code" href="../../db/d9b/classns_display_item.html#aef5bfa0de0e88156c818137ab5e8e706">DisplayItemClip</a>;
<a name="l00725"></a><a class="code" href="../../db/d9b/classns_display_item.html#a9a7ede7820371407e52bc4ef6b11af70">00725</a>   <span class="keyword">typedef</span> <a class="code" href="../../d5/d2f/structmozilla_1_1layers_1_1_frame_metrics.html#a14bc9b87ae19d1bdce232fc35c295483">mozilla::layers::FrameMetrics::ViewID</a> <a class="code" href="../../db/d9b/classns_display_item.html#a9a7ede7820371407e52bc4ef6b11af70">ViewID</a>;
<a name="l00726"></a><a class="code" href="../../db/d9b/classns_display_item.html#a921a148514f29c92a141f67c5d405f65">00726</a>   <span class="keyword">typedef</span> <a class="code" href="../../d9/da9/classmozilla_1_1layers_1_1_layer.html">mozilla::layers::Layer</a> <a class="code" href="../../db/d9b/classns_display_item.html#a921a148514f29c92a141f67c5d405f65">Layer</a>;
<a name="l00727"></a><a class="code" href="../../db/d9b/classns_display_item.html#aa51d33021d04f66b501a059850d1bdd1">00727</a>   <span class="keyword">typedef</span> <a class="code" href="../../d1/d01/classmozilla_1_1layers_1_1_layer_manager.html">mozilla::layers::LayerManager</a> <a class="code" href="../../db/d9b/classns_display_item.html#aa51d33021d04f66b501a059850d1bdd1">LayerManager</a>;
<a name="l00728"></a><a class="code" href="../../db/d9b/classns_display_item.html#a7c3b7c5e711061b9b50819b61447fb2a">00728</a>   <span class="keyword">typedef</span> <a class="code" href="../../d2/d93/namespacemozilla.html#a6c455799d5086a95a2600b3f9e4c4e9f">mozilla::LayerState</a> <a class="code" href="../../db/d9b/classns_display_item.html#a7c3b7c5e711061b9b50819b61447fb2a">LayerState</a>;
<a name="l00729"></a>00729 
<a name="l00730"></a>00730   <span class="comment">// This is never instantiated directly (it has pure virtual methods), so no</span>
<a name="l00731"></a>00731   <span class="comment">// need to count constructors and destructors.</span>
<a name="l00732"></a><a class="code" href="../../db/d9b/classns_display_item.html#ac03f419a392ca1a42ac3303dcbd731a1">00732</a>   <a class="code" href="../../db/d9b/classns_display_item.html#ac5223906de51954503092c955fd433a6">nsDisplayItem</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame)
<a name="l00733"></a>00733     : <a class="code" href="../../db/d9b/classns_display_item.html#a3e1d3f6792b6f9d85907bbcd98b385fa">mFrame</a>(aFrame)
<a name="l00734"></a>00734     , <a class="code" href="../../db/d9b/classns_display_item.html#a61ce9d84502256cd56ae5c090db1aab1">mClip</a>(aBuilder-&gt;ClipState().GetCurrentCombinedClip(aBuilder))
<a name="l00735"></a>00735 #ifdef MOZ_DUMP_PAINTING
<a name="l00736"></a>00736     , mPainted(<a class="code" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>)
<a name="l00737"></a>00737 #endif
<a name="l00738"></a>00738   {
<a name="l00739"></a>00739     <a class="code" href="../../db/d9b/classns_display_item.html#aa2be34c1307e7ef907ff221fe727f46c">mReferenceFrame</a> = aBuilder-&gt;<a class="code" href="../../df/da5/classns_display_list_builder.html#a88807031b34898c0550662b2044e5aaf">FindReferenceFrameFor</a>(aFrame);
<a name="l00740"></a>00740     <a class="code" href="../../db/d9b/classns_display_item.html#ad08134153a99a9948d0d67016e64eeb2">mToReferenceFrame</a> = aBuilder-&gt;<a class="code" href="../../df/da5/classns_display_list_builder.html#a3065db79d086998adfd7d29b6a9a49d6">ToReferenceFrame</a>(aFrame);
<a name="l00741"></a>00741   }
<a name="l00742"></a><a class="code" href="../../db/d9b/classns_display_item.html#af9979ae3dbe018c16016259774a48d28">00742</a>   <a class="code" href="../../db/d9b/classns_display_item.html#ac5223906de51954503092c955fd433a6">nsDisplayItem</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l00743"></a>00743                 <span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aReferenceFrame,
<a name="l00744"></a>00744                 <span class="keyword">const</span> <a class="code" href="../../d6/d7b/structns_point.html">nsPoint</a>&amp; aToReferenceFrame)
<a name="l00745"></a>00745     : <a class="code" href="../../db/d9b/classns_display_item.html#a3e1d3f6792b6f9d85907bbcd98b385fa">mFrame</a>(aFrame)
<a name="l00746"></a>00746     , <a class="code" href="../../db/d9b/classns_display_item.html#a61ce9d84502256cd56ae5c090db1aab1">mClip</a>(aBuilder-&gt;ClipState().GetCurrentCombinedClip(aBuilder))
<a name="l00747"></a>00747     , <a class="code" href="../../db/d9b/classns_display_item.html#aa2be34c1307e7ef907ff221fe727f46c">mReferenceFrame</a>(aReferenceFrame)
<a name="l00748"></a>00748     , <a class="code" href="../../db/d9b/classns_display_item.html#ad08134153a99a9948d0d67016e64eeb2">mToReferenceFrame</a>(aToReferenceFrame)
<a name="l00749"></a>00749 #ifdef MOZ_DUMP_PAINTING
<a name="l00750"></a>00750     , mPainted(<a class="code" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>)
<a name="l00751"></a>00751 #endif
<a name="l00752"></a>00752   {
<a name="l00753"></a>00753   }
<a name="l00758"></a><a class="code" href="../../db/d9b/classns_display_item.html#ab3d3e4f9d7ac031f2447a48b532d0087">00758</a>   <a class="code" href="../../db/d9b/classns_display_item.html#ac5223906de51954503092c955fd433a6">nsDisplayItem</a>(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame)
<a name="l00759"></a>00759     : <a class="code" href="../../db/d9b/classns_display_item.html#a3e1d3f6792b6f9d85907bbcd98b385fa">mFrame</a>(aFrame)
<a name="l00760"></a>00760     , <a class="code" href="../../db/d9b/classns_display_item.html#a61ce9d84502256cd56ae5c090db1aab1">mClip</a>(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a0fd163987980515e24ce34fc3926206d">nullptr</a>)
<a name="l00761"></a>00761     , <a class="code" href="../../db/d9b/classns_display_item.html#aa2be34c1307e7ef907ff221fe727f46c">mReferenceFrame</a>(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a0fd163987980515e24ce34fc3926206d">nullptr</a>)
<a name="l00762"></a>00762 #ifdef MOZ_DUMP_PAINTING
<a name="l00763"></a>00763     , mPainted(<a class="code" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>)
<a name="l00764"></a>00764 #endif
<a name="l00765"></a>00765   {
<a name="l00766"></a>00766   }
<a name="l00767"></a><a class="code" href="../../db/d9b/classns_display_item.html#ac4f8cd16d0de85379318fe2dfe65b101">00767</a>   <span class="keyword">virtual</span> <a class="code" href="../../db/d9b/classns_display_item.html#ac4f8cd16d0de85379318fe2dfe65b101">~nsDisplayItem</a>() {}
<a name="l00768"></a>00768   
<a name="l00769"></a><a class="code" href="../../db/d9b/classns_display_item.html#a2a21594748eee180e53985cb4e40a9ec">00769</a>   <span class="keywordtype">void</span>* <a class="code" href="../../db/d9b/classns_display_item.html#a2a21594748eee180e53985cb4e40a9ec">operator new</a>(<span class="keywordtype">size_t</span> aSize,
<a name="l00770"></a>00770                      <a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder) <a class="code" href="../../d7/d2d/xpcom-config_8h.html#a9a0878f36babdc2feb3a8352a64a434d">CPP_THROW_NEW</a> {
<a name="l00771"></a>00771     <span class="keywordflow">return</span> aBuilder-&gt;Allocate(aSize);
<a name="l00772"></a>00772   }
<a name="l00773"></a>00773 
<a name="l00774"></a>00774 <span class="comment">// Contains all the type integers for each display list item type</span>
<a name="l00775"></a>00775 <span class="preprocessor">#include &quot;<a class="code" href="../../d3/d0f/ns_display_item_types_8h.html">nsDisplayItemTypes.h</a>&quot;</span>
<a name="l00776"></a>00776 
<a name="l00777"></a><a class="code" href="../../d2/d17/structns_display_item_1_1_hit_test_state.html">00777</a>   <span class="keyword">struct </span><a class="code" href="../../d2/d17/structns_display_item_1_1_hit_test_state.html">HitTestState</a> {
<a name="l00778"></a><a class="code" href="../../d2/d17/structns_display_item_1_1_hit_test_state.html#a7b43564864a27bdad08e554d02ab82bf">00778</a>     <span class="keyword">typedef</span> <a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;ViewID&gt;</a> <a class="code" href="../../d2/d17/structns_display_item_1_1_hit_test_state.html#a7b43564864a27bdad08e554d02ab82bf">ShadowArray</a>;
<a name="l00779"></a>00779 
<a name="l00780"></a><a class="code" href="../../d2/d17/structns_display_item_1_1_hit_test_state.html#a9f38226929480bbdbb5f682b6a842cb8">00780</a>     <a class="code" href="../../d2/d17/structns_display_item_1_1_hit_test_state.html#a9f38226929480bbdbb5f682b6a842cb8">HitTestState</a>(<a class="code" href="../../d8/d6f/classns_t_array.html">ShadowArray</a>* aShadows = <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00781"></a>00781       : <a class="code" href="../../d2/d17/structns_display_item_1_1_hit_test_state.html#a004cbfbfd983c90d7bf40a6ef0bac116">mShadows</a>(aShadows) {
<a name="l00782"></a>00782     }
<a name="l00783"></a>00783 
<a name="l00784"></a><a class="code" href="../../d2/d17/structns_display_item_1_1_hit_test_state.html#a3d11da3d54ed17f2a5a5fa1abf922424">00784</a>     <a class="code" href="../../d2/d17/structns_display_item_1_1_hit_test_state.html#a3d11da3d54ed17f2a5a5fa1abf922424">~HitTestState</a>() {
<a name="l00785"></a>00785       <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(<a class="code" href="../../d2/d17/structns_display_item_1_1_hit_test_state.html#ac140de0000aedae6ece4041ed069e607">mItemBuffer</a>.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>() == 0,
<a name="l00786"></a>00786                    <span class="stringliteral">&quot;mItemBuffer should have been cleared&quot;</span>);
<a name="l00787"></a>00787     }
<a name="l00788"></a>00788 
<a name="l00789"></a><a class="code" href="../../d2/d17/structns_display_item_1_1_hit_test_state.html#ac140de0000aedae6ece4041ed069e607">00789</a>     <a class="code" href="../../d2/dcf/classns_auto_t_array.html">nsAutoTArray&lt;nsDisplayItem*, 100&gt;</a> <a class="code" href="../../d2/d17/structns_display_item_1_1_hit_test_state.html#ac140de0000aedae6ece4041ed069e607">mItemBuffer</a>;
<a name="l00790"></a>00790 
<a name="l00791"></a>00791     <span class="comment">// It is sometimes useful to hit test for frames that are not in this</span>
<a name="l00792"></a>00792     <span class="comment">// process. Display items may append IDs into this array if it is</span>
<a name="l00793"></a>00793     <span class="comment">// non-null.</span>
<a name="l00794"></a><a class="code" href="../../d2/d17/structns_display_item_1_1_hit_test_state.html#a004cbfbfd983c90d7bf40a6ef0bac116">00794</a>     <a class="code" href="../../d8/d6f/classns_t_array.html">ShadowArray</a>* <a class="code" href="../../d2/d17/structns_display_item_1_1_hit_test_state.html#a004cbfbfd983c90d7bf40a6ef0bac116">mShadows</a>;
<a name="l00795"></a>00795   };
<a name="l00796"></a>00796 
<a name="l00802"></a>00802   <span class="keyword">virtual</span> <a class="code" href="../../db/d9b/classns_display_item.html#a253d7e0fd1993dd39da93f5bfc49a3a8">Type</a> <a class="code" href="../../db/d9b/classns_display_item.html#a767e8d7cbc75563bcd62fcb9611a94ab">GetType</a>() = 0;
<a name="l00808"></a><a class="code" href="../../db/d9b/classns_display_item.html#ae29940fc9262fc7a5b32c4d58bc973c3">00808</a>   <span class="keyword">virtual</span> uint32_t <a class="code" href="../../db/d9b/classns_display_item.html#ae29940fc9262fc7a5b32c4d58bc973c3">GetPerFrameKey</a>() { <span class="keywordflow">return</span> uint32_t(<a class="code" href="../../db/d9b/classns_display_item.html#a767e8d7cbc75563bcd62fcb9611a94ab">GetType</a>()); }
<a name="l00822"></a><a class="code" href="../../db/d9b/classns_display_item.html#afecf9610497e345584febb2bf6bf3f91">00822</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d9b/classns_display_item.html#afecf9610497e345584febb2bf6bf3f91">HitTest</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aRect,
<a name="l00823"></a>00823                        <a class="code" href="../../d2/d17/structns_display_item_1_1_hit_test_state.html">HitTestState</a>* aState, <a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;nsIFrame*&gt;</a> *aOutFrames) {}
<a name="l00829"></a><a class="code" href="../../db/d9b/classns_display_item.html#a09d78bf13081dd2c56c1c24d44f1bed4">00829</a>   <span class="keyword">inline</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../db/d9b/classns_display_item.html#a09d78bf13081dd2c56c1c24d44f1bed4">Frame</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../db/d9b/classns_display_item.html#a3e1d3f6792b6f9d85907bbcd98b385fa">mFrame</a>; }
<a name="l00841"></a><a class="code" href="../../db/d9b/classns_display_item.html#a354daf337df751ffd6e712f5cf2f2b40">00841</a>   <span class="keyword">virtual</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> <a class="code" href="../../db/d9b/classns_display_item.html#a354daf337df751ffd6e712f5cf2f2b40">GetBounds</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keywordtype">bool</span>* aSnap)
<a name="l00842"></a>00842   {
<a name="l00843"></a>00843     *aSnap = <span class="keyword">false</span>;
<a name="l00844"></a>00844     <span class="keywordflow">return</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>(<a class="code" href="../../db/d9b/classns_display_item.html#ac72fa0bfb6db872125966b9322114dee">ToReferenceFrame</a>(), <a class="code" href="../../db/d9b/classns_display_item.html#a09d78bf13081dd2c56c1c24d44f1bed4">Frame</a>()-&gt;GetSize());
<a name="l00845"></a>00845   }
<a name="l00851"></a>00851   <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> <a class="code" href="../../db/d9b/classns_display_item.html#a34eec7734fcdd91e050c32ca9e709ce0">GetClippedBounds</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder);
<a name="l00852"></a><a class="code" href="../../db/d9b/classns_display_item.html#a1e687c6e41d6b523855a1fb6e8dac301">00852</a>   <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> <a class="code" href="../../db/d9b/classns_display_item.html#a1e687c6e41d6b523855a1fb6e8dac301">GetBorderRect</a>() {
<a name="l00853"></a>00853     <span class="keywordflow">return</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>(<a class="code" href="../../db/d9b/classns_display_item.html#ac72fa0bfb6db872125966b9322114dee">ToReferenceFrame</a>(), <a class="code" href="../../db/d9b/classns_display_item.html#a09d78bf13081dd2c56c1c24d44f1bed4">Frame</a>()-&gt;GetSize());
<a name="l00854"></a>00854   }
<a name="l00855"></a><a class="code" href="../../db/d9b/classns_display_item.html#a0781e2672e9b44bdf4df321e2fed0e94">00855</a>   <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> <a class="code" href="../../db/d9b/classns_display_item.html#a0781e2672e9b44bdf4df321e2fed0e94">GetPaddingRect</a>() {
<a name="l00856"></a>00856     <span class="keywordflow">return</span> <a class="code" href="../../db/d9b/classns_display_item.html#a09d78bf13081dd2c56c1c24d44f1bed4">Frame</a>()-&gt;<a class="code" href="../../d7/d20/classns_i_frame.html#aed6937bcba0e020290075d5f91545b1b">GetPaddingRectRelativeToSelf</a>() + <a class="code" href="../../db/d9b/classns_display_item.html#ac72fa0bfb6db872125966b9322114dee">ToReferenceFrame</a>();
<a name="l00857"></a>00857   }
<a name="l00858"></a><a class="code" href="../../db/d9b/classns_display_item.html#a79171d51ac8a6335fd68885ab53a826c">00858</a>   <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> <a class="code" href="../../db/d9b/classns_display_item.html#a79171d51ac8a6335fd68885ab53a826c">GetContentRect</a>() {
<a name="l00859"></a>00859     <span class="keywordflow">return</span> <a class="code" href="../../db/d9b/classns_display_item.html#a09d78bf13081dd2c56c1c24d44f1bed4">Frame</a>()-&gt;<a class="code" href="../../d7/d20/classns_i_frame.html#ad1bebdb55ae3d9710c41203c730f739c">GetContentRectRelativeToSelf</a>() + <a class="code" href="../../db/d9b/classns_display_item.html#ac72fa0bfb6db872125966b9322114dee">ToReferenceFrame</a>();
<a name="l00860"></a>00860   }
<a name="l00861"></a>00861 
<a name="l00866"></a><a class="code" href="../../db/d9b/classns_display_item.html#a8292ae4cfa7ddc2fa63783db9392e7f4">00866</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../db/d9b/classns_display_item.html#a8292ae4cfa7ddc2fa63783db9392e7f4">IsInvalid</a>(<a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aRect) { 
<a name="l00867"></a>00867     <span class="keywordtype">bool</span> <a class="code" href="../../da/d7d/cook_8js.html#a65ab37df1aa3fe0eb3d8e51a835fb617">result</a> = <a class="code" href="../../db/d9b/classns_display_item.html#a3e1d3f6792b6f9d85907bbcd98b385fa">mFrame</a> ? <a class="code" href="../../db/d9b/classns_display_item.html#a3e1d3f6792b6f9d85907bbcd98b385fa">mFrame</a>-&gt;<a class="code" href="../../d7/d20/classns_i_frame.html#a66ee2c4c67a79936fb24c61c297421e7">IsInvalid</a>(aRect) : <span class="keyword">false</span>;
<a name="l00868"></a>00868     aRect += <a class="code" href="../../db/d9b/classns_display_item.html#ac72fa0bfb6db872125966b9322114dee">ToReferenceFrame</a>();
<a name="l00869"></a>00869     <span class="keywordflow">return</span> <a class="code" href="../../da/d7d/cook_8js.html#a65ab37df1aa3fe0eb3d8e51a835fb617">result</a>;
<a name="l00870"></a>00870   }
<a name="l00871"></a>00871 
<a name="l00885"></a><a class="code" href="../../db/d9b/classns_display_item.html#a4247cef5e74d8255ca91dfa65106ed06">00885</a>   <span class="keyword">virtual</span> <a class="code" href="../../df/dac/classns_display_item_geometry.html">nsDisplayItemGeometry</a>* <a class="code" href="../../db/d9b/classns_display_item.html#a4247cef5e74d8255ca91dfa65106ed06">AllocateGeometry</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder)
<a name="l00886"></a>00886   {
<a name="l00887"></a>00887     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../d3/d28/classns_display_item_generic_geometry.html">nsDisplayItemGenericGeometry</a>(<span class="keyword">this</span>, aBuilder);
<a name="l00888"></a>00888   }
<a name="l00889"></a>00889 
<a name="l00906"></a><a class="code" href="../../db/d9b/classns_display_item.html#aadd46b3542ca1257d1009103cb451175">00906</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d9b/classns_display_item.html#aadd46b3542ca1257d1009103cb451175">ComputeInvalidationRegion</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l00907"></a>00907                                          <span class="keyword">const</span> <a class="code" href="../../df/dac/classns_display_item_geometry.html">nsDisplayItemGeometry</a>* aGeometry,
<a name="l00908"></a>00908                                          <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aInvalidRegion)
<a name="l00909"></a>00909   {
<a name="l00910"></a>00910     <span class="keyword">const</span> <a class="code" href="../../d3/d28/classns_display_item_generic_geometry.html">nsDisplayItemGenericGeometry</a>* geometry = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d3/d28/classns_display_item_generic_geometry.html">nsDisplayItemGenericGeometry</a>*<span class="keyword">&gt;</span>(aGeometry);
<a name="l00911"></a>00911     <span class="keywordtype">bool</span> snap;
<a name="l00912"></a>00912     <span class="keywordflow">if</span> (!geometry-&gt;<a class="code" href="../../df/dac/classns_display_item_geometry.html#aa1486a457355e01f6d1bd44419c84b13">mBounds</a>.<a class="code" href="../../dc/db8/structmozilla_1_1gfx_1_1_base_rect.html#aa73c9818634a416ded6d10a3da1caf50">IsEqualInterior</a>(<a class="code" href="../../db/d9b/classns_display_item.html#a354daf337df751ffd6e712f5cf2f2b40">GetBounds</a>(aBuilder, &amp;snap)) ||
<a name="l00913"></a>00913         !geometry-&gt;<a class="code" href="../../d3/d28/classns_display_item_generic_geometry.html#a0d936b6a2205b1f7acc377a0bb4f612d">mBorderRect</a>.<a class="code" href="../../dc/db8/structmozilla_1_1gfx_1_1_base_rect.html#aa73c9818634a416ded6d10a3da1caf50">IsEqualInterior</a>(<a class="code" href="../../db/d9b/classns_display_item.html#a1e687c6e41d6b523855a1fb6e8dac301">GetBorderRect</a>())) {
<a name="l00914"></a>00914       aInvalidRegion-&gt;<a class="code" href="../../d9/df6/classns_region.html#a23726ce30a9ea76581f91483ea40deeb">Or</a>(<a class="code" href="../../db/d9b/classns_display_item.html#a354daf337df751ffd6e712f5cf2f2b40">GetBounds</a>(aBuilder, &amp;snap), geometry-&gt;<a class="code" href="../../df/dac/classns_display_item_geometry.html#aa1486a457355e01f6d1bd44419c84b13">mBounds</a>);
<a name="l00915"></a>00915     }
<a name="l00916"></a>00916   }
<a name="l00917"></a>00917 
<a name="l00922"></a><a class="code" href="../../db/d9b/classns_display_item.html#a7e7b428fd11dce94a9b154cd4ae29c1e">00922</a>   <span class="keywordtype">void</span> <a class="code" href="../../db/d9b/classns_display_item.html#a7e7b428fd11dce94a9b154cd4ae29c1e">ComputeInvalidationRegionDifference</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l00923"></a>00923                                            <span class="keyword">const</span> <a class="code" href="../../d1/d42/classns_display_item_bounds_geometry.html">nsDisplayItemBoundsGeometry</a>* aGeometry,
<a name="l00924"></a>00924                                            <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aInvalidRegion)
<a name="l00925"></a>00925   {
<a name="l00926"></a>00926     <span class="keywordtype">bool</span> snap;
<a name="l00927"></a>00927     <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> bounds = <a class="code" href="../../db/d9b/classns_display_item.html#a354daf337df751ffd6e712f5cf2f2b40">GetBounds</a>(aBuilder, &amp;snap);
<a name="l00928"></a>00928 
<a name="l00929"></a>00929     <span class="keywordflow">if</span> (!aGeometry-&gt;<a class="code" href="../../df/dac/classns_display_item_geometry.html#aa1486a457355e01f6d1bd44419c84b13">mBounds</a>.<a class="code" href="../../dc/db8/structmozilla_1_1gfx_1_1_base_rect.html#aa73c9818634a416ded6d10a3da1caf50">IsEqualInterior</a>(bounds)) {
<a name="l00930"></a>00930       <a class="code" href="../../d6/ddb/ns_coord_8h.html#a0c2491d56285ed87d3ac31ee241e81e7">nscoord</a> radii[8];
<a name="l00931"></a>00931       <span class="keywordflow">if</span> (aGeometry-&gt;<a class="code" href="../../d1/d42/classns_display_item_bounds_geometry.html#abe7c17cfffff38460d96c76f66e3a397">mHasRoundedCorners</a> ||
<a name="l00932"></a>00932           <a class="code" href="../../db/d9b/classns_display_item.html#a09d78bf13081dd2c56c1c24d44f1bed4">Frame</a>()-&gt;<a class="code" href="../../d7/d20/classns_i_frame.html#aba76cf8fd47f098cdb7893590835b51c">GetBorderRadii</a>(radii)) {
<a name="l00933"></a>00933         aInvalidRegion-&gt;<a class="code" href="../../d9/df6/classns_region.html#a23726ce30a9ea76581f91483ea40deeb">Or</a>(aGeometry-&gt;<a class="code" href="../../df/dac/classns_display_item_geometry.html#aa1486a457355e01f6d1bd44419c84b13">mBounds</a>, bounds);
<a name="l00934"></a>00934       } <span class="keywordflow">else</span> {
<a name="l00935"></a>00935         aInvalidRegion-&gt;<a class="code" href="../../d9/df6/classns_region.html#ab4464a5607385ca0c853da35f19c1e14">Xor</a>(aGeometry-&gt;<a class="code" href="../../df/dac/classns_display_item_geometry.html#aa1486a457355e01f6d1bd44419c84b13">mBounds</a>, bounds);
<a name="l00936"></a>00936       }
<a name="l00937"></a>00937     }
<a name="l00938"></a>00938   }
<a name="l00939"></a>00939 
<a name="l00945"></a>00945   <span class="keywordtype">void</span> <a class="code" href="../../db/d9b/classns_display_item.html#ae014efa1f6f9149bd6c95bb0442d6528">AddInvalidRegionForSyncDecodeBackgroundImages</a>(
<a name="l00946"></a>00946     <a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l00947"></a>00947     <span class="keyword">const</span> <a class="code" href="../../df/dac/classns_display_item_geometry.html">nsDisplayItemGeometry</a>* aGeometry,
<a name="l00948"></a>00948     <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aInvalidRegion);
<a name="l00949"></a>00949 
<a name="l00958"></a><a class="code" href="../../db/d9b/classns_display_item.html#a1d08b989e5d90ff3c4e20a88e9f5c857">00958</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d9b/classns_display_item.html#a1d08b989e5d90ff3c4e20a88e9f5c857">NotifyRenderingChanged</a>() {}
<a name="l00959"></a>00959 
<a name="l00970"></a><a class="code" href="../../db/d9b/classns_display_item.html#a1ec5e42e75ffe5fc8687cbee8565574b">00970</a>   <span class="keyword">virtual</span> <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a> <a class="code" href="../../db/d9b/classns_display_item.html#a1ec5e42e75ffe5fc8687cbee8565574b">GetOpaqueRegion</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l00971"></a>00971                                    <span class="keywordtype">bool</span>* aSnap)
<a name="l00972"></a>00972   {
<a name="l00973"></a>00973     *aSnap = <span class="keyword">false</span>;
<a name="l00974"></a>00974     <span class="keywordflow">return</span> <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>();
<a name="l00975"></a>00975   }
<a name="l00981"></a><a class="code" href="../../db/d9b/classns_display_item.html#a9efd0274778dcc776a9882e241dbf0ab">00981</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../db/d9b/classns_display_item.html#a9efd0274778dcc776a9882e241dbf0ab">IsUniform</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d9/d6a/ns_color_8h.html#abee756dec22b05b8b36337fea5612041">nscolor</a>* aColor) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00989"></a><a class="code" href="../../db/d9b/classns_display_item.html#abdb0ede5012bfbd6dc0937d539f845c4">00989</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../db/d9b/classns_display_item.html#abdb0ede5012bfbd6dc0937d539f845c4">IsVaryingRelativeToMovingFrame</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l00990"></a>00990                                                 <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame)
<a name="l00991"></a>00991   { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00997"></a><a class="code" href="../../db/d9b/classns_display_item.html#a0819e7335a1b2edc233f4c74975c278d">00997</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../db/d9b/classns_display_item.html#a0819e7335a1b2edc233f4c74975c278d">ShouldFixToViewport</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder)
<a name="l00998"></a>00998   { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00999"></a>00999 
<a name="l01004"></a>01004   <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="../../db/d9b/classns_display_item.html#ac4852b3fc2b953f2ba16a1d41f5e2ec3">ForceActiveLayers</a>();
<a name="l01005"></a>01005 
<a name="l01029"></a><a class="code" href="../../db/d9b/classns_display_item.html#a5a777d003ed423eb07d5a38c8554f26c">01029</a>   <span class="keyword">virtual</span> <a class="code" href="../../d2/d93/namespacemozilla.html#a6c455799d5086a95a2600b3f9e4c4e9f">LayerState</a> <a class="code" href="../../db/d9b/classns_display_item.html#a5a777d003ed423eb07d5a38c8554f26c">GetLayerState</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l01030"></a>01030                                    <a class="code" href="../../d1/d01/classmozilla_1_1layers_1_1_layer_manager.html">LayerManager</a>* aManager,
<a name="l01031"></a>01031                                    <span class="keyword">const</span> <a class="code" href="../../d4/d07/structmozilla_1_1_frame_layer_builder_1_1_container_parameters.html">ContainerParameters</a>&amp; aParameters)
<a name="l01032"></a>01032   { <span class="keywordflow">return</span> <a class="code" href="../../d2/d93/namespacemozilla.html#a6c455799d5086a95a2600b3f9e4c4e9fa17978973f3aa9ef3d85a4f23c9863ed3">mozilla::LAYER_NONE</a>; }
<a name="l01037"></a><a class="code" href="../../db/d9b/classns_display_item.html#ab5e5d3403d00e7d7de1dba8277d3fcc9">01037</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../db/d9b/classns_display_item.html#ab5e5d3403d00e7d7de1dba8277d3fcc9">ShouldBuildLayerEvenIfInvisible</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder)
<a name="l01038"></a>01038   { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l01044"></a><a class="code" href="../../db/d9b/classns_display_item.html#a12abc319963ae71b97a1da9bbb51399f">01044</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d9b/classns_display_item.html#a12abc319963ae71b97a1da9bbb51399f">Paint</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d5/d2c/classns_rendering_context.html">nsRenderingContext</a>* aCtx) {}
<a name="l01045"></a>01045 
<a name="l01046"></a>01046 <span class="preprocessor">#ifdef MOZ_DUMP_PAINTING</span>
<a name="l01047"></a>01047 <span class="preprocessor"></span>
<a name="l01050"></a>01050   <span class="keywordtype">bool</span> Painted() { <span class="keywordflow">return</span> mPainted; }
<a name="l01051"></a>01051 
<a name="l01055"></a>01055   <span class="keywordtype">void</span> SetPainted() { mPainted = <span class="keyword">true</span>; }
<a name="l01056"></a>01056 <span class="preprocessor">#endif</span>
<a name="l01057"></a>01057 <span class="preprocessor"></span>
<a name="l01072"></a><a class="code" href="../../db/d9b/classns_display_item.html#a1a67cb12a05340be86ce9f8c0d886dad">01072</a>   <span class="keyword">virtual</span> <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;Layer&gt;</a> <a class="code" href="../../db/d9b/classns_display_item.html#a1a67cb12a05340be86ce9f8c0d886dad">BuildLayer</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l01073"></a>01073                                              <a class="code" href="../../d1/d01/classmozilla_1_1layers_1_1_layer_manager.html">LayerManager</a>* aManager,
<a name="l01074"></a>01074                                              <span class="keyword">const</span> <a class="code" href="../../d4/d07/structmozilla_1_1_frame_layer_builder_1_1_container_parameters.html">ContainerParameters</a>&amp; aContainerParameters)
<a name="l01075"></a>01075   { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }
<a name="l01076"></a>01076 
<a name="l01097"></a><a class="code" href="../../db/d9b/classns_display_item.html#a192f93333d1286ba5c477b8f0a75bc46">01097</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../db/d9b/classns_display_item.html#a192f93333d1286ba5c477b8f0a75bc46">ComputeVisibility</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l01098"></a>01098                                    <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aVisibleRegion,
<a name="l01099"></a>01099                                    <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aAllowVisibleRegionExpansion)
<a name="l01100"></a>01100   { <span class="keywordflow">return</span> !<a class="code" href="../../db/d9b/classns_display_item.html#a8c36a2a001c558f57f34fc2c2b7994d4">mVisibleRect</a>.<a class="code" href="../../dc/db8/structmozilla_1_1gfx_1_1_base_rect.html#a50d5fc04c803fb5ede9fd7cc39db78d6">IsEmpty</a>(); }
<a name="l01101"></a>01101 
<a name="l01111"></a><a class="code" href="../../db/d9b/classns_display_item.html#ac8410ed6d398e15f628db5f324d1fb3f">01111</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../db/d9b/classns_display_item.html#ac8410ed6d398e15f628db5f324d1fb3f">TryMerge</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>* aItem) {
<a name="l01112"></a>01112     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01113"></a>01113   }
<a name="l01114"></a>01114 
<a name="l01120"></a><a class="code" href="../../db/d9b/classns_display_item.html#ab3b283e0d820237c89fe6ca2df4cf4be">01120</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d9b/classns_display_item.html#ab3b283e0d820237c89fe6ca2df4cf4be">GetMergedFrames</a>(<a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;nsIFrame*&gt;</a>* aFrames) {}
<a name="l01121"></a>01121 
<a name="l01128"></a><a class="code" href="../../db/d9b/classns_display_item.html#a5a3916ac22c983f6e036e76a3f113611">01128</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../db/d9b/classns_display_item.html#a5a3916ac22c983f6e036e76a3f113611">ShouldFlattenAway</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder) {
<a name="l01129"></a>01129     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01130"></a>01130   }
<a name="l01131"></a>01131 
<a name="l01137"></a><a class="code" href="../../db/d9b/classns_display_item.html#a15fecb6255c0ff6e3de425234f206ab0">01137</a>   <span class="keyword">virtual</span> <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* <a class="code" href="../../db/d9b/classns_display_item.html#a15fecb6255c0ff6e3de425234f206ab0">GetSameCoordinateSystemChildren</a>() { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }
<a name="l01138"></a><a class="code" href="../../db/d9b/classns_display_item.html#abfbe6f1dd297fab3c132d4a3912ad073">01138</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d9b/classns_display_item.html#abfbe6f1dd297fab3c132d4a3912ad073">UpdateBounds</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder) {}
<a name="l01139"></a>01139 
<a name="l01144"></a><a class="code" href="../../db/d9b/classns_display_item.html#ae59d888b4eb489af7a6be02582dc5d8d">01144</a>   <span class="keyword">virtual</span> <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* <a class="code" href="../../db/d9b/classns_display_item.html#ae59d888b4eb489af7a6be02582dc5d8d">GetChildren</a>() { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }
<a name="l01145"></a>01145 
<a name="l01150"></a><a class="code" href="../../db/d9b/classns_display_item.html#a5442aed31473b8b3509cbe2218354cdd">01150</a>   <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; <a class="code" href="../../db/d9b/classns_display_item.html#a5442aed31473b8b3509cbe2218354cdd">GetVisibleRect</a>() { <span class="keywordflow">return</span> <a class="code" href="../../db/d9b/classns_display_item.html#a8c36a2a001c558f57f34fc2c2b7994d4">mVisibleRect</a>; }
<a name="l01151"></a>01151   
<a name="l01152"></a>01152 <span class="preprocessor">#ifdef MOZ_DUMP_PAINTING</span>
<a name="l01153"></a>01153 <span class="preprocessor"></span>
<a name="l01156"></a>01156   <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* Name() = 0;
<a name="l01157"></a>01157 
<a name="l01158"></a>01158   <span class="keyword">virtual</span> <span class="keywordtype">void</span> WriteDebugInfo(<a class="code" href="../../d1/ddf/ns_i_content_viewer_file_8idl.html#a2a9799b7b2af884315027dd95725e0c3">FILE</a> *aOutput) {}
<a name="l01159"></a>01159 <span class="preprocessor">#endif</span>
<a name="l01160"></a>01160 <span class="preprocessor"></span>
<a name="l01161"></a><a class="code" href="../../db/d9b/classns_display_item.html#a07daeaefd62771b184cc83bc8e70f524">01161</a>   <a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>* <a class="code" href="../../db/d9b/classns_display_item.html#a07daeaefd62771b184cc83bc8e70f524">GetAbove</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a>; }
<a name="l01162"></a>01162 
<a name="l01170"></a>01170   <span class="keywordtype">bool</span> <a class="code" href="../../db/d9b/classns_display_item.html#a10fa804bb7437218c6a4e8a23b322e33">RecomputeVisibility</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l01171"></a>01171                              <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aVisibleRegion);
<a name="l01172"></a>01172 
<a name="l01176"></a><a class="code" href="../../db/d9b/classns_display_item.html#ac72fa0bfb6db872125966b9322114dee">01176</a>   <span class="keyword">const</span> <a class="code" href="../../d6/d7b/structns_point.html">nsPoint</a>&amp; <a class="code" href="../../db/d9b/classns_display_item.html#ac72fa0bfb6db872125966b9322114dee">ToReferenceFrame</a>()<span class="keyword"> const </span>{
<a name="l01177"></a>01177     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(<a class="code" href="../../db/d9b/classns_display_item.html#a3e1d3f6792b6f9d85907bbcd98b385fa">mFrame</a>, <span class="stringliteral">&quot;No frame?&quot;</span>);
<a name="l01178"></a>01178     <span class="keywordflow">return</span> <a class="code" href="../../db/d9b/classns_display_item.html#ad08134153a99a9948d0d67016e64eeb2">mToReferenceFrame</a>;
<a name="l01179"></a>01179   }
<a name="l01184"></a><a class="code" href="../../db/d9b/classns_display_item.html#a28818f675820a9c756b87bb9805b5a84">01184</a>   <span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../db/d9b/classns_display_item.html#a28818f675820a9c756b87bb9805b5a84">ReferenceFrame</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../db/d9b/classns_display_item.html#aa2be34c1307e7ef907ff221fe727f46c">mReferenceFrame</a>; }
<a name="l01185"></a>01185 
<a name="l01189"></a><a class="code" href="../../db/d9b/classns_display_item.html#a4a55aa36f8a2c0129150d3e0e5540022">01189</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../db/d9b/classns_display_item.html#a4a55aa36f8a2c0129150d3e0e5540022">ReferenceFrameForChildren</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../db/d9b/classns_display_item.html#aa2be34c1307e7ef907ff221fe727f46c">mReferenceFrame</a>; }
<a name="l01190"></a>01190 
<a name="l01197"></a><a class="code" href="../../db/d9b/classns_display_item.html#ace2cd16ddc645c60eb50f52225d69218">01197</a>   <span class="keyword">virtual</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> <a class="code" href="../../db/d9b/classns_display_item.html#ace2cd16ddc645c60eb50f52225d69218">GetComponentAlphaBounds</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder) { <span class="keywordflow">return</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>(); }
<a name="l01198"></a>01198 
<a name="l01202"></a><a class="code" href="../../db/d9b/classns_display_item.html#a4a9c829f026f01f291f9c2690331c73e">01202</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d9b/classns_display_item.html#a4a9c829f026f01f291f9c2690331c73e">DisableComponentAlpha</a>() {}
<a name="l01203"></a>01203 
<a name="l01207"></a><a class="code" href="../../db/d9b/classns_display_item.html#ac630b66e7f08af031847cbbff8bca624">01207</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../db/d9b/classns_display_item.html#ac630b66e7f08af031847cbbff8bca624">CanUseAsyncAnimations</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder) {
<a name="l01208"></a>01208     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01209"></a>01209   }
<a name="l01210"></a>01210   
<a name="l01211"></a><a class="code" href="../../db/d9b/classns_display_item.html#a3dc56771ace61a04842ef7edebf71b19">01211</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../db/d9b/classns_display_item.html#a3dc56771ace61a04842ef7edebf71b19">SupportsOptimizingToImage</a>() { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l01212"></a>01212 
<a name="l01213"></a><a class="code" href="../../db/d9b/classns_display_item.html#a26c2129ff16575ecb30bb8ceb6afe38a">01213</a>   <span class="keyword">const</span> <a class="code" href="../../da/d95/classmozilla_1_1_display_item_clip.html">DisplayItemClip</a>&amp; <a class="code" href="../../db/d9b/classns_display_item.html#a26c2129ff16575ecb30bb8ceb6afe38a">GetClip</a>()
<a name="l01214"></a>01214   {
<a name="l01215"></a>01215     <span class="keywordflow">return</span> <a class="code" href="../../db/d9b/classns_display_item.html#a61ce9d84502256cd56ae5c090db1aab1">mClip</a> ? *<a class="code" href="../../db/d9b/classns_display_item.html#a61ce9d84502256cd56ae5c090db1aab1">mClip</a> : <a class="code" href="../../da/d95/classmozilla_1_1_display_item_clip.html#a6db52d65321d65dd372962eefe133506">DisplayItemClip::NoClip</a>();
<a name="l01216"></a>01216   }
<a name="l01217"></a><a class="code" href="../../db/d9b/classns_display_item.html#a06e2bdeb6349533a5d91eec01ddaa17a">01217</a>   <span class="keywordtype">void</span> <a class="code" href="../../db/d9b/classns_display_item.html#a06e2bdeb6349533a5d91eec01ddaa17a">SetClip</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keyword">const</span> <a class="code" href="../../da/d95/classmozilla_1_1_display_item_clip.html">DisplayItemClip</a>&amp; aClip)
<a name="l01218"></a>01218   {
<a name="l01219"></a>01219     <span class="keywordflow">if</span> (!aClip.<a class="code" href="../../da/d95/classmozilla_1_1_display_item_clip.html#a14f4cc0e5d969987a35874093288c308">HasClip</a>()) {
<a name="l01220"></a>01220       <a class="code" href="../../db/d9b/classns_display_item.html#a61ce9d84502256cd56ae5c090db1aab1">mClip</a> = <span class="keyword">nullptr</span>;
<a name="l01221"></a>01221       <span class="keywordflow">return</span>;
<a name="l01222"></a>01222     }
<a name="l01223"></a>01223     <a class="code" href="../../db/d9b/classns_display_item.html#a61ce9d84502256cd56ae5c090db1aab1">mClip</a> = aBuilder-&gt;<a class="code" href="../../df/da5/classns_display_list_builder.html#aa52996522435901ec0cb70bf5d749e76">AllocateDisplayItemClip</a>(aClip);
<a name="l01224"></a>01224   }
<a name="l01225"></a>01225 
<a name="l01226"></a>01226 <span class="keyword">protected</span>:
<a name="l01227"></a><a class="code" href="../../db/d9b/classns_display_item.html#ab87e1cfa3dcec21180f5f9f1f55c3ac3">01227</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>;
<a name="l01228"></a>01228 
<a name="l01229"></a><a class="code" href="../../db/d9b/classns_display_item.html#ac5223906de51954503092c955fd433a6">01229</a>   <a class="code" href="../../db/d9b/classns_display_item.html#ac5223906de51954503092c955fd433a6">nsDisplayItem</a>() { <a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a> = <span class="keyword">nullptr</span>; }
<a name="l01230"></a>01230 
<a name="l01231"></a><a class="code" href="../../db/d9b/classns_display_item.html#a3e1d3f6792b6f9d85907bbcd98b385fa">01231</a>   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../db/d9b/classns_display_item.html#a3e1d3f6792b6f9d85907bbcd98b385fa">mFrame</a>;
<a name="l01232"></a><a class="code" href="../../db/d9b/classns_display_item.html#a61ce9d84502256cd56ae5c090db1aab1">01232</a>   <span class="keyword">const</span> <a class="code" href="../../da/d95/classmozilla_1_1_display_item_clip.html">DisplayItemClip</a>* <a class="code" href="../../db/d9b/classns_display_item.html#a61ce9d84502256cd56ae5c090db1aab1">mClip</a>;
<a name="l01233"></a>01233   <span class="comment">// Result of FindReferenceFrameFor(mFrame), if mFrame is non-null</span>
<a name="l01234"></a><a class="code" href="../../db/d9b/classns_display_item.html#aa2be34c1307e7ef907ff221fe727f46c">01234</a>   <span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../db/d9b/classns_display_item.html#aa2be34c1307e7ef907ff221fe727f46c">mReferenceFrame</a>;
<a name="l01235"></a>01235   <span class="comment">// Result of ToReferenceFrame(mFrame), if mFrame is non-null</span>
<a name="l01236"></a><a class="code" href="../../db/d9b/classns_display_item.html#ad08134153a99a9948d0d67016e64eeb2">01236</a>   <a class="code" href="../../d6/d7b/structns_point.html">nsPoint</a>   <a class="code" href="../../db/d9b/classns_display_item.html#ad08134153a99a9948d0d67016e64eeb2">mToReferenceFrame</a>;
<a name="l01237"></a>01237   <span class="comment">// This is the rectangle that needs to be painted.</span>
<a name="l01238"></a>01238   <span class="comment">// nsDisplayList::ComputeVisibility sets this to the visible region</span>
<a name="l01239"></a>01239   <span class="comment">// of the item by intersecting the current visible region with the bounds</span>
<a name="l01240"></a>01240   <span class="comment">// of the item. Paint implementations can use this to limit their drawing.</span>
<a name="l01241"></a>01241   <span class="comment">// Guaranteed to be contained in GetBounds().</span>
<a name="l01242"></a><a class="code" href="../../db/d9b/classns_display_item.html#a8c36a2a001c558f57f34fc2c2b7994d4">01242</a>   <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>    <a class="code" href="../../db/d9b/classns_display_item.html#a8c36a2a001c558f57f34fc2c2b7994d4">mVisibleRect</a>;
<a name="l01243"></a>01243 <span class="preprocessor">#ifdef MOZ_DUMP_PAINTING</span>
<a name="l01244"></a>01244 <span class="preprocessor"></span>  <span class="comment">// True if this frame has been painted.</span>
<a name="l01245"></a>01245   <span class="keywordtype">bool</span>      mPainted;
<a name="l01246"></a>01246 <span class="preprocessor">#endif</span>
<a name="l01247"></a>01247 <span class="preprocessor"></span>};
<a name="l01248"></a>01248 
<a name="l01264"></a><a class="code" href="../../dc/da5/classns_display_list.html">01264</a> <span class="keyword">class </span><a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a> {
<a name="l01265"></a>01265 <span class="keyword">public</span>:
<a name="l01266"></a><a class="code" href="../../dc/da5/classns_display_list.html#af00cab2d7c6a58131d9ef4f63cb04533">01266</a>   <span class="keyword">typedef</span> <a class="code" href="../../d9/da9/classmozilla_1_1layers_1_1_layer.html">mozilla::layers::Layer</a> <a class="code" href="../../dc/da5/classns_display_list.html#af00cab2d7c6a58131d9ef4f63cb04533">Layer</a>;
<a name="l01267"></a><a class="code" href="../../dc/da5/classns_display_list.html#ad6807baf3ba7a241640b8c09171deb57">01267</a>   <span class="keyword">typedef</span> <a class="code" href="../../d1/d01/classmozilla_1_1layers_1_1_layer_manager.html">mozilla::layers::LayerManager</a> <a class="code" href="../../dc/da5/classns_display_list.html#ad6807baf3ba7a241640b8c09171deb57">LayerManager</a>;
<a name="l01268"></a><a class="code" href="../../dc/da5/classns_display_list.html#a247c2ca8d138c7695a8c513fd431dd46">01268</a>   <span class="keyword">typedef</span> <a class="code" href="../../da/d93/classmozilla_1_1layers_1_1_thebes_layer.html">mozilla::layers::ThebesLayer</a> <a class="code" href="../../dc/da5/classns_display_list.html#a247c2ca8d138c7695a8c513fd431dd46">ThebesLayer</a>;
<a name="l01269"></a>01269 
<a name="l01273"></a><a class="code" href="../../dc/da5/classns_display_list.html#a44f09350e37d195be8330c55b455ef6d">01273</a>   <a class="code" href="../../dc/da5/classns_display_list.html#a44f09350e37d195be8330c55b455ef6d">nsDisplayList</a>() :
<a name="l01274"></a>01274     mIsOpaque(<a class="code" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>)
<a name="l01275"></a>01275   {
<a name="l01276"></a>01276     mTop = &amp;mSentinel;
<a name="l01277"></a>01277     mSentinel.<a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a> = <span class="keyword">nullptr</span>;
<a name="l01278"></a>01278 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l01279"></a>01279 <span class="preprocessor"></span>    mDidComputeVisibility = <span class="keyword">false</span>;
<a name="l01280"></a>01280 <span class="preprocessor">#endif</span>
<a name="l01281"></a>01281 <span class="preprocessor"></span>  }
<a name="l01282"></a><a class="code" href="../../dc/da5/classns_display_list.html#ab38bbc59c41b24a47b175f1d03e81225">01282</a>   <a class="code" href="../../dc/da5/classns_display_list.html#ab38bbc59c41b24a47b175f1d03e81225">~nsDisplayList</a>() {
<a name="l01283"></a>01283     <span class="keywordflow">if</span> (mSentinel.<a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a>) {
<a name="l01284"></a>01284       <a class="code" href="../../dc/d6d/ns_debug_8h.html#aa7f3deb23fbcb284ef465fd28ccaaa35">NS_WARNING</a>(<span class="stringliteral">&quot;Nonempty list left over?&quot;</span>);
<a name="l01285"></a>01285     }
<a name="l01286"></a>01286     <a class="code" href="../../dc/da5/classns_display_list.html#a14400ecfb7c92e71826fc25fef8a2367">DeleteAll</a>();
<a name="l01287"></a>01287   }
<a name="l01288"></a>01288 
<a name="l01293"></a><a class="code" href="../../dc/da5/classns_display_list.html#a191c08a11a30873ca663be897741300b">01293</a>   <span class="keywordtype">void</span> <a class="code" href="../../dc/da5/classns_display_list.html#a191c08a11a30873ca663be897741300b">AppendToTop</a>(<a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>* aItem) {
<a name="l01294"></a>01294     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(aItem, <span class="stringliteral">&quot;No item to append!&quot;</span>);
<a name="l01295"></a>01295     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(!aItem-&gt;<a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a>, <span class="stringliteral">&quot;Already in a list!&quot;</span>);
<a name="l01296"></a>01296     mTop-&gt;<a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a> = aItem;
<a name="l01297"></a>01297     mTop = aItem;
<a name="l01298"></a>01298   }
<a name="l01299"></a>01299   
<a name="l01304"></a><a class="code" href="../../dc/da5/classns_display_list.html#a31f2b1567149e78696f00b5433c56f94">01304</a>   <span class="keywordtype">void</span> <a class="code" href="../../dc/da5/classns_display_list.html#a31f2b1567149e78696f00b5433c56f94">AppendNewToTop</a>(<a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>* aItem) {
<a name="l01305"></a>01305     <span class="keywordflow">if</span> (aItem) {
<a name="l01306"></a>01306       <a class="code" href="../../dc/da5/classns_display_list.html#a191c08a11a30873ca663be897741300b">AppendToTop</a>(aItem);
<a name="l01307"></a>01307     }
<a name="l01308"></a>01308   }
<a name="l01309"></a>01309   
<a name="l01314"></a><a class="code" href="../../dc/da5/classns_display_list.html#a0b101ea3a34ed9c64ea097d10ba16f85">01314</a>   <span class="keywordtype">void</span> <a class="code" href="../../dc/da5/classns_display_list.html#a0b101ea3a34ed9c64ea097d10ba16f85">AppendNewToBottom</a>(<a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>* aItem) {
<a name="l01315"></a>01315     <span class="keywordflow">if</span> (aItem) {
<a name="l01316"></a>01316       <a class="code" href="../../dc/da5/classns_display_list.html#a070b7f6c3828549a05aafc3259c6f8fe">AppendToBottom</a>(aItem);
<a name="l01317"></a>01317     }
<a name="l01318"></a>01318   }
<a name="l01319"></a>01319   
<a name="l01324"></a><a class="code" href="../../dc/da5/classns_display_list.html#a070b7f6c3828549a05aafc3259c6f8fe">01324</a>   <span class="keywordtype">void</span> <a class="code" href="../../dc/da5/classns_display_list.html#a070b7f6c3828549a05aafc3259c6f8fe">AppendToBottom</a>(<a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>* aItem) {
<a name="l01325"></a>01325     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(aItem, <span class="stringliteral">&quot;No item to append!&quot;</span>);
<a name="l01326"></a>01326     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(!aItem-&gt;<a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a>, <span class="stringliteral">&quot;Already in a list!&quot;</span>);
<a name="l01327"></a>01327     aItem-&gt;<a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a> = mSentinel.<a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a>;
<a name="l01328"></a>01328     mSentinel.<a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a> = aItem;
<a name="l01329"></a>01329     <span class="keywordflow">if</span> (mTop == &amp;mSentinel) {
<a name="l01330"></a>01330       mTop = aItem;
<a name="l01331"></a>01331     }
<a name="l01332"></a>01332   }
<a name="l01333"></a>01333   
<a name="l01337"></a><a class="code" href="../../dc/da5/classns_display_list.html#ab90a05c2205961b23716b0c662615e0d">01337</a>   <span class="keywordtype">void</span> <a class="code" href="../../dc/da5/classns_display_list.html#ab90a05c2205961b23716b0c662615e0d">AppendToTop</a>(<a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* aList) {
<a name="l01338"></a>01338     <span class="keywordflow">if</span> (aList-&gt;mSentinel.<a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a>) {
<a name="l01339"></a>01339       mTop-&gt;<a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a> = aList-&gt;mSentinel.<a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a>;
<a name="l01340"></a>01340       mTop = aList-&gt;mTop;
<a name="l01341"></a>01341       aList-&gt;mTop = &amp;aList-&gt;mSentinel;
<a name="l01342"></a>01342       aList-&gt;mSentinel.<a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a> = <span class="keyword">nullptr</span>;
<a name="l01343"></a>01343     }
<a name="l01344"></a>01344   }
<a name="l01345"></a>01345   
<a name="l01349"></a><a class="code" href="../../dc/da5/classns_display_list.html#afa5025599d205eda665f78f1f69ff357">01349</a>   <span class="keywordtype">void</span> <a class="code" href="../../dc/da5/classns_display_list.html#afa5025599d205eda665f78f1f69ff357">AppendToBottom</a>(<a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* aList) {
<a name="l01350"></a>01350     <span class="keywordflow">if</span> (aList-&gt;mSentinel.<a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a>) {
<a name="l01351"></a>01351       aList-&gt;mTop-&gt;<a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a> = mSentinel.<a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a>;
<a name="l01352"></a>01352       mSentinel.<a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a> = aList-&gt;mSentinel.<a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a>;
<a name="l01353"></a>01353       <span class="keywordflow">if</span> (mTop == &amp;mSentinel) {
<a name="l01354"></a>01354         mTop = aList-&gt;mTop;
<a name="l01355"></a>01355       }
<a name="l01356"></a>01356            
<a name="l01357"></a>01357       aList-&gt;mTop = &amp;aList-&gt;mSentinel;
<a name="l01358"></a>01358       aList-&gt;mSentinel.<a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a> = <span class="keyword">nullptr</span>;
<a name="l01359"></a>01359     }
<a name="l01360"></a>01360   }
<a name="l01361"></a>01361   
<a name="l01365"></a>01365   <a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>* <a class="code" href="../../dc/da5/classns_display_list.html#a0ab94dbba2b612be573f8cc72494ba6b">RemoveBottom</a>();
<a name="l01366"></a>01366   
<a name="l01370"></a>01370   <span class="keywordtype">void</span> <a class="code" href="../../dc/da5/classns_display_list.html#a14400ecfb7c92e71826fc25fef8a2367">DeleteAll</a>();
<a name="l01371"></a>01371   
<a name="l01375"></a><a class="code" href="../../dc/da5/classns_display_list.html#a7e6abae121d0a8923e61bdf536dd717e">01375</a>   <a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>* <a class="code" href="../../dc/da5/classns_display_list.html#a7e6abae121d0a8923e61bdf536dd717e">GetTop</a>()<span class="keyword"> const </span>{
<a name="l01376"></a>01376     <span class="keywordflow">return</span> mTop != &amp;mSentinel ? <span class="keyword">static_cast&lt;</span><a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>*<span class="keyword">&gt;</span>(mTop) : <span class="keyword">nullptr</span>;
<a name="l01377"></a>01377   }
<a name="l01381"></a><a class="code" href="../../dc/da5/classns_display_list.html#abfd8f12f5775eeb04aea56448716067c">01381</a>   <a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>* <a class="code" href="../../dc/da5/classns_display_list.html#abfd8f12f5775eeb04aea56448716067c">GetBottom</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mSentinel.<a class="code" href="../../d7/d5b/classns_display_item_link.html#a2c0a964a95e5cec135f2085550930756">mAbove</a>; }
<a name="l01382"></a><a class="code" href="../../dc/da5/classns_display_list.html#a789201674d01e4e815ac31f92178eebd">01382</a>   <span class="keywordtype">bool</span> <a class="code" href="../../dc/da5/classns_display_list.html#a789201674d01e4e815ac31f92178eebd">IsEmpty</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mTop == &amp;mSentinel; }
<a name="l01383"></a>01383   
<a name="l01388"></a>01388   uint32_t <a class="code" href="../../dc/da5/classns_display_list.html#a3d3a3d7d71ddfe4250e3e061587d57ae">Count</a>() <span class="keyword">const</span>;
<a name="l01398"></a>01398   <span class="keywordtype">void</span> <a class="code" href="../../dc/da5/classns_display_list.html#a7e816bf74135d505131cb59bb7fb4934">SortByZOrder</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aCommonAncestor);
<a name="l01407"></a>01407   <span class="keywordtype">void</span> <a class="code" href="../../dc/da5/classns_display_list.html#a6ceba60f4564c2ce8bcdb498ef8f3d0e">SortByContentOrder</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aCommonAncestor);
<a name="l01408"></a>01408 
<a name="l01415"></a><a class="code" href="../../dc/da5/classns_display_list.html#ad1ee6641b672cd97eabd3121e4d8fd25">01415</a>   <span class="keyword">typedef</span> <a class="code" href="../../d7/dd2/qcmstypes_8h.html#acac1f8caeb95c0bd16fe8c0743249831">bool</a> (* <a class="code" href="../../dc/da5/classns_display_list.html#ad1ee6641b672cd97eabd3121e4d8fd25">SortLEQ</a>)(<a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>* aItem1, <a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>* aItem2,
<a name="l01416"></a>01416                              <span class="keywordtype">void</span>* aClosure);
<a name="l01417"></a>01417   <span class="keywordtype">void</span> <a class="code" href="../../dc/da5/classns_display_list.html#aba6344c4392ef9ccffecd9137b8e9c1b">Sort</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../dc/da5/classns_display_list.html#ad1ee6641b672cd97eabd3121e4d8fd25">SortLEQ</a> aCmp, <span class="keywordtype">void</span>* aClosure);
<a name="l01418"></a>01418 
<a name="l01440"></a>01440   <span class="keywordtype">bool</span> <a class="code" href="../../dc/da5/classns_display_list.html#a93bcd96a0c3198d2bec60d4c8a5df5a8">ComputeVisibilityForSublist</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l01441"></a>01441                                    <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aVisibleRegion,
<a name="l01442"></a>01442                                    <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aListVisibleBounds,
<a name="l01443"></a>01443                                    <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aAllowVisibleRegionExpansion);
<a name="l01444"></a>01444 
<a name="l01452"></a>01452   <span class="keywordtype">bool</span> <a class="code" href="../../dc/da5/classns_display_list.html#a9903d22de6269902f101dee975f106a3">ComputeVisibilityForRoot</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l01453"></a>01453                                 <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aVisibleRegion);
<a name="l01454"></a>01454 
<a name="l01459"></a><a class="code" href="../../dc/da5/classns_display_list.html#abe83163b6ef9ee6fbc38fc3a6329ca40">01459</a>   <span class="keywordtype">bool</span> <a class="code" href="../../dc/da5/classns_display_list.html#abe83163b6ef9ee6fbc38fc3a6329ca40">IsOpaque</a>()<span class="keyword"> const </span>{
<a name="l01460"></a>01460     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(mDidComputeVisibility, <span class="stringliteral">&quot;Need to have called ComputeVisibility&quot;</span>);
<a name="l01461"></a>01461     <span class="keywordflow">return</span> mIsOpaque;
<a name="l01462"></a>01462   }
<a name="l01463"></a>01463 
<a name="l01468"></a><a class="code" href="../../dc/da5/classns_display_list.html#a290c9502b113e07a3e7091566112f4cb">01468</a>   <span class="keywordtype">bool</span> <a class="code" href="../../dc/da5/classns_display_list.html#a290c9502b113e07a3e7091566112f4cb">NeedsTransparentSurface</a>()<span class="keyword"> const </span>{
<a name="l01469"></a>01469     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(mDidComputeVisibility, <span class="stringliteral">&quot;Need to have called ComputeVisibility&quot;</span>);
<a name="l01470"></a>01470     <span class="keywordflow">return</span> mForceTransparentSurface;
<a name="l01471"></a>01471   }
<a name="l01497"></a>01497   <span class="keyword">enum</span> {
<a name="l01498"></a><a class="code" href="../../dc/da5/classns_display_list.html#a644d118e1f19cf6cceff805f767512f9af30cc3abf95eed78e0b1e4b0875d454e">01498</a>     <a class="code" href="../../dc/da5/classns_display_list.html#a644d118e1f19cf6cceff805f767512f9af30cc3abf95eed78e0b1e4b0875d454e">PAINT_DEFAULT</a> = 0,
<a name="l01499"></a><a class="code" href="../../dc/da5/classns_display_list.html#a644d118e1f19cf6cceff805f767512f9a5fac625aa883a3adfb0bb5b575dae63a">01499</a>     <a class="code" href="../../dc/da5/classns_display_list.html#a644d118e1f19cf6cceff805f767512f9a5fac625aa883a3adfb0bb5b575dae63a">PAINT_USE_WIDGET_LAYERS</a> = 0x01,
<a name="l01500"></a><a class="code" href="../../dc/da5/classns_display_list.html#a644d118e1f19cf6cceff805f767512f9ae27a449b482599e664a8a504f53ba84a">01500</a>     <a class="code" href="../../dc/da5/classns_display_list.html#a644d118e1f19cf6cceff805f767512f9ae27a449b482599e664a8a504f53ba84a">PAINT_FLUSH_LAYERS</a> = 0x02,
<a name="l01501"></a><a class="code" href="../../dc/da5/classns_display_list.html#a644d118e1f19cf6cceff805f767512f9a7bbc528193c53abc96bbdf65a666e918">01501</a>     <a class="code" href="../../dc/da5/classns_display_list.html#a644d118e1f19cf6cceff805f767512f9a7bbc528193c53abc96bbdf65a666e918">PAINT_EXISTING_TRANSACTION</a> = 0x04,
<a name="l01502"></a><a class="code" href="../../dc/da5/classns_display_list.html#a644d118e1f19cf6cceff805f767512f9a97aef6521af3a73af98e71990cc5bf89">01502</a>     <a class="code" href="../../dc/da5/classns_display_list.html#a644d118e1f19cf6cceff805f767512f9a97aef6521af3a73af98e71990cc5bf89">PAINT_NO_COMPOSITE</a> = 0x08
<a name="l01503"></a>01503   };
<a name="l01504"></a>01504   <span class="keywordtype">void</span> <a class="code" href="../../dc/da5/classns_display_list.html#a822e39d7751026d8aaf96b274d8ca6f4">PaintRoot</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d5/d2c/classns_rendering_context.html">nsRenderingContext</a>* aCtx,
<a name="l01505"></a>01505                  uint32_t aFlags) <span class="keyword">const</span>;
<a name="l01510"></a>01510   <span class="keywordtype">void</span> <a class="code" href="../../dc/da5/classns_display_list.html#a7a686bc71ad0fbdef85c51c24ca1f611">PaintForFrame</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d5/d2c/classns_rendering_context.html">nsRenderingContext</a>* aCtx,
<a name="l01511"></a>01511                      <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aForFrame, uint32_t aFlags) <span class="keyword">const</span>;
<a name="l01515"></a>01515   <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> <a class="code" href="../../dc/da5/classns_display_list.html#a9732e8baeca3bec0a2d373fd552d79a3">GetBounds</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder) <span class="keyword">const</span>;
<a name="l01520"></a>01520   <span class="keywordtype">void</span> <a class="code" href="../../dc/da5/classns_display_list.html#afb6e869c1e89295dc9728c64784dc15b">HitTest</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aRect,
<a name="l01521"></a>01521                <a class="code" href="../../d2/d17/structns_display_item_1_1_hit_test_state.html">nsDisplayItem::HitTestState</a>* aState,
<a name="l01522"></a>01522                <a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;nsIFrame*&gt;</a> *aOutFrames) <span class="keyword">const</span>;
<a name="l01523"></a>01523 
<a name="l01524"></a>01524 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l01525"></a>01525 <span class="preprocessor"></span>  <span class="keywordtype">bool</span> DidComputeVisibility()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mDidComputeVisibility; }
<a name="l01526"></a>01526 <span class="preprocessor">#endif</span>
<a name="l01527"></a>01527 <span class="preprocessor"></span>
<a name="l01528"></a>01528 <span class="keyword">private</span>:
<a name="l01529"></a>01529   <span class="comment">// This class is only used on stack, so we don&#39;t have to worry about leaking</span>
<a name="l01530"></a>01530   <span class="comment">// it.  Don&#39;t let us be heap-allocated!</span>
<a name="l01531"></a>01531   <span class="keywordtype">void</span>* operator new(<span class="keywordtype">size_t</span> sz) <a class="code" href="../../d7/d2d/xpcom-config_8h.html#a9a0878f36babdc2feb3a8352a64a434d">CPP_THROW_NEW</a>;
<a name="l01532"></a>01532   
<a name="l01533"></a>01533   <span class="comment">// Utility function used to massage the list during ComputeVisibility.</span>
<a name="l01534"></a>01534   <span class="keywordtype">void</span> FlattenTo(<a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;nsDisplayItem*&gt;</a>* aElements);
<a name="l01535"></a>01535   
<a name="l01536"></a>01536   <a class="code" href="../../d7/d5b/classns_display_item_link.html">nsDisplayItemLink</a>  mSentinel;
<a name="l01537"></a>01537   <a class="code" href="../../d7/d5b/classns_display_item_link.html">nsDisplayItemLink</a>* mTop;
<a name="l01538"></a>01538 
<a name="l01539"></a>01539   <span class="comment">// This is set by ComputeVisibility</span>
<a name="l01540"></a>01540   <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> mVisibleRect;
<a name="l01541"></a>01541   <span class="comment">// This is set to true by ComputeVisibility if the final visible region</span>
<a name="l01542"></a>01542   <span class="comment">// is empty (i.e. everything that was visible is covered by some</span>
<a name="l01543"></a>01543   <span class="comment">// opaque content in this list).</span>
<a name="l01544"></a>01544   <span class="keywordtype">bool</span> mIsOpaque;
<a name="l01545"></a>01545   <span class="comment">// This is set to true by ComputeVisibility if any display item in this</span>
<a name="l01546"></a>01546   <span class="comment">// list needs to force the surface containing this list to be transparent.</span>
<a name="l01547"></a>01547   <span class="keywordtype">bool</span> mForceTransparentSurface;
<a name="l01548"></a>01548 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l01549"></a>01549 <span class="preprocessor"></span>  <span class="keywordtype">bool</span> mDidComputeVisibility;
<a name="l01550"></a>01550 <span class="preprocessor">#endif</span>
<a name="l01551"></a>01551 <span class="preprocessor"></span>};
<a name="l01552"></a>01552 
<a name="l01560"></a><a class="code" href="../../d5/db8/classns_display_list_set.html">01560</a> <span class="keyword">class </span><a class="code" href="../../d5/db8/classns_display_list_set.html">nsDisplayListSet</a> {
<a name="l01561"></a>01561 <span class="keyword">public</span>:
<a name="l01566"></a><a class="code" href="../../d5/db8/classns_display_list_set.html#a0a31e806cfba149b605cc281409b8b15">01566</a>   <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* <a class="code" href="../../d5/db8/classns_display_list_set.html#a0a31e806cfba149b605cc281409b8b15">BorderBackground</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d5/db8/classns_display_list_set.html#a5966b590bf2f36483b6a3546de3bc42a">mBorderBackground</a>; }
<a name="l01571"></a><a class="code" href="../../d5/db8/classns_display_list_set.html#a70cbe0f9137855727ff44e6b256dffe8">01571</a>   <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* <a class="code" href="../../d5/db8/classns_display_list_set.html#a70cbe0f9137855727ff44e6b256dffe8">BlockBorderBackgrounds</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d5/db8/classns_display_list_set.html#ab82b49a76024d6cbb536a79378ed0ee9">mBlockBorderBackgrounds</a>; }
<a name="l01576"></a><a class="code" href="../../d5/db8/classns_display_list_set.html#a104d2acd98269aee12d408e78b84f133">01576</a>   <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* <a class="code" href="../../d5/db8/classns_display_list_set.html#a104d2acd98269aee12d408e78b84f133">Floats</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d5/db8/classns_display_list_set.html#ab3087d44cca75d8fc43f68be02503fa1">mFloats</a>; }
<a name="l01582"></a><a class="code" href="../../d5/db8/classns_display_list_set.html#add55c4bb07636e716550a87a2e5fa62e">01582</a>   <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* <a class="code" href="../../d5/db8/classns_display_list_set.html#add55c4bb07636e716550a87a2e5fa62e">PositionedDescendants</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d5/db8/classns_display_list_set.html#a0cee801c67ecef7621013a076c45e85f">mPositioned</a>; }
<a name="l01587"></a><a class="code" href="../../d5/db8/classns_display_list_set.html#a4381defcbb2277f876254ba4a00ecd34">01587</a>   <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* <a class="code" href="../../d5/db8/classns_display_list_set.html#a4381defcbb2277f876254ba4a00ecd34">Outlines</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d5/db8/classns_display_list_set.html#a0c1346e3e7fd29946a42a27b935fe497">mOutlines</a>; }
<a name="l01591"></a><a class="code" href="../../d5/db8/classns_display_list_set.html#af7d8526ad29694f3ac50e98000423852">01591</a>   <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* <a class="code" href="../../d5/db8/classns_display_list_set.html#af7d8526ad29694f3ac50e98000423852">Content</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d5/db8/classns_display_list_set.html#aedb2842bd8b84d7b7e6ec605dd44a2f3">mContent</a>; }
<a name="l01592"></a>01592   
<a name="l01593"></a><a class="code" href="../../d5/db8/classns_display_list_set.html#a70e4a2eb499d2291ab686c3b07611476">01593</a>   <a class="code" href="../../d5/db8/classns_display_list_set.html#a70e4a2eb499d2291ab686c3b07611476">nsDisplayListSet</a>(<a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* aBorderBackground,
<a name="l01594"></a>01594                    <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* aBlockBorderBackgrounds,
<a name="l01595"></a>01595                    <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* aFloats,
<a name="l01596"></a>01596                    <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* aContent,
<a name="l01597"></a>01597                    <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* aPositionedDescendants,
<a name="l01598"></a>01598                    <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* aOutlines) :
<a name="l01599"></a>01599      <a class="code" href="../../d5/db8/classns_display_list_set.html#a5966b590bf2f36483b6a3546de3bc42a">mBorderBackground</a>(aBorderBackground),
<a name="l01600"></a>01600      <a class="code" href="../../d5/db8/classns_display_list_set.html#ab82b49a76024d6cbb536a79378ed0ee9">mBlockBorderBackgrounds</a>(aBlockBorderBackgrounds),
<a name="l01601"></a>01601      <a class="code" href="../../d5/db8/classns_display_list_set.html#ab3087d44cca75d8fc43f68be02503fa1">mFloats</a>(aFloats),
<a name="l01602"></a>01602      <a class="code" href="../../d5/db8/classns_display_list_set.html#aedb2842bd8b84d7b7e6ec605dd44a2f3">mContent</a>(aContent),
<a name="l01603"></a>01603      <a class="code" href="../../d5/db8/classns_display_list_set.html#a0cee801c67ecef7621013a076c45e85f">mPositioned</a>(aPositionedDescendants),
<a name="l01604"></a>01604      <a class="code" href="../../d5/db8/classns_display_list_set.html#a0c1346e3e7fd29946a42a27b935fe497">mOutlines</a>(aOutlines) {
<a name="l01605"></a>01605   }
<a name="l01606"></a>01606 
<a name="l01611"></a><a class="code" href="../../d5/db8/classns_display_list_set.html#ab0a4a5f7f56c70eeab39add8ea024cd7">01611</a>   <a class="code" href="../../d5/db8/classns_display_list_set.html#a70e4a2eb499d2291ab686c3b07611476">nsDisplayListSet</a>(<span class="keyword">const</span> <a class="code" href="../../d5/db8/classns_display_list_set.html">nsDisplayListSet</a>&amp; aLists,
<a name="l01612"></a>01612                    <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* aBorderBackground) :
<a name="l01613"></a>01613      <a class="code" href="../../d5/db8/classns_display_list_set.html#a5966b590bf2f36483b6a3546de3bc42a">mBorderBackground</a>(aBorderBackground),
<a name="l01614"></a>01614      <a class="code" href="../../d5/db8/classns_display_list_set.html#ab82b49a76024d6cbb536a79378ed0ee9">mBlockBorderBackgrounds</a>(aLists.<a class="code" href="../../d5/db8/classns_display_list_set.html#a70cbe0f9137855727ff44e6b256dffe8">BlockBorderBackgrounds</a>()),
<a name="l01615"></a>01615      <a class="code" href="../../d5/db8/classns_display_list_set.html#ab3087d44cca75d8fc43f68be02503fa1">mFloats</a>(aLists.<a class="code" href="../../d5/db8/classns_display_list_set.html#a104d2acd98269aee12d408e78b84f133">Floats</a>()),
<a name="l01616"></a>01616      <a class="code" href="../../d5/db8/classns_display_list_set.html#aedb2842bd8b84d7b7e6ec605dd44a2f3">mContent</a>(aLists.<a class="code" href="../../d5/db8/classns_display_list_set.html#af7d8526ad29694f3ac50e98000423852">Content</a>()),
<a name="l01617"></a>01617      <a class="code" href="../../d5/db8/classns_display_list_set.html#a0cee801c67ecef7621013a076c45e85f">mPositioned</a>(aLists.<a class="code" href="../../d5/db8/classns_display_list_set.html#add55c4bb07636e716550a87a2e5fa62e">PositionedDescendants</a>()),
<a name="l01618"></a>01618      <a class="code" href="../../d5/db8/classns_display_list_set.html#a0c1346e3e7fd29946a42a27b935fe497">mOutlines</a>(aLists.<a class="code" href="../../d5/db8/classns_display_list_set.html#a4381defcbb2277f876254ba4a00ecd34">Outlines</a>()) {
<a name="l01619"></a>01619   }
<a name="l01620"></a>01620   
<a name="l01625"></a>01625   <span class="keywordtype">void</span> <a class="code" href="../../d5/db8/classns_display_list_set.html#abad7b65f0e3e95f5061fd1b8fe7d21da">MoveTo</a>(<span class="keyword">const</span> <a class="code" href="../../d5/db8/classns_display_list_set.html">nsDisplayListSet</a>&amp; aDestination) <span class="keyword">const</span>;
<a name="l01626"></a>01626 
<a name="l01627"></a>01627 <span class="keyword">private</span>:
<a name="l01628"></a>01628   <span class="comment">// This class is only used on stack, so we don&#39;t have to worry about leaking</span>
<a name="l01629"></a>01629   <span class="comment">// it.  Don&#39;t let us be heap-allocated!</span>
<a name="l01630"></a>01630   <span class="keywordtype">void</span>* operator new(<span class="keywordtype">size_t</span> sz) <a class="code" href="../../d7/d2d/xpcom-config_8h.html#a9a0878f36babdc2feb3a8352a64a434d">CPP_THROW_NEW</a>;
<a name="l01631"></a>01631 
<a name="l01632"></a>01632 <span class="keyword">protected</span>:
<a name="l01633"></a><a class="code" href="../../d5/db8/classns_display_list_set.html#a5966b590bf2f36483b6a3546de3bc42a">01633</a>   <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* <a class="code" href="../../d5/db8/classns_display_list_set.html#a5966b590bf2f36483b6a3546de3bc42a">mBorderBackground</a>;
<a name="l01634"></a><a class="code" href="../../d5/db8/classns_display_list_set.html#ab82b49a76024d6cbb536a79378ed0ee9">01634</a>   <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* <a class="code" href="../../d5/db8/classns_display_list_set.html#ab82b49a76024d6cbb536a79378ed0ee9">mBlockBorderBackgrounds</a>;
<a name="l01635"></a><a class="code" href="../../d5/db8/classns_display_list_set.html#ab3087d44cca75d8fc43f68be02503fa1">01635</a>   <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* <a class="code" href="../../d5/db8/classns_display_list_set.html#ab3087d44cca75d8fc43f68be02503fa1">mFloats</a>;
<a name="l01636"></a><a class="code" href="../../d5/db8/classns_display_list_set.html#aedb2842bd8b84d7b7e6ec605dd44a2f3">01636</a>   <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* <a class="code" href="../../d5/db8/classns_display_list_set.html#aedb2842bd8b84d7b7e6ec605dd44a2f3">mContent</a>;
<a name="l01637"></a><a class="code" href="../../d5/db8/classns_display_list_set.html#a0cee801c67ecef7621013a076c45e85f">01637</a>   <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* <a class="code" href="../../d5/db8/classns_display_list_set.html#a0cee801c67ecef7621013a076c45e85f">mPositioned</a>;
<a name="l01638"></a><a class="code" href="../../d5/db8/classns_display_list_set.html#a0c1346e3e7fd29946a42a27b935fe497">01638</a>   <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* <a class="code" href="../../d5/db8/classns_display_list_set.html#a0c1346e3e7fd29946a42a27b935fe497">mOutlines</a>;
<a name="l01639"></a>01639 };
<a name="l01640"></a>01640 
<a name="l01645"></a><a class="code" href="../../d5/d03/structns_display_list_collection.html">01645</a> <span class="keyword">struct </span><a class="code" href="../../d5/d03/structns_display_list_collection.html">nsDisplayListCollection</a> : <span class="keyword">public</span> <a class="code" href="../../d5/db8/classns_display_list_set.html">nsDisplayListSet</a> {
<a name="l01646"></a><a class="code" href="../../d5/d03/structns_display_list_collection.html#ac8900bce664c2558cb55d9523820f6e8">01646</a>   <a class="code" href="../../d5/d03/structns_display_list_collection.html#ac8900bce664c2558cb55d9523820f6e8">nsDisplayListCollection</a>() :
<a name="l01647"></a>01647     <a class="code" href="../../d5/db8/classns_display_list_set.html">nsDisplayListSet</a>(&amp;mLists[0], &amp;mLists[1], &amp;mLists[2], &amp;mLists[3], &amp;mLists[4],
<a name="l01648"></a>01648                      &amp;mLists[5]) {}
<a name="l01649"></a><a class="code" href="../../d5/d03/structns_display_list_collection.html#a9430289251acc3551920c9165c157a9b">01649</a>   <a class="code" href="../../d5/d03/structns_display_list_collection.html#ac8900bce664c2558cb55d9523820f6e8">nsDisplayListCollection</a>(<a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* aBorderBackground) :
<a name="l01650"></a>01650     <a class="code" href="../../d5/db8/classns_display_list_set.html">nsDisplayListSet</a>(aBorderBackground, &amp;mLists[1], &amp;mLists[2], &amp;mLists[3], &amp;mLists[4],
<a name="l01651"></a>01651                      &amp;mLists[5]) {}
<a name="l01652"></a>01652 
<a name="l01656"></a><a class="code" href="../../d5/d03/structns_display_list_collection.html#aead9962b294f359c6e6a70401cdf4d9e">01656</a>   <span class="keywordtype">void</span> <a class="code" href="../../d5/d03/structns_display_list_collection.html#aead9962b294f359c6e6a70401cdf4d9e">SortAllByContentOrder</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aCommonAncestor) {
<a name="l01657"></a>01657     <span class="keywordflow">for</span> (int32_t <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; 6; ++<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>) {
<a name="l01658"></a>01658       mLists[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].<a class="code" href="../../dc/da5/classns_display_list.html#a6ceba60f4564c2ce8bcdb498ef8f3d0e">SortByContentOrder</a>(aBuilder, aCommonAncestor);
<a name="l01659"></a>01659     }
<a name="l01660"></a>01660   }
<a name="l01661"></a>01661 
<a name="l01662"></a>01662 <span class="keyword">private</span>:
<a name="l01663"></a>01663   <span class="comment">// This class is only used on stack, so we don&#39;t have to worry about leaking</span>
<a name="l01664"></a>01664   <span class="comment">// it.  Don&#39;t let us be heap-allocated!</span>
<a name="l01665"></a>01665   <span class="keywordtype">void</span>* operator new(<span class="keywordtype">size_t</span> sz) <a class="code" href="../../d7/d2d/xpcom-config_8h.html#a9a0878f36babdc2feb3a8352a64a434d">CPP_THROW_NEW</a>;
<a name="l01666"></a>01666 
<a name="l01667"></a>01667   <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a> mLists[6];
<a name="l01668"></a>01668 };
<a name="l01669"></a>01669 
<a name="l01670"></a>01670 
<a name="l01671"></a><a class="code" href="../../df/d7f/classns_display_image_container.html">01671</a> <span class="keyword">class </span><a class="code" href="../../df/d7f/classns_display_image_container.html">nsDisplayImageContainer</a> : <span class="keyword">public</span> <a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a> {
<a name="l01672"></a>01672 <span class="keyword">public</span>:
<a name="l01673"></a><a class="code" href="../../df/d7f/classns_display_image_container.html#a13f84cf5396e1243b6eec18e1ae5cf1d">01673</a>   <span class="keyword">typedef</span> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html">mozilla::layers::ImageContainer</a> <a class="code" href="../../df/d7f/classns_display_image_container.html#a13f84cf5396e1243b6eec18e1ae5cf1d">ImageContainer</a>;
<a name="l01674"></a><a class="code" href="../../df/d7f/classns_display_image_container.html#aff57dd01dd606025cc2d49a1af3022e6">01674</a>   <span class="keyword">typedef</span> <a class="code" href="../../da/d82/classmozilla_1_1layers_1_1_image_layer.html">mozilla::layers::ImageLayer</a> <a class="code" href="../../df/d7f/classns_display_image_container.html#aff57dd01dd606025cc2d49a1af3022e6">ImageLayer</a>;
<a name="l01675"></a>01675 
<a name="l01676"></a><a class="code" href="../../df/d7f/classns_display_image_container.html#a02a3cf7c9bff29bceb80d4b6aaf1e8f0">01676</a>   <a class="code" href="../../df/d7f/classns_display_image_container.html#a02a3cf7c9bff29bceb80d4b6aaf1e8f0">nsDisplayImageContainer</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame)
<a name="l01677"></a>01677     : <a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>(aBuilder, aFrame)
<a name="l01678"></a>01678   {}
<a name="l01679"></a>01679 
<a name="l01680"></a>01680   <span class="keyword">virtual</span> <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;ImageContainer&gt;</a> <a class="code" href="../../df/d7f/classns_display_image_container.html#a699f1a2204ca43538c5c6d732d374e3a">GetContainer</a>(<a class="code" href="../../db/d9b/classns_display_item.html#aa51d33021d04f66b501a059850d1bdd1">LayerManager</a>* aManager,
<a name="l01681"></a>01681                                                         <a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder) = 0;
<a name="l01682"></a>01682   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/d7f/classns_display_image_container.html#a95d32794cfdd89e028ae4ba49cb778a2">ConfigureLayer</a>(<a class="code" href="../../df/d7f/classns_display_image_container.html#aff57dd01dd606025cc2d49a1af3022e6">ImageLayer</a>* aLayer, <span class="keyword">const</span> <a class="code" href="../../da/d1b/structns_int_point.html">nsIntPoint</a>&amp; aOffset) = 0;
<a name="l01683"></a>01683 
<a name="l01684"></a><a class="code" href="../../df/d7f/classns_display_image_container.html#a69051ebb8129600ca227899ba3d55ea7">01684</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../df/d7f/classns_display_image_container.html#a69051ebb8129600ca227899ba3d55ea7">SupportsOptimizingToImage</a>() MOZ_OVERRIDE { <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l01685"></a>01685 };
<a name="l01686"></a>01686 
<a name="l01697"></a><a class="code" href="../../df/dab/classns_display_generic.html">01697</a> <span class="keyword">class </span><a class="code" href="../../df/dab/classns_display_generic.html">nsDisplayGeneric</a> : <span class="keyword">public</span> <a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a> {
<a name="l01698"></a>01698 <span class="keyword">public</span>:
<a name="l01699"></a><a class="code" href="../../df/dab/classns_display_generic.html#a4cd9c06c4d68a18e7e144a1ef8d2317c">01699</a>   <span class="keyword">typedef</span> <a class="code" href="../../d4/da9/png_8h.html#ab30926da86712184b070e550789f8bf7">void</a> (* <a class="code" href="../../df/dab/classns_display_generic.html#a4cd9c06c4d68a18e7e144a1ef8d2317c">PaintCallback</a>)(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame, <a class="code" href="../../d5/d2c/classns_rendering_context.html">nsRenderingContext</a>* aCtx,
<a name="l01700"></a>01700                                  <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aDirtyRect, <a class="code" href="../../d6/d7b/structns_point.html">nsPoint</a> aFramePt);
<a name="l01701"></a>01701 
<a name="l01702"></a><a class="code" href="../../df/dab/classns_display_generic.html#a5ae789e23ff4ce49c70f123c00117691">01702</a>   <a class="code" href="../../df/dab/classns_display_generic.html#a5ae789e23ff4ce49c70f123c00117691">nsDisplayGeneric</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l01703"></a>01703                    <a class="code" href="../../df/dab/classns_display_generic.html#a4cd9c06c4d68a18e7e144a1ef8d2317c">PaintCallback</a> aPaint, <span class="keyword">const</span> <span class="keywordtype">char</span>* aName, <a class="code" href="../../db/d9b/classns_display_item.html#a253d7e0fd1993dd39da93f5bfc49a3a8">Type</a> <a class="code" href="../../df/d33/ns_x_u_l_app_a_p_i_8h.html#a02213a397ee55db7eba28bed963f63df">aType</a>)
<a name="l01704"></a>01704     : <a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>(aBuilder, aFrame), <a class="code" href="../../df/dab/classns_display_generic.html#a4947e04158349c0425aee70341147b04">mPaint</a>(aPaint)
<a name="l01705"></a>01705 #ifdef MOZ_DUMP_PAINTING
<a name="l01706"></a>01706       , mName(aName)
<a name="l01707"></a>01707 #endif
<a name="l01708"></a>01708       , <a class="code" href="../../df/dab/classns_display_generic.html#a0be77700fb706337093fe30b4999ac79">mType</a>(aType)
<a name="l01709"></a>01709   {
<a name="l01710"></a>01710     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#aa7716d29a6749d766b19b8b880b448f1">MOZ_COUNT_CTOR</a>(<a class="code" href="../../df/dab/classns_display_generic.html">nsDisplayGeneric</a>);
<a name="l01711"></a>01711   }
<a name="l01712"></a>01712 <span class="preprocessor">#ifdef NS_BUILD_REFCNT_LOGGING</span>
<a name="l01713"></a>01713 <span class="preprocessor"></span>  <span class="keyword">virtual</span> ~<a class="code" href="../../df/dab/classns_display_generic.html">nsDisplayGeneric</a>() {
<a name="l01714"></a>01714     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#a8a91532bfafbc5b73fad1b4127faf725">MOZ_COUNT_DTOR</a>(<a class="code" href="../../df/dab/classns_display_generic.html">nsDisplayGeneric</a>);
<a name="l01715"></a>01715   }
<a name="l01716"></a>01716 <span class="preprocessor">#endif</span>
<a name="l01717"></a>01717 <span class="preprocessor"></span>  
<a name="l01718"></a><a class="code" href="../../df/dab/classns_display_generic.html#a4243efd86368dbbbb2ba72f4007e9136">01718</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/dab/classns_display_generic.html#a4243efd86368dbbbb2ba72f4007e9136">Paint</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d5/d2c/classns_rendering_context.html">nsRenderingContext</a>* aCtx) MOZ_OVERRIDE {
<a name="l01719"></a>01719     <a class="code" href="../../df/dab/classns_display_generic.html#a4947e04158349c0425aee70341147b04">mPaint</a>(<a class="code" href="../../db/d9b/classns_display_item.html#a3e1d3f6792b6f9d85907bbcd98b385fa">mFrame</a>, aCtx, <a class="code" href="../../db/d9b/classns_display_item.html#a8c36a2a001c558f57f34fc2c2b7994d4">mVisibleRect</a>, <a class="code" href="../../db/d9b/classns_display_item.html#ac72fa0bfb6db872125966b9322114dee">ToReferenceFrame</a>());
<a name="l01720"></a>01720   }
<a name="l01721"></a>01721   <a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">NS_DISPLAY_DECL_NAME</a>(mName, <a class="code" href="../../df/dab/classns_display_generic.html#a0be77700fb706337093fe30b4999ac79">mType</a>)
<a name="l01722"></a>01722 
<a name="l01723"></a><a class="code" href="../../df/dab/classns_display_generic.html#a98359ccbfdbc3f7d67a82af346300d7c">01723</a>   virtual <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> <a class="code" href="../../df/dab/classns_display_generic.html#a98359ccbfdbc3f7d67a82af346300d7c">GetComponentAlphaBounds</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder) {
<a name="l01724"></a>01724     <span class="keywordflow">if</span> (<a class="code" href="../../df/dab/classns_display_generic.html#a0be77700fb706337093fe30b4999ac79">mType</a> == nsDisplayItem::TYPE_HEADER_FOOTER) {
<a name="l01725"></a>01725       <span class="keywordtype">bool</span> snap;
<a name="l01726"></a>01726       <span class="keywordflow">return</span> <a class="code" href="../../db/d9b/classns_display_item.html#a354daf337df751ffd6e712f5cf2f2b40">GetBounds</a>(aBuilder, &amp;snap);
<a name="l01727"></a>01727     }
<a name="l01728"></a>01728     <span class="keywordflow">return</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>();
<a name="l01729"></a>01729   }
<a name="l01730"></a>01730 
<a name="l01731"></a>01731 <span class="keyword">protected</span>:
<a name="l01732"></a><a class="code" href="../../df/dab/classns_display_generic.html#a4947e04158349c0425aee70341147b04">01732</a>   <a class="code" href="../../df/dab/classns_display_generic.html#a4cd9c06c4d68a18e7e144a1ef8d2317c">PaintCallback</a> <a class="code" href="../../df/dab/classns_display_generic.html#a4947e04158349c0425aee70341147b04">mPaint</a>;
<a name="l01733"></a>01733 <span class="preprocessor">#ifdef MOZ_DUMP_PAINTING</span>
<a name="l01734"></a>01734 <span class="preprocessor"></span>  <span class="keyword">const</span> <span class="keywordtype">char</span>*   mName;
<a name="l01735"></a>01735 <span class="preprocessor">#endif</span>
<a name="l01736"></a><a class="code" href="../../df/dab/classns_display_generic.html#a0be77700fb706337093fe30b4999ac79">01736</a> <span class="preprocessor"></span>  <a class="code" href="../../db/d9b/classns_display_item.html#a253d7e0fd1993dd39da93f5bfc49a3a8">Type</a> <a class="code" href="../../df/dab/classns_display_generic.html#a0be77700fb706337093fe30b4999ac79">mType</a>;
<a name="l01737"></a>01737 };
<a name="l01738"></a>01738 
<a name="l01739"></a>01739 <span class="preprocessor">#if defined(MOZ_REFLOW_PERF_DSP) &amp;&amp; defined(MOZ_REFLOW_PERF)</span>
<a name="l01740"></a>01740 <span class="preprocessor"></span>
<a name="l01752"></a>01752 <span class="keyword">class </span>nsDisplayReflowCount : <span class="keyword">public</span> <a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a> {
<a name="l01753"></a>01753 <span class="keyword">public</span>:
<a name="l01754"></a>01754   nsDisplayReflowCount(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l01755"></a>01755                        <span class="keyword">const</span> <span class="keywordtype">char</span>* aFrameName,
<a name="l01756"></a>01756                        uint32_t aColor = 0)
<a name="l01757"></a>01757     : <a class="code" href="../../db/d9b/classns_display_item.html#ac5223906de51954503092c955fd433a6">nsDisplayItem</a>(aBuilder, aFrame),
<a name="l01758"></a>01758       mFrameName(aFrameName),
<a name="l01759"></a>01759       mColor(aColor)
<a name="l01760"></a>01760   {
<a name="l01761"></a>01761     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#aa7716d29a6749d766b19b8b880b448f1">MOZ_COUNT_CTOR</a>(nsDisplayReflowCount);
<a name="l01762"></a>01762   }
<a name="l01763"></a>01763 <span class="preprocessor">#ifdef NS_BUILD_REFCNT_LOGGING</span>
<a name="l01764"></a>01764 <span class="preprocessor"></span>  <span class="keyword">virtual</span> ~nsDisplayReflowCount() {
<a name="l01765"></a>01765     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#a8a91532bfafbc5b73fad1b4127faf725">MOZ_COUNT_DTOR</a>(nsDisplayReflowCount);
<a name="l01766"></a>01766   }
<a name="l01767"></a>01767 <span class="preprocessor">#endif</span>
<a name="l01768"></a>01768 <span class="preprocessor"></span>
<a name="l01769"></a>01769   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../db/d9b/classns_display_item.html#a12abc319963ae71b97a1da9bbb51399f">Paint</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d5/d2c/classns_rendering_context.html">nsRenderingContext</a>* aCtx) MOZ_OVERRIDE {
<a name="l01770"></a>01770     mFrame-&gt;PresContext()-&gt;PresShell()-&gt;PaintCount(mFrameName, aCtx,
<a name="l01771"></a>01771                                                    mFrame-&gt;PresContext(),
<a name="l01772"></a>01772                                                    <a class="code" href="../../db/d9b/classns_display_item.html#a3e1d3f6792b6f9d85907bbcd98b385fa">mFrame</a>, <a class="code" href="../../db/d9b/classns_display_item.html#ac72fa0bfb6db872125966b9322114dee">ToReferenceFrame</a>(),
<a name="l01773"></a>01773                                                    mColor);
<a name="l01774"></a>01774   }
<a name="l01775"></a>01775   <a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">NS_DISPLAY_DECL_NAME</a>(<span class="stringliteral">&quot;nsDisplayReflowCount&quot;</span>, TYPE_REFLOW_COUNT)
<a name="l01776"></a>01776 protected:
<a name="l01777"></a>01777   <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <span class="keywordtype">char</span>* mFrameName;
<a name="l01778"></a>01778   <a class="code" href="../../d9/d6a/ns_color_8h.html#abee756dec22b05b8b36337fea5612041">nscolor</a> mColor;
<a name="l01779"></a>01779 };
<a name="l01780"></a>01780 
<a name="l01781"></a>01781 <span class="preprocessor">#define DO_GLOBAL_REFLOW_COUNT_DSP(_name)                                     \</span>
<a name="l01782"></a>01782 <span class="preprocessor">  PR_BEGIN_MACRO                                                              \</span>
<a name="l01783"></a>01783 <span class="preprocessor">    if (!aBuilder-&gt;IsBackgroundOnly() &amp;&amp; !aBuilder-&gt;IsForEventDelivery() &amp;&amp;   \</span>
<a name="l01784"></a>01784 <span class="preprocessor">        PresContext()-&gt;PresShell()-&gt;IsPaintingFrameCounts()) {                \</span>
<a name="l01785"></a>01785 <span class="preprocessor">        aLists.Outlines()-&gt;AppendNewToTop(                                    \</span>
<a name="l01786"></a>01786 <span class="preprocessor">            new (aBuilder) nsDisplayReflowCount(aBuilder, this, _name));      \</span>
<a name="l01787"></a>01787 <span class="preprocessor">    }                                                                         \</span>
<a name="l01788"></a>01788 <span class="preprocessor">  PR_END_MACRO</span>
<a name="l01789"></a>01789 <span class="preprocessor"></span>
<a name="l01790"></a>01790 <span class="preprocessor">#define DO_GLOBAL_REFLOW_COUNT_DSP_COLOR(_name, _color)                       \</span>
<a name="l01791"></a>01791 <span class="preprocessor">  PR_BEGIN_MACRO                                                              \</span>
<a name="l01792"></a>01792 <span class="preprocessor">    if (!aBuilder-&gt;IsBackgroundOnly() &amp;&amp; !aBuilder-&gt;IsForEventDelivery() &amp;&amp;   \</span>
<a name="l01793"></a>01793 <span class="preprocessor">        PresContext()-&gt;PresShell()-&gt;IsPaintingFrameCounts()) {                \</span>
<a name="l01794"></a>01794 <span class="preprocessor">        aLists.Outlines()-&gt;AppendNewToTop(                                    \</span>
<a name="l01795"></a>01795 <span class="preprocessor">             new (aBuilder) nsDisplayReflowCount(aBuilder, this, _name, _color)); \</span>
<a name="l01796"></a>01796 <span class="preprocessor">    }                                                                         \</span>
<a name="l01797"></a>01797 <span class="preprocessor">  PR_END_MACRO</span>
<a name="l01798"></a>01798 <span class="preprocessor"></span>
<a name="l01799"></a>01799 <span class="comment">/*</span>
<a name="l01800"></a>01800 <span class="comment">  Macro to be used for classes that don&#39;t actually implement BuildDisplayList</span>
<a name="l01801"></a>01801 <span class="comment"> */</span>
<a name="l01802"></a>01802 <span class="preprocessor">#define DECL_DO_GLOBAL_REFLOW_COUNT_DSP(_class, _super)                   \</span>
<a name="l01803"></a>01803 <span class="preprocessor">  void BuildDisplayList(nsDisplayListBuilder*   aBuilder,                 \</span>
<a name="l01804"></a>01804 <span class="preprocessor">                        const nsRect&amp;           aDirtyRect,               \</span>
<a name="l01805"></a>01805 <span class="preprocessor">                        const nsDisplayListSet&amp; aLists) {                 \</span>
<a name="l01806"></a>01806 <span class="preprocessor">    DO_GLOBAL_REFLOW_COUNT_DSP(#_class);                                  \</span>
<a name="l01807"></a>01807 <span class="preprocessor">    _super::BuildDisplayList(aBuilder, aDirtyRect, aLists);               \</span>
<a name="l01808"></a>01808 <span class="preprocessor">  }</span>
<a name="l01809"></a>01809 <span class="preprocessor"></span>
<a name="l01810"></a>01810 <span class="preprocessor">#else // MOZ_REFLOW_PERF_DSP &amp;&amp; MOZ_REFLOW_PERF</span>
<a name="l01811"></a>01811 <span class="preprocessor"></span>
<a name="l01812"></a><a class="code" href="../../de/d41/ns_display_list_8h.html#a6f5db807a30b0118a2499bae2231ea1e">01812</a> <span class="preprocessor">#define DO_GLOBAL_REFLOW_COUNT_DSP(_name)</span>
<a name="l01813"></a><a class="code" href="../../de/d41/ns_display_list_8h.html#ad7de46500ecea2a242b9698fe63253cc">01813</a> <span class="preprocessor"></span><span class="preprocessor">#define DO_GLOBAL_REFLOW_COUNT_DSP_COLOR(_name, _color)</span>
<a name="l01814"></a><a class="code" href="../../de/d41/ns_display_list_8h.html#ad5e1ab7f45b16ecc1e43ba4d05fc1aea">01814</a> <span class="preprocessor"></span><span class="preprocessor">#define DECL_DO_GLOBAL_REFLOW_COUNT_DSP(_class, _super)</span>
<a name="l01815"></a>01815 <span class="preprocessor"></span>
<a name="l01816"></a>01816 <span class="preprocessor">#endif // MOZ_REFLOW_PERF_DSP &amp;&amp; MOZ_REFLOW_PERF</span>
<a name="l01817"></a>01817 <span class="preprocessor"></span>
<a name="l01818"></a><a class="code" href="../../d1/d6f/classns_display_caret.html">01818</a> <span class="keyword">class </span><a class="code" href="../../d1/d6f/classns_display_caret.html">nsDisplayCaret</a> : <span class="keyword">public</span> <a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a> {
<a name="l01819"></a>01819 <span class="keyword">public</span>:
<a name="l01820"></a><a class="code" href="../../d1/d6f/classns_display_caret.html#a85398d77cb7354f454cfc617b4098fce">01820</a>   <a class="code" href="../../d1/d6f/classns_display_caret.html">nsDisplayCaret</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aCaretFrame,
<a name="l01821"></a>01821                  <a class="code" href="../../db/da2/classns_caret.html">nsCaret</a> *aCaret)
<a name="l01822"></a>01822     : <a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a>(aBuilder, aCaretFrame), mCaret(aCaret) {
<a name="l01823"></a>01823     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#aa7716d29a6749d766b19b8b880b448f1">MOZ_COUNT_CTOR</a>(<a class="code" href="../../d1/d6f/classns_display_caret.html">nsDisplayCaret</a>);
<a name="l01824"></a>01824   }
<a name="l01825"></a>01825 <span class="preprocessor">#ifdef NS_BUILD_REFCNT_LOGGING</span>
<a name="l01826"></a>01826 <span class="preprocessor"></span>  <span class="keyword">virtual</span> ~<a class="code" href="../../d1/d6f/classns_display_caret.html">nsDisplayCaret</a>() {
<a name="l01827"></a>01827     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#a8a91532bfafbc5b73fad1b4127faf725">MOZ_COUNT_DTOR</a>(<a class="code" href="../../d1/d6f/classns_display_caret.html">nsDisplayCaret</a>);
<a name="l01828"></a>01828   }
<a name="l01829"></a>01829 <span class="preprocessor">#endif</span>
<a name="l01830"></a>01830 <span class="preprocessor"></span>
<a name="l01831"></a><a class="code" href="../../d1/d6f/classns_display_caret.html#a5845285b030d106768e6aa59ce069eea">01831</a>   <span class="keyword">virtual</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> <a class="code" href="../../d1/d6f/classns_display_caret.html#a5845285b030d106768e6aa59ce069eea">GetBounds</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keywordtype">bool</span>* aSnap) MOZ_OVERRIDE {
<a name="l01832"></a>01832     *aSnap = <span class="keyword">false</span>;
<a name="l01833"></a>01833     <span class="comment">// The caret returns a rect in the coordinates of mFrame.</span>
<a name="l01834"></a>01834     <span class="keywordflow">return</span> mCaret-&gt;GetCaretRect() + ToReferenceFrame();
<a name="l01835"></a>01835   }
<a name="l01836"></a>01836   <span class="keyword">virtual</span> <span class="keywordtype">void</span> Paint(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d5/d2c/classns_rendering_context.html">nsRenderingContext</a>* aCtx) MOZ_OVERRIDE;
<a name="l01837"></a>01837   <a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">NS_DISPLAY_DECL_NAME</a>(<span class="stringliteral">&quot;Caret&quot;</span>, TYPE_CARET)
<a name="l01838"></a>01838 protected:
<a name="l01839"></a><a class="code" href="../../d1/d6f/classns_display_caret.html#a61ee5bc6f8a4ed9ffded1933bf05498c">01839</a>   <a class="code" href="../../d0/d01/classns_ref_ptr.html">nsRefPtr</a>&lt;<a class="code" href="../../db/da2/classns_caret.html">nsCaret</a>&gt; mCaret;
<a name="l01840"></a>01840 };
<a name="l01841"></a>01841 
<a name="l01845"></a><a class="code" href="../../da/d07/classns_display_border.html">01845</a> class <a class="code" href="../../da/d07/classns_display_border.html">nsDisplayBorder</a> : public <a class="code" href="../../db/d9b/classns_display_item.html">nsDisplayItem</a> {
<a name="l01846"></a>01846 <span class="keyword">public</span>:
<a name="l01847"></a><a class="code" href="../../da/d07/classns_display_border.html#afb16f440e8d5f1e944d01518c6bdff7f">01847</a>   <a class="code" href="../../da/d07/classns_display_border.html">nsDisplayBorder</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame) :
<a name="l01848"></a>01848     nsDisplayItem(aBuilder, aFrame)
<a name="l01849"></a>01849   {
<a name="l01850"></a>01850     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#aa7716d29a6749d766b19b8b880b448f1">MOZ_COUNT_CTOR</a>(<a class="code" href="../../da/d07/classns_display_border.html">nsDisplayBorder</a>);
<a name="l01851"></a>01851   }
<a name="l01852"></a>01852 <span class="preprocessor">#ifdef NS_BUILD_REFCNT_LOGGING</span>
<a name="l01853"></a>01853 <span class="preprocessor"></span>  <span class="keyword">virtual</span> ~<a class="code" href="../../da/d07/classns_display_border.html">nsDisplayBorder</a>() {
<a name="l01854"></a>01854     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#a8a91532bfafbc5b73fad1b4127faf725">MOZ_COUNT_DTOR</a>(<a class="code" href="../../da/d07/classns_display_border.html">nsDisplayBorder</a>);
<a name="l01855"></a>01855   }
<a name="l01856"></a>01856 <span class="preprocessor">#endif</span>
<a name="l01857"></a>01857 <span class="preprocessor"></span>
<a name="l01858"></a>01858   <span class="keyword">virtual</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> GetBounds(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keywordtype">bool</span>* aSnap) MOZ_OVERRIDE;
<a name="l01859"></a>01859   <span class="keyword">virtual</span> <span class="keywordtype">void</span> Paint(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d5/d2c/classns_rendering_context.html">nsRenderingContext</a>* aCtx) MOZ_OVERRIDE;
<a name="l01860"></a>01860   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> ComputeVisibility(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l01861"></a>01861                                    <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aVisibleRegion,
<a name="l01862"></a>01862                                    <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aAllowVisibleRegionExpansion) MOZ_OVERRIDE;
<a name="l01863"></a>01863   <a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">NS_DISPLAY_DECL_NAME</a>(<span class="stringliteral">&quot;Border&quot;</span>, TYPE_BORDER)
<a name="l01864"></a>01864   
<a name="l01865"></a>01865   virtual <a class="code" href="../../df/dac/classns_display_item_geometry.html">nsDisplayItemGeometry</a>* AllocateGeometry(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder);
<a name="l01866"></a>01866 
<a name="l01867"></a>01867   virtual <span class="keywordtype">void</span> ComputeInvalidationRegion(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l01868"></a>01868                                          <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code" href="../../df/dac/classns_display_item_geometry.html">nsDisplayItemGeometry</a>* aGeometry,
<a name="l01869"></a>01869                                          <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aInvalidRegion) MOZ_OVERRIDE;
<a name="l01870"></a>01870 };
<a name="l01871"></a>01871 
<a name="l01883"></a><a class="code" href="../../de/dd0/classns_display_solid_color.html">01883</a> class <a class="code" href="../../de/dd0/classns_display_solid_color.html">nsDisplaySolidColor</a> : public nsDisplayItem {
<a name="l01884"></a>01884 <span class="keyword">public</span>:
<a name="l01885"></a><a class="code" href="../../de/dd0/classns_display_solid_color.html#ad8231b802123ea21c27c593a9733161e">01885</a>   <a class="code" href="../../de/dd0/classns_display_solid_color.html">nsDisplaySolidColor</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l01886"></a>01886                       <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aBounds, <a class="code" href="../../d9/d6a/ns_color_8h.html#abee756dec22b05b8b36337fea5612041">nscolor</a> aColor)
<a name="l01887"></a>01887     : nsDisplayItem(aBuilder, aFrame), mBounds(aBounds), mColor(aColor)
<a name="l01888"></a>01888   {
<a name="l01889"></a>01889     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(<a class="code" href="../../d9/d6a/ns_color_8h.html#adaf60173b6f8706bb68cbea868ac4cff">NS_GET_A</a>(aColor) &gt; 0, <span class="stringliteral">&quot;Don&#39;t create invisible nsDisplaySolidColors!&quot;</span>);
<a name="l01890"></a>01890     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#aa7716d29a6749d766b19b8b880b448f1">MOZ_COUNT_CTOR</a>(<a class="code" href="../../de/dd0/classns_display_solid_color.html">nsDisplaySolidColor</a>);
<a name="l01891"></a>01891   }
<a name="l01892"></a>01892 <span class="preprocessor">#ifdef NS_BUILD_REFCNT_LOGGING</span>
<a name="l01893"></a>01893 <span class="preprocessor"></span>  <span class="keyword">virtual</span> ~<a class="code" href="../../de/dd0/classns_display_solid_color.html">nsDisplaySolidColor</a>() {
<a name="l01894"></a>01894     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#a8a91532bfafbc5b73fad1b4127faf725">MOZ_COUNT_DTOR</a>(<a class="code" href="../../de/dd0/classns_display_solid_color.html">nsDisplaySolidColor</a>);
<a name="l01895"></a>01895   }
<a name="l01896"></a>01896 <span class="preprocessor">#endif</span>
<a name="l01897"></a>01897 <span class="preprocessor"></span>
<a name="l01898"></a>01898   <span class="keyword">virtual</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> GetBounds(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keywordtype">bool</span>* aSnap) MOZ_OVERRIDE;
<a name="l01899"></a>01899 
<a name="l01900"></a><a class="code" href="../../de/dd0/classns_display_solid_color.html#ab012454cbee48eaa56551dbc26079459">01900</a>   <span class="keyword">virtual</span> <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a> GetOpaqueRegion(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l01901"></a>01901                                    <span class="keywordtype">bool</span>* aSnap) MOZ_OVERRIDE {
<a name="l01902"></a>01902     *aSnap = <span class="keyword">false</span>;
<a name="l01903"></a>01903     <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a> <a class="code" href="../../da/d7d/cook_8js.html#a65ab37df1aa3fe0eb3d8e51a835fb617">result</a>;
<a name="l01904"></a>01904     <span class="keywordflow">if</span> (<a class="code" href="../../d9/d6a/ns_color_8h.html#adaf60173b6f8706bb68cbea868ac4cff">NS_GET_A</a>(mColor) == 255) {
<a name="l01905"></a>01905       result = GetBounds(aBuilder, aSnap);
<a name="l01906"></a>01906     }
<a name="l01907"></a>01907     <span class="keywordflow">return</span> <a class="code" href="../../da/d7d/cook_8js.html#a65ab37df1aa3fe0eb3d8e51a835fb617">result</a>;
<a name="l01908"></a>01908   }
<a name="l01909"></a>01909 
<a name="l01910"></a><a class="code" href="../../de/dd0/classns_display_solid_color.html#a8ef97f1464d2ee3d17a2d9c69a20c33c">01910</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> IsUniform(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d9/d6a/ns_color_8h.html#abee756dec22b05b8b36337fea5612041">nscolor</a>* aColor) MOZ_OVERRIDE
<a name="l01911"></a>01911   {
<a name="l01912"></a>01912     *aColor = mColor;
<a name="l01913"></a>01913     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01914"></a>01914   }
<a name="l01915"></a>01915 
<a name="l01916"></a>01916   <span class="keyword">virtual</span> <span class="keywordtype">void</span> Paint(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d5/d2c/classns_rendering_context.html">nsRenderingContext</a>* aCtx) MOZ_OVERRIDE;
<a name="l01917"></a>01917 
<a name="l01918"></a><a class="code" href="../../de/dd0/classns_display_solid_color.html#a8d1c7d90e90f97c1d0eed01e17d09e16">01918</a>   <span class="keyword">virtual</span> <a class="code" href="../../df/dac/classns_display_item_geometry.html">nsDisplayItemGeometry</a>* AllocateGeometry(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder) MOZ_OVERRIDE
<a name="l01919"></a>01919   {
<a name="l01920"></a>01920     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../d1/d42/classns_display_item_bounds_geometry.html">nsDisplayItemBoundsGeometry</a>(<span class="keyword">this</span>, aBuilder);
<a name="l01921"></a>01921   }
<a name="l01922"></a>01922 
<a name="l01923"></a><a class="code" href="../../de/dd0/classns_display_solid_color.html#af7405613e0384eabc03cdc5c1c97982b">01923</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> ComputeInvalidationRegion(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l01924"></a>01924                                          <span class="keyword">const</span> <a class="code" href="../../df/dac/classns_display_item_geometry.html">nsDisplayItemGeometry</a>* aGeometry,
<a name="l01925"></a>01925                                          <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aInvalidRegion) MOZ_OVERRIDE
<a name="l01926"></a>01926   {
<a name="l01927"></a>01927     <span class="keyword">const</span> <a class="code" href="../../d1/d42/classns_display_item_bounds_geometry.html">nsDisplayItemBoundsGeometry</a>* geometry = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d1/d42/classns_display_item_bounds_geometry.html">nsDisplayItemBoundsGeometry</a>*<span class="keyword">&gt;</span>(aGeometry);
<a name="l01928"></a>01928     ComputeInvalidationRegionDifference(aBuilder, geometry, aInvalidRegion);
<a name="l01929"></a>01929   }
<a name="l01930"></a>01930 
<a name="l01931"></a>01931   <a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">NS_DISPLAY_DECL_NAME</a>(<span class="stringliteral">&quot;SolidColor&quot;</span>, TYPE_SOLID_COLOR)
<a name="l01932"></a>01932 
<a name="l01933"></a>01933 private:
<a name="l01934"></a>01934   <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>  mBounds;
<a name="l01935"></a>01935   <a class="code" href="../../d9/d6a/ns_color_8h.html#abee756dec22b05b8b36337fea5612041">nscolor</a> mColor;
<a name="l01936"></a>01936 };
<a name="l01937"></a>01937 
<a name="l01942"></a><a class="code" href="../../d2/deb/classns_display_background_image.html">01942</a> class <a class="code" href="../../d2/deb/classns_display_background_image.html">nsDisplayBackgroundImage</a> : public <a class="code" href="../../df/d7f/classns_display_image_container.html">nsDisplayImageContainer</a> {
<a name="l01943"></a>01943 <span class="keyword">public</span>:
<a name="l01950"></a>01950   <a class="code" href="../../d2/deb/classns_display_background_image.html">nsDisplayBackgroundImage</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l01951"></a>01951                            uint32_t aLayer,
<a name="l01952"></a>01952                            <span class="keyword">const</span> <a class="code" href="../../d9/d1f/structns_style_background.html">nsStyleBackground</a>* aBackgroundStyle);
<a name="l01953"></a>01953   <span class="keyword">virtual</span> ~<a class="code" href="../../d2/deb/classns_display_background_image.html">nsDisplayBackgroundImage</a>();
<a name="l01954"></a>01954 
<a name="l01955"></a>01955   <span class="comment">// This will create and append new items for all the layers of the</span>
<a name="l01956"></a>01956   <span class="comment">// background. Returns whether we appended a themed background.</span>
<a name="l01957"></a>01957   <span class="keyword">static</span> <span class="keywordtype">bool</span> AppendBackgroundItemsToTop(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l01958"></a>01958                                          <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l01959"></a>01959                                          <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* aList);
<a name="l01960"></a>01960 
<a name="l01961"></a>01961   <span class="keyword">virtual</span> <a class="code" href="../../d2/d93/namespacemozilla.html#a6c455799d5086a95a2600b3f9e4c4e9f">LayerState</a> GetLayerState(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l01962"></a>01962                                    <a class="code" href="../../d1/d01/classmozilla_1_1layers_1_1_layer_manager.html">LayerManager</a>* aManager,
<a name="l01963"></a>01963                                    <span class="keyword">const</span> <a class="code" href="../../d4/d07/structmozilla_1_1_frame_layer_builder_1_1_container_parameters.html">ContainerParameters</a>&amp; aParameters) MOZ_OVERRIDE;
<a name="l01964"></a>01964 
<a name="l01965"></a>01965   <span class="keyword">virtual</span> <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;Layer&gt;</a> BuildLayer(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l01966"></a>01966                                              <a class="code" href="../../d1/d01/classmozilla_1_1layers_1_1_layer_manager.html">LayerManager</a>* aManager,
<a name="l01967"></a>01967                                              <span class="keyword">const</span> <a class="code" href="../../d4/d07/structmozilla_1_1_frame_layer_builder_1_1_container_parameters.html">ContainerParameters</a>&amp; aContainerParameters) MOZ_OVERRIDE;
<a name="l01968"></a>01968 
<a name="l01969"></a>01969   <span class="keyword">virtual</span> <span class="keywordtype">void</span> HitTest(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aRect,
<a name="l01970"></a>01970                        <a class="code" href="../../d2/d17/structns_display_item_1_1_hit_test_state.html">HitTestState</a>* aState, <a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;nsIFrame*&gt;</a> *aOutFrames) MOZ_OVERRIDE;
<a name="l01971"></a>01971   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> ComputeVisibility(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l01972"></a>01972                                    <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aVisibleRegion,
<a name="l01973"></a>01973                                    <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aAllowVisibleRegionExpansion) MOZ_OVERRIDE;
<a name="l01974"></a>01974   <span class="keyword">virtual</span> <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a> GetOpaqueRegion(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l01975"></a>01975                                    <span class="keywordtype">bool</span>* aSnap) MOZ_OVERRIDE;
<a name="l01976"></a>01976   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> IsVaryingRelativeToMovingFrame(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l01977"></a>01977                                                 <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame) MOZ_OVERRIDE;
<a name="l01978"></a>01978   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> IsUniform(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d9/d6a/ns_color_8h.html#abee756dec22b05b8b36337fea5612041">nscolor</a>* aColor) MOZ_OVERRIDE;
<a name="l01982"></a>01982   <span class="keyword">virtual</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> GetBounds(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keywordtype">bool</span>* aSnap) MOZ_OVERRIDE;
<a name="l01983"></a>01983   <span class="keyword">virtual</span> <span class="keywordtype">void</span> Paint(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d5/d2c/classns_rendering_context.html">nsRenderingContext</a>* aCtx) MOZ_OVERRIDE;
<a name="l01984"></a>01984   <span class="keyword">virtual</span> uint32_t GetPerFrameKey() MOZ_OVERRIDE;
<a name="l01985"></a>01985   <a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">NS_DISPLAY_DECL_NAME</a>(<span class="stringliteral">&quot;Background&quot;</span>, TYPE_BACKGROUND)
<a name="l01986"></a>01986 
<a name="l01987"></a>01987   
<a name="l01992"></a>01992   <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> GetPositioningArea();
<a name="l01993"></a>01993 
<a name="l02001"></a>02001   <span class="keywordtype">bool</span> RenderingMightDependOnPositioningAreaSizeChange();
<a name="l02002"></a>02002 
<a name="l02003"></a><a class="code" href="../../d2/deb/classns_display_background_image.html#afbc8b33f11fa2c8d55de69df84838335">02003</a>   <span class="keyword">virtual</span> <a class="code" href="../../df/dac/classns_display_item_geometry.html">nsDisplayItemGeometry</a>* AllocateGeometry(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder) MOZ_OVERRIDE
<a name="l02004"></a>02004   {
<a name="l02005"></a>02005     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../dc/d98/classns_display_background_geometry.html">nsDisplayBackgroundGeometry</a>(<span class="keyword">this</span>, aBuilder);
<a name="l02006"></a>02006   }
<a name="l02007"></a>02007 
<a name="l02008"></a>02008   <span class="keyword">virtual</span> <span class="keywordtype">void</span> ComputeInvalidationRegion(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02009"></a>02009                                          <span class="keyword">const</span> <a class="code" href="../../df/dac/classns_display_item_geometry.html">nsDisplayItemGeometry</a>* aGeometry,
<a name="l02010"></a>02010                                          <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aInvalidRegion) MOZ_OVERRIDE;
<a name="l02011"></a>02011   
<a name="l02012"></a>02012   <span class="keyword">virtual</span> <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;ImageContainer&gt;</a> GetContainer(<a class="code" href="../../d5/d28/img_i_container_8idl.html#a5e4541ea7dcaeeccd3011050067df9ea">LayerManager</a>* aManager,
<a name="l02013"></a>02013                                                         <a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a> *aBuilder) MOZ_OVERRIDE;
<a name="l02014"></a>02014   <span class="keyword">virtual</span> <span class="keywordtype">void</span> ConfigureLayer(ImageLayer* aLayer, <span class="keyword">const</span> <a class="code" href="../../da/d1b/structns_int_point.html">nsIntPoint</a>&amp; aOffset) MOZ_OVERRIDE;
<a name="l02015"></a>02015 
<a name="l02016"></a>02016   <span class="keyword">static</span> <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a> GetInsideClipRegion(nsDisplayItem* aItem, <a class="code" href="../../d0/d65/classns_pres_context.html">nsPresContext</a>* aPresContext, uint8_t aClip,
<a name="l02017"></a>02017                                       <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aRect, <span class="keywordtype">bool</span>* aSnap);
<a name="l02018"></a>02018 
<a name="l02019"></a>02019 <span class="keyword">protected</span>:
<a name="l02020"></a><a class="code" href="../../d2/deb/classns_display_background_image.html#a9598b0adb3143bf43dd70b54e60d4da9">02020</a>   <span class="keyword">typedef</span> <span class="keyword">class </span><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html">mozilla::layers::ImageContainer</a> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html">ImageContainer</a>;
<a name="l02021"></a><a class="code" href="../../d2/deb/classns_display_background_image.html#a54ae0c1591b66b86003a7fd519c28a47">02021</a>   <span class="keyword">typedef</span> <span class="keyword">class </span><a class="code" href="../../da/d82/classmozilla_1_1layers_1_1_image_layer.html">mozilla::layers::ImageLayer</a> <a class="code" href="../../da/d82/classmozilla_1_1layers_1_1_image_layer.html">ImageLayer</a>;
<a name="l02022"></a>02022 
<a name="l02023"></a>02023   <span class="keywordtype">bool</span> TryOptimizeToImageLayer(<a class="code" href="../../d1/d01/classmozilla_1_1layers_1_1_layer_manager.html">LayerManager</a>* aManager, <a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder);
<a name="l02024"></a>02024   <span class="keywordtype">bool</span> IsSingleFixedPositionImage(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02025"></a>02025                                   <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aClipRect,
<a name="l02026"></a>02026                                   <a class="code" href="../../de/d69/structgfx_rect.html">gfxRect</a>* aDestRect);
<a name="l02027"></a>02027   <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> GetBoundsInternal(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder);
<a name="l02028"></a>02028 
<a name="l02029"></a>02029   <span class="keywordtype">void</span> PaintInternal(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d5/d2c/classns_rendering_context.html">nsRenderingContext</a>* aCtx,
<a name="l02030"></a>02030                      <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aBounds, <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>* aClipRect);
<a name="l02031"></a>02031 
<a name="l02032"></a>02032   <span class="comment">// Cache the result of nsCSSRendering::FindBackground. Always null if</span>
<a name="l02033"></a>02033   <span class="comment">// mIsThemed is true or if FindBackground returned false.</span>
<a name="l02034"></a><a class="code" href="../../d2/deb/classns_display_background_image.html#a87126118dc23d419856752e139a5d413">02034</a>   <span class="keyword">const</span> <a class="code" href="../../d9/d1f/structns_style_background.html">nsStyleBackground</a>* <a class="code" href="../../d2/deb/classns_display_background_image.html#a87126118dc23d419856752e139a5d413">mBackgroundStyle</a>;
<a name="l02035"></a>02035   <span class="comment">/* If this background can be a simple image layer, we store the format here. */</span>
<a name="l02036"></a><a class="code" href="../../d2/deb/classns_display_background_image.html#a797fd34a4a977da8ece9194292ecef15">02036</a>   <a class="code" href="../../d0/d01/classns_ref_ptr.html">nsRefPtr&lt;ImageContainer&gt;</a> <a class="code" href="../../d2/deb/classns_display_background_image.html#a797fd34a4a977da8ece9194292ecef15">mImageContainer</a>;
<a name="l02037"></a><a class="code" href="../../d2/deb/classns_display_background_image.html#abd742a104adccc7f9ace887dd0004c62">02037</a>   <a class="code" href="../../de/d69/structgfx_rect.html">gfxRect</a> <a class="code" href="../../d2/deb/classns_display_background_image.html#abd742a104adccc7f9ace887dd0004c62">mDestRect</a>;
<a name="l02038"></a>02038   <span class="comment">/* Bounds of this display item */</span>
<a name="l02039"></a><a class="code" href="../../d2/deb/classns_display_background_image.html#a0964ba341ee45e7d0469b289c7ce5f12">02039</a>   <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> <a class="code" href="../../d2/deb/classns_display_background_image.html#a0964ba341ee45e7d0469b289c7ce5f12">mBounds</a>;
<a name="l02040"></a><a class="code" href="../../d2/deb/classns_display_background_image.html#a66f5686ec8d4b4965d4853355515123a">02040</a>   uint32_t <a class="code" href="../../d2/deb/classns_display_background_image.html#a66f5686ec8d4b4965d4853355515123a">mLayer</a>;
<a name="l02041"></a>02041 
<a name="l02042"></a>02042   <span class="comment">/* true if this item represents the bottom-most background layer */</span>
<a name="l02043"></a><a class="code" href="../../d2/deb/classns_display_background_image.html#abf1717e32d04886afeaa5ee938d349ce">02043</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d2/deb/classns_display_background_image.html#abf1717e32d04886afeaa5ee938d349ce">mIsBottommostLayer</a>;
<a name="l02044"></a>02044 };
<a name="l02045"></a>02045 
<a name="l02046"></a>02046 
<a name="l02050"></a><a class="code" href="../../d2/d45/classns_display_themed_background.html">02050</a> <span class="keyword">class </span><a class="code" href="../../d2/d45/classns_display_themed_background.html">nsDisplayThemedBackground</a> : <span class="keyword">public</span> nsDisplayItem {
<a name="l02051"></a>02051 <span class="keyword">public</span>:
<a name="l02052"></a>02052   <a class="code" href="../../d2/d45/classns_display_themed_background.html">nsDisplayThemedBackground</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame);
<a name="l02053"></a>02053   <span class="keyword">virtual</span> ~<a class="code" href="../../d2/d45/classns_display_themed_background.html">nsDisplayThemedBackground</a>();
<a name="l02054"></a>02054 
<a name="l02055"></a>02055   <span class="keyword">virtual</span> <span class="keywordtype">void</span> HitTest(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aRect,
<a name="l02056"></a>02056                        <a class="code" href="../../d2/d17/structns_display_item_1_1_hit_test_state.html">HitTestState</a>* aState, <a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;nsIFrame*&gt;</a> *aOutFrames) MOZ_OVERRIDE;
<a name="l02057"></a>02057   <span class="keyword">virtual</span> <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a> GetOpaqueRegion(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02058"></a>02058                                    <span class="keywordtype">bool</span>* aSnap) MOZ_OVERRIDE;
<a name="l02059"></a>02059   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> IsUniform(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d9/d6a/ns_color_8h.html#abee756dec22b05b8b36337fea5612041">nscolor</a>* aColor) MOZ_OVERRIDE;
<a name="l02063"></a>02063   <span class="keyword">virtual</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> GetBounds(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keywordtype">bool</span>* aSnap) MOZ_OVERRIDE;
<a name="l02064"></a>02064   <span class="keyword">virtual</span> <span class="keywordtype">void</span> Paint(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d5/d2c/classns_rendering_context.html">nsRenderingContext</a>* aCtx) MOZ_OVERRIDE;
<a name="l02065"></a>02065   <a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">NS_DISPLAY_DECL_NAME</a>(<span class="stringliteral">&quot;ThemedBackground&quot;</span>, TYPE_THEMED_BACKGROUND)
<a name="l02066"></a>02066 
<a name="l02067"></a>02067   
<a name="l02072"></a>02072   <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> GetPositioningArea();
<a name="l02073"></a>02073 
<a name="l02074"></a><a class="code" href="../../d2/d45/classns_display_themed_background.html#a2480e3d6adc9a64190d2527c767a9564">02074</a>   <span class="keyword">virtual</span> <a class="code" href="../../df/dac/classns_display_item_geometry.html">nsDisplayItemGeometry</a>* AllocateGeometry(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder) MOZ_OVERRIDE
<a name="l02075"></a>02075   {
<a name="l02076"></a>02076     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../d9/d3c/classns_display_themed_background_geometry.html">nsDisplayThemedBackgroundGeometry</a>(<span class="keyword">this</span>, aBuilder);
<a name="l02077"></a>02077   }
<a name="l02078"></a>02078 
<a name="l02079"></a>02079   <span class="keyword">virtual</span> <span class="keywordtype">void</span> ComputeInvalidationRegion(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02080"></a>02080                                          <span class="keyword">const</span> <a class="code" href="../../df/dac/classns_display_item_geometry.html">nsDisplayItemGeometry</a>* aGeometry,
<a name="l02081"></a>02081                                          <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aInvalidRegion) MOZ_OVERRIDE;
<a name="l02082"></a>02082 
<a name="l02083"></a>02083 <span class="preprocessor">#ifdef MOZ_DUMP_PAINTING</span>
<a name="l02084"></a>02084 <span class="preprocessor"></span>  <span class="keyword">virtual</span> <span class="keywordtype">void</span> WriteDebugInfo(<a class="code" href="../../d1/ddf/ns_i_content_viewer_file_8idl.html#a2a9799b7b2af884315027dd95725e0c3">FILE</a> *aOutput) MOZ_OVERRIDE;
<a name="l02085"></a>02085 <span class="preprocessor">#endif</span>
<a name="l02086"></a>02086 <span class="preprocessor"></span><span class="keyword">protected</span>:
<a name="l02087"></a>02087   <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> GetBoundsInternal();
<a name="l02088"></a>02088 
<a name="l02089"></a>02089   <span class="keywordtype">void</span> PaintInternal(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d5/d2c/classns_rendering_context.html">nsRenderingContext</a>* aCtx,
<a name="l02090"></a>02090                      <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aBounds, <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>* aClipRect);
<a name="l02091"></a>02091 
<a name="l02092"></a><a class="code" href="../../d2/d45/classns_display_themed_background.html#a60371c06507606b0ead0f5fa0fd8de73">02092</a>   <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> <a class="code" href="../../d2/d45/classns_display_themed_background.html#a60371c06507606b0ead0f5fa0fd8de73">mBounds</a>;
<a name="l02093"></a><a class="code" href="../../d2/d45/classns_display_themed_background.html#a9bc09c316af216ec4f71de5a76feaa9e">02093</a>   <a class="code" href="../../d5/d97/classns_i_theme.html#ac07b9d5ce23bac0428c35d74c760e608">nsITheme::Transparency</a> <a class="code" href="../../d2/d45/classns_display_themed_background.html#a9bc09c316af216ec4f71de5a76feaa9e">mThemeTransparency</a>;
<a name="l02094"></a><a class="code" href="../../d2/d45/classns_display_themed_background.html#a3ea7126e0381ebdef10db249f90f897f">02094</a>   uint8_t <a class="code" href="../../d2/d45/classns_display_themed_background.html#a3ea7126e0381ebdef10db249f90f897f">mAppearance</a>;
<a name="l02095"></a>02095 };
<a name="l02096"></a>02096 
<a name="l02097"></a><a class="code" href="../../dc/d12/classns_display_background_color.html">02097</a> <span class="keyword">class </span><a class="code" href="../../dc/d12/classns_display_background_color.html">nsDisplayBackgroundColor</a> : <span class="keyword">public</span> nsDisplayItem
<a name="l02098"></a>02098 {
<a name="l02099"></a>02099 <span class="keyword">public</span>:
<a name="l02100"></a><a class="code" href="../../dc/d12/classns_display_background_color.html#a80489a2e7a425775dda1e6202b240ee5">02100</a>   <a class="code" href="../../dc/d12/classns_display_background_color.html">nsDisplayBackgroundColor</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l02101"></a>02101                            <span class="keyword">const</span> <a class="code" href="../../d9/d1f/structns_style_background.html">nsStyleBackground</a>* aBackgroundStyle,
<a name="l02102"></a>02102                            <a class="code" href="../../d9/d6a/ns_color_8h.html#abee756dec22b05b8b36337fea5612041">nscolor</a> aColor)
<a name="l02103"></a>02103     : nsDisplayItem(aBuilder, aFrame)
<a name="l02104"></a>02104     , mBackgroundStyle(aBackgroundStyle)
<a name="l02105"></a>02105     , mColor(aColor)
<a name="l02106"></a>02106   { }
<a name="l02107"></a>02107 
<a name="l02108"></a>02108   <span class="keyword">virtual</span> <span class="keywordtype">void</span> Paint(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d5/d2c/classns_rendering_context.html">nsRenderingContext</a>* aCtx) MOZ_OVERRIDE;
<a name="l02109"></a>02109   
<a name="l02110"></a>02110   <span class="keyword">virtual</span> <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a> GetOpaqueRegion(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02111"></a>02111                                    <span class="keywordtype">bool</span>* aSnap) MOZ_OVERRIDE;
<a name="l02112"></a>02112   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> IsUniform(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d9/d6a/ns_color_8h.html#abee756dec22b05b8b36337fea5612041">nscolor</a>* aColor) MOZ_OVERRIDE;
<a name="l02113"></a>02113   <span class="keyword">virtual</span> <span class="keywordtype">void</span> HitTest(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aRect,
<a name="l02114"></a>02114                        HitTestState* aState, <a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;nsIFrame*&gt;</a> *aOutFrames) MOZ_OVERRIDE;
<a name="l02115"></a>02115 
<a name="l02116"></a><a class="code" href="../../dc/d12/classns_display_background_color.html#a62dc56deab2a76483997a79f9a957d77">02116</a>   <span class="keyword">virtual</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> GetBounds(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keywordtype">bool</span>* aSnap) MOZ_OVERRIDE
<a name="l02117"></a>02117   {
<a name="l02118"></a>02118     *aSnap = <span class="keyword">true</span>;
<a name="l02119"></a>02119     <span class="keywordflow">return</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>(ToReferenceFrame(), Frame()-&gt;GetSize());
<a name="l02120"></a>02120   }
<a name="l02121"></a>02121 
<a name="l02122"></a><a class="code" href="../../dc/d12/classns_display_background_color.html#a48533adc32dc3bf53615999277b2041e">02122</a>   <span class="keyword">virtual</span> <a class="code" href="../../df/dac/classns_display_item_geometry.html">nsDisplayItemGeometry</a>* AllocateGeometry(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder) MOZ_OVERRIDE
<a name="l02123"></a>02123   {
<a name="l02124"></a>02124     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../d1/d42/classns_display_item_bounds_geometry.html">nsDisplayItemBoundsGeometry</a>(<span class="keyword">this</span>, aBuilder);
<a name="l02125"></a>02125   }
<a name="l02126"></a>02126 
<a name="l02127"></a><a class="code" href="../../dc/d12/classns_display_background_color.html#a09f4058cf111a68248f81b5068f33ebc">02127</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> ComputeInvalidationRegion(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02128"></a>02128                                          <span class="keyword">const</span> <a class="code" href="../../df/dac/classns_display_item_geometry.html">nsDisplayItemGeometry</a>* aGeometry,
<a name="l02129"></a>02129                                          <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aInvalidRegion) MOZ_OVERRIDE
<a name="l02130"></a>02130   {
<a name="l02131"></a>02131     <span class="keyword">const</span> <a class="code" href="../../d1/d42/classns_display_item_bounds_geometry.html">nsDisplayItemBoundsGeometry</a>* geometry = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d1/d42/classns_display_item_bounds_geometry.html">nsDisplayItemBoundsGeometry</a>*<span class="keyword">&gt;</span>(aGeometry);
<a name="l02132"></a>02132     ComputeInvalidationRegionDifference(aBuilder, geometry, aInvalidRegion);
<a name="l02133"></a>02133   }
<a name="l02134"></a>02134 
<a name="l02135"></a>02135   <a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">NS_DISPLAY_DECL_NAME</a>(<span class="stringliteral">&quot;BackgroundColor&quot;</span>, TYPE_BACKGROUND_COLOR)
<a name="l02136"></a>02136 <span class="preprocessor">#ifdef MOZ_DUMP_PAINTING</span>
<a name="l02137"></a>02137 <span class="preprocessor"></span>  <span class="keyword">virtual</span> <span class="keywordtype">void</span> WriteDebugInfo(<a class="code" href="../../d1/ddf/ns_i_content_viewer_file_8idl.html#a2a9799b7b2af884315027dd95725e0c3">FILE</a> *aOutput) MOZ_OVERRIDE {
<a name="l02138"></a>02138     fprintf(aOutput, <span class="stringliteral">&quot;(rgba %d,%d,%d,%d)&quot;</span>, 
<a name="l02139"></a>02139             <a class="code" href="../../d9/d6a/ns_color_8h.html#ac7415a4b6b91e7023a876117ab724ac6">NS_GET_R</a>(mColor), <a class="code" href="../../d9/d6a/ns_color_8h.html#a8f4c4615032689f1d77e8c6c5433deed">NS_GET_G</a>(mColor),
<a name="l02140"></a>02140             <a class="code" href="../../d9/d6a/ns_color_8h.html#ab87d2b2fec5c065a235dc269f4857197">NS_GET_B</a>(mColor), <a class="code" href="../../d9/d6a/ns_color_8h.html#adaf60173b6f8706bb68cbea868ac4cff">NS_GET_A</a>(mColor));
<a name="l02141"></a>02141 
<a name="l02142"></a>02142   }
<a name="l02143"></a>02143 <span class="preprocessor">#endif</span>
<a name="l02144"></a>02144 <span class="preprocessor"></span>
<a name="l02145"></a>02145 <span class="keyword">protected</span>:
<a name="l02146"></a><a class="code" href="../../dc/d12/classns_display_background_color.html#a06e51fe790d61e97b372243b8baea1cd">02146</a>   <span class="keyword">const</span> <a class="code" href="../../d9/d1f/structns_style_background.html">nsStyleBackground</a>* <a class="code" href="../../dc/d12/classns_display_background_color.html#a06e51fe790d61e97b372243b8baea1cd">mBackgroundStyle</a>;
<a name="l02147"></a><a class="code" href="../../dc/d12/classns_display_background_color.html#a736a882086dc39dd77072266b2683d85">02147</a>   <a class="code" href="../../d9/d6a/ns_color_8h.html#abee756dec22b05b8b36337fea5612041">nscolor</a> <a class="code" href="../../dc/d12/classns_display_background_color.html#a736a882086dc39dd77072266b2683d85">mColor</a>;
<a name="l02148"></a>02148 };
<a name="l02149"></a>02149 
<a name="l02153"></a><a class="code" href="../../d0/d0a/classns_display_box_shadow_outer.html">02153</a> <span class="keyword">class </span><a class="code" href="../../d0/d0a/classns_display_box_shadow_outer.html">nsDisplayBoxShadowOuter</a> : <span class="keyword">public</span> nsDisplayItem {
<a name="l02154"></a>02154 <span class="keyword">public</span>:
<a name="l02155"></a><a class="code" href="../../d0/d0a/classns_display_box_shadow_outer.html#a5ea7690890eae0800b67d9436e3284bf">02155</a>   <a class="code" href="../../d0/d0a/classns_display_box_shadow_outer.html">nsDisplayBoxShadowOuter</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame)
<a name="l02156"></a>02156     : nsDisplayItem(aBuilder, aFrame) {
<a name="l02157"></a>02157     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#aa7716d29a6749d766b19b8b880b448f1">MOZ_COUNT_CTOR</a>(<a class="code" href="../../d0/d0a/classns_display_box_shadow_outer.html">nsDisplayBoxShadowOuter</a>);
<a name="l02158"></a>02158     mBounds = GetBoundsInternal();
<a name="l02159"></a>02159   }
<a name="l02160"></a>02160 <span class="preprocessor">#ifdef NS_BUILD_REFCNT_LOGGING</span>
<a name="l02161"></a>02161 <span class="preprocessor"></span>  <span class="keyword">virtual</span> ~<a class="code" href="../../d0/d0a/classns_display_box_shadow_outer.html">nsDisplayBoxShadowOuter</a>() {
<a name="l02162"></a>02162     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#a8a91532bfafbc5b73fad1b4127faf725">MOZ_COUNT_DTOR</a>(<a class="code" href="../../d0/d0a/classns_display_box_shadow_outer.html">nsDisplayBoxShadowOuter</a>);
<a name="l02163"></a>02163   }
<a name="l02164"></a>02164 <span class="preprocessor">#endif</span>
<a name="l02165"></a>02165 <span class="preprocessor"></span>
<a name="l02166"></a>02166   <span class="keyword">virtual</span> <span class="keywordtype">void</span> Paint(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d5/d2c/classns_rendering_context.html">nsRenderingContext</a>* aCtx) MOZ_OVERRIDE;
<a name="l02167"></a>02167   <span class="keyword">virtual</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> GetBounds(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keywordtype">bool</span>* aSnap) MOZ_OVERRIDE;
<a name="l02168"></a>02168   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> ComputeVisibility(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02169"></a>02169                                    <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aVisibleRegion,
<a name="l02170"></a>02170                                    <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aAllowVisibleRegionExpansion) MOZ_OVERRIDE;
<a name="l02171"></a>02171   <a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">NS_DISPLAY_DECL_NAME</a>(<span class="stringliteral">&quot;BoxShadowOuter&quot;</span>, TYPE_BOX_SHADOW_OUTER)
<a name="l02172"></a>02172   
<a name="l02173"></a><a class="code" href="../../d0/d0a/classns_display_box_shadow_outer.html#a5c73a25aa9a126662d7249b5ccfe7205">02173</a>   virtual <span class="keywordtype">void</span> ComputeInvalidationRegion(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02174"></a>02174                                          <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code" href="../../df/dac/classns_display_item_geometry.html">nsDisplayItemGeometry</a>* aGeometry,
<a name="l02175"></a>02175                                          <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aInvalidRegion)
<a name="l02176"></a>02176   {
<a name="l02177"></a>02177     <span class="keyword">const</span> <a class="code" href="../../d3/d28/classns_display_item_generic_geometry.html">nsDisplayItemGenericGeometry</a>* geometry = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d3/d28/classns_display_item_generic_geometry.html">nsDisplayItemGenericGeometry</a>*<span class="keyword">&gt;</span>(aGeometry);
<a name="l02178"></a>02178     <span class="keywordtype">bool</span> snap;
<a name="l02179"></a>02179     <span class="keywordflow">if</span> (!geometry-&gt;<a class="code" href="../../df/dac/classns_display_item_geometry.html#aa1486a457355e01f6d1bd44419c84b13">mBounds</a>.<a class="code" href="../../dc/db8/structmozilla_1_1gfx_1_1_base_rect.html#aa73c9818634a416ded6d10a3da1caf50">IsEqualInterior</a>(GetBounds(aBuilder, &amp;snap)) ||
<a name="l02180"></a>02180         !geometry-&gt;<a class="code" href="../../d3/d28/classns_display_item_generic_geometry.html#a0d936b6a2205b1f7acc377a0bb4f612d">mBorderRect</a>.<a class="code" href="../../dc/db8/structmozilla_1_1gfx_1_1_base_rect.html#aa73c9818634a416ded6d10a3da1caf50">IsEqualInterior</a>(GetBorderRect())) {
<a name="l02181"></a>02181       <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a> oldShadow, newShadow;
<a name="l02182"></a>02182       oldShadow = oldShadow.<a class="code" href="../../d9/df6/classns_region.html#ad86fd9136e2190a9b1b011a8e5b35a09">Sub</a>(geometry-&gt;<a class="code" href="../../df/dac/classns_display_item_geometry.html#aa1486a457355e01f6d1bd44419c84b13">mBounds</a>, geometry-&gt;<a class="code" href="../../d3/d28/classns_display_item_generic_geometry.html#a0d936b6a2205b1f7acc377a0bb4f612d">mBorderRect</a>);
<a name="l02183"></a>02183       newShadow = newShadow.<a class="code" href="../../d9/df6/classns_region.html#ad86fd9136e2190a9b1b011a8e5b35a09">Sub</a>(GetBounds(aBuilder, &amp;snap), GetBorderRect());
<a name="l02184"></a>02184       aInvalidRegion-&gt;<a class="code" href="../../d9/df6/classns_region.html#a23726ce30a9ea76581f91483ea40deeb">Or</a>(oldShadow, newShadow);
<a name="l02185"></a>02185     }
<a name="l02186"></a>02186   }
<a name="l02187"></a>02187 
<a name="l02188"></a>02188   <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> GetBoundsInternal();
<a name="l02189"></a>02189 
<a name="l02190"></a>02190 <span class="keyword">private</span>:
<a name="l02191"></a>02191   <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a> mVisibleRegion;
<a name="l02192"></a>02192   <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> mBounds;
<a name="l02193"></a>02193 };
<a name="l02194"></a>02194 
<a name="l02198"></a><a class="code" href="../../d0/db5/classns_display_box_shadow_inner.html">02198</a> <span class="keyword">class </span><a class="code" href="../../d0/db5/classns_display_box_shadow_inner.html">nsDisplayBoxShadowInner</a> : <span class="keyword">public</span> nsDisplayItem {
<a name="l02199"></a>02199 <span class="keyword">public</span>:
<a name="l02200"></a><a class="code" href="../../d0/db5/classns_display_box_shadow_inner.html#ae3d692960dc32c2526394a1d76e38e5c">02200</a>   <a class="code" href="../../d0/db5/classns_display_box_shadow_inner.html">nsDisplayBoxShadowInner</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame)
<a name="l02201"></a>02201     : nsDisplayItem(aBuilder, aFrame) {
<a name="l02202"></a>02202     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#aa7716d29a6749d766b19b8b880b448f1">MOZ_COUNT_CTOR</a>(<a class="code" href="../../d0/db5/classns_display_box_shadow_inner.html">nsDisplayBoxShadowInner</a>);
<a name="l02203"></a>02203   }
<a name="l02204"></a>02204 <span class="preprocessor">#ifdef NS_BUILD_REFCNT_LOGGING</span>
<a name="l02205"></a>02205 <span class="preprocessor"></span>  <span class="keyword">virtual</span> ~<a class="code" href="../../d0/db5/classns_display_box_shadow_inner.html">nsDisplayBoxShadowInner</a>() {
<a name="l02206"></a>02206     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#a8a91532bfafbc5b73fad1b4127faf725">MOZ_COUNT_DTOR</a>(<a class="code" href="../../d0/db5/classns_display_box_shadow_inner.html">nsDisplayBoxShadowInner</a>);
<a name="l02207"></a>02207   }
<a name="l02208"></a>02208 <span class="preprocessor">#endif</span>
<a name="l02209"></a>02209 <span class="preprocessor"></span>
<a name="l02210"></a>02210   <span class="keyword">virtual</span> <span class="keywordtype">void</span> Paint(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d5/d2c/classns_rendering_context.html">nsRenderingContext</a>* aCtx) MOZ_OVERRIDE;
<a name="l02211"></a>02211   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> ComputeVisibility(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02212"></a>02212                                    <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aVisibleRegion,
<a name="l02213"></a>02213                                    <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aAllowVisibleRegionExpansion) MOZ_OVERRIDE;
<a name="l02214"></a>02214   <a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">NS_DISPLAY_DECL_NAME</a>(<span class="stringliteral">&quot;BoxShadowInner&quot;</span>, TYPE_BOX_SHADOW_INNER)
<a name="l02215"></a>02215   
<a name="l02216"></a><a class="code" href="../../d0/db5/classns_display_box_shadow_inner.html#a542613f74d53dd0e394156f6c8656cfa">02216</a>   virtual <a class="code" href="../../df/dac/classns_display_item_geometry.html">nsDisplayItemGeometry</a>* AllocateGeometry(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder)
<a name="l02217"></a>02217   {
<a name="l02218"></a>02218     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../d5/d3c/classns_display_box_shadow_inner_geometry.html">nsDisplayBoxShadowInnerGeometry</a>(<span class="keyword">this</span>, aBuilder);
<a name="l02219"></a>02219   }
<a name="l02220"></a>02220 
<a name="l02221"></a><a class="code" href="../../d0/db5/classns_display_box_shadow_inner.html#ac5fb799405c0bc11ef17f14e965c2b11">02221</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> ComputeInvalidationRegion(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02222"></a>02222                                          <span class="keyword">const</span> <a class="code" href="../../df/dac/classns_display_item_geometry.html">nsDisplayItemGeometry</a>* aGeometry,
<a name="l02223"></a>02223                                          <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aInvalidRegion) MOZ_OVERRIDE
<a name="l02224"></a>02224   {
<a name="l02225"></a>02225     <span class="keyword">const</span> <a class="code" href="../../d5/d3c/classns_display_box_shadow_inner_geometry.html">nsDisplayBoxShadowInnerGeometry</a>* geometry = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d5/d3c/classns_display_box_shadow_inner_geometry.html">nsDisplayBoxShadowInnerGeometry</a>*<span class="keyword">&gt;</span>(aGeometry);
<a name="l02226"></a>02226     <span class="keywordflow">if</span> (!geometry-&gt;<a class="code" href="../../d5/d3c/classns_display_box_shadow_inner_geometry.html#abaf75f94b1e64971a228876a5057a802">mPaddingRect</a>.<a class="code" href="../../dc/db8/structmozilla_1_1gfx_1_1_base_rect.html#aa73c9818634a416ded6d10a3da1caf50">IsEqualInterior</a>(GetPaddingRect())) {
<a name="l02227"></a>02227       <span class="comment">// nsDisplayBoxShadowInner is based around the padding rect, but it can</span>
<a name="l02228"></a>02228       <span class="comment">// touch pixels outside of this. We should invalidate the entire bounds.</span>
<a name="l02229"></a>02229       <span class="keywordtype">bool</span> snap;
<a name="l02230"></a>02230       aInvalidRegion-&gt;Or(geometry-&gt;<a class="code" href="../../df/dac/classns_display_item_geometry.html#aa1486a457355e01f6d1bd44419c84b13">mBounds</a>, GetBounds(aBuilder, &amp;snap));
<a name="l02231"></a>02231     }
<a name="l02232"></a>02232   }
<a name="l02233"></a>02233 
<a name="l02234"></a>02234 <span class="keyword">private</span>:
<a name="l02235"></a>02235   <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a> mVisibleRegion;
<a name="l02236"></a>02236 };
<a name="l02237"></a>02237 
<a name="l02241"></a><a class="code" href="../../d7/d1b/classns_display_outline.html">02241</a> <span class="keyword">class </span><a class="code" href="../../d7/d1b/classns_display_outline.html">nsDisplayOutline</a> : <span class="keyword">public</span> nsDisplayItem {
<a name="l02242"></a>02242 <span class="keyword">public</span>:
<a name="l02243"></a><a class="code" href="../../d7/d1b/classns_display_outline.html#a124a8351bc12b2e69730f10bee4d4f7e">02243</a>   <a class="code" href="../../d7/d1b/classns_display_outline.html">nsDisplayOutline</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame) :
<a name="l02244"></a>02244     nsDisplayItem(aBuilder, aFrame) {
<a name="l02245"></a>02245     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#aa7716d29a6749d766b19b8b880b448f1">MOZ_COUNT_CTOR</a>(<a class="code" href="../../d7/d1b/classns_display_outline.html">nsDisplayOutline</a>);
<a name="l02246"></a>02246   }
<a name="l02247"></a>02247 <span class="preprocessor">#ifdef NS_BUILD_REFCNT_LOGGING</span>
<a name="l02248"></a>02248 <span class="preprocessor"></span>  <span class="keyword">virtual</span> ~<a class="code" href="../../d7/d1b/classns_display_outline.html">nsDisplayOutline</a>() {
<a name="l02249"></a>02249     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#a8a91532bfafbc5b73fad1b4127faf725">MOZ_COUNT_DTOR</a>(<a class="code" href="../../d7/d1b/classns_display_outline.html">nsDisplayOutline</a>);
<a name="l02250"></a>02250   }
<a name="l02251"></a>02251 <span class="preprocessor">#endif</span>
<a name="l02252"></a>02252 <span class="preprocessor"></span>
<a name="l02253"></a>02253   <span class="keyword">virtual</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> GetBounds(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keywordtype">bool</span>* aSnap) MOZ_OVERRIDE;
<a name="l02254"></a>02254   <span class="keyword">virtual</span> <span class="keywordtype">void</span> Paint(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d5/d2c/classns_rendering_context.html">nsRenderingContext</a>* aCtx) MOZ_OVERRIDE;
<a name="l02255"></a>02255   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> ComputeVisibility(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02256"></a>02256                                    <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aVisibleRegion,
<a name="l02257"></a>02257                                    <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aAllowVisibleRegionExpansion) MOZ_OVERRIDE;
<a name="l02258"></a>02258   <a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">NS_DISPLAY_DECL_NAME</a>(<span class="stringliteral">&quot;Outline&quot;</span>, TYPE_OUTLINE)
<a name="l02259"></a>02259 };
<a name="l02260"></a>02260 
<a name="l02264"></a><a class="code" href="../../df/d1f/classns_display_event_receiver.html">02264</a> <span class="keyword">class </span><a class="code" href="../../df/d1f/classns_display_event_receiver.html">nsDisplayEventReceiver</a> : <span class="keyword">public</span> nsDisplayItem {
<a name="l02265"></a>02265 <span class="keyword">public</span>:
<a name="l02266"></a><a class="code" href="../../df/d1f/classns_display_event_receiver.html#abc694bf938e086f9df9af781ea5b4ca2">02266</a>   <a class="code" href="../../df/d1f/classns_display_event_receiver.html">nsDisplayEventReceiver</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame)
<a name="l02267"></a>02267     : nsDisplayItem(aBuilder, aFrame) {
<a name="l02268"></a>02268     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#aa7716d29a6749d766b19b8b880b448f1">MOZ_COUNT_CTOR</a>(<a class="code" href="../../df/d1f/classns_display_event_receiver.html">nsDisplayEventReceiver</a>);
<a name="l02269"></a>02269   }
<a name="l02270"></a>02270 <span class="preprocessor">#ifdef NS_BUILD_REFCNT_LOGGING</span>
<a name="l02271"></a>02271 <span class="preprocessor"></span>  <span class="keyword">virtual</span> ~<a class="code" href="../../df/d1f/classns_display_event_receiver.html">nsDisplayEventReceiver</a>() {
<a name="l02272"></a>02272     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#a8a91532bfafbc5b73fad1b4127faf725">MOZ_COUNT_DTOR</a>(<a class="code" href="../../df/d1f/classns_display_event_receiver.html">nsDisplayEventReceiver</a>);
<a name="l02273"></a>02273   }
<a name="l02274"></a>02274 <span class="preprocessor">#endif</span>
<a name="l02275"></a>02275 <span class="preprocessor"></span>
<a name="l02276"></a>02276   <span class="keyword">virtual</span> <span class="keywordtype">void</span> HitTest(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aRect,
<a name="l02277"></a>02277                        HitTestState* aState, <a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;nsIFrame*&gt;</a> *aOutFrames) MOZ_OVERRIDE;
<a name="l02278"></a>02278   <a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">NS_DISPLAY_DECL_NAME</a>(<span class="stringliteral">&quot;EventReceiver&quot;</span>, TYPE_EVENT_RECEIVER)
<a name="l02279"></a>02279 };
<a name="l02280"></a>02280 
<a name="l02295"></a><a class="code" href="../../d3/def/classns_display_wrap_list.html">02295</a> <span class="keyword">class </span><a class="code" href="../../d3/def/classns_display_wrap_list.html">nsDisplayWrapList</a> : <span class="keyword">public</span> nsDisplayItem {
<a name="l02296"></a>02296   <span class="comment">// This is never instantiated directly, so no need to count constructors and</span>
<a name="l02297"></a>02297   <span class="comment">// destructors.</span>
<a name="l02298"></a>02298 
<a name="l02299"></a>02299 <span class="keyword">public</span>:
<a name="l02303"></a>02303   <a class="code" href="../../d3/def/classns_display_wrap_list.html">nsDisplayWrapList</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l02304"></a>02304                     <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* aList);
<a name="l02305"></a>02305   <a class="code" href="../../d3/def/classns_display_wrap_list.html">nsDisplayWrapList</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l02306"></a>02306                     nsDisplayItem* aItem);
<a name="l02307"></a>02307   <a class="code" href="../../d3/def/classns_display_wrap_list.html">nsDisplayWrapList</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l02308"></a>02308                     nsDisplayItem* aItem, <span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aReferenceFrame, <span class="keyword">const</span> <a class="code" href="../../d6/d7b/structns_point.html">nsPoint</a>&amp; aToReferenceFrame);
<a name="l02309"></a><a class="code" href="../../d3/def/classns_display_wrap_list.html#a0f330098b196fc6484978232465631a9">02309</a>   <a class="code" href="../../d3/def/classns_display_wrap_list.html">nsDisplayWrapList</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame)
<a name="l02310"></a>02310     : nsDisplayItem(aBuilder, aFrame) {}
<a name="l02311"></a>02311   <span class="keyword">virtual</span> ~<a class="code" href="../../d3/def/classns_display_wrap_list.html">nsDisplayWrapList</a>();
<a name="l02315"></a><a class="code" href="../../d3/def/classns_display_wrap_list.html#aebb18f9ee9c16d6094d30c8ac3edf93c">02315</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> UpdateBounds(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder) MOZ_OVERRIDE
<a name="l02316"></a>02316   {
<a name="l02317"></a>02317     mBounds = mList.GetBounds(aBuilder);
<a name="l02318"></a>02318   }
<a name="l02319"></a>02319   <span class="keyword">virtual</span> <span class="keywordtype">void</span> HitTest(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aRect,
<a name="l02320"></a>02320                        HitTestState* aState, <a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;nsIFrame*&gt;</a> *aOutFrames) MOZ_OVERRIDE;
<a name="l02321"></a>02321   <span class="keyword">virtual</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> GetBounds(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keywordtype">bool</span>* aSnap) MOZ_OVERRIDE;
<a name="l02322"></a>02322   <span class="keyword">virtual</span> <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a> GetOpaqueRegion(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02323"></a>02323                                    <span class="keywordtype">bool</span>* aSnap) MOZ_OVERRIDE;
<a name="l02324"></a>02324   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> IsUniform(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d9/d6a/ns_color_8h.html#abee756dec22b05b8b36337fea5612041">nscolor</a>* aColor) MOZ_OVERRIDE;
<a name="l02325"></a>02325   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> IsVaryingRelativeToMovingFrame(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02326"></a>02326                                                 <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame) MOZ_OVERRIDE;
<a name="l02327"></a>02327   <span class="keyword">virtual</span> <span class="keywordtype">void</span> Paint(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d5/d2c/classns_rendering_context.html">nsRenderingContext</a>* aCtx) MOZ_OVERRIDE;
<a name="l02328"></a>02328   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> ComputeVisibility(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02329"></a>02329                                  <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aVisibleRegion,
<a name="l02330"></a>02330                                  <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aAllowVisibleRegionExpansion) MOZ_OVERRIDE;
<a name="l02331"></a><a class="code" href="../../d3/def/classns_display_wrap_list.html#aeb9deaed595a7cc094f6b6e2d5354ce2">02331</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d3/def/classns_display_wrap_list.html#aeb9deaed595a7cc094f6b6e2d5354ce2">TryMerge</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, nsDisplayItem* aItem) MOZ_OVERRIDE {
<a name="l02332"></a>02332     <a class="code" href="../../dc/d6d/ns_debug_8h.html#aa7f3deb23fbcb284ef465fd28ccaaa35">NS_WARNING</a>(<span class="stringliteral">&quot;This list should already have been flattened!!!&quot;</span>);
<a name="l02333"></a>02333     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l02334"></a>02334   }
<a name="l02335"></a><a class="code" href="../../d3/def/classns_display_wrap_list.html#a5a06c900b19fc2b61b20b330cbb6b3ab">02335</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> GetMergedFrames(<a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;nsIFrame*&gt;</a>* aFrames) MOZ_OVERRIDE
<a name="l02336"></a>02336   {
<a name="l02337"></a>02337     aFrames-&gt;AppendElements(mMergedFrames);
<a name="l02338"></a>02338   }
<a name="l02339"></a><a class="code" href="../../d3/def/classns_display_wrap_list.html#a98717f93bcfab494c6807cc5379ecd1c">02339</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> IsInvalid(<a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aRect) MOZ_OVERRIDE
<a name="l02340"></a>02340   {
<a name="l02341"></a>02341     <span class="keywordflow">if</span> (mFrame-&gt;IsInvalid(aRect) &amp;&amp; aRect.IsEmpty()) {
<a name="l02342"></a>02342       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l02343"></a>02343     }
<a name="l02344"></a>02344     <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> temp;
<a name="l02345"></a>02345     <span class="keywordflow">for</span> (uint32_t <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; mMergedFrames.Length(); <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++) {
<a name="l02346"></a>02346       <span class="keywordflow">if</span> (mMergedFrames[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>]-&gt;IsInvalid(temp) &amp;&amp; temp.<a class="code" href="../../dc/db8/structmozilla_1_1gfx_1_1_base_rect.html#a50d5fc04c803fb5ede9fd7cc39db78d6">IsEmpty</a>()) {
<a name="l02347"></a>02347         aRect.<a class="code" href="../../dc/db8/structmozilla_1_1gfx_1_1_base_rect.html#a6f5419c6d97ea7908c0eadeecf9f9911">SetEmpty</a>();
<a name="l02348"></a>02348         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l02349"></a>02349       }
<a name="l02350"></a>02350       aRect = aRect.Union(temp);
<a name="l02351"></a>02351     }
<a name="l02352"></a>02352     aRect += ToReferenceFrame();
<a name="l02353"></a>02353     <span class="keywordflow">return</span> !aRect.IsEmpty();
<a name="l02354"></a>02354   }
<a name="l02355"></a>02355   <a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">NS_DISPLAY_DECL_NAME</a>(<span class="stringliteral">&quot;WrapList&quot;</span>, TYPE_WRAP_LIST)
<a name="l02356"></a>02356 
<a name="l02357"></a>02357   virtual <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> GetComponentAlphaBounds(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder);
<a name="l02358"></a>02358                                     
<a name="l02359"></a><a class="code" href="../../d3/def/classns_display_wrap_list.html#af15d2fd605b1b51322c149b80d2f3061">02359</a>   virtual <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* GetSameCoordinateSystemChildren() MOZ_OVERRIDE
<a name="l02360"></a>02360   {
<a name="l02361"></a>02361     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(mList.IsEmpty() || !ReferenceFrame() ||
<a name="l02362"></a>02362                  !mList.GetBottom()-&gt;ReferenceFrame() ||
<a name="l02363"></a>02363                  mList.GetBottom()-&gt;ReferenceFrame() == ReferenceFrame(),
<a name="l02364"></a>02364                  <span class="stringliteral">&quot;Children must have same reference frame&quot;</span>);
<a name="l02365"></a>02365     <span class="keywordflow">return</span> &amp;mList;
<a name="l02366"></a>02366   }
<a name="l02367"></a><a class="code" href="../../d3/def/classns_display_wrap_list.html#a634abead47ed2cd76162abcb9f8d5caf">02367</a>   <span class="keyword">virtual</span> <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* <a class="code" href="../../d3/def/classns_display_wrap_list.html#a634abead47ed2cd76162abcb9f8d5caf">GetChildren</a>() MOZ_OVERRIDE { <span class="keywordflow">return</span> &amp;mList; }
<a name="l02368"></a>02368 
<a name="l02375"></a><a class="code" href="../../d3/def/classns_display_wrap_list.html#aca88980b5f5ca4dafb039ee5f7ec83e5">02375</a>   <span class="keyword">virtual</span> <a class="code" href="../../d3/def/classns_display_wrap_list.html">nsDisplayWrapList</a>* WrapWithClone(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02376"></a>02376                                            nsDisplayItem* aItem) {
<a name="l02377"></a>02377     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad3069ac6d831231df185636879a728ca">NS_NOTREACHED</a>(<span class="stringliteral">&quot;We never returned nullptr for GetUnderlyingFrame!&quot;</span>);
<a name="l02378"></a>02378     <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;
<a name="l02379"></a>02379   }
<a name="l02380"></a>02380 
<a name="l02386"></a>02386   <span class="keyword">static</span> <a class="code" href="../../d2/d93/namespacemozilla.html#a6c455799d5086a95a2600b3f9e4c4e9f">LayerState</a> RequiredLayerStateForChildren(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02387"></a>02387                                                   <a class="code" href="../../d5/d28/img_i_container_8idl.html#a5e4541ea7dcaeeccd3011050067df9ea">LayerManager</a>* aManager,
<a name="l02388"></a>02388                                                   <span class="keyword">const</span> ContainerParameters&amp; aParameters,
<a name="l02389"></a>02389                                                   <span class="keyword">const</span> <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>&amp; aList,
<a name="l02390"></a>02390                                                   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aActiveScrolledRoot);
<a name="l02391"></a>02391 
<a name="l02392"></a>02392 <span class="keyword">protected</span>:
<a name="l02393"></a><a class="code" href="../../d3/def/classns_display_wrap_list.html#a1380c10c9f3dfe5e24c00a0d6f34ee30">02393</a>   <a class="code" href="../../d3/def/classns_display_wrap_list.html#a1380c10c9f3dfe5e24c00a0d6f34ee30">nsDisplayWrapList</a>() {}
<a name="l02394"></a>02394 
<a name="l02395"></a><a class="code" href="../../d3/def/classns_display_wrap_list.html#afb9a9d0b85cdf01f2ee0b64e28b79432">02395</a>   <span class="keywordtype">void</span> MergeFrom(<a class="code" href="../../d3/def/classns_display_wrap_list.html">nsDisplayWrapList</a>* aOther)
<a name="l02396"></a>02396   {
<a name="l02397"></a>02397     mList.AppendToBottom(&amp;aOther-&gt;<a class="code" href="../../d3/def/classns_display_wrap_list.html#adf650f28aa2ce8abcee0ce318accc5ce">mList</a>);
<a name="l02398"></a>02398     mBounds.UnionRect(mBounds, aOther-&gt;<a class="code" href="../../d3/def/classns_display_wrap_list.html#a8d4a1d985a47d16047a9bca7ee6a7862">mBounds</a>);
<a name="l02399"></a>02399   }
<a name="l02400"></a><a class="code" href="../../d3/def/classns_display_wrap_list.html#a78ec0a7fa3f2761802242d4be2c097dd">02400</a>   <span class="keywordtype">void</span> MergeFromTrackingMergedFrames(<a class="code" href="../../d3/def/classns_display_wrap_list.html">nsDisplayWrapList</a>* aOther)
<a name="l02401"></a>02401   {
<a name="l02402"></a>02402     MergeFrom(aOther);
<a name="l02403"></a>02403     mMergedFrames.AppendElement(aOther-&gt;<a class="code" href="../../db/d9b/classns_display_item.html#a3e1d3f6792b6f9d85907bbcd98b385fa">mFrame</a>);
<a name="l02404"></a>02404     mMergedFrames.MoveElementsFrom(aOther-&gt;<a class="code" href="../../d3/def/classns_display_wrap_list.html#aff28dc50a1f927a79d0e0c2e72546726">mMergedFrames</a>);
<a name="l02405"></a>02405   }
<a name="l02406"></a>02406 
<a name="l02407"></a><a class="code" href="../../d3/def/classns_display_wrap_list.html#adf650f28aa2ce8abcee0ce318accc5ce">02407</a>   <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a> <a class="code" href="../../d3/def/classns_display_wrap_list.html#adf650f28aa2ce8abcee0ce318accc5ce">mList</a>;
<a name="l02408"></a>02408   <span class="comment">// The frames from items that have been merged into this item, excluding</span>
<a name="l02409"></a>02409   <span class="comment">// this item&#39;s own frame.</span>
<a name="l02410"></a><a class="code" href="../../d3/def/classns_display_wrap_list.html#aff28dc50a1f927a79d0e0c2e72546726">02410</a>   <a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;nsIFrame*&gt;</a> <a class="code" href="../../d3/def/classns_display_wrap_list.html#aff28dc50a1f927a79d0e0c2e72546726">mMergedFrames</a>;
<a name="l02411"></a><a class="code" href="../../d3/def/classns_display_wrap_list.html#a8d4a1d985a47d16047a9bca7ee6a7862">02411</a>   <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> <a class="code" href="../../d3/def/classns_display_wrap_list.html#a8d4a1d985a47d16047a9bca7ee6a7862">mBounds</a>;
<a name="l02412"></a>02412 };
<a name="l02413"></a>02413 
<a name="l02421"></a><a class="code" href="../../d3/d47/classns_display_wrapper.html">02421</a> <span class="keyword">class </span><a class="code" href="../../d3/d47/classns_display_wrapper.html">nsDisplayWrapper</a> {
<a name="l02422"></a>02422 <span class="keyword">public</span>:
<a name="l02423"></a>02423   <span class="comment">// This is never instantiated directly (it has pure virtual methods), so no</span>
<a name="l02424"></a>02424   <span class="comment">// need to count constructors and destructors.</span>
<a name="l02425"></a>02425 
<a name="l02426"></a><a class="code" href="../../d3/d47/classns_display_wrapper.html#afa5c7c53c3365dd8328e440aca42f27f">02426</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d3/d47/classns_display_wrapper.html#afa5c7c53c3365dd8328e440aca42f27f">WrapBorderBackground</a>() { <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l02427"></a>02427   <span class="keyword">virtual</span> nsDisplayItem* WrapList(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02428"></a>02428                                   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame, <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* aList) = 0;
<a name="l02429"></a>02429   <span class="keyword">virtual</span> nsDisplayItem* WrapItem(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02430"></a>02430                                   nsDisplayItem* aItem) = 0;
<a name="l02431"></a>02431 
<a name="l02432"></a>02432   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> WrapLists(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l02433"></a>02433                      <span class="keyword">const</span> <a class="code" href="../../d5/db8/classns_display_list_set.html">nsDisplayListSet</a>&amp; aIn, <span class="keyword">const</span> <a class="code" href="../../d5/db8/classns_display_list_set.html">nsDisplayListSet</a>&amp; aOut);
<a name="l02434"></a>02434   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> WrapListsInPlace(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l02435"></a>02435                             <span class="keyword">const</span> <a class="code" href="../../d5/db8/classns_display_list_set.html">nsDisplayListSet</a>&amp; aLists);
<a name="l02436"></a>02436 <span class="keyword">protected</span>:
<a name="l02437"></a><a class="code" href="../../d3/d47/classns_display_wrapper.html#a8acb09dea78a9f4f217d7ef677380921">02437</a>   <a class="code" href="../../d3/d47/classns_display_wrapper.html#a8acb09dea78a9f4f217d7ef677380921">nsDisplayWrapper</a>() {}
<a name="l02438"></a>02438 };
<a name="l02439"></a>02439 
<a name="l02444"></a><a class="code" href="../../d9/d8a/classns_display_opacity.html">02444</a> <span class="keyword">class </span><a class="code" href="../../d9/d8a/classns_display_opacity.html">nsDisplayOpacity</a> : <span class="keyword">public</span> <a class="code" href="../../d3/def/classns_display_wrap_list.html">nsDisplayWrapList</a> {
<a name="l02445"></a>02445 <span class="keyword">public</span>:
<a name="l02446"></a>02446   <a class="code" href="../../d9/d8a/classns_display_opacity.html">nsDisplayOpacity</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l02447"></a>02447                    <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* aList);
<a name="l02448"></a>02448 <span class="preprocessor">#ifdef NS_BUILD_REFCNT_LOGGING</span>
<a name="l02449"></a>02449 <span class="preprocessor"></span>  <span class="keyword">virtual</span> ~<a class="code" href="../../d9/d8a/classns_display_opacity.html">nsDisplayOpacity</a>();
<a name="l02450"></a>02450 <span class="preprocessor">#endif</span>
<a name="l02451"></a>02451 <span class="preprocessor"></span>
<a name="l02452"></a>02452   <span class="keyword">virtual</span> <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a> GetOpaqueRegion(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02453"></a>02453                                    <span class="keywordtype">bool</span>* aSnap) MOZ_OVERRIDE;
<a name="l02454"></a>02454   <span class="keyword">virtual</span> <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;Layer&gt;</a> BuildLayer(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02455"></a>02455                                              <a class="code" href="../../d1/d01/classmozilla_1_1layers_1_1_layer_manager.html">LayerManager</a>* aManager,
<a name="l02456"></a>02456                                              <span class="keyword">const</span> <a class="code" href="../../d4/d07/structmozilla_1_1_frame_layer_builder_1_1_container_parameters.html">ContainerParameters</a>&amp; aContainerParameters) MOZ_OVERRIDE;
<a name="l02457"></a>02457   <span class="keyword">virtual</span> <a class="code" href="../../d2/d93/namespacemozilla.html#a6c455799d5086a95a2600b3f9e4c4e9f">LayerState</a> GetLayerState(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02458"></a>02458                                    <a class="code" href="../../d1/d01/classmozilla_1_1layers_1_1_layer_manager.html">LayerManager</a>* aManager,
<a name="l02459"></a>02459                                    <span class="keyword">const</span> <a class="code" href="../../d4/d07/structmozilla_1_1_frame_layer_builder_1_1_container_parameters.html">ContainerParameters</a>&amp; aParameters) MOZ_OVERRIDE;
<a name="l02460"></a>02460   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> ComputeVisibility(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02461"></a>02461                                    <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aVisibleRegion,
<a name="l02462"></a>02462                                    <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aAllowVisibleRegionExpansion) MOZ_OVERRIDE;  
<a name="l02463"></a>02463   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> TryMerge(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, nsDisplayItem* aItem) MOZ_OVERRIDE;
<a name="l02464"></a><a class="code" href="../../d9/d8a/classns_display_opacity.html#a2f5fecf3d233717fd58e1d0eb22b41fd">02464</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> ComputeInvalidationRegion(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02465"></a>02465                                          <span class="keyword">const</span> <a class="code" href="../../df/dac/classns_display_item_geometry.html">nsDisplayItemGeometry</a>* aGeometry,
<a name="l02466"></a>02466                                          <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aInvalidRegion) MOZ_OVERRIDE
<a name="l02467"></a>02467   {
<a name="l02468"></a>02468     <span class="comment">// We don&#39;t need to compute an invalidation region since we have LayerTreeInvalidation</span>
<a name="l02469"></a>02469   }
<a name="l02470"></a>02470   <a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">NS_DISPLAY_DECL_NAME</a>(<span class="stringliteral">&quot;Opacity&quot;</span>, TYPE_OPACITY)
<a name="l02471"></a>02471 <span class="preprocessor">#ifdef MOZ_DUMP_PAINTING</span>
<a name="l02472"></a>02472 <span class="preprocessor"></span>  <span class="keyword">virtual</span> <span class="keywordtype">void</span> WriteDebugInfo(<a class="code" href="../../d1/ddf/ns_i_content_viewer_file_8idl.html#a2a9799b7b2af884315027dd95725e0c3">FILE</a> *aOutput) MOZ_OVERRIDE {
<a name="l02473"></a>02473     fprintf(aOutput, <span class="stringliteral">&quot;(opacity %f)&quot;</span>, mFrame-&gt;StyleDisplay()-&gt;mOpacity);
<a name="l02474"></a>02474   }
<a name="l02475"></a>02475 <span class="preprocessor">#endif</span>
<a name="l02476"></a>02476 <span class="preprocessor"></span>
<a name="l02477"></a>02477   <span class="keywordtype">bool</span> CanUseAsyncAnimations(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder) MOZ_OVERRIDE;
<a name="l02478"></a>02478 };
<a name="l02479"></a>02479 
<a name="l02484"></a><a class="code" href="../../d7/d61/classns_display_own_layer.html">02484</a> <span class="keyword">class </span><a class="code" href="../../d7/d61/classns_display_own_layer.html">nsDisplayOwnLayer</a> : <span class="keyword">public</span> <a class="code" href="../../d3/def/classns_display_wrap_list.html">nsDisplayWrapList</a> {
<a name="l02485"></a>02485 <span class="keyword">public</span>:
<a name="l02486"></a>02486 
<a name="l02490"></a>02490   <span class="keyword">enum</span> {
<a name="l02491"></a><a class="code" href="../../d7/d61/classns_display_own_layer.html#a844989cdaca9d148ec121ca46995787ba4b817283e62dcf32636320add00337e9">02491</a>     GENERATE_SUBDOC_INVALIDATIONS = 0x01
<a name="l02492"></a>02492   };
<a name="l02493"></a>02493 
<a name="l02499"></a>02499   <a class="code" href="../../d7/d61/classns_display_own_layer.html">nsDisplayOwnLayer</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l02500"></a>02500                     <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* aList, uint32_t aFlags = 0);
<a name="l02501"></a>02501 <span class="preprocessor">#ifdef NS_BUILD_REFCNT_LOGGING</span>
<a name="l02502"></a>02502 <span class="preprocessor"></span>  <span class="keyword">virtual</span> ~<a class="code" href="../../d7/d61/classns_display_own_layer.html">nsDisplayOwnLayer</a>();
<a name="l02503"></a>02503 <span class="preprocessor">#endif</span>
<a name="l02504"></a>02504 <span class="preprocessor"></span>  
<a name="l02505"></a>02505   <span class="keyword">virtual</span> <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;Layer&gt;</a> BuildLayer(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02506"></a>02506                                              <a class="code" href="../../d5/d28/img_i_container_8idl.html#a5e4541ea7dcaeeccd3011050067df9ea">LayerManager</a>* aManager,
<a name="l02507"></a>02507                                              <span class="keyword">const</span> ContainerParameters&amp; aContainerParameters) MOZ_OVERRIDE;
<a name="l02508"></a><a class="code" href="../../d7/d61/classns_display_own_layer.html#abaffc536540e63739998e28015380b88">02508</a>   <span class="keyword">virtual</span> <a class="code" href="../../d2/d93/namespacemozilla.html#a6c455799d5086a95a2600b3f9e4c4e9f">LayerState</a> GetLayerState(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02509"></a>02509                                    <a class="code" href="../../d1/d01/classmozilla_1_1layers_1_1_layer_manager.html">LayerManager</a>* aManager,
<a name="l02510"></a>02510                                    <span class="keyword">const</span> <a class="code" href="../../d4/d07/structmozilla_1_1_frame_layer_builder_1_1_container_parameters.html">ContainerParameters</a>&amp; aParameters) MOZ_OVERRIDE
<a name="l02511"></a>02511   {
<a name="l02512"></a>02512     <span class="keywordflow">return</span> <a class="code" href="../../d2/d93/namespacemozilla.html#a6c455799d5086a95a2600b3f9e4c4e9fac0bd7028a45b4deb8539c4cdcfcb2572">mozilla::LAYER_ACTIVE_FORCE</a>;
<a name="l02513"></a>02513   }
<a name="l02514"></a><a class="code" href="../../d7/d61/classns_display_own_layer.html#a9b96db832c37f8a52cb15b743c4de14c">02514</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> TryMerge(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, nsDisplayItem* aItem) MOZ_OVERRIDE
<a name="l02515"></a>02515   {
<a name="l02516"></a>02516     <span class="comment">// Don&#39;t allow merging, each sublist must have its own layer</span>
<a name="l02517"></a>02517     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l02518"></a>02518   }
<a name="l02519"></a>02519   <a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">NS_DISPLAY_DECL_NAME</a>(<span class="stringliteral">&quot;OwnLayer&quot;</span>, TYPE_OWN_LAYER)
<a name="l02520"></a>02520 private:
<a name="l02521"></a>02521   uint32_t mFlags;
<a name="l02522"></a>02522 };
<a name="l02523"></a>02523 
<a name="l02529"></a><a class="code" href="../../d9/da5/classns_display_fixed_position.html">02529</a> class <a class="code" href="../../d9/da5/classns_display_fixed_position.html">nsDisplayFixedPosition</a> : public <a class="code" href="../../d7/d61/classns_display_own_layer.html">nsDisplayOwnLayer</a> {
<a name="l02530"></a>02530 <span class="keyword">public</span>:
<a name="l02531"></a>02531   <a class="code" href="../../d9/da5/classns_display_fixed_position.html">nsDisplayFixedPosition</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l02532"></a>02532                          <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFixedPosFrame, <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* aList);
<a name="l02533"></a>02533 <span class="preprocessor">#ifdef NS_BUILD_REFCNT_LOGGING</span>
<a name="l02534"></a>02534 <span class="preprocessor"></span>  <span class="keyword">virtual</span> ~<a class="code" href="../../d9/da5/classns_display_fixed_position.html">nsDisplayFixedPosition</a>();
<a name="l02535"></a>02535 <span class="preprocessor">#endif</span>
<a name="l02536"></a>02536 <span class="preprocessor"></span>
<a name="l02537"></a>02537   <span class="keyword">virtual</span> <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;Layer&gt;</a> BuildLayer(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02538"></a>02538                                              <a class="code" href="../../d1/d01/classmozilla_1_1layers_1_1_layer_manager.html">LayerManager</a>* aManager,
<a name="l02539"></a>02539                                              <span class="keyword">const</span> <a class="code" href="../../d4/d07/structmozilla_1_1_frame_layer_builder_1_1_container_parameters.html">ContainerParameters</a>&amp; aContainerParameters) MOZ_OVERRIDE;
<a name="l02540"></a><a class="code" href="../../d9/da5/classns_display_fixed_position.html#aa7666a66039e1d3b6b9fcec5648293d2">02540</a>   <span class="keyword">virtual</span> <a class="code" href="../../d2/d93/namespacemozilla.html#a6c455799d5086a95a2600b3f9e4c4e9f">LayerState</a> GetLayerState(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02541"></a>02541                                    <a class="code" href="../../d1/d01/classmozilla_1_1layers_1_1_layer_manager.html">LayerManager</a>* aManager,
<a name="l02542"></a>02542                                    <span class="keyword">const</span> <a class="code" href="../../d4/d07/structmozilla_1_1_frame_layer_builder_1_1_container_parameters.html">ContainerParameters</a>&amp; aParameters) MOZ_OVERRIDE
<a name="l02543"></a>02543   {
<a name="l02544"></a>02544     <span class="keywordflow">return</span> <a class="code" href="../../d2/d93/namespacemozilla.html#a6c455799d5086a95a2600b3f9e4c4e9faf62aadee5e4dfa983f9b9e8f68513120">mozilla::LAYER_ACTIVE</a>;
<a name="l02545"></a>02545   }
<a name="l02546"></a>02546   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> TryMerge(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, nsDisplayItem* aItem) MOZ_OVERRIDE;
<a name="l02547"></a>02547 
<a name="l02548"></a>02548   <a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">NS_DISPLAY_DECL_NAME</a>(<span class="stringliteral">&quot;FixedPosition&quot;</span>, TYPE_FIXED_POSITION)
<a name="l02549"></a>02549 
<a name="l02550"></a>02550 protected:
<a name="l02551"></a><a class="code" href="../../d9/da5/classns_display_fixed_position.html#aee3744613833dbc42af42ffa4b51821c">02551</a>   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* mFixedPosFrame;
<a name="l02552"></a>02552 };
<a name="l02553"></a>02553 
<a name="l02575"></a><a class="code" href="../../d6/d7f/classns_display_scroll_layer.html">02575</a> class <a class="code" href="../../d6/d7f/classns_display_scroll_layer.html">nsDisplayScrollLayer</a> : public <a class="code" href="../../d3/def/classns_display_wrap_list.html">nsDisplayWrapList</a>
<a name="l02576"></a>02576 {
<a name="l02577"></a>02577 <span class="keyword">public</span>:
<a name="l02585"></a>02585   <a class="code" href="../../d6/d7f/classns_display_scroll_layer.html">nsDisplayScrollLayer</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* aList,
<a name="l02586"></a>02586                        <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aForFrame, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aScrolledFrame,
<a name="l02587"></a>02587                        <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aScrollFrame);
<a name="l02588"></a>02588   <a class="code" href="../../d6/d7f/classns_display_scroll_layer.html">nsDisplayScrollLayer</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, nsDisplayItem* aItem,
<a name="l02589"></a>02589                        <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aForFrame, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aScrolledFrame,
<a name="l02590"></a>02590                        <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aScrollFrame);
<a name="l02591"></a>02591   <a class="code" href="../../d6/d7f/classns_display_scroll_layer.html">nsDisplayScrollLayer</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02592"></a>02592                        <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aForFrame, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aScrolledFrame,
<a name="l02593"></a>02593                        <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aScrollFrame);
<a name="l02594"></a>02594   <a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">NS_DISPLAY_DECL_NAME</a>(<span class="stringliteral">&quot;ScrollLayer&quot;</span>, TYPE_SCROLL_LAYER)
<a name="l02595"></a>02595 
<a name="l02596"></a>02596 <span class="preprocessor">#ifdef NS_BUILD_REFCNT_LOGGING</span>
<a name="l02597"></a>02597 <span class="preprocessor"></span>  <span class="keyword">virtual</span> ~<a class="code" href="../../d6/d7f/classns_display_scroll_layer.html">nsDisplayScrollLayer</a>();
<a name="l02598"></a>02598 <span class="preprocessor">#endif</span>
<a name="l02599"></a>02599 <span class="preprocessor"></span>
<a name="l02600"></a>02600   <span class="keyword">virtual</span> <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;Layer&gt;</a> BuildLayer(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02601"></a>02601                                              <a class="code" href="../../d1/d01/classmozilla_1_1layers_1_1_layer_manager.html">LayerManager</a>* aManager,
<a name="l02602"></a>02602                                              <span class="keyword">const</span> <a class="code" href="../../d4/d07/structmozilla_1_1_frame_layer_builder_1_1_container_parameters.html">ContainerParameters</a>&amp; aContainerParameters) MOZ_OVERRIDE;
<a name="l02603"></a>02603 
<a name="l02604"></a>02604   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> ComputeVisibility(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02605"></a>02605                                    <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aVisibleRegion,
<a name="l02606"></a>02606                                    <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aAllowVisibleRegionExpansion) MOZ_OVERRIDE;
<a name="l02607"></a>02607 
<a name="l02608"></a>02608   <span class="keyword">virtual</span> <a class="code" href="../../d2/d93/namespacemozilla.html#a6c455799d5086a95a2600b3f9e4c4e9f">LayerState</a> GetLayerState(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02609"></a>02609                                    <a class="code" href="../../d1/d01/classmozilla_1_1layers_1_1_layer_manager.html">LayerManager</a>* aManager,
<a name="l02610"></a>02610                                    <span class="keyword">const</span> <a class="code" href="../../d4/d07/structmozilla_1_1_frame_layer_builder_1_1_container_parameters.html">ContainerParameters</a>&amp; aParameters) MOZ_OVERRIDE;
<a name="l02611"></a>02611 
<a name="l02612"></a>02612   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> TryMerge(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02613"></a>02613                           nsDisplayItem* aItem) MOZ_OVERRIDE;
<a name="l02614"></a>02614 
<a name="l02615"></a>02615   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> ShouldFlattenAway(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder) MOZ_OVERRIDE;
<a name="l02616"></a>02616 
<a name="l02617"></a>02617   <span class="comment">// Get the number of nsDisplayScrollLayers for a scroll frame. Note that this</span>
<a name="l02618"></a>02618   <span class="comment">// number does not include nsDisplayScrollInfoLayers. If this number is not 1</span>
<a name="l02619"></a>02619   <span class="comment">// after merging, all the nsDisplayScrollLayers should flatten away.</span>
<a name="l02620"></a>02620   intptr_t GetScrollLayerCount();
<a name="l02621"></a>02621   intptr_t RemoveScrollLayerCount();
<a name="l02622"></a>02622 
<a name="l02623"></a><a class="code" href="../../d6/d7f/classns_display_scroll_layer.html#a480a7880a3ff0cf148bae56df9b8179b">02623</a>   <span class="keyword">virtual</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../d6/d7f/classns_display_scroll_layer.html#a480a7880a3ff0cf148bae56df9b8179b">GetScrolledFrame</a>() { <span class="keywordflow">return</span> mScrolledFrame; }
<a name="l02624"></a>02624 
<a name="l02625"></a>02625 <span class="keyword">private</span>:
<a name="l02626"></a>02626   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* mScrollFrame;
<a name="l02627"></a>02627   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* mScrolledFrame;
<a name="l02628"></a>02628 };
<a name="l02629"></a>02629 
<a name="l02641"></a><a class="code" href="../../d4/d97/classns_display_scroll_info_layer.html">02641</a> <span class="keyword">class </span><a class="code" href="../../d4/d97/classns_display_scroll_info_layer.html">nsDisplayScrollInfoLayer</a> : <span class="keyword">public</span> <a class="code" href="../../d6/d7f/classns_display_scroll_layer.html">nsDisplayScrollLayer</a>
<a name="l02642"></a>02642 {
<a name="l02643"></a>02643 <span class="keyword">public</span>:
<a name="l02644"></a>02644   <a class="code" href="../../d4/d97/classns_display_scroll_info_layer.html">nsDisplayScrollInfoLayer</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02645"></a>02645                            <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aScrolledFrame, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aScrollFrame);
<a name="l02646"></a>02646   <a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">NS_DISPLAY_DECL_NAME</a>(<span class="stringliteral">&quot;ScrollInfoLayer&quot;</span>, TYPE_SCROLL_INFO_LAYER)
<a name="l02647"></a>02647 
<a name="l02648"></a>02648 <span class="preprocessor">#ifdef NS_BUILD_REFCNT_LOGGING</span>
<a name="l02649"></a>02649 <span class="preprocessor"></span>  <span class="keyword">virtual</span> ~<a class="code" href="../../d4/d97/classns_display_scroll_info_layer.html">nsDisplayScrollInfoLayer</a>();
<a name="l02650"></a>02650 <span class="preprocessor">#endif</span>
<a name="l02651"></a>02651 <span class="preprocessor"></span>
<a name="l02652"></a>02652   <span class="keyword">virtual</span> <a class="code" href="../../d2/d93/namespacemozilla.html#a6c455799d5086a95a2600b3f9e4c4e9f">LayerState</a> GetLayerState(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02653"></a>02653                                    <a class="code" href="../../d1/d01/classmozilla_1_1layers_1_1_layer_manager.html">LayerManager</a>* aManager,
<a name="l02654"></a>02654                                    <span class="keyword">const</span> <a class="code" href="../../d4/d07/structmozilla_1_1_frame_layer_builder_1_1_container_parameters.html">ContainerParameters</a>&amp; aParameters) MOZ_OVERRIDE;
<a name="l02655"></a><a class="code" href="../../d4/d97/classns_display_scroll_info_layer.html#acca2ce8c3bae956154a2ba9ba89923cf">02655</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> ShouldBuildLayerEvenIfInvisible(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder) MOZ_OVERRIDE
<a name="l02656"></a>02656   { <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l02657"></a>02657   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> TryMerge(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02658"></a>02658                           nsDisplayItem* aItem) MOZ_OVERRIDE;
<a name="l02659"></a>02659 
<a name="l02660"></a>02660   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> ShouldFlattenAway(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder) MOZ_OVERRIDE;
<a name="l02661"></a>02661 };
<a name="l02662"></a>02662 
<a name="l02667"></a><a class="code" href="../../d3/d6d/classns_display_zoom.html">02667</a> <span class="keyword">class </span><a class="code" href="../../d3/d6d/classns_display_zoom.html">nsDisplayZoom</a> : <span class="keyword">public</span> nsDisplayOwnLayer {
<a name="l02668"></a>02668 <span class="keyword">public</span>:
<a name="l02679"></a>02679   <a class="code" href="../../d3/d6d/classns_display_zoom.html">nsDisplayZoom</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l02680"></a>02680                 <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* aList,
<a name="l02681"></a>02681                 int32_t aAPD, int32_t aParentAPD,
<a name="l02682"></a>02682                 uint32_t aFlags = 0);
<a name="l02683"></a>02683 <span class="preprocessor">#ifdef NS_BUILD_REFCNT_LOGGING</span>
<a name="l02684"></a>02684 <span class="preprocessor"></span>  <span class="keyword">virtual</span> ~<a class="code" href="../../d3/d6d/classns_display_zoom.html">nsDisplayZoom</a>();
<a name="l02685"></a>02685 <span class="preprocessor">#endif</span>
<a name="l02686"></a>02686 <span class="preprocessor"></span>  
<a name="l02687"></a>02687   <span class="keyword">virtual</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> GetBounds(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keywordtype">bool</span>* aSnap) MOZ_OVERRIDE;
<a name="l02688"></a>02688   <span class="keyword">virtual</span> <span class="keywordtype">void</span> Paint(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d5/d2c/classns_rendering_context.html">nsRenderingContext</a>* aCtx) MOZ_OVERRIDE;
<a name="l02689"></a>02689   <span class="keyword">virtual</span> <span class="keywordtype">void</span> HitTest(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aRect,
<a name="l02690"></a>02690                        <a class="code" href="../../d2/d17/structns_display_item_1_1_hit_test_state.html">HitTestState</a>* aState, <a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;nsIFrame*&gt;</a> *aOutFrames) MOZ_OVERRIDE;
<a name="l02691"></a>02691   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> ComputeVisibility(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02692"></a>02692                                    <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aVisibleRegion,
<a name="l02693"></a>02693                                    <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aAllowVisibleRegionExpansion) MOZ_OVERRIDE;
<a name="l02694"></a><a class="code" href="../../d3/d6d/classns_display_zoom.html#ab77fdfcae447ff1091c5d6d3d0218373">02694</a>   <span class="keyword">virtual</span> <a class="code" href="../../d2/d93/namespacemozilla.html#a6c455799d5086a95a2600b3f9e4c4e9f">LayerState</a> GetLayerState(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02695"></a>02695                                    <a class="code" href="../../d1/d01/classmozilla_1_1layers_1_1_layer_manager.html">LayerManager</a>* aManager,
<a name="l02696"></a>02696                                    <span class="keyword">const</span> <a class="code" href="../../d4/d07/structmozilla_1_1_frame_layer_builder_1_1_container_parameters.html">ContainerParameters</a>&amp; aParameters) MOZ_OVERRIDE
<a name="l02697"></a>02697   {
<a name="l02698"></a>02698     <span class="keywordflow">return</span> <a class="code" href="../../d2/d93/namespacemozilla.html#a6c455799d5086a95a2600b3f9e4c4e9faf62aadee5e4dfa983f9b9e8f68513120">mozilla::LAYER_ACTIVE</a>;
<a name="l02699"></a>02699   }
<a name="l02700"></a>02700   <a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">NS_DISPLAY_DECL_NAME</a>(<span class="stringliteral">&quot;Zoom&quot;</span>, TYPE_ZOOM)
<a name="l02701"></a>02701 
<a name="l02702"></a>02702   <span class="comment">// Get the app units per dev pixel ratio of the child document.</span>
<a name="l02703"></a><a class="code" href="../../d3/d6d/classns_display_zoom.html#a692719455e56e449bcbbaac6bd5c4840">02703</a>   int32_t GetChildAppUnitsPerDevPixel() { <span class="keywordflow">return</span> mAPD; }
<a name="l02704"></a>02704   <span class="comment">// Get the app units per dev pixel ratio of the parent document.</span>
<a name="l02705"></a><a class="code" href="../../d3/d6d/classns_display_zoom.html#a8081c0ed05367aea663ba1d775db7679">02705</a>   int32_t <a class="code" href="../../d3/d6d/classns_display_zoom.html#a8081c0ed05367aea663ba1d775db7679">GetParentAppUnitsPerDevPixel</a>() { <span class="keywordflow">return</span> mParentAPD; }
<a name="l02706"></a>02706 
<a name="l02707"></a>02707 <span class="keyword">private</span>:
<a name="l02708"></a>02708   int32_t mAPD, mParentAPD;
<a name="l02709"></a>02709 };
<a name="l02710"></a>02710 
<a name="l02715"></a><a class="code" href="../../d6/d08/classns_display_s_v_g_effects.html">02715</a> <span class="keyword">class </span><a class="code" href="../../d6/d08/classns_display_s_v_g_effects.html">nsDisplaySVGEffects</a> : <span class="keyword">public</span> <a class="code" href="../../d3/def/classns_display_wrap_list.html">nsDisplayWrapList</a> {
<a name="l02716"></a>02716 <span class="keyword">public</span>:
<a name="l02717"></a>02717   <a class="code" href="../../d6/d08/classns_display_s_v_g_effects.html">nsDisplaySVGEffects</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l02718"></a>02718                       <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* aList);
<a name="l02719"></a>02719 <span class="preprocessor">#ifdef NS_BUILD_REFCNT_LOGGING</span>
<a name="l02720"></a>02720 <span class="preprocessor"></span>  <span class="keyword">virtual</span> ~<a class="code" href="../../d6/d08/classns_display_s_v_g_effects.html">nsDisplaySVGEffects</a>();
<a name="l02721"></a>02721 <span class="preprocessor">#endif</span>
<a name="l02722"></a>02722 <span class="preprocessor"></span>  
<a name="l02723"></a>02723   <span class="keyword">virtual</span> <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a> GetOpaqueRegion(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02724"></a>02724                                    <span class="keywordtype">bool</span>* aSnap) MOZ_OVERRIDE;
<a name="l02725"></a>02725   <span class="keyword">virtual</span> <span class="keywordtype">void</span> HitTest(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aRect,
<a name="l02726"></a>02726                        <a class="code" href="../../d2/d17/structns_display_item_1_1_hit_test_state.html">HitTestState</a>* aState, <a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;nsIFrame*&gt;</a> *aOutFrames) MOZ_OVERRIDE;
<a name="l02727"></a><a class="code" href="../../d6/d08/classns_display_s_v_g_effects.html#a0e120568a61b51019e238da7789fcbe7">02727</a>   <span class="keyword">virtual</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> <a class="code" href="../../d6/d08/classns_display_s_v_g_effects.html#a0e120568a61b51019e238da7789fcbe7">GetBounds</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <span class="keywordtype">bool</span>* aSnap) MOZ_OVERRIDE {
<a name="l02728"></a>02728     *aSnap = <span class="keyword">false</span>;
<a name="l02729"></a>02729     <span class="keywordflow">return</span> mEffectsBounds + ToReferenceFrame();
<a name="l02730"></a>02730   }
<a name="l02731"></a>02731   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> ComputeVisibility(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02732"></a>02732                                    <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aVisibleRegion,
<a name="l02733"></a>02733                                    <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aAllowVisibleRegionExpansion) MOZ_OVERRIDE;  
<a name="l02734"></a>02734   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> TryMerge(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, nsDisplayItem* aItem) MOZ_OVERRIDE;
<a name="l02735"></a>02735   <a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">NS_DISPLAY_DECL_NAME</a>(<span class="stringliteral">&quot;SVGEffects&quot;</span>, TYPE_SVG_EFFECTS)
<a name="l02736"></a>02736 
<a name="l02737"></a>02737   virtual <a class="code" href="../../d2/d93/namespacemozilla.html#a6c455799d5086a95a2600b3f9e4c4e9f">LayerState</a> GetLayerState(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02738"></a>02738                                    <a class="code" href="../../d5/d28/img_i_container_8idl.html#a5e4541ea7dcaeeccd3011050067df9ea">LayerManager</a>* aManager,
<a name="l02739"></a>02739                                    <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> ContainerParameters&amp; aParameters);
<a name="l02740"></a>02740  
<a name="l02741"></a>02741   virtual <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed</a>&lt;Layer&gt; BuildLayer(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02742"></a>02742                                              <a class="code" href="../../d5/d28/img_i_container_8idl.html#a5e4541ea7dcaeeccd3011050067df9ea">LayerManager</a>* aManager,
<a name="l02743"></a>02743                                              <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> ContainerParameters&amp; aContainerParameters) MOZ_OVERRIDE;
<a name="l02744"></a>02744   
<a name="l02745"></a><a class="code" href="../../d6/d08/classns_display_s_v_g_effects.html#a75f18fdab21a51ce150a17d3791b696c">02745</a>   virtual <span class="keywordtype">void</span> ComputeInvalidationRegion(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02746"></a>02746                                          <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code" href="../../df/dac/classns_display_item_geometry.html">nsDisplayItemGeometry</a>* aGeometry,
<a name="l02747"></a>02747                                          <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aInvalidRegion) MOZ_OVERRIDE
<a name="l02748"></a>02748   {
<a name="l02749"></a>02749     <span class="comment">// We don&#39;t need to compute an invalidation region since we have LayerTreeInvalidation</span>
<a name="l02750"></a>02750   }
<a name="l02751"></a>02751 
<a name="l02752"></a>02752   <span class="keywordtype">void</span> PaintAsLayer(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02753"></a>02753                     <a class="code" href="../../d5/d2c/classns_rendering_context.html">nsRenderingContext</a>* aCtx,
<a name="l02754"></a>02754                     <a class="code" href="../../d5/d28/img_i_container_8idl.html#a5e4541ea7dcaeeccd3011050067df9ea">LayerManager</a>* aManager);
<a name="l02755"></a>02755 
<a name="l02756"></a>02756 <span class="preprocessor">#ifdef MOZ_DUMP_PAINTING</span>
<a name="l02757"></a>02757 <span class="preprocessor"></span>  <span class="keywordtype">void</span> PrintEffects(<a class="code" href="../../d1/ddf/ns_i_content_viewer_file_8idl.html#a2a9799b7b2af884315027dd95725e0c3">FILE</a>* aOutput);
<a name="l02758"></a>02758 <span class="preprocessor">#endif</span>
<a name="l02759"></a>02759 <span class="preprocessor"></span>
<a name="l02760"></a>02760 <span class="keyword">private</span>:
<a name="l02761"></a>02761   <span class="comment">// relative to mFrame</span>
<a name="l02762"></a>02762   <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> mEffectsBounds;
<a name="l02763"></a>02763 };
<a name="l02764"></a>02764 
<a name="l02765"></a>02765 <span class="comment">/* A display item that applies a transformation to all of its descendant</span>
<a name="l02766"></a>02766 <span class="comment"> * elements.  This wrapper should only be used if there is a transform applied</span>
<a name="l02767"></a>02767 <span class="comment"> * to the root element.</span>
<a name="l02768"></a>02768 <span class="comment"> *</span>
<a name="l02769"></a>02769 <span class="comment"> * The reason that a &quot;bounds&quot; rect is involved in transform calculations is</span>
<a name="l02770"></a>02770 <span class="comment"> * because CSS-transforms allow percentage values for the x and y components</span>
<a name="l02771"></a>02771 <span class="comment"> * of &lt;translation-value&gt;s, where percentages are percentages of the element&#39;s</span>
<a name="l02772"></a>02772 <span class="comment"> * border box.</span>
<a name="l02773"></a>02773 <span class="comment"> *</span>
<a name="l02774"></a>02774 <span class="comment"> * INVARIANT: The wrapped frame is transformed or we supplied a transform getter</span>
<a name="l02775"></a>02775 <span class="comment"> * function.</span>
<a name="l02776"></a>02776 <span class="comment"> * INVARIANT: The wrapped frame is non-null.</span>
<a name="l02777"></a>02777 <span class="comment"> */</span> 
<a name="l02778"></a><a class="code" href="../../dd/df9/classns_display_transform.html">02778</a> <span class="keyword">class </span><a class="code" href="../../dd/df9/classns_display_transform.html">nsDisplayTransform</a>: <span class="keyword">public</span> nsDisplayItem
<a name="l02779"></a>02779 {
<a name="l02780"></a>02780 <span class="keyword">public</span>:
<a name="l02788"></a><a class="code" href="../../dd/df9/classns_display_transform.html#aef1eaca6ccbc985a019d14973e328259">02788</a>   <span class="keyword">typedef</span> <a class="code" href="../../d6/d3b/classgfx3_d_matrix.html">gfx3DMatrix</a> (* ComputeTransformFunction)(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame, <span class="keywordtype">float</span> aAppUnitsPerPixel);
<a name="l02789"></a>02789 
<a name="l02790"></a>02790   <span class="comment">/* Constructor accepts a display list, empties it, and wraps it up.  It also</span>
<a name="l02791"></a>02791 <span class="comment">   * ferries the underlying frame to the nsDisplayItem constructor.</span>
<a name="l02792"></a>02792 <span class="comment">   */</span>
<a name="l02793"></a>02793   <a class="code" href="../../dd/df9/classns_display_transform.html">nsDisplayTransform</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a> *aFrame,
<a name="l02794"></a>02794                      <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a> *aList, uint32_t aIndex = 0);
<a name="l02795"></a>02795   <a class="code" href="../../dd/df9/classns_display_transform.html">nsDisplayTransform</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a> *aFrame,
<a name="l02796"></a>02796                      <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a> *aList, ComputeTransformFunction aTransformGetter, uint32_t aIndex = 0);
<a name="l02797"></a>02797 
<a name="l02798"></a>02798 <span class="preprocessor">#ifdef NS_BUILD_REFCNT_LOGGING</span>
<a name="l02799"></a>02799 <span class="preprocessor"></span>  <span class="keyword">virtual</span> ~<a class="code" href="../../dd/df9/classns_display_transform.html">nsDisplayTransform</a>()
<a name="l02800"></a>02800   {
<a name="l02801"></a>02801     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#a8a91532bfafbc5b73fad1b4127faf725">MOZ_COUNT_DTOR</a>(<a class="code" href="../../dd/df9/classns_display_transform.html">nsDisplayTransform</a>);
<a name="l02802"></a>02802   }
<a name="l02803"></a>02803 <span class="preprocessor">#endif</span>
<a name="l02804"></a>02804 <span class="preprocessor"></span>
<a name="l02805"></a>02805   <a class="code" href="../../de/d41/ns_display_list_8h.html#ae5788755ed04349f133a9a8c27551ef5">NS_DISPLAY_DECL_NAME</a>(<span class="stringliteral">&quot;nsDisplayTransform&quot;</span>, TYPE_TRANSFORM)
<a name="l02806"></a>02806 
<a name="l02807"></a><a class="code" href="../../dd/df9/classns_display_transform.html#a417985226d849f38da3e4d2c56b96e2e">02807</a>   virtual <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> GetComponentAlphaBounds(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder)
<a name="l02808"></a>02808   {
<a name="l02809"></a>02809     <span class="keywordflow">if</span> (mStoredList.GetComponentAlphaBounds(aBuilder).IsEmpty())
<a name="l02810"></a>02810       <span class="keywordflow">return</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>();
<a name="l02811"></a>02811     <span class="keywordtype">bool</span> snap;
<a name="l02812"></a>02812     <span class="keywordflow">return</span> GetBounds(aBuilder, &amp;snap);
<a name="l02813"></a>02813   }
<a name="l02814"></a>02814 
<a name="l02815"></a><a class="code" href="../../dd/df9/classns_display_transform.html#ada9f0dd96e5dafc9e4ec0daa66d71e90">02815</a>   <span class="keyword">virtual</span> <a class="code" href="../../dc/da5/classns_display_list.html">nsDisplayList</a>* <a class="code" href="../../dd/df9/classns_display_transform.html#ada9f0dd96e5dafc9e4ec0daa66d71e90">GetChildren</a>() MOZ_OVERRIDE { <span class="keywordflow">return</span> mStoredList.GetChildren(); }
<a name="l02816"></a>02816 
<a name="l02817"></a>02817   <span class="keyword">virtual</span> <span class="keywordtype">void</span> HitTest(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a> *aBuilder, <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aRect,
<a name="l02818"></a>02818                        HitTestState *aState, <a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;nsIFrame*&gt;</a> *aOutFrames) MOZ_OVERRIDE;
<a name="l02819"></a>02819   <span class="keyword">virtual</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> GetBounds(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a> *aBuilder, <span class="keywordtype">bool</span>* aSnap) MOZ_OVERRIDE;
<a name="l02820"></a>02820   <span class="keyword">virtual</span> <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a> GetOpaqueRegion(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a> *aBuilder,
<a name="l02821"></a>02821                                    <span class="keywordtype">bool</span>* aSnap) MOZ_OVERRIDE;
<a name="l02822"></a>02822   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> IsUniform(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a> *aBuilder, <a class="code" href="../../d9/d6a/ns_color_8h.html#abee756dec22b05b8b36337fea5612041">nscolor</a>* aColor) MOZ_OVERRIDE;
<a name="l02823"></a>02823   <span class="keyword">virtual</span> <a class="code" href="../../d2/d93/namespacemozilla.html#a6c455799d5086a95a2600b3f9e4c4e9f">LayerState</a> GetLayerState(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02824"></a>02824                                    <a class="code" href="../../d5/d28/img_i_container_8idl.html#a5e4541ea7dcaeeccd3011050067df9ea">LayerManager</a>* aManager,
<a name="l02825"></a>02825                                    <span class="keyword">const</span> ContainerParameters&amp; aParameters) MOZ_OVERRIDE;
<a name="l02826"></a>02826   <span class="keyword">virtual</span> <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;Layer&gt;</a> BuildLayer(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02827"></a>02827                                              <a class="code" href="../../d5/d28/img_i_container_8idl.html#a5e4541ea7dcaeeccd3011050067df9ea">LayerManager</a>* aManager,
<a name="l02828"></a>02828                                              <span class="keyword">const</span> ContainerParameters&amp; aContainerParameters) MOZ_OVERRIDE;
<a name="l02829"></a>02829   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> ShouldBuildLayerEvenIfInvisible(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder) MOZ_OVERRIDE;
<a name="l02830"></a>02830   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> ComputeVisibility(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a> *aBuilder,
<a name="l02831"></a>02831                                    <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a> *aVisibleRegion,
<a name="l02832"></a>02832                                    <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>&amp; aAllowVisibleRegionExpansion) MOZ_OVERRIDE;
<a name="l02833"></a>02833   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> TryMerge(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a> *aBuilder, nsDisplayItem *aItem) MOZ_OVERRIDE;
<a name="l02834"></a>02834   
<a name="l02835"></a><a class="code" href="../../dd/df9/classns_display_transform.html#ac72983a2e6a8f3228b4fa64f9d16ed85">02835</a>   <span class="keyword">virtual</span> uint32_t <a class="code" href="../../dd/df9/classns_display_transform.html#ac72983a2e6a8f3228b4fa64f9d16ed85">GetPerFrameKey</a>() MOZ_OVERRIDE { <span class="keywordflow">return</span> (mIndex &lt;&lt; <a class="code" href="../../db/d9b/classns_display_item.html#a0d349c3acc1e07f0edd90434e07fe3cfa52e1808e968974129d1083c389923f9b">nsDisplayItem::TYPE_BITS</a>) | <a class="code" href="../../db/d9b/classns_display_item.html#ae29940fc9262fc7a5b32c4d58bc973c3">nsDisplayItem::GetPerFrameKey</a>(); }
<a name="l02836"></a>02836   
<a name="l02837"></a><a class="code" href="../../dd/df9/classns_display_transform.html#a444761a23dfb4444ef48283983c91b04">02837</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> ComputeInvalidationRegion(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02838"></a>02838                                          <span class="keyword">const</span> <a class="code" href="../../df/dac/classns_display_item_geometry.html">nsDisplayItemGeometry</a>* aGeometry,
<a name="l02839"></a>02839                                          <a class="code" href="../../d9/df6/classns_region.html">nsRegion</a>* aInvalidRegion) MOZ_OVERRIDE
<a name="l02840"></a>02840   {
<a name="l02841"></a>02841     <span class="comment">// We don&#39;t need to compute an invalidation region since we have LayerTreeInvalidation</span>
<a name="l02842"></a>02842   }
<a name="l02843"></a>02843 
<a name="l02844"></a><a class="code" href="../../dd/df9/classns_display_transform.html#a1dd361557f6de663142c065062e7422e">02844</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../dd/df9/classns_display_transform.html#a1dd361557f6de663142c065062e7422e">ReferenceFrameForChildren</a>() <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> MOZ_OVERRIDE {
<a name="l02845"></a>02845     <span class="comment">// If we were created using a transform-getter, then we don&#39;t</span>
<a name="l02846"></a>02846     <span class="comment">// belong to a transformed frame, and aren&#39;t a reference frame</span>
<a name="l02847"></a>02847     <span class="comment">// for our children.</span>
<a name="l02848"></a>02848     <span class="keywordflow">if</span> (!mTransformGetter) {
<a name="l02849"></a>02849       <span class="keywordflow">return</span> mFrame;
<a name="l02850"></a>02850     }
<a name="l02851"></a>02851     <span class="keywordflow">return</span> <a class="code" href="../../db/d9b/classns_display_item.html#a4a55aa36f8a2c0129150d3e0e5540022">nsDisplayItem::ReferenceFrameForChildren</a>(); 
<a name="l02852"></a>02852   }
<a name="l02853"></a>02853 
<a name="l02854"></a>02854   <span class="keyword">enum</span> {
<a name="l02855"></a><a class="code" href="../../dd/df9/classns_display_transform.html#a8c55aa8d036698fa970429564199d064a5849b85b279df9675ff19059dc8cd1b1">02855</a>     INDEX_MAX = UINT32_MAX &gt;&gt; <a class="code" href="../../db/d9b/classns_display_item.html#a0d349c3acc1e07f0edd90434e07fe3cfa52e1808e968974129d1083c389923f9b">nsDisplayItem::TYPE_BITS</a>
<a name="l02856"></a>02856   };
<a name="l02857"></a>02857 
<a name="l02858"></a>02858   <span class="keyword">const</span> <a class="code" href="../../d6/d3b/classgfx3_d_matrix.html">gfx3DMatrix</a>&amp; GetTransform(<span class="keywordtype">float</span> aAppUnitsPerPixel);
<a name="l02859"></a>02859 
<a name="l02860"></a>02860   <span class="keywordtype">float</span> GetHitDepthAtPoint(<span class="keyword">const</span> <a class="code" href="../../d6/d7b/structns_point.html">nsPoint</a>&amp; aPoint);
<a name="l02861"></a>02861 
<a name="l02880"></a>02880   <span class="keyword">static</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> TransformRect(<span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> &amp;aUntransformedBounds, 
<a name="l02881"></a>02881                               <span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l02882"></a>02882                               <span class="keyword">const</span> <a class="code" href="../../d6/d7b/structns_point.html">nsPoint</a> &amp;aOrigin,
<a name="l02883"></a>02883                               <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>* aBoundsOverride = <span class="keyword">nullptr</span>);
<a name="l02884"></a>02884 
<a name="l02885"></a>02885   <span class="keyword">static</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> TransformRectOut(<span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> &amp;aUntransformedBounds, 
<a name="l02886"></a>02886                                  <span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l02887"></a>02887                                  <span class="keyword">const</span> <a class="code" href="../../d6/d7b/structns_point.html">nsPoint</a> &amp;aOrigin,
<a name="l02888"></a>02888                                  <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>* aBoundsOverride = <span class="keyword">nullptr</span>);
<a name="l02889"></a>02889 
<a name="l02890"></a>02890   <span class="comment">/* UntransformRect is like TransformRect, except that it inverts the</span>
<a name="l02891"></a>02891 <span class="comment">   * transform.</span>
<a name="l02892"></a>02892 <span class="comment">   */</span>
<a name="l02893"></a>02893   <span class="keyword">static</span> <span class="keywordtype">bool</span> UntransformRect(<span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> &amp;aUntransformedBounds, 
<a name="l02894"></a>02894                                 <span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l02895"></a>02895                                 <span class="keyword">const</span> <a class="code" href="../../d6/d7b/structns_point.html">nsPoint</a> &amp;aOrigin,
<a name="l02896"></a>02896                                 <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>* aOutRect);
<a name="l02897"></a>02897   
<a name="l02898"></a>02898   <span class="keyword">static</span> <span class="keywordtype">bool</span> UntransformRectMatrix(<span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> &amp;aUntransformedBounds, 
<a name="l02899"></a>02899                                     <span class="keyword">const</span> <a class="code" href="../../d6/d3b/classgfx3_d_matrix.html">gfx3DMatrix</a>&amp; aMatrix,
<a name="l02900"></a>02900                                     <span class="keywordtype">float</span> aAppUnitsPerPixel,
<a name="l02901"></a>02901                                     <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>* aOutRect);
<a name="l02902"></a>02902 
<a name="l02903"></a>02903   <span class="keyword">static</span> <a class="code" href="../../d3/df0/structgfx_point3_d.html">gfxPoint3D</a> GetDeltaToMozTransformOrigin(<span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l02904"></a>02904                                                  <span class="keywordtype">float</span> aAppUnitsPerPixel,
<a name="l02905"></a>02905                                                  <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>* aBoundsOverride);
<a name="l02906"></a>02906 
<a name="l02907"></a>02907   <span class="keyword">static</span> <a class="code" href="../../d3/df0/structgfx_point3_d.html">gfxPoint3D</a> GetDeltaToMozPerspectiveOrigin(<span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l02908"></a>02908                                                    <span class="keywordtype">float</span> aAppUnitsPerPixel);
<a name="l02909"></a>02909 
<a name="l02924"></a>02924   <span class="keyword">static</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> GetFrameBoundsForTransform(<span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame);
<a name="l02925"></a>02925 
<a name="l02926"></a><a class="code" href="../../d6/d92/structns_display_transform_1_1_frame_transform_properties.html">02926</a>   <span class="keyword">struct </span><a class="code" href="../../d6/d92/structns_display_transform_1_1_frame_transform_properties.html">FrameTransformProperties</a>
<a name="l02927"></a>02927   {
<a name="l02928"></a>02928     <a class="code" href="../../d6/d92/structns_display_transform_1_1_frame_transform_properties.html">FrameTransformProperties</a>(<span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l02929"></a>02929                              <span class="keywordtype">float</span> aAppUnitsPerPixel,
<a name="l02930"></a>02930                              <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>* aBoundsOverride);
<a name="l02931"></a><a class="code" href="../../d6/d92/structns_display_transform_1_1_frame_transform_properties.html#aa935b7a4ed8acd98064a49a42797276e">02931</a>     <a class="code" href="../../d6/d92/structns_display_transform_1_1_frame_transform_properties.html">FrameTransformProperties</a>(<span class="keyword">const</span> <a class="code" href="../../db/d03/structns_c_s_s_value_list.html">nsCSSValueList</a>* aTransformList,
<a name="l02932"></a>02932                              <span class="keyword">const</span> <a class="code" href="../../d3/df0/structgfx_point3_d.html">gfxPoint3D</a>&amp; aToMozOrigin,
<a name="l02933"></a>02933                              <span class="keyword">const</span> <a class="code" href="../../d3/df0/structgfx_point3_d.html">gfxPoint3D</a>&amp; aToPerspectiveOrigin,
<a name="l02934"></a>02934                              <a class="code" href="../../d6/ddb/ns_coord_8h.html#a0c2491d56285ed87d3ac31ee241e81e7">nscoord</a> aChildPerspective)
<a name="l02935"></a>02935       : mFrame(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a0fd163987980515e24ce34fc3926206d">nullptr</a>)
<a name="l02936"></a>02936       , mTransformList(aTransformList)
<a name="l02937"></a>02937       , mToMozOrigin(aToMozOrigin)
<a name="l02938"></a>02938       , mToPerspectiveOrigin(aToPerspectiveOrigin)
<a name="l02939"></a>02939       , mChildPerspective(aChildPerspective)
<a name="l02940"></a>02940     {}
<a name="l02941"></a>02941 
<a name="l02942"></a><a class="code" href="../../d6/d92/structns_display_transform_1_1_frame_transform_properties.html#ac5ec69e2fdcfb869d334fa6ed26f658c">02942</a>     <span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../d6/d92/structns_display_transform_1_1_frame_transform_properties.html#ac5ec69e2fdcfb869d334fa6ed26f658c">mFrame</a>;
<a name="l02943"></a><a class="code" href="../../d6/d92/structns_display_transform_1_1_frame_transform_properties.html#ac4358a1bc72b3bfd9426b1ee27b86bd5">02943</a>     <span class="keyword">const</span> <a class="code" href="../../db/d03/structns_c_s_s_value_list.html">nsCSSValueList</a>* <a class="code" href="../../d6/d92/structns_display_transform_1_1_frame_transform_properties.html#ac4358a1bc72b3bfd9426b1ee27b86bd5">mTransformList</a>;
<a name="l02944"></a><a class="code" href="../../d6/d92/structns_display_transform_1_1_frame_transform_properties.html#aa777541aac92a9a263669bbfc239836d">02944</a>     <span class="keyword">const</span> <a class="code" href="../../d3/df0/structgfx_point3_d.html">gfxPoint3D</a> <a class="code" href="../../d6/d92/structns_display_transform_1_1_frame_transform_properties.html#aa777541aac92a9a263669bbfc239836d">mToMozOrigin</a>;
<a name="l02945"></a><a class="code" href="../../d6/d92/structns_display_transform_1_1_frame_transform_properties.html#a3fa165c33b794421a7fb295e46d13ebe">02945</a>     <span class="keyword">const</span> <a class="code" href="../../d3/df0/structgfx_point3_d.html">gfxPoint3D</a> <a class="code" href="../../d6/d92/structns_display_transform_1_1_frame_transform_properties.html#a3fa165c33b794421a7fb295e46d13ebe">mToPerspectiveOrigin</a>;
<a name="l02946"></a><a class="code" href="../../d6/d92/structns_display_transform_1_1_frame_transform_properties.html#a398acae754ca664c25b7bae28645929e">02946</a>     <a class="code" href="../../d6/ddb/ns_coord_8h.html#a0c2491d56285ed87d3ac31ee241e81e7">nscoord</a> <a class="code" href="../../d6/d92/structns_display_transform_1_1_frame_transform_properties.html#a398acae754ca664c25b7bae28645929e">mChildPerspective</a>;
<a name="l02947"></a>02947   };
<a name="l02948"></a>02948 
<a name="l02962"></a>02962   <span class="keyword">static</span> <a class="code" href="../../d6/d3b/classgfx3_d_matrix.html">gfx3DMatrix</a> GetResultingTransformMatrix(<span class="keyword">const</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l02963"></a>02963                                                  <span class="keyword">const</span> <a class="code" href="../../d6/d7b/structns_point.html">nsPoint</a>&amp; aOrigin,
<a name="l02964"></a>02964                                                  <span class="keywordtype">float</span> aAppUnitsPerPixel,
<a name="l02965"></a>02965                                                  <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>* aBoundsOverride = <span class="keyword">nullptr</span>,
<a name="l02966"></a>02966                                                  <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>** aOutAncestor = <span class="keyword">nullptr</span>);
<a name="l02967"></a>02967   <span class="keyword">static</span> <a class="code" href="../../d6/d3b/classgfx3_d_matrix.html">gfx3DMatrix</a> GetResultingTransformMatrix(<span class="keyword">const</span> <a class="code" href="../../d6/d92/structns_display_transform_1_1_frame_transform_properties.html">FrameTransformProperties</a>&amp; aProperties,
<a name="l02968"></a>02968                                                  <span class="keyword">const</span> <a class="code" href="../../d6/d7b/structns_point.html">nsPoint</a>&amp; aOrigin,
<a name="l02969"></a>02969                                                  <span class="keywordtype">float</span> aAppUnitsPerPixel,
<a name="l02970"></a>02970                                                  <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>* aBoundsOverride = <span class="keyword">nullptr</span>,
<a name="l02971"></a>02971                                                  <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>** aOutAncestor = <span class="keyword">nullptr</span>);
<a name="l02976"></a>02976   <span class="keyword">static</span> <span class="keywordtype">bool</span> ShouldPrerenderTransformedContent(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l02977"></a>02977                                                 <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l02978"></a>02978                                                 <span class="keywordtype">bool</span> aLogAnimations = <span class="keyword">false</span>);
<a name="l02979"></a>02979   <span class="keywordtype">bool</span> CanUseAsyncAnimations(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder) MOZ_OVERRIDE;
<a name="l02980"></a>02980 
<a name="l02981"></a>02981 <span class="keyword">private</span>:
<a name="l02982"></a>02982   <span class="keyword">static</span> <a class="code" href="../../d6/d3b/classgfx3_d_matrix.html">gfx3DMatrix</a> GetResultingTransformMatrixInternal(<span class="keyword">const</span> <a class="code" href="../../d6/d92/structns_display_transform_1_1_frame_transform_properties.html">FrameTransformProperties</a>&amp; aProperties,
<a name="l02983"></a>02983                                                          <span class="keyword">const</span> <a class="code" href="../../d6/d7b/structns_point.html">nsPoint</a>&amp; aOrigin,
<a name="l02984"></a>02984                                                          <span class="keywordtype">float</span> aAppUnitsPerPixel,
<a name="l02985"></a>02985                                                          <span class="keyword">const</span> <a class="code" href="../../da/d97/structns_rect.html">nsRect</a>* aBoundsOverride,
<a name="l02986"></a>02986                                                          <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>** aOutAncestor);
<a name="l02987"></a>02987 
<a name="l02988"></a>02988   <a class="code" href="../../d3/def/classns_display_wrap_list.html">nsDisplayWrapList</a> mStoredList;
<a name="l02989"></a>02989   <a class="code" href="../../d6/d3b/classgfx3_d_matrix.html">gfx3DMatrix</a> mTransform;
<a name="l02990"></a>02990   ComputeTransformFunction mTransformGetter;
<a name="l02991"></a>02991   <span class="keywordtype">float</span> mCachedAppUnitsPerPixel;
<a name="l02992"></a>02992   uint32_t mIndex;
<a name="l02993"></a>02993 };
<a name="l02994"></a>02994 
<a name="l03006"></a><a class="code" href="../../d5/d54/classns_char_clip_display_item.html">03006</a> <span class="keyword">class </span><a class="code" href="../../d5/d54/classns_char_clip_display_item.html">nsCharClipDisplayItem</a> : <span class="keyword">public</span> nsDisplayItem {
<a name="l03007"></a>03007 <span class="keyword">public</span>:
<a name="l03008"></a><a class="code" href="../../d5/d54/classns_char_clip_display_item.html#a160549ed744c81baf544764b5421aeb3">03008</a>   <a class="code" href="../../d5/d54/classns_char_clip_display_item.html">nsCharClipDisplayItem</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder, <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame)
<a name="l03009"></a>03009     : nsDisplayItem(aBuilder, aFrame), mLeftEdge(0), mRightEdge(0) {}
<a name="l03010"></a>03010 
<a name="l03011"></a><a class="code" href="../../d5/d54/classns_char_clip_display_item.html#a3ee0f35abb370174b427d71085d90444">03011</a>   <a class="code" href="../../d5/d54/classns_char_clip_display_item.html">nsCharClipDisplayItem</a>(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame)
<a name="l03012"></a>03012     : nsDisplayItem(aFrame) {}
<a name="l03013"></a>03013 
<a name="l03014"></a><a class="code" href="../../d1/d90/structns_char_clip_display_item_1_1_clip_edges.html">03014</a>   <span class="keyword">struct </span><a class="code" href="../../d1/d90/structns_char_clip_display_item_1_1_clip_edges.html">ClipEdges</a> {
<a name="l03015"></a><a class="code" href="../../d1/d90/structns_char_clip_display_item_1_1_clip_edges.html#a4473fdaf0180d6318c191f5e112108b5">03015</a>     <a class="code" href="../../d1/d90/structns_char_clip_display_item_1_1_clip_edges.html">ClipEdges</a>(<span class="keyword">const</span> nsDisplayItem&amp; aItem,
<a name="l03016"></a>03016               <a class="code" href="../../d6/ddb/ns_coord_8h.html#a0c2491d56285ed87d3ac31ee241e81e7">nscoord</a> aLeftEdge, <a class="code" href="../../d6/ddb/ns_coord_8h.html#a0c2491d56285ed87d3ac31ee241e81e7">nscoord</a> aRightEdge) {
<a name="l03017"></a>03017       <a class="code" href="../../da/d97/structns_rect.html">nsRect</a> r = aItem.<a class="code" href="../../db/d9b/classns_display_item.html#a09d78bf13081dd2c56c1c24d44f1bed4">Frame</a>()-&gt;<a class="code" href="../../d7/d20/classns_i_frame.html#a27f79f4a515f2cc0b2039c4d1cb8ad75">GetScrollableOverflowRect</a>() +
<a name="l03018"></a>03018                  aItem.<a class="code" href="../../db/d9b/classns_display_item.html#ac72fa0bfb6db872125966b9322114dee">ToReferenceFrame</a>();
<a name="l03019"></a>03019       mX = aLeftEdge &gt; 0 ? r.<a class="code" href="../../dc/db8/structmozilla_1_1gfx_1_1_base_rect.html#acb87788539e986ee1aad2b097ce7a468">x</a> + aLeftEdge : <a class="code" href="../../d6/ddb/ns_coord_8h.html#af0fd1f6d3851e024d5686d1bcb5ccfc0">nscoord_MIN</a>;
<a name="l03020"></a>03020       mXMost = aRightEdge &gt; 0 ? <a class="code" href="../../db/d13/ns_i_d_o_m_device_proximity_event_8idl.html#a0b0ede69e8156eb97acc579b88e883de">std::max</a>(r.<a class="code" href="../../dc/db8/structmozilla_1_1gfx_1_1_base_rect.html#aaf059a802dc0257d0cf511f80a2f8e89">XMost</a>() - aRightEdge, mX) : <a class="code" href="../../d6/ddb/ns_coord_8h.html#a0834bde0e50c96f361cc4f8c672d2f31">nscoord_MAX</a>;
<a name="l03021"></a>03021     }
<a name="l03022"></a><a class="code" href="../../d1/d90/structns_char_clip_display_item_1_1_clip_edges.html#a154fced12feba429deef5bf2b34260a7">03022</a>     <span class="keywordtype">void</span> <a class="code" href="../../d1/d90/structns_char_clip_display_item_1_1_clip_edges.html#a154fced12feba429deef5bf2b34260a7">Intersect</a>(<a class="code" href="../../d6/ddb/ns_coord_8h.html#a0c2491d56285ed87d3ac31ee241e81e7">nscoord</a>* aX, <a class="code" href="../../d6/ddb/ns_coord_8h.html#a0c2491d56285ed87d3ac31ee241e81e7">nscoord</a>* aWidth)<span class="keyword"> const </span>{
<a name="l03023"></a>03023       <a class="code" href="../../d6/ddb/ns_coord_8h.html#a0c2491d56285ed87d3ac31ee241e81e7">nscoord</a> xmost1 = *aX + *aWidth;
<a name="l03024"></a>03024       *aX = <a class="code" href="../../db/d13/ns_i_d_o_m_device_proximity_event_8idl.html#a0b0ede69e8156eb97acc579b88e883de">std::max</a>(*aX, mX);
<a name="l03025"></a>03025       *aWidth = <a class="code" href="../../db/d13/ns_i_d_o_m_device_proximity_event_8idl.html#a0b0ede69e8156eb97acc579b88e883de">std::max</a>(<a class="code" href="../../db/d13/ns_i_d_o_m_device_proximity_event_8idl.html#aad36546e8175d2922bee165fe028fedc">std::min</a>(xmost1, mXMost) - *aX, 0);
<a name="l03026"></a>03026     }
<a name="l03027"></a><a class="code" href="../../d1/d90/structns_char_clip_display_item_1_1_clip_edges.html#acc5efab174d2d653b7e7e1f29528de1f">03027</a>     <a class="code" href="../../d6/ddb/ns_coord_8h.html#a0c2491d56285ed87d3ac31ee241e81e7">nscoord</a> <a class="code" href="../../d1/d90/structns_char_clip_display_item_1_1_clip_edges.html#acc5efab174d2d653b7e7e1f29528de1f">mX</a>;
<a name="l03028"></a><a class="code" href="../../d1/d90/structns_char_clip_display_item_1_1_clip_edges.html#aa0c2da1393f2417486888e5cfc2fcc37">03028</a>     <a class="code" href="../../d6/ddb/ns_coord_8h.html#a0c2491d56285ed87d3ac31ee241e81e7">nscoord</a> <a class="code" href="../../d1/d90/structns_char_clip_display_item_1_1_clip_edges.html#aa0c2da1393f2417486888e5cfc2fcc37">mXMost</a>;
<a name="l03029"></a>03029   };
<a name="l03030"></a>03030 
<a name="l03031"></a><a class="code" href="../../d5/d54/classns_char_clip_display_item.html#aa9bad7d90f307416aa8695b05ebaa28f">03031</a>   <a class="code" href="../../d1/d90/structns_char_clip_display_item_1_1_clip_edges.html">ClipEdges</a> <a class="code" href="../../d5/d54/classns_char_clip_display_item.html#aa9bad7d90f307416aa8695b05ebaa28f">Edges</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d1/d90/structns_char_clip_display_item_1_1_clip_edges.html">ClipEdges</a>(*<span class="keyword">this</span>, mLeftEdge, mRightEdge); }
<a name="l03032"></a>03032 
<a name="l03033"></a><a class="code" href="../../d5/d54/classns_char_clip_display_item.html#a0d2a79aa341a824204194b16737bbfc7">03033</a>   <span class="keyword">static</span> <a class="code" href="../../d5/d54/classns_char_clip_display_item.html">nsCharClipDisplayItem</a>* <a class="code" href="../../d5/d54/classns_char_clip_display_item.html#a0d2a79aa341a824204194b16737bbfc7">CheckCast</a>(nsDisplayItem* aItem) {
<a name="l03034"></a>03034     <a class="code" href="../../db/d9b/classns_display_item.html#a253d7e0fd1993dd39da93f5bfc49a3a8">nsDisplayItem::Type</a> t = aItem-&gt;<a class="code" href="../../db/d9b/classns_display_item.html#a767e8d7cbc75563bcd62fcb9611a94ab">GetType</a>();
<a name="l03035"></a>03035     <span class="keywordflow">return</span> (t == nsDisplayItem::TYPE_TEXT ||
<a name="l03036"></a>03036             t == nsDisplayItem::TYPE_TEXT_DECORATION ||
<a name="l03037"></a>03037             t == nsDisplayItem::TYPE_TEXT_SHADOW)
<a name="l03038"></a>03038       ? <span class="keyword">static_cast&lt;</span><a class="code" href="../../d5/d54/classns_char_clip_display_item.html">nsCharClipDisplayItem</a>*<span class="keyword">&gt;</span>(aItem) : <span class="keyword">nullptr</span>;
<a name="l03039"></a>03039   }
<a name="l03040"></a>03040 
<a name="l03041"></a><a class="code" href="../../d5/d54/classns_char_clip_display_item.html#aa19626feafa723f2a6a45081fd764acf">03041</a>   <a class="code" href="../../d6/ddb/ns_coord_8h.html#a0c2491d56285ed87d3ac31ee241e81e7">nscoord</a> <a class="code" href="../../d5/d54/classns_char_clip_display_item.html#aa19626feafa723f2a6a45081fd764acf">mLeftEdge</a>;  <span class="comment">// length from the left side</span>
<a name="l03042"></a><a class="code" href="../../d5/d54/classns_char_clip_display_item.html#a4269bf3cefee7a34b3a7a408bd6407a8">03042</a>   <a class="code" href="../../d6/ddb/ns_coord_8h.html#a0c2491d56285ed87d3ac31ee241e81e7">nscoord</a> <a class="code" href="../../d5/d54/classns_char_clip_display_item.html#a4269bf3cefee7a34b3a7a408bd6407a8">mRightEdge</a>; <span class="comment">// length from the right side</span>
<a name="l03043"></a>03043 };
<a name="l03044"></a>03044 
<a name="l03045"></a>03045 <span class="preprocessor">#endif </span><span class="comment">/*NSDISPLAYLIST_H_*/</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../de/d41/ns_display_list_8h.html">nsDisplayList.h</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 00:53:00に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
