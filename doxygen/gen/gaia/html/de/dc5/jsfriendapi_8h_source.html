<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: jsfriendapi.h ソースファイル</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li class="current"><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>ファイル一覧</span></a></li>
      <li><a href="../../globals.html"><span>グローバル</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('de/dc5/jsfriendapi_8h.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">jsfriendapi.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../de/dc5/jsfriendapi_8h.html">説明を見る。</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* -*- Mode: C++; tab-width: 8; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a name="l00002"></a>00002 <span class="comment"> * vim: set ts=8 sts=4 et sw=4 tw=99:</span>
<a name="l00003"></a>00003 <span class="comment"> * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a name="l00004"></a>00004 <span class="comment"> * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a name="l00005"></a>00005 <span class="comment"> * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 <span class="preprocessor">#ifndef jsfriendapi_h</span>
<a name="l00008"></a>00008 <span class="preprocessor"></span><span class="preprocessor">#define jsfriendapi_h</span>
<a name="l00009"></a>00009 <span class="preprocessor"></span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;<a class="code" href="../../db/d6d/_memory_reporting_8h.html">mozilla/MemoryReporting.h</a>&quot;</span>
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="preprocessor">#include &quot;<a class="code" href="../../d6/de4/jsclass_8h.html">jsclass.h</a>&quot;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &quot;<a class="code" href="../../d0/d15/jsprvtd_8h.html">jsprvtd.h</a>&quot;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &quot;<a class="code" href="../../d9/d28/jspubtd_8h.html">jspubtd.h</a>&quot;</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 <span class="preprocessor">#include &quot;<a class="code" href="../../de/dd6/_call_args_8h.html">js/CallArgs.h</a>&quot;</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="comment">/*</span>
<a name="l00019"></a>00019 <span class="comment"> * This macro checks if the stack pointer has exceeded a given limit. If</span>
<a name="l00020"></a>00020 <span class="comment"> * |tolerance| is non-zero, it returns true only if the stack pointer has</span>
<a name="l00021"></a>00021 <span class="comment"> * exceeded the limit by more than |tolerance| bytes.</span>
<a name="l00022"></a>00022 <span class="comment"> */</span>
<a name="l00023"></a>00023 <span class="preprocessor">#if JS_STACK_GROWTH_DIRECTION &gt; 0</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span><span class="preprocessor"># define JS_CHECK_STACK_SIZE_WITH_TOLERANCE(limit, sp, tolerance)  \</span>
<a name="l00025"></a>00025 <span class="preprocessor">    ((uintptr_t)(sp) &lt; (limit)+(tolerance))</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00027"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a1da1bb11d21ee06e53d93875a8739aa0">00027</a> <span class="preprocessor"></span><span class="preprocessor"># define JS_CHECK_STACK_SIZE_WITH_TOLERANCE(limit, sp, tolerance)  \</span>
<a name="l00028"></a>00028 <span class="preprocessor">    ((uintptr_t)(sp) &gt; (limit)-(tolerance))</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span>
<a name="l00031"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a5a1f2f013633a538f09dddf1b4380c2b">00031</a> <span class="preprocessor">#define JS_CHECK_STACK_SIZE(limit, lval) JS_CHECK_STACK_SIZE_WITH_TOLERANCE(limit, lval, 0)</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span>
<a name="l00033"></a>00033 <span class="keyword">namespace </span>JS {
<a name="l00034"></a>00034 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00035"></a>00035 <span class="keyword">class </span>Heap;
<a name="l00036"></a>00036 } <span class="comment">/* namespace JS */</span>
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="keyword">extern</span> <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00039"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a64e6e9b8ec1046ee387cf5d810f8233a">00039</a> JS_SetGrayGCRootsTracer(<a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a3ba489a976915ca6161baede3c439066">rt</a>, <a class="code" href="../../d2/d7d/jsapi_8h.html#a912142cb423693acee7b827b6349700c">JSTraceDataOp</a> <a class="code" href="../../d2/d7d/jsapi_8h.html#a64e6e9b8ec1046ee387cf5d810f8233a">traceOp</a>, <span class="keywordtype">void</span> *<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>);
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSString *)
<a name="l00042"></a>00042 JS_GetAnonymousString(<a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *rt);
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l00045"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a37c7267545378f11a6ff10555b8704ab">00045</a> JS_FindCompilationScope(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *<a class="code" href="../../de/d8f/jsdebug_8h.html#ac84a9ad5e2527762d63c6001438948b3">cx</a>, JSObject *<a class="code" href="../../d2/d7d/jsapi_8h.html#a2219cf9467e8547184b3cf2b051e8067">obj</a>);
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSFunction *)
<a name="l00048"></a>00048 JS_GetObjectFunction(JSObject *obj);
<a name="l00049"></a>00049 
<a name="l00050"></a>00050 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l00051"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#af055ca2a6388080d519267f8b4c73063">00051</a> JS_SplicePrototype(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *obj, JSObject *<a class="code" href="../../d2/d7d/jsapi_8h.html#ac8adaba3196a696d1b7357095fdf215f">proto</a>);
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l00054"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a8226dcbc056f6642245deb66fe994db7">00054</a> JS_NewObjectWithUniqueType(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, <a class="code" href="../../d2/dd1/struct_j_s_class.html">JSClass</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a89065eb7649b6c6a5d3432c055381b6c">clasp</a>, JSObject *proto, JSObject *<a class="code" href="../../d2/d7d/jsapi_8h.html#a8a4058d98ae1bca3d5fa2d01726cf734">parent</a>);
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(uint32_t)
<a name="l00057"></a>00057 JS_ObjectCountDynamicSlots(JS::<a class="code" href="../../da/d7b/namespace_j_s.html#a27fbe8d507bcc80ecf65d4dfa346936e">HandleObject</a> obj);
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">size_t</span>)
<a name="l00060"></a>00060 JS_SetProtoCalled(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx);
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">size_t</span>)
<a name="l00063"></a>00063 JS_GetCustomIteratorCount(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx);
<a name="l00064"></a>00064 
<a name="l00065"></a>00065 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l00066"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#ae14e2f09f33a9bb61e4385d852c68abc">00066</a> JS_NondeterministicGetWeakMapKeys(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *obj, JSObject **<a class="code" href="../../d6/da5/libpinyin_8js.html#a2a7ba084dafcf16766cf163d1f5fbbba">ret</a>);
<a name="l00067"></a>00067 
<a name="l00068"></a>00068 <span class="comment">/*</span>
<a name="l00069"></a>00069 <span class="comment"> * Determine whether the given object is backed by a DeadObjectProxy.</span>
<a name="l00070"></a>00070 <span class="comment"> *</span>
<a name="l00071"></a>00071 <span class="comment"> * Such objects hold no other objects (they have no outgoing reference edges)</span>
<a name="l00072"></a>00072 <span class="comment"> * and will throw if you touch them (e.g. by reading/writing a property).</span>
<a name="l00073"></a>00073 <span class="comment"> */</span>
<a name="l00074"></a>00074 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l00075"></a>00075 JS_IsDeadWrapper(JSObject *obj);
<a name="l00076"></a>00076 
<a name="l00077"></a>00077 <span class="comment">/*</span>
<a name="l00078"></a>00078 <span class="comment"> * Used by the cycle collector to trace through the shape and all</span>
<a name="l00079"></a>00079 <span class="comment"> * shapes it reaches, marking all non-shape children found in the</span>
<a name="l00080"></a>00080 <span class="comment"> * process. Uses bounded stack space.</span>
<a name="l00081"></a>00081 <span class="comment"> */</span>
<a name="l00082"></a>00082 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00083"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#afdc8db27252b50ecf0f7d9c6c0ffe527">00083</a> JS_TraceShapeCycleCollectorChildren(<a class="code" href="../../dd/df1/struct_j_s_tracer.html">JSTracer</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#aaae8d707c6fd284d545fe574b455e09e">trc</a>, <span class="keywordtype">void</span> *<a class="code" href="../../de/dc5/jsfriendapi_8h.html#afdc8db27252b50ecf0f7d9c6c0ffe527">shape</a>);
<a name="l00084"></a>00084 
<a name="l00085"></a>00085 <a class="code" href="../../db/dc1/namespacexpt.html#a17cff18a1a6441f4466f5bd1eb6c9515">enum</a> {
<a name="l00086"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382ba11bf95786a261df8908d13ca818803b6">00086</a>     <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382ba11bf95786a261df8908d13ca818803b6">JS_TELEMETRY_GC_REASON</a>,
<a name="l00087"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382baed3d633d0c7007fa17b719156cffd4c1">00087</a>     <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382baed3d633d0c7007fa17b719156cffd4c1">JS_TELEMETRY_GC_IS_COMPARTMENTAL</a>,
<a name="l00088"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382baf9179e74428d9b1d03db26b04e9daa98">00088</a>     <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382baf9179e74428d9b1d03db26b04e9daa98">JS_TELEMETRY_GC_MS</a>,
<a name="l00089"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382bae96ab4e646d34952500b40bd2b89ba5a">00089</a>     <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382bae96ab4e646d34952500b40bd2b89ba5a">JS_TELEMETRY_GC_MAX_PAUSE_MS</a>,
<a name="l00090"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382bacafc16371417c49fb469c569903dd4f2">00090</a>     <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382bacafc16371417c49fb469c569903dd4f2">JS_TELEMETRY_GC_MARK_MS</a>,
<a name="l00091"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382baa7db7baefdc0321bb23121eeec16303e">00091</a>     <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382baa7db7baefdc0321bb23121eeec16303e">JS_TELEMETRY_GC_SWEEP_MS</a>,
<a name="l00092"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382ba25e30f172f9945c71ef39e037ceccde5">00092</a>     <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382ba25e30f172f9945c71ef39e037ceccde5">JS_TELEMETRY_GC_MARK_ROOTS_MS</a>,
<a name="l00093"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382ba017beffc01d93cb1012c9f30690869df">00093</a>     <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382ba017beffc01d93cb1012c9f30690869df">JS_TELEMETRY_GC_MARK_GRAY_MS</a>,
<a name="l00094"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382ba6ae5a24e9141a42c8bf122f6f25cd0bd">00094</a>     <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382ba6ae5a24e9141a42c8bf122f6f25cd0bd">JS_TELEMETRY_GC_SLICE_MS</a>,
<a name="l00095"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382babc856c90ebad56d20c0f6cafd0214d92">00095</a>     <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382babc856c90ebad56d20c0f6cafd0214d92">JS_TELEMETRY_GC_MMU_50</a>,
<a name="l00096"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382bad7e8d27474b1ac613d6d871c6f2e0628">00096</a>     <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382bad7e8d27474b1ac613d6d871c6f2e0628">JS_TELEMETRY_GC_RESET</a>,
<a name="l00097"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382ba4140c3ef5509eeb530762b93b6f6cc65">00097</a>     <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382ba4140c3ef5509eeb530762b93b6f6cc65">JS_TELEMETRY_GC_INCREMENTAL_DISABLED</a>,
<a name="l00098"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382ba8f9b46af2ed57324d2e01261bd9bb18b">00098</a>     <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382ba8f9b46af2ed57324d2e01261bd9bb18b">JS_TELEMETRY_GC_NON_INCREMENTAL</a>,
<a name="l00099"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382ba7497d1175cf3240a28c7d47d21834c7e">00099</a>     <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382ba7497d1175cf3240a28c7d47d21834c7e">JS_TELEMETRY_GC_SCC_SWEEP_TOTAL_MS</a>,
<a name="l00100"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382ba7aee5a35835a3422bbbeadb95404c9e5">00100</a>     <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a73c53bacb25588538843a1dcfe5f382ba7aee5a35835a3422bbbeadb95404c9e5">JS_TELEMETRY_GC_SCC_SWEEP_MAX_PAUSE_MS</a>
<a name="l00101"></a>00101 };
<a name="l00102"></a>00102 
<a name="l00103"></a>00103 <span class="keyword">typedef</span> <a class="code" href="../../d4/da9/png_8h.html#ab30926da86712184b070e550789f8bf7">void</a>
<a name="l00104"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#ab696d7865ba05204a1c46d31df51cbe3">00104</a> (* <a class="code" href="../../de/dc5/jsfriendapi_8h.html#ab696d7865ba05204a1c46d31df51cbe3">JSAccumulateTelemetryDataCallback</a>)(<span class="keywordtype">int</span> <a class="code" href="../../d2/d7d/jsapi_8h.html#a5a0801283c5c25416c0888dc53f332d0">id</a>, uint32_t sample);
<a name="l00105"></a>00105 
<a name="l00106"></a>00106 <span class="keyword">extern</span> <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00107"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#ae9494ad8646a84b50bd3446d72433e82">00107</a> JS_SetAccumulateTelemetryCallback(<a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a3ba489a976915ca6161baede3c439066">rt</a>, <a class="code" href="../../de/dc5/jsfriendapi_8h.html#ab696d7865ba05204a1c46d31df51cbe3">JSAccumulateTelemetryDataCallback</a> <a class="code" href="../../df/d44/permission__manager_8js.html#ab95eebdb2a4acb8510417bf0bdabc3c5">callback</a>);
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d7/d69/struct_j_s_principals.html">JSPrincipals</a> *)
<a name="l00110"></a>00110 JS_GetCompartmentPrincipals(<a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">JSCompartment</a> *compartment);
<a name="l00111"></a>00111 
<a name="l00112"></a>00112 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00113"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a65468d1018370f673feaee8d1d741958">00113</a> JS_SetCompartmentPrincipals(<a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">JSCompartment</a> *compartment, <a class="code" href="../../d7/d69/struct_j_s_principals.html">JSPrincipals</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#ac567949abe88a04ca9a4de1fdd19504c">principals</a>);
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 <span class="comment">/* Safe to call with input obj == NULL. Returns non-NULL iff obj != NULL. */</span>
<a name="l00116"></a>00116 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l00117"></a>00117 JS_ObjectToInnerObject(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *<a class="code" href="../../de/d8f/jsdebug_8h.html#ac84a9ad5e2527762d63c6001438948b3">cx</a>, JSObject *<a class="code" href="../../d2/d7d/jsapi_8h.html#a2219cf9467e8547184b3cf2b051e8067">obj</a>);
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 <span class="comment">/* Requires obj != NULL. */</span>
<a name="l00120"></a>00120 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l00121"></a>00121 JS_ObjectToOuterObject(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *obj);
<a name="l00122"></a>00122 
<a name="l00123"></a>00123 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l00124"></a>00124 JS_CloneObject(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *obj, JSObject *<a class="code" href="../../d2/d7d/jsapi_8h.html#ac8adaba3196a696d1b7357095fdf215f">proto</a>, JSObject *<a class="code" href="../../d2/d7d/jsapi_8h.html#a8a4058d98ae1bca3d5fa2d01726cf734">parent</a>);
<a name="l00125"></a>00125 
<a name="l00126"></a>00126 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSString *)
<a name="l00127"></a>00127 JS_BasicObjectToString(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JS::<a class="code" href="../../da/d7b/namespace_j_s.html#a27fbe8d507bcc80ecf65d4dfa346936e">HandleObject</a> obj);
<a name="l00128"></a>00128 
<a name="l00129"></a>00129 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l00130"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a7a2fddcb80fec73a265744e8d74cbcf0">00130</a> js_GetterOnlyPropertyStub(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JS::<a class="code" href="../../da/d7b/namespace_j_s.html#a27fbe8d507bcc80ecf65d4dfa346936e">HandleObject</a> obj, JS::<a class="code" href="../../da/d7b/namespace_j_s.html#a3a21bbd1526caa6bd8cd8d7bdeb3f119">HandleId</a> <span class="keywordtype">id</span>, <a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a> <a class="code" href="../../dc/d42/device_list_8js.html#ae2475e10618961c050dcba04e8c42331">strict</a>,
<a name="l00131"></a>00131                           JS::<a class="code" href="../../da/d7b/namespace_j_s.html#a3c796ebbafcdf51a26ea70b1a366a93e">MutableHandleValue</a> <a class="code" href="../../de/dd6/_call_args_8h.html#a0e1edae250e9221382471f42214f7af0">vp</a>);
<a name="l00132"></a>00132 
<a name="l00133"></a>00133 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00134"></a>00134 <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a604f80f978d67c0cd8f4f8fb469ab067">js_ReportOverRecursed</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *maybecx);
<a name="l00135"></a>00135 
<a name="l00136"></a>00136 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00137"></a>00137 <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a79fe557303ad13ba5c50a9903980d52a">js_ObjectClassIs</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JS::<a class="code" href="../../da/d7b/namespace_j_s.html#a27fbe8d507bcc80ecf65d4dfa346936e">HandleObject</a> obj, js::<a class="code" href="../../db/da2/namespacejs.html#ac7a780ef65af04e42fc68e3a45eb721a">ESClassValue</a> classValue);
<a name="l00138"></a>00138 
<a name="l00139"></a>00139 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <span class="keywordtype">char</span> *)
<a name="l00140"></a>00140 <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a79cb2a5c3525b22320cc98a36187f6ae">js_ObjectClassName</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JS::<a class="code" href="../../da/d7b/namespace_j_s.html#a27fbe8d507bcc80ecf65d4dfa346936e">HandleObject</a> obj);
<a name="l00141"></a>00141 
<a name="l00142"></a>00142 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00143"></a>00143 <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a2a68b38993e18b440953bcbf9ca4c2b9">js_AddObjectRoot</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *rt, JSObject **<a class="code" href="../../d2/d7d/jsapi_8h.html#ad8f01ba3048838e38636e8f370778f21">objp</a>);
<a name="l00144"></a>00144 
<a name="l00145"></a>00145 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00146"></a>00146 <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a3dd6a8da151d41f1c82ae7642c2334b6">js_RemoveObjectRoot</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *rt, JSObject **objp);
<a name="l00147"></a>00147 
<a name="l00148"></a>00148 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l00149"></a>00149 <span class="preprocessor"></span>
<a name="l00150"></a>00150 <span class="comment">/*</span>
<a name="l00151"></a>00151 <span class="comment"> * Routines to print out values during debugging.  These are FRIEND_API to help</span>
<a name="l00152"></a>00152 <span class="comment"> * the debugger find them and to support temporarily hacking js_Dump* calls</span>
<a name="l00153"></a>00153 <span class="comment"> * into other code.</span>
<a name="l00154"></a>00154 <span class="comment"> */</span>
<a name="l00155"></a>00155 
<a name="l00156"></a>00156 <span class="keyword">extern</span> <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00157"></a>00157 js_DumpString(JSString *<a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>);
<a name="l00158"></a>00158 
<a name="l00159"></a>00159 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00160"></a>00160 js_DumpAtom(JSAtom *atom);
<a name="l00161"></a>00161 
<a name="l00162"></a>00162 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00163"></a>00163 js_DumpObject(JSObject *obj);
<a name="l00164"></a>00164 
<a name="l00165"></a>00165 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00166"></a>00166 js_DumpChars(<a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code" href="../../d9/d28/jspubtd_8h.html#a402ffb3c791d4197e0bf8f3aaeaf1779">jschar</a> *<a class="code" href="../../d9/d04/expat_8h.html#afa4d928795b38748c167cba7f7b9f04c">s</a>, <span class="keywordtype">size_t</span> <a class="code" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a>);
<a name="l00167"></a>00167 <span class="preprocessor">#endif</span>
<a name="l00168"></a>00168 <span class="preprocessor"></span>
<a name="l00169"></a>00169 <span class="keyword">extern</span> <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00170"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a27a788fa9b193e3d4e5eaccf06f44683">00170</a> JS_CopyPropertiesFrom(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *<a class="code" href="../../d9/d04/expat_8h.html#acfcb72e11f425a604663d645d2a4ea80">target</a>, JSObject *obj);
<a name="l00171"></a>00171 
<a name="l00172"></a>00172 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l00173"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a6fce98317c5d35137736d94eaa2b14a9">00173</a> JS_WrapPropertyDescriptor(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, js::<a class="code" href="../../db/da2/namespacejs.html#a0b5afc2fa71b091a47d81c4c12ec75b5">PropertyDescriptor</a> *<a class="code" href="../../d8/dd0/extension__set_8h.html#a348efe6592512f937a672d5f5ec7d76a">desc</a>);
<a name="l00174"></a>00174 
<a name="l00175"></a>00175 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l00176"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a0c4e9efe1571ce3ef20a0baf42a47be9">00176</a> JS_WrapAutoIdVector(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JS::AutoIdVector &amp;<a class="code" href="../../de/dc5/jsfriendapi_8h.html#a0c4e9efe1571ce3ef20a0baf42a47be9">props</a>);
<a name="l00177"></a>00177 
<a name="l00178"></a>00178 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l00179"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a338a71fff0e6e21d492639c01d396e62">00179</a> JS_EnumerateState(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JS::<a class="code" href="../../da/d7b/namespace_j_s.html#a27fbe8d507bcc80ecf65d4dfa346936e">HandleObject</a> obj, <a class="code" href="../../d9/d28/jspubtd_8h.html#afcd1566ec1d0000871fa3f6a7ea6f75a">JSIterateOp</a> <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a0a051ea52a6aa17ddfa7212ff4101d10">enum_op</a>,
<a name="l00180"></a>00180                   js::<a class="code" href="../../da/d7b/namespace_j_s.html#a3c796ebbafcdf51a26ea70b1a366a93e">MutableHandleValue</a> <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a338a71fff0e6e21d492639c01d396e62">statep</a>, js::<a class="code" href="../../da/d7b/namespace_j_s.html#adefae0e0e642dbd47bd9d5b2fdf78ca0">MutableHandleId</a> <a class="code" href="../../d2/d7d/jsapi_8h.html#abc3e0256ba439bc20392ff9bae95b145">idp</a>);
<a name="l00181"></a>00181 
<a name="l00182"></a><a class="code" href="../../d5/d83/struct_j_s_function_spec_with_help.html">00182</a> struct <a class="code" href="../../d5/d83/struct_j_s_function_spec_with_help.html">JSFunctionSpecWithHelp</a> {
<a name="l00183"></a><a class="code" href="../../d5/d83/struct_j_s_function_spec_with_help.html#a1f7dedb157b5a86eb102de0eae585ea3">00183</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>      *<a class="code" href="../../d5/d83/struct_j_s_function_spec_with_help.html#a1f7dedb157b5a86eb102de0eae585ea3">name</a>;
<a name="l00184"></a><a class="code" href="../../d5/d83/struct_j_s_function_spec_with_help.html#a7e512944aa199e188cb596624df66fa7">00184</a>     <a class="code" href="../../de/dd6/_call_args_8h.html#ac6c8261787c2bcffab1c48fabda84342">JSNative</a>        <a class="code" href="../../d5/d83/struct_j_s_function_spec_with_help.html#a7e512944aa199e188cb596624df66fa7">call</a>;
<a name="l00185"></a><a class="code" href="../../d5/d83/struct_j_s_function_spec_with_help.html#ac09228c4ee7aa1c10d743405739b6683">00185</a>     uint16_t        <a class="code" href="../../d5/d83/struct_j_s_function_spec_with_help.html#ac09228c4ee7aa1c10d743405739b6683">nargs</a>;
<a name="l00186"></a><a class="code" href="../../d5/d83/struct_j_s_function_spec_with_help.html#aa7727d2cbe92fece67ba891ac48a3dd1">00186</a>     uint16_t        <a class="code" href="../../d5/d83/struct_j_s_function_spec_with_help.html#aa7727d2cbe92fece67ba891ac48a3dd1">flags</a>;
<a name="l00187"></a><a class="code" href="../../d5/d83/struct_j_s_function_spec_with_help.html#a689a474400cbd30d3489b96f8e044c8a">00187</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>      *<a class="code" href="../../d5/d83/struct_j_s_function_spec_with_help.html#a689a474400cbd30d3489b96f8e044c8a">usage</a>;
<a name="l00188"></a><a class="code" href="../../d5/d83/struct_j_s_function_spec_with_help.html#a701e1847d6e9a3f68b29f88c58cbda77">00188</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>      *<a class="code" href="../../d5/d83/struct_j_s_function_spec_with_help.html#a701e1847d6e9a3f68b29f88c58cbda77">help</a>;
<a name="l00189"></a>00189 };
<a name="l00190"></a>00190 
<a name="l00191"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#abfa6532966c862346872d9728a84ee51">00191</a> <span class="preprocessor">#define JS_FN_HELP(name,call,nargs,flags,usage,help)                          \</span>
<a name="l00192"></a>00192 <span class="preprocessor">    {name, call, nargs, (flags) | JSPROP_ENUMERATE | JSFUN_STUB_GSOPS, usage, help}</span>
<a name="l00193"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#adf2b3f748540fe6e00ced0f6c495f75b">00193</a> <span class="preprocessor"></span><span class="preprocessor">#define JS_FS_HELP_END                                                        \</span>
<a name="l00194"></a>00194 <span class="preprocessor">    {NULL, NULL, 0, 0, NULL, NULL}</span>
<a name="l00195"></a>00195 <span class="preprocessor"></span>
<a name="l00196"></a>00196 <span class="keyword">extern</span> <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00197"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#aad33e77ee36a615938e2f845d9e0cb6b">00197</a> JS_DefineFunctionsWithHelp(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *obj, <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code" href="../../d5/d83/struct_j_s_function_spec_with_help.html">JSFunctionSpecWithHelp</a> *<a class="code" href="../../dd/dfd/build__stage_2email_2shared_2test_2integration_2profile__builder_8js.html#a229733b8ea40200fae09e883376030bf">fs</a>);
<a name="l00198"></a>00198 
<a name="l00199"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#adeb32d1978df596008e755ba9885c007">00199</a> typedef <span class="keywordtype">bool</span> (* <a class="code" href="../../de/dc5/jsfriendapi_8h.html#adeb32d1978df596008e755ba9885c007">JS_SourceHook</a>)(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JS::Handle&lt;JSScript*&gt; <a class="code" href="../../d2/d7d/jsapi_8h.html#a31bd60a30b08f545ac3bb2e4c17c4d97">script</a>,
<a name="l00200"></a>00200                                <a class="code" href="../../d9/d28/jspubtd_8h.html#a402ffb3c791d4197e0bf8f3aaeaf1779">jschar</a> **src, uint32_t *<a class="code" href="../../d3/d91/j3d_8js.html#a3f87557d7488bfe7545844c394baa854">length</a>);
<a name="l00201"></a>00201 
<a name="l00202"></a>00202 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00203"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a7fd9cd3fe49d71cb43fa7c062b3b1405">00203</a> JS_SetSourceHook(<a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *rt, <a class="code" href="../../de/dc5/jsfriendapi_8h.html#adeb32d1978df596008e755ba9885c007">JS_SourceHook</a> <a class="code" href="../../de/deb/jsdbgapi_8h.html#a0709a3421ddc7fcae33d277721a9f702">hook</a>);
<a name="l00204"></a>00204 
<a name="l00205"></a>00205 namespace js {
<a name="l00206"></a>00206 
<a name="l00207"></a>00207 <span class="keyword">inline</span> <a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *
<a name="l00208"></a><a class="code" href="../../db/da2/namespacejs.html#ad8f434504f1b1ab46d19d4030c053323">00208</a> <a class="code" href="../../db/da2/namespacejs.html#ad8f434504f1b1ab46d19d4030c053323">GetRuntime</a>(<span class="keyword">const</span> <a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx)
<a name="l00209"></a>00209 {
<a name="l00210"></a>00210     <span class="keywordflow">return</span> <a class="code" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#a18697261a961b9d0efde405b5a2b244f">ContextFriendFields::get</a>(cx)-&gt;runtime_;
<a name="l00211"></a>00211 }
<a name="l00212"></a>00212 
<a name="l00213"></a>00213 <span class="keyword">inline</span> <a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">JSCompartment</a> *
<a name="l00214"></a><a class="code" href="../../db/da2/namespacejs.html#aebfb66aa1ca98ea2eae1c562f677594f">00214</a> <a class="code" href="../../db/da2/namespacejs.html#aebfb66aa1ca98ea2eae1c562f677594f">GetContextCompartment</a>(<span class="keyword">const</span> <a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx)
<a name="l00215"></a>00215 {
<a name="l00216"></a>00216     <span class="keywordflow">return</span> <a class="code" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#a18697261a961b9d0efde405b5a2b244f">ContextFriendFields::get</a>(cx)-&gt;compartment_;
<a name="l00217"></a>00217 }
<a name="l00218"></a>00218 
<a name="l00219"></a>00219 <span class="keyword">inline</span> JS::Zone *
<a name="l00220"></a><a class="code" href="../../db/da2/namespacejs.html#aaba448622a1027ff1ca120a0ccbb23db">00220</a> <a class="code" href="../../db/da2/namespacejs.html#aaba448622a1027ff1ca120a0ccbb23db">GetContextZone</a>(<span class="keyword">const</span> <a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx)
<a name="l00221"></a>00221 {
<a name="l00222"></a>00222     <span class="keywordflow">return</span> <a class="code" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#a18697261a961b9d0efde405b5a2b244f">ContextFriendFields::get</a>(cx)-&gt;zone_;
<a name="l00223"></a>00223 }
<a name="l00224"></a>00224 
<a name="l00225"></a>00225 <span class="keyword">extern</span> <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JS::Zone *)
<a name="l00226"></a>00226 GetCompartmentZone(<a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">JSCompartment</a> *comp);
<a name="l00227"></a>00227 
<a name="l00228"></a>00228 typedef <span class="keywordtype">bool</span>
<a name="l00229"></a><a class="code" href="../../db/da2/namespacejs.html#a3dbd1a7665be62198c70fa5d67588a5d">00229</a> (* <a class="code" href="../../db/da2/namespacejs.html#a3dbd1a7665be62198c70fa5d67588a5d">PreserveWrapperCallback</a>)(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *obj);
<a name="l00230"></a>00230 
<a name="l00231"></a>00231  <span class="comment">/*</span>
<a name="l00232"></a>00232 <span class="comment">  * Dump the complete object graph of heap-allocated things.</span>
<a name="l00233"></a>00233 <span class="comment">  * fp is the file for the dump output.</span>
<a name="l00234"></a>00234 <span class="comment">  */</span>
<a name="l00235"></a>00235 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00236"></a><a class="code" href="../../db/da2/namespacejs.html#abf37bb37b825d4bf7c48fad80ed2f349">00236</a> DumpHeapComplete(<a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *rt, <a class="code" href="../../d1/ddf/ns_i_content_viewer_file_8idl.html#a2a9799b7b2af884315027dd95725e0c3">FILE</a> *<a class="code" href="../../db/da2/namespacejs.html#abf37bb37b825d4bf7c48fad80ed2f349">fp</a>);
<a name="l00237"></a>00237 
<a name="l00238"></a>00238 <span class="preprocessor">#ifdef OLD_GETTER_SETTER_METHODS</span>
<a name="l00239"></a><a class="code" href="../../db/da2/namespacejs.html#a1b9567de4cd07dfdfba28b308819f705">00239</a> <span class="preprocessor"></span><a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>) obj_defineGetter(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, <span class="keywordtype">unsigned</span> <a class="code" href="../../d2/d7d/jsapi_8h.html#a2e8eb4b2b6edb739161b940f9ad9c6df">argc</a>, js::<a class="code" href="../../d1/d94/class_j_s_1_1_value.html">Value</a> *vp);
<a name="l00240"></a>00240 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>) obj_defineSetter(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, <span class="keywordtype">unsigned</span> argc, js::<a class="code" href="../../d1/d94/class_j_s_1_1_value.html">Value</a> *vp);
<a name="l00241"></a>00241 <span class="preprocessor">#endif</span>
<a name="l00242"></a>00242 <span class="preprocessor"></span>
<a name="l00243"></a>00243 <span class="keyword">extern</span> <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00244"></a>00244 IsSystemCompartment(<a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">JSCompartment</a> *comp);
<a name="l00245"></a>00245 
<a name="l00246"></a>00246 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00247"></a>00247 IsSystemZone(JS::Zone *zone);
<a name="l00248"></a>00248 
<a name="l00249"></a>00249 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00250"></a>00250 IsAtomsCompartment(<a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">JSCompartment</a> *comp);
<a name="l00251"></a>00251 
<a name="l00252"></a>00252 <span class="comment">/*</span>
<a name="l00253"></a>00253 <span class="comment"> * Check whether it is OK to assign an undeclared variable with the name</span>
<a name="l00254"></a>00254 <span class="comment"> * |propname| at the current location in script.  It is not an error if there is</span>
<a name="l00255"></a>00255 <span class="comment"> * no current script location, or if that location is not an assignment to an</span>
<a name="l00256"></a>00256 <span class="comment"> * undeclared variable.  Reports an error if one needs to be reported (and,</span>
<a name="l00257"></a>00257 <span class="comment"> * particularly, always reports when it returns false).</span>
<a name="l00258"></a>00258 <span class="comment"> */</span>
<a name="l00259"></a>00259 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00260"></a><a class="code" href="../../db/da2/namespacejs.html#ab9360ac648d41fbabc303b3e6f129e6b">00260</a> ReportIfUndeclaredVarAssignment(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, <a class="code" href="../../da/d7b/namespace_j_s.html#a93fe2101649396e379a082a441066177">HandleString</a> <a class="code" href="../../db/da2/namespacejs.html#ab9360ac648d41fbabc303b3e6f129e6b">propname</a>);
<a name="l00261"></a>00261 
<a name="l00262"></a>00262 struct <a class="code" href="../../d0/dd1/structjs_1_1_weak_map_tracer.html">WeakMapTracer</a>;
<a name="l00263"></a>00263 
<a name="l00264"></a>00264 <span class="comment">/*</span>
<a name="l00265"></a>00265 <span class="comment"> * Weak map tracer callback, called once for every binding of every</span>
<a name="l00266"></a>00266 <span class="comment"> * weak map that was live at the time of the last garbage collection.</span>
<a name="l00267"></a>00267 <span class="comment"> *</span>
<a name="l00268"></a>00268 <span class="comment"> * m will be NULL if the weak map is not contained in a JS Object.</span>
<a name="l00269"></a>00269 <span class="comment"> */</span>
<a name="l00270"></a>00270 typedef <span class="keywordtype">void</span>
<a name="l00271"></a><a class="code" href="../../db/da2/namespacejs.html#af3f8bf74d3741fe2dfdf962284cf86a8">00271</a> (* <a class="code" href="../../db/da2/namespacejs.html#af3f8bf74d3741fe2dfdf962284cf86a8">WeakMapTraceCallback</a>)(WeakMapTracer *<a class="code" href="../../d2/d7d/jsapi_8h.html#aaae8d707c6fd284d545fe574b455e09e">trc</a>, JSObject *m,
<a name="l00272"></a>00272                          <span class="keywordtype">void</span> *<a class="code" href="../../da/d7d/sylvester_8js.html#ae8667dd07a5b15efad1c9ed229e131da">k</a>, <a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99">JSGCTraceKind</a> kkind,
<a name="l00273"></a>00273                          <span class="keywordtype">void</span> *<a class="code" href="../../db/db1/namespace_j_s_1_1detail.html#a5d38b5ed0e5a6c44c34f95302820c4d7">v</a>, <a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99">JSGCTraceKind</a> vkind);
<a name="l00274"></a>00274 
<a name="l00275"></a><a class="code" href="../../d0/dd1/structjs_1_1_weak_map_tracer.html">00275</a> struct WeakMapTracer {
<a name="l00276"></a><a class="code" href="../../d0/dd1/structjs_1_1_weak_map_tracer.html#a6828e9a36c1143e0cb6ce0dab554c606">00276</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a>            *<a class="code" href="../../d0/dd1/structjs_1_1_weak_map_tracer.html#a6828e9a36c1143e0cb6ce0dab554c606">runtime</a>;
<a name="l00277"></a><a class="code" href="../../d0/dd1/structjs_1_1_weak_map_tracer.html#adc70b54eadbf6e02e90c8b88a00ecedf">00277</a>     <a class="code" href="../../db/da2/namespacejs.html#af3f8bf74d3741fe2dfdf962284cf86a8">WeakMapTraceCallback</a> <a class="code" href="../../d0/dd1/structjs_1_1_weak_map_tracer.html#adc70b54eadbf6e02e90c8b88a00ecedf">callback</a>;
<a name="l00278"></a>00278 
<a name="l00279"></a><a class="code" href="../../d0/dd1/structjs_1_1_weak_map_tracer.html#a00bcef48d4e40368f4561246d4b8235c">00279</a>     WeakMapTracer(<a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *rt, <a class="code" href="../../db/da2/namespacejs.html#af3f8bf74d3741fe2dfdf962284cf86a8">WeakMapTraceCallback</a> <a class="code" href="../../d2/d7d/jsapi_8h.html#a9c0cec265243907d0da86b92bda26eca">cb</a>)
<a name="l00280"></a>00280         : runtime(rt), callback(cb) {}
<a name="l00281"></a>00281 };
<a name="l00282"></a>00282 
<a name="l00283"></a>00283 <span class="keyword">extern</span> <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00284"></a>00284 TraceWeakMaps(WeakMapTracer *<a class="code" href="../../d2/d7d/jsapi_8h.html#aaae8d707c6fd284d545fe574b455e09e">trc</a>);
<a name="l00285"></a>00285 
<a name="l00286"></a>00286 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00287"></a>00287 AreGCGrayBitsValid(<a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *rt);
<a name="l00288"></a>00288 
<a name="l00289"></a>00289 typedef <span class="keywordtype">void</span>
<a name="l00290"></a><a class="code" href="../../db/da2/namespacejs.html#af6b27e3f751d00139489befcd73ba0b3">00290</a> (*<a class="code" href="../../db/da2/namespacejs.html#af6b27e3f751d00139489befcd73ba0b3">GCThingCallback</a>)(<span class="keywordtype">void</span> *<a class="code" href="../../de/deb/jsdbgapi_8h.html#a04ae7e854091164fecb61c733824c62d">closure</a>, <span class="keywordtype">void</span> *gcthing);
<a name="l00291"></a>00291 
<a name="l00292"></a>00292 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00293"></a>00293 VisitGrayWrapperTargets(JS::Zone *zone, <a class="code" href="../../db/da2/namespacejs.html#af6b27e3f751d00139489befcd73ba0b3">GCThingCallback</a> callback, <span class="keywordtype">void</span> *closure);
<a name="l00294"></a>00294 
<a name="l00295"></a>00295 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l00296"></a>00296 GetWeakmapKeyDelegate(JSObject *<a class="code" href="../../d2/d7d/jsapi_8h.html#a02d8cbd1392e102198d5bb521715f608">key</a>);
<a name="l00297"></a>00297 
<a name="l00298"></a>00298 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99">JSGCTraceKind</a>)
<a name="l00299"></a>00299 <a class="code" href="../../db/da2/namespacejs.html#ad4148e5f0088f7c45943ab7337f742c4">GCThingTraceKind</a>(<span class="keywordtype">void</span> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a0ae46d903d137443f5781a6d9d2a1593">thing</a>);
<a name="l00300"></a>00300 
<a name="l00301"></a>00301 <span class="comment">/*</span>
<a name="l00302"></a>00302 <span class="comment"> * Invoke cellCallback on every gray JS_OBJECT in the given zone.</span>
<a name="l00303"></a>00303 <span class="comment"> */</span>
<a name="l00304"></a>00304 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00305"></a>00305 IterateGrayObjects(JS::Zone *zone, <a class="code" href="../../db/da2/namespacejs.html#af6b27e3f751d00139489befcd73ba0b3">GCThingCallback</a> cellCallback, <span class="keywordtype">void</span> *<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>);
<a name="l00306"></a>00306 
<a name="l00307"></a>00307 <span class="preprocessor">#ifdef JS_HAS_CTYPES</span>
<a name="l00308"></a>00308 <span class="preprocessor"></span><span class="keyword">extern</span> <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">size_t</span>)
<a name="l00309"></a>00309 SizeOfDataIfCDataObject(mozilla::MallocSizeOf <a class="code" href="../../dd/dc2/plarenas_8h.html#a949eedf624fe531514701f3f304b94a9">mallocSizeOf</a>, JSObject *obj);
<a name="l00310"></a>00310 <span class="preprocessor">#endif</span>
<a name="l00311"></a>00311 <span class="preprocessor"></span>
<a name="l00312"></a>00312 <span class="keyword">extern</span> <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">JSCompartment</a> *)
<a name="l00313"></a>00313 GetAnyCompartmentInZone(JS::Zone *zone);
<a name="l00314"></a>00314 
<a name="l00315"></a>00315 <span class="comment">/*</span>
<a name="l00316"></a>00316 <span class="comment"> * Shadow declarations of JS internal structures, for access by inline access</span>
<a name="l00317"></a>00317 <span class="comment"> * functions below. Do not use these structures in any other way. When adding</span>
<a name="l00318"></a>00318 <span class="comment"> * new fields for access by inline methods, make sure to add static asserts to</span>
<a name="l00319"></a>00319 <span class="comment"> * the original header file to ensure that offsets are consistent.</span>
<a name="l00320"></a>00320 <span class="comment"> */</span>
<a name="l00321"></a><a class="code" href="../../d3/d6b/namespacejs_1_1shadow.html">00321</a> namespace shadow {
<a name="l00322"></a>00322 
<a name="l00323"></a><a class="code" href="../../d9/db6/structjs_1_1shadow_1_1_type_object.html">00323</a> <span class="keyword">struct </span><a class="code" href="../../d9/db6/structjs_1_1shadow_1_1_type_object.html">TypeObject</a> {
<a name="l00324"></a><a class="code" href="../../d9/db6/structjs_1_1shadow_1_1_type_object.html#aaf0581e3f977a6bd4b121de5238f528a">00324</a>     <a class="code" href="../../db/d81/structjs_1_1_class.html">Class</a>       *<a class="code" href="../../d9/db6/structjs_1_1shadow_1_1_type_object.html#aaf0581e3f977a6bd4b121de5238f528a">clasp</a>;
<a name="l00325"></a><a class="code" href="../../d9/db6/structjs_1_1shadow_1_1_type_object.html#acee69ff496ae74787153ceefa8b82028">00325</a>     JSObject    *<a class="code" href="../../d9/db6/structjs_1_1shadow_1_1_type_object.html#acee69ff496ae74787153ceefa8b82028">proto</a>;
<a name="l00326"></a>00326 };
<a name="l00327"></a>00327 
<a name="l00328"></a><a class="code" href="../../d8/de3/structjs_1_1shadow_1_1_base_shape.html">00328</a> <span class="keyword">struct </span><a class="code" href="../../d8/de3/structjs_1_1shadow_1_1_base_shape.html">BaseShape</a> {
<a name="l00329"></a><a class="code" href="../../d8/de3/structjs_1_1shadow_1_1_base_shape.html#a1b6e298c01a9373ab6c80ed8b9dd5559">00329</a>     <a class="code" href="../../db/d81/structjs_1_1_class.html">js::Class</a> *<a class="code" href="../../d8/de3/structjs_1_1shadow_1_1_base_shape.html#a1b6e298c01a9373ab6c80ed8b9dd5559">clasp</a>;
<a name="l00330"></a><a class="code" href="../../d8/de3/structjs_1_1shadow_1_1_base_shape.html#a9d1d0336642a5f6ba8367f4c501839a5">00330</a>     JSObject *<a class="code" href="../../d8/de3/structjs_1_1shadow_1_1_base_shape.html#a9d1d0336642a5f6ba8367f4c501839a5">parent</a>;
<a name="l00331"></a><a class="code" href="../../d8/de3/structjs_1_1shadow_1_1_base_shape.html#a0e1b133bf3719065345b2c1e055e715e">00331</a>     JSObject *<a class="code" href="../../d8/de3/structjs_1_1shadow_1_1_base_shape.html#a0e1b133bf3719065345b2c1e055e715e">_1</a>;
<a name="l00332"></a><a class="code" href="../../d8/de3/structjs_1_1shadow_1_1_base_shape.html#a3b4b45b4cee5411157447aacd1aab1e0">00332</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">JSCompartment</a> *<a class="code" href="../../d8/de3/structjs_1_1shadow_1_1_base_shape.html#a3b4b45b4cee5411157447aacd1aab1e0">compartment</a>;
<a name="l00333"></a>00333 };
<a name="l00334"></a>00334 
<a name="l00335"></a><a class="code" href="../../d4/db9/classjs_1_1shadow_1_1_shape.html">00335</a> <span class="keyword">class </span><a class="code" href="../../d4/db9/classjs_1_1shadow_1_1_shape.html">Shape</a> {
<a name="l00336"></a>00336 <span class="keyword">public</span>:
<a name="l00337"></a><a class="code" href="../../d4/db9/classjs_1_1shadow_1_1_shape.html#a0cacade3b155305944dc7e86399d7b67">00337</a>     <a class="code" href="../../d8/de3/structjs_1_1shadow_1_1_base_shape.html">shadow::BaseShape</a> *<a class="code" href="../../d4/db9/classjs_1_1shadow_1_1_shape.html#a0cacade3b155305944dc7e86399d7b67">base</a>;
<a name="l00338"></a><a class="code" href="../../d4/db9/classjs_1_1shadow_1_1_shape.html#a4b01134bac114d5ed31f3c0b3fdcd2f2">00338</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">jsid</a>              <a class="code" href="../../d4/db9/classjs_1_1shadow_1_1_shape.html#a4b01134bac114d5ed31f3c0b3fdcd2f2">_1</a>;
<a name="l00339"></a><a class="code" href="../../d4/db9/classjs_1_1shadow_1_1_shape.html#ab1dfaf52bc3e26eedfbecdf780bbce76">00339</a>     uint32_t          <a class="code" href="../../d4/db9/classjs_1_1shadow_1_1_shape.html#ab1dfaf52bc3e26eedfbecdf780bbce76">slotInfo</a>;
<a name="l00340"></a>00340 
<a name="l00341"></a><a class="code" href="../../d4/db9/classjs_1_1shadow_1_1_shape.html#a36f2a8031749e032faecde324e488d10">00341</a>     <span class="keyword">static</span> <span class="keyword">const</span> uint32_t FIXED_SLOTS_SHIFT = 27;
<a name="l00342"></a>00342 };
<a name="l00343"></a>00343 
<a name="l00344"></a><a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html">00344</a> <span class="keyword">struct </span><a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html">Object</a> {
<a name="l00345"></a><a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html#ae18f5c8f85c52f4c88775428d8770a3d">00345</a>     <a class="code" href="../../d4/db9/classjs_1_1shadow_1_1_shape.html">shadow::Shape</a>      *<a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html#ae18f5c8f85c52f4c88775428d8770a3d">shape</a>;
<a name="l00346"></a><a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html#aba845dab2122c6ae18880ce21bd19be4">00346</a>     <a class="code" href="../../d9/db6/structjs_1_1shadow_1_1_type_object.html">shadow::TypeObject</a> *<a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html#aba845dab2122c6ae18880ce21bd19be4">type</a>;
<a name="l00347"></a><a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html#a71a16e6e2c72d127a7854190f0b99855">00347</a>     <a class="code" href="../../d1/d94/class_j_s_1_1_value.html">js::Value</a>          *<a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html#a71a16e6e2c72d127a7854190f0b99855">slots</a>;
<a name="l00348"></a><a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html#a82fc5a186c7e85aaa6dd336540805cc6">00348</a>     <a class="code" href="../../d1/d94/class_j_s_1_1_value.html">js::Value</a>          *<a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html#a82fc5a186c7e85aaa6dd336540805cc6">_1</a>;
<a name="l00349"></a>00349 
<a name="l00350"></a><a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html#a6466a335861511d1f8166a3006197280">00350</a>     <span class="keywordtype">size_t</span> <a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html#a6466a335861511d1f8166a3006197280">numFixedSlots</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../de/dc5/jsfriendapi_8h.html#afdc8db27252b50ecf0f7d9c6c0ffe527">shape</a>-&gt;slotInfo &gt;&gt; Shape::FIXED_SLOTS_SHIFT; }
<a name="l00351"></a><a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html#a11f6a28e470e90dbd658de34e0066113">00351</a>     <a class="code" href="../../d1/d94/class_j_s_1_1_value.html">Value</a> *<a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html#a11f6a28e470e90dbd658de34e0066113">fixedSlots</a>()<span class="keyword"> const </span>{
<a name="l00352"></a>00352         <span class="keywordflow">return</span> (<a class="code" href="../../d1/d94/class_j_s_1_1_value.html">Value</a> *)(uintptr_t(<span class="keyword">this</span>) + <span class="keyword">sizeof</span>(<a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html">shadow::Object</a>));
<a name="l00353"></a>00353     }
<a name="l00354"></a>00354 
<a name="l00355"></a><a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html#ac90754b4c064aada31bb8ff82e9ed4ae">00355</a>     <a class="code" href="../../d1/d94/class_j_s_1_1_value.html">js::Value</a> &amp;<a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html#ac90754b4c064aada31bb8ff82e9ed4ae">slotRef</a>(<span class="keywordtype">size_t</span> slot)<span class="keyword"> const </span>{
<a name="l00356"></a>00356         <span class="keywordtype">size_t</span> nfixed = numFixedSlots();
<a name="l00357"></a>00357         <span class="keywordflow">if</span> (slot &lt; nfixed)
<a name="l00358"></a>00358             <span class="keywordflow">return</span> fixedSlots()[slot];
<a name="l00359"></a>00359         <span class="keywordflow">return</span> slots[slot - nfixed];
<a name="l00360"></a>00360     }
<a name="l00361"></a>00361 };
<a name="l00362"></a>00362 
<a name="l00363"></a><a class="code" href="../../d3/d73/structjs_1_1shadow_1_1_function.html">00363</a> <span class="keyword">struct </span><a class="code" href="../../d3/d73/structjs_1_1shadow_1_1_function.html">Function</a> {
<a name="l00364"></a><a class="code" href="../../d3/d73/structjs_1_1shadow_1_1_function.html#acbcaaf7cc21ec499d157155b2c5a5dcf">00364</a>     <a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html">Object</a> <a class="code" href="../../d3/d73/structjs_1_1shadow_1_1_function.html#acbcaaf7cc21ec499d157155b2c5a5dcf">base</a>;
<a name="l00365"></a><a class="code" href="../../d3/d73/structjs_1_1shadow_1_1_function.html#a5a1a751e7fca2f714c5e915d7df55d4d">00365</a>     uint16_t <a class="code" href="../../d3/d73/structjs_1_1shadow_1_1_function.html#a5a1a751e7fca2f714c5e915d7df55d4d">nargs</a>;
<a name="l00366"></a><a class="code" href="../../d3/d73/structjs_1_1shadow_1_1_function.html#a93605ef459dfb43bf3b021a8307a1b9b">00366</a>     uint16_t <a class="code" href="../../d3/d73/structjs_1_1shadow_1_1_function.html#a93605ef459dfb43bf3b021a8307a1b9b">flags</a>;
<a name="l00367"></a>00367     <span class="comment">/* Used only for natives */</span>
<a name="l00368"></a><a class="code" href="../../d3/d73/structjs_1_1shadow_1_1_function.html#abc96b16a2f4e556c5dd4400439ea9c55">00368</a>     <a class="code" href="../../db/da2/namespacejs.html#a57fe29ed5db728ac1d0dccca139555bd">Native</a> <a class="code" href="../../d3/d73/structjs_1_1shadow_1_1_function.html#abc96b16a2f4e556c5dd4400439ea9c55">native</a>;
<a name="l00369"></a><a class="code" href="../../d3/d73/structjs_1_1shadow_1_1_function.html#ae6216436ca1843066a5e0209415daff5">00369</a>     <span class="keyword">const</span> <a class="code" href="../../db/d01/struct_j_s_jit_info.html">JSJitInfo</a> *<a class="code" href="../../d3/d73/structjs_1_1shadow_1_1_function.html#ae6216436ca1843066a5e0209415daff5">jitinfo</a>;
<a name="l00370"></a><a class="code" href="../../d3/d73/structjs_1_1shadow_1_1_function.html#a50408e2b8352a53c07b6f0cb7792169b">00370</a>     <span class="keywordtype">void</span> *<a class="code" href="../../d3/d73/structjs_1_1shadow_1_1_function.html#a50408e2b8352a53c07b6f0cb7792169b">_1</a>;
<a name="l00371"></a>00371 };
<a name="l00372"></a>00372 
<a name="l00373"></a><a class="code" href="../../d1/d25/structjs_1_1shadow_1_1_atom.html">00373</a> <span class="keyword">struct </span><a class="code" href="../../d1/d25/structjs_1_1shadow_1_1_atom.html">Atom</a> {
<a name="l00374"></a><a class="code" href="../../d1/d25/structjs_1_1shadow_1_1_atom.html#aa0dce375d31645e1fe84704e99d94356">00374</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> LENGTH_SHIFT = 4;
<a name="l00375"></a><a class="code" href="../../d1/d25/structjs_1_1shadow_1_1_atom.html#afe8ba82c6323018cc7f3872f92db8c3c">00375</a>     <span class="keywordtype">size_t</span> <a class="code" href="../../d1/d25/structjs_1_1shadow_1_1_atom.html#afe8ba82c6323018cc7f3872f92db8c3c">lengthAndFlags</a>;
<a name="l00376"></a><a class="code" href="../../d1/d25/structjs_1_1shadow_1_1_atom.html#af980ebb3ebf05eae5193d5876011623d">00376</a>     <span class="keyword">const</span> <a class="code" href="../../d9/d28/jspubtd_8h.html#a402ffb3c791d4197e0bf8f3aaeaf1779">jschar</a> *<a class="code" href="../../d1/d25/structjs_1_1shadow_1_1_atom.html#af980ebb3ebf05eae5193d5876011623d">chars</a>;
<a name="l00377"></a>00377 };
<a name="l00378"></a>00378 
<a name="l00379"></a>00379 } <span class="comment">/* namespace shadow */</span>
<a name="l00380"></a>00380 
<a name="l00381"></a>00381 <span class="comment">// These are equal to |&amp;{Function,Object,OuterWindow}ProxyObject::class_|.  Use</span>
<a name="l00382"></a>00382 <span class="comment">// them in places where you don&#39;t want to #include vm/ProxyObject.h.</span>
<a name="l00383"></a>00383 <span class="keyword">extern</span> <a class="code" href="../../d9/d8c/jstypes_8h.html#a86bcb43e770484a441560ffb5bf8abca">JS_FRIEND_DATA</a>(<a class="code" href="../../db/d81/structjs_1_1_class.html">js::Class</a>* <span class="keyword">const</span>) FunctionProxyClassPtr;
<a name="l00384"></a>00384 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a86bcb43e770484a441560ffb5bf8abca">JS_FRIEND_DATA</a>(js::<a class="code" href="../../db/d81/structjs_1_1_class.html">Class</a>* <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a>) ObjectProxyClassPtr;
<a name="l00385"></a>00385 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a86bcb43e770484a441560ffb5bf8abca">JS_FRIEND_DATA</a>(js::<a class="code" href="../../db/d81/structjs_1_1_class.html">Class</a>* <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a>) OuterWindowProxyClassPtr;
<a name="l00386"></a>00386 
<a name="l00387"></a>00387 <span class="comment">// This is equal to |&amp;JSObject::class_|.  Use it in places where you don&#39;t want</span>
<a name="l00388"></a>00388 <span class="comment">// to #include jsobj.h.</span>
<a name="l00389"></a>00389 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a86bcb43e770484a441560ffb5bf8abca">JS_FRIEND_DATA</a>(js::<a class="code" href="../../db/d81/structjs_1_1_class.html">Class</a>* <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a>) ObjectClassPtr;
<a name="l00390"></a>00390 
<a name="l00391"></a>00391 <a class="code" href="../../d6/d92/cdefs_8h.html#a00d24c7231be28dbaf71f5408f30e44c">inline</a> js::<a class="code" href="../../db/d81/structjs_1_1_class.html">Class</a> *
<a name="l00392"></a><a class="code" href="../../db/da2/namespacejs.html#aca7ef07fd5e632405949331c6929f1e6">00392</a> <a class="code" href="../../db/da2/namespacejs.html#aca7ef07fd5e632405949331c6929f1e6">GetObjectClass</a>(JSObject *obj)
<a name="l00393"></a>00393 {
<a name="l00394"></a>00394     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html">shadow::Object</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d2/d7d/jsapi_8h.html#a2219cf9467e8547184b3cf2b051e8067">obj</a>)-&gt;<a class="code" href="../../df/d44/permission__manager_8js.html#a5996578fe734dff3d2912807ee458e83">type</a>-&gt;clasp;
<a name="l00395"></a>00395 }
<a name="l00396"></a>00396 
<a name="l00397"></a>00397 <span class="keyword">inline</span> <a class="code" href="../../d2/dd1/struct_j_s_class.html">JSClass</a> *
<a name="l00398"></a><a class="code" href="../../db/da2/namespacejs.html#a3b37e5b7ed888e01cec287d38daede33">00398</a> <a class="code" href="../../db/da2/namespacejs.html#a3b37e5b7ed888e01cec287d38daede33">GetObjectJSClass</a>(JSObject *obj)
<a name="l00399"></a>00399 {
<a name="l00400"></a>00400     <span class="keywordflow">return</span> js::Jsvalify(<a class="code" href="../../db/da2/namespacejs.html#aca7ef07fd5e632405949331c6929f1e6">GetObjectClass</a>(obj));
<a name="l00401"></a>00401 }
<a name="l00402"></a>00402 
<a name="l00403"></a>00403 <span class="keyword">inline</span> <span class="keywordtype">bool</span>
<a name="l00404"></a><a class="code" href="../../db/da2/namespacejs.html#a3898aaec0b17c745ce9f2201a544e0ed">00404</a> <a class="code" href="../../db/da2/namespacejs.html#a3898aaec0b17c745ce9f2201a544e0ed">IsInnerObject</a>(JSObject *obj) {
<a name="l00405"></a>00405     <span class="keywordflow">return</span> !!<a class="code" href="../../db/da2/namespacejs.html#aca7ef07fd5e632405949331c6929f1e6">GetObjectClass</a>(obj)-&gt;<a class="code" href="../../db/d81/structjs_1_1_class.html#a5cae9fdd8ccab8c3e8cb41bf42ce8ef0">ext</a>.<a class="code" href="../../d9/db1/structjs_1_1_class_extension.html#a6d26c7e097d9a532935c0cdfcccb7883">outerObject</a>;
<a name="l00406"></a>00406 }
<a name="l00407"></a>00407 
<a name="l00408"></a>00408 <span class="keyword">inline</span> <span class="keywordtype">bool</span>
<a name="l00409"></a><a class="code" href="../../db/da2/namespacejs.html#a390fbb6b9d8a1095bec1b531dbc596db">00409</a> <a class="code" href="../../db/da2/namespacejs.html#a390fbb6b9d8a1095bec1b531dbc596db">IsOuterObject</a>(JSObject *obj) {
<a name="l00410"></a>00410     <span class="keywordflow">return</span> !!<a class="code" href="../../db/da2/namespacejs.html#aca7ef07fd5e632405949331c6929f1e6">GetObjectClass</a>(obj)-&gt;<a class="code" href="../../db/d81/structjs_1_1_class.html#a5cae9fdd8ccab8c3e8cb41bf42ce8ef0">ext</a>.<a class="code" href="../../d9/db1/structjs_1_1_class_extension.html#aeef49c8f71709e6a1dff8b23f3931367">innerObject</a>;
<a name="l00411"></a>00411 }
<a name="l00412"></a>00412 
<a name="l00413"></a>00413 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00414"></a>00414 <a class="code" href="../../db/da2/namespacejs.html#a94701ce5ce68ce5f83b11dda49ad00d6">IsFunctionObject</a>(JSObject *obj);
<a name="l00415"></a>00415 
<a name="l00416"></a>00416 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00417"></a>00417 <a class="code" href="../../db/da2/namespacejs.html#a13fd81a99d5ea68ea7c07a0c98c99619">IsScopeObject</a>(JSObject *obj);
<a name="l00418"></a>00418 
<a name="l00419"></a>00419 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00420"></a>00420 <a class="code" href="../../db/da2/namespacejs.html#aa06e7dcf9436e45f19874c0ff8aa397c">IsCallObject</a>(JSObject *obj);
<a name="l00421"></a>00421 
<a name="l00422"></a>00422 <a class="code" href="../../d6/d92/cdefs_8h.html#a00d24c7231be28dbaf71f5408f30e44c">inline</a> JSObject *
<a name="l00423"></a><a class="code" href="../../db/da2/namespacejs.html#af738fb26a4492f1cad221d015d975b30">00423</a> <a class="code" href="../../db/da2/namespacejs.html#af738fb26a4492f1cad221d015d975b30">GetObjectParent</a>(JSObject *obj)
<a name="l00424"></a>00424 {
<a name="l00425"></a>00425     <a class="code" href="../../db/d2a/_utility_8h.html#a806452d73a088062220b0f84b77587fa">JS_ASSERT</a>(!<a class="code" href="../../db/da2/namespacejs.html#a13fd81a99d5ea68ea7c07a0c98c99619">IsScopeObject</a>(obj));
<a name="l00426"></a>00426     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html">shadow::Object</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d2/d7d/jsapi_8h.html#a2219cf9467e8547184b3cf2b051e8067">obj</a>)-&gt;<a class="code" href="../../de/dc5/jsfriendapi_8h.html#afdc8db27252b50ecf0f7d9c6c0ffe527">shape</a>-&gt;base-&gt;parent;
<a name="l00427"></a>00427 }
<a name="l00428"></a>00428 
<a name="l00429"></a>00429 <span class="keyword">static</span> JS_ALWAYS_INLINE <a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">JSCompartment</a> *
<a name="l00430"></a>00430 GetObjectCompartment(JSObject *obj)
<a name="l00431"></a>00431 {
<a name="l00432"></a>00432     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>shadow::Object*<span class="keyword">&gt;</span>(<a class="code" href="../../d2/d7d/jsapi_8h.html#a2219cf9467e8547184b3cf2b051e8067">obj</a>)-&gt;<a class="code" href="../../de/dc5/jsfriendapi_8h.html#afdc8db27252b50ecf0f7d9c6c0ffe527">shape</a>-&gt;base-&gt;compartment;
<a name="l00433"></a>00433 }
<a name="l00434"></a>00434 
<a name="l00435"></a>00435 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l00436"></a>00436 <a class="code" href="../../db/da2/namespacejs.html#a601e71524c30163ebf19e7d9f4d0f3c0">GetObjectParentMaybeScope</a>(JSObject *obj);
<a name="l00437"></a>00437 
<a name="l00438"></a>00438 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l00439"></a>00439 <a class="code" href="../../db/da2/namespacejs.html#a2e478f535bdee8aee04ec95323eca178">GetGlobalForObjectCrossCompartment</a>(JSObject *obj);
<a name="l00440"></a>00440 
<a name="l00441"></a>00441 <span class="comment">// For legacy consumers only. This whole concept is going away soon.</span>
<a name="l00442"></a>00442 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l00443"></a>00443 <a class="code" href="../../db/da2/namespacejs.html#a30349bbc84c2904e6b65dff58a3eb6ad">DefaultObjectForContextOrNull</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx);
<a name="l00444"></a>00444 
<a name="l00445"></a>00445 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00446"></a>00446 <a class="code" href="../../db/da2/namespacejs.html#addf63a6a23835b46d53e9dc9469c82f4">SetDefaultObjectForContext</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *obj);
<a name="l00447"></a>00447 
<a name="l00448"></a>00448 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00449"></a>00449 <a class="code" href="../../db/da2/namespacejs.html#ab64b6d03905b192363e491ac3f869918">NotifyAnimationActivity</a>(JSObject *obj);
<a name="l00450"></a>00450 
<a name="l00451"></a>00451 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00452"></a>00452 <a class="code" href="../../db/da2/namespacejs.html#a29b75827404163565b64f39c8b838fe7">IsOriginalScriptFunction</a>(JSFunction *<a class="code" href="../../d2/d7d/jsapi_8h.html#aad848dcccd4ec008220ff05f5e400551">fun</a>);
<a name="l00453"></a>00453 
<a name="l00454"></a>00454 <span class="comment">/*</span>
<a name="l00455"></a>00455 <span class="comment"> * Return the outermost enclosing function (script) of the scripted caller.</span>
<a name="l00456"></a>00456 <span class="comment"> * This function returns NULL in several cases:</span>
<a name="l00457"></a>00457 <span class="comment"> *  - no script is running on the context</span>
<a name="l00458"></a>00458 <span class="comment"> *  - the caller is in global or eval code</span>
<a name="l00459"></a>00459 <span class="comment"> * In particular, this function will &quot;stop&quot; its outermost search at eval() and</span>
<a name="l00460"></a>00460 <span class="comment"> * thus it will really return the outermost enclosing function *since the</span>
<a name="l00461"></a>00461 <span class="comment"> * innermost eval*.</span>
<a name="l00462"></a>00462 <span class="comment"> */</span>
<a name="l00463"></a>00463 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSScript *)
<a name="l00464"></a>00464 <a class="code" href="../../db/da2/namespacejs.html#a083a449117a64b473c596a3c4c8e5432">GetOutermostEnclosingFunctionOfScriptedCaller</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx);
<a name="l00465"></a>00465 
<a name="l00466"></a>00466 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSFunction *)
<a name="l00467"></a>00467 <a class="code" href="../../db/da2/namespacejs.html#a542d816f734e1e4dbd0ebc91de669a6f">DefineFunctionWithReserved</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *obj, <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <span class="keywordtype">char</span> *<a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>, <a class="code" href="../../de/dd6/_call_args_8h.html#ac6c8261787c2bcffab1c48fabda84342">JSNative</a> <a class="code" href="../../d3/d4b/lockscreen_8js.html#a8b146780469f40ff2867e5067d0d33f5">call</a>,
<a name="l00468"></a>00468                            <span class="keywordtype">unsigned</span> <a class="code" href="../../d2/d7d/jsapi_8h.html#a5282b8a7d9cb2f85068b5796aec42b45">nargs</a>, <span class="keywordtype">unsigned</span> <a class="code" href="../../d2/d7d/jsapi_8h.html#a7f0be3e0a2eb197d2af05fa53b624612">attrs</a>);
<a name="l00469"></a>00469 
<a name="l00470"></a>00470 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSFunction *)
<a name="l00471"></a>00471 <a class="code" href="../../db/da2/namespacejs.html#aa4177d00406b799a7b46d2309f2ecede">NewFunctionWithReserved</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, <a class="code" href="../../de/dd6/_call_args_8h.html#ac6c8261787c2bcffab1c48fabda84342">JSNative</a> call, <span class="keywordtype">unsigned</span> nargs, <span class="keywordtype">unsigned</span> <a class="code" href="../../da/d32/prio_8h.html#aa2585d779da0ab21273a8d92de9a0ebe">flags</a>,
<a name="l00472"></a>00472                         JSObject *parent, <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <span class="keywordtype">char</span> *name);
<a name="l00473"></a>00473 
<a name="l00474"></a>00474 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSFunction *)
<a name="l00475"></a>00475 <a class="code" href="../../db/da2/namespacejs.html#ac03c204f7024de4fcaa0be9835c580b8">NewFunctionByIdWithReserved</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, <a class="code" href="../../de/dd6/_call_args_8h.html#ac6c8261787c2bcffab1c48fabda84342">JSNative</a> native, <span class="keywordtype">unsigned</span> nargs, <span class="keywordtype">unsigned</span> flags,
<a name="l00476"></a>00476                             JSObject *parent, <a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">jsid</a> <span class="keywordtype">id</span>);
<a name="l00477"></a>00477 
<a name="l00478"></a>00478 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l00479"></a>00479 <a class="code" href="../../db/da2/namespacejs.html#aaa37595961e93ec0533df69bb47e780a">InitClassWithReserved</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *obj, JSObject *<a class="code" href="../../d2/d7d/jsapi_8h.html#aaf57dd38753605e2aedfee78dc5f99bc">parent_proto</a>,
<a name="l00480"></a>00480                       <a class="code" href="../../d2/dd1/struct_j_s_class.html">JSClass</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a89065eb7649b6c6a5d3432c055381b6c">clasp</a>, <a class="code" href="../../de/dd6/_call_args_8h.html#ac6c8261787c2bcffab1c48fabda84342">JSNative</a> <a class="code" href="../../d8/d14/_cloud_apps_8js.html#af72715521e98346fe28d30efb7887846">constructor</a>, <span class="keywordtype">unsigned</span> nargs,
<a name="l00481"></a>00481                       <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code" href="../../de/dce/struct_j_s_property_spec.html">JSPropertySpec</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a6fc7f348c3be37a49ff6696e5bd87777">ps</a>, <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code" href="../../de/d25/struct_j_s_function_spec.html">JSFunctionSpec</a> *fs,
<a name="l00482"></a>00482                       <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code" href="../../de/dce/struct_j_s_property_spec.html">JSPropertySpec</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a545f7f1119c4b9d53876f619e72a65cb">static_ps</a>, <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code" href="../../de/d25/struct_j_s_function_spec.html">JSFunctionSpec</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a4cdb00b979fc2ce820ba48467a182825">static_fs</a>);
<a name="l00483"></a>00483 
<a name="l00484"></a>00484 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Value &amp;)
<a name="l00485"></a>00485 <a class="code" href="../../db/da2/namespacejs.html#a3c34ce9b8230a016b17b9a6aed6ce1a2">GetFunctionNativeReserved</a>(JSObject *fun, <span class="keywordtype">size_t</span> which);
<a name="l00486"></a>00486 
<a name="l00487"></a>00487 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00488"></a>00488 <a class="code" href="../../db/da2/namespacejs.html#a9c9011d6c20c8ed899e2dcfae9208abd">SetFunctionNativeReserved</a>(JSObject *fun, <span class="keywordtype">size_t</span> which, <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Value &amp;<a class="code" href="../../d7/d27/jpeglib_8h.html#abde23394a8cafaa525be2efd5c6d4b2e">val</a>);
<a name="l00489"></a>00489 
<a name="l00490"></a>00490 <a class="code" href="../../d6/d92/cdefs_8h.html#a00d24c7231be28dbaf71f5408f30e44c">inline</a> <span class="keywordtype">bool</span>
<a name="l00491"></a><a class="code" href="../../db/da2/namespacejs.html#a770f087df0dd6309a82f27c36f3b8ee2">00491</a> <a class="code" href="../../db/da2/namespacejs.html#a770f087df0dd6309a82f27c36f3b8ee2">GetObjectProto</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JS::<a class="code" href="../../df/dfb/class_j_s_1_1_handle.html">Handle</a>&lt;JSObject*&gt; obj, JS::<a class="code" href="../../d1/d2f/class_j_s_1_1_mutable_handle.html">MutableHandle</a>&lt;JSObject*&gt; proto)
<a name="l00492"></a>00492 {
<a name="l00493"></a>00493     <a class="code" href="../../db/d81/structjs_1_1_class.html">js::Class</a> *clasp = <a class="code" href="../../db/da2/namespacejs.html#aca7ef07fd5e632405949331c6929f1e6">GetObjectClass</a>(obj);
<a name="l00494"></a>00494     <span class="keywordflow">if</span> (clasp == js::ObjectProxyClassPtr ||
<a name="l00495"></a>00495         clasp == js::OuterWindowProxyClassPtr ||
<a name="l00496"></a>00496         clasp == js::FunctionProxyClassPtr)
<a name="l00497"></a>00497     {
<a name="l00498"></a>00498         <span class="keywordflow">return</span> JS_GetPrototype(cx, obj, proto);
<a name="l00499"></a>00499     }
<a name="l00500"></a>00500 
<a name="l00501"></a>00501     proto.set(reinterpret_cast&lt;const shadow::Object*&gt;(obj.get())-&gt;<a class="code" href="../../df/d44/permission__manager_8js.html#a5996578fe734dff3d2912807ee458e83">type</a>-&gt;proto);
<a name="l00502"></a>00502     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00503"></a>00503 }
<a name="l00504"></a>00504 
<a name="l00505"></a>00505 <span class="keyword">inline</span> <span class="keywordtype">void</span> *
<a name="l00506"></a><a class="code" href="../../db/da2/namespacejs.html#aa73577875db23e9ab46be6eb27f38792">00506</a> <a class="code" href="../../db/da2/namespacejs.html#aa73577875db23e9ab46be6eb27f38792">GetObjectPrivate</a>(JSObject *obj)
<a name="l00507"></a>00507 {
<a name="l00508"></a>00508     <span class="keyword">const</span> <a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html">shadow::Object</a> *nobj = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html">shadow::Object</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d2/d7d/jsapi_8h.html#a2219cf9467e8547184b3cf2b051e8067">obj</a>);
<a name="l00509"></a>00509     <span class="keywordtype">void</span> **<a class="code" href="../../da/d32/prio_8h.html#a2550ae332ef652dfdb937ec2ae5d149c">addr</a> = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>**<span class="keyword">&gt;</span>(&amp;nobj-&gt;<a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html#a11f6a28e470e90dbd658de34e0066113">fixedSlots</a>()[nobj-&gt;<a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html#a6466a335861511d1f8166a3006197280">numFixedSlots</a>()]);
<a name="l00510"></a>00510     <span class="keywordflow">return</span> *<a class="code" href="../../da/d32/prio_8h.html#a2550ae332ef652dfdb937ec2ae5d149c">addr</a>;
<a name="l00511"></a>00511 }
<a name="l00512"></a>00512 
<a name="l00513"></a>00513 <span class="comment">/*</span>
<a name="l00514"></a>00514 <span class="comment"> * Get a slot that is both reserved for object&#39;s clasp *and* is fixed (fits</span>
<a name="l00515"></a>00515 <span class="comment"> * within the maximum capacity for the object&#39;s fixed slots).</span>
<a name="l00516"></a>00516 <span class="comment"> */</span>
<a name="l00517"></a>00517 <span class="keyword">inline</span> <span class="keyword">const</span> Value &amp;
<a name="l00518"></a><a class="code" href="../../db/da2/namespacejs.html#ad81f7c892e54c34c67a930983b58c1b0">00518</a> <a class="code" href="../../db/da2/namespacejs.html#ad81f7c892e54c34c67a930983b58c1b0">GetReservedSlot</a>(JSObject *obj, <span class="keywordtype">size_t</span> slot)
<a name="l00519"></a>00519 {
<a name="l00520"></a>00520     <a class="code" href="../../db/d2a/_utility_8h.html#a806452d73a088062220b0f84b77587fa">JS_ASSERT</a>(slot &lt; <a class="code" href="../../d2/d7d/jsapi_8h.html#ab892e1e4c639a85689b74f6fd3e489cf">JSCLASS_RESERVED_SLOTS</a>(<a class="code" href="../../db/da2/namespacejs.html#aca7ef07fd5e632405949331c6929f1e6">GetObjectClass</a>(obj)));
<a name="l00521"></a>00521     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html">shadow::Object</a> *<span class="keyword">&gt;</span>(<a class="code" href="../../d2/d7d/jsapi_8h.html#a2219cf9467e8547184b3cf2b051e8067">obj</a>)-&gt;slotRef(slot);
<a name="l00522"></a>00522 }
<a name="l00523"></a>00523 
<a name="l00524"></a>00524 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00525"></a>00525 <a class="code" href="../../db/da2/namespacejs.html#a21ea0b1c53f526ee2ca6ebb1b3847b93">SetReservedSlotWithBarrier</a>(JSObject *obj, <span class="keywordtype">size_t</span> slot, <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Value &amp;<a class="code" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>);
<a name="l00526"></a>00526 
<a name="l00527"></a>00527 <a class="code" href="../../d6/d92/cdefs_8h.html#a00d24c7231be28dbaf71f5408f30e44c">inline</a> <span class="keywordtype">void</span>
<a name="l00528"></a><a class="code" href="../../db/da2/namespacejs.html#a7384fa88330ff1113e6ebea143980827">00528</a> <a class="code" href="../../db/da2/namespacejs.html#a7384fa88330ff1113e6ebea143980827">SetReservedSlot</a>(JSObject *obj, <span class="keywordtype">size_t</span> slot, <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code" href="../../d1/d94/class_j_s_1_1_value.html">Value</a> &amp;value)
<a name="l00529"></a>00529 {
<a name="l00530"></a>00530     <a class="code" href="../../db/d2a/_utility_8h.html#a806452d73a088062220b0f84b77587fa">JS_ASSERT</a>(slot &lt; <a class="code" href="../../d2/d7d/jsapi_8h.html#ab892e1e4c639a85689b74f6fd3e489cf">JSCLASS_RESERVED_SLOTS</a>(<a class="code" href="../../db/da2/namespacejs.html#aca7ef07fd5e632405949331c6929f1e6">GetObjectClass</a>(obj)));
<a name="l00531"></a>00531     <a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html">shadow::Object</a> *sobj = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html">shadow::Object</a> *<span class="keyword">&gt;</span>(<a class="code" href="../../d2/d7d/jsapi_8h.html#a2219cf9467e8547184b3cf2b051e8067">obj</a>);
<a name="l00532"></a>00532     <span class="keywordflow">if</span> (sobj-&gt;<a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html#ac90754b4c064aada31bb8ff82e9ed4ae">slotRef</a>(slot).<a class="code" href="../../d1/d94/class_j_s_1_1_value.html#a394deb436e9afd28270b8154c146601b">isMarkable</a>()
<a name="l00533"></a>00533 <span class="preprocessor">#ifdef JSGC_GENERATIONAL</span>
<a name="l00534"></a>00534 <span class="preprocessor"></span>        || value.isMarkable()
<a name="l00535"></a>00535 <span class="preprocessor">#endif</span>
<a name="l00536"></a>00536 <span class="preprocessor"></span>       )
<a name="l00537"></a>00537     {
<a name="l00538"></a>00538         <a class="code" href="../../db/da2/namespacejs.html#a21ea0b1c53f526ee2ca6ebb1b3847b93">SetReservedSlotWithBarrier</a>(obj, slot, value);
<a name="l00539"></a>00539     } <span class="keywordflow">else</span> {
<a name="l00540"></a>00540         sobj-&gt;<a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html#ac90754b4c064aada31bb8ff82e9ed4ae">slotRef</a>(slot) = <a class="code" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>;
<a name="l00541"></a>00541     }
<a name="l00542"></a>00542 }
<a name="l00543"></a>00543 
<a name="l00544"></a>00544 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(uint32_t)
<a name="l00545"></a>00545 <a class="code" href="../../db/da2/namespacejs.html#a9d51d3b40e7f7fe760248872819c9b9f">GetObjectSlotSpan</a>(JSObject *obj);
<a name="l00546"></a>00546 
<a name="l00547"></a>00547 <a class="code" href="../../d6/d92/cdefs_8h.html#a00d24c7231be28dbaf71f5408f30e44c">inline</a> <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Value &amp;
<a name="l00548"></a><a class="code" href="../../db/da2/namespacejs.html#a868736822bfbb82bc72c3afabcee39be">00548</a> <a class="code" href="../../db/da2/namespacejs.html#a868736822bfbb82bc72c3afabcee39be">GetObjectSlot</a>(JSObject *obj, <span class="keywordtype">size_t</span> slot)
<a name="l00549"></a>00549 {
<a name="l00550"></a>00550     <a class="code" href="../../db/d2a/_utility_8h.html#a806452d73a088062220b0f84b77587fa">JS_ASSERT</a>(slot &lt; <a class="code" href="../../db/da2/namespacejs.html#a9d51d3b40e7f7fe760248872819c9b9f">GetObjectSlotSpan</a>(obj));
<a name="l00551"></a>00551     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d6/db5/structjs_1_1shadow_1_1_object.html">shadow::Object</a> *<span class="keyword">&gt;</span>(<a class="code" href="../../d2/d7d/jsapi_8h.html#a2219cf9467e8547184b3cf2b051e8067">obj</a>)-&gt;slotRef(slot);
<a name="l00552"></a>00552 }
<a name="l00553"></a>00553 
<a name="l00554"></a>00554 <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="../../d9/d28/jspubtd_8h.html#a402ffb3c791d4197e0bf8f3aaeaf1779">jschar</a> *
<a name="l00555"></a><a class="code" href="../../db/da2/namespacejs.html#a38be2f6c7b7ac349b72187f327d70094">00555</a> <a class="code" href="../../db/da2/namespacejs.html#a38be2f6c7b7ac349b72187f327d70094">GetAtomChars</a>(JSAtom *atom)
<a name="l00556"></a>00556 {
<a name="l00557"></a>00557     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d1/d25/structjs_1_1shadow_1_1_atom.html">shadow::Atom</a> *<span class="keyword">&gt;</span>(atom)-&gt;<a class="code" href="../../d2/d7d/jsapi_8h.html#a12861e8179d59cfac859595dde6475e3">chars</a>;
<a name="l00558"></a>00558 }
<a name="l00559"></a>00559 
<a name="l00560"></a>00560 <span class="keyword">inline</span> <span class="keywordtype">size_t</span>
<a name="l00561"></a><a class="code" href="../../db/da2/namespacejs.html#a261ca4dcbd3704742f72e1b6f4250d57">00561</a> <a class="code" href="../../db/da2/namespacejs.html#a261ca4dcbd3704742f72e1b6f4250d57">GetAtomLength</a>(JSAtom *atom)
<a name="l00562"></a>00562 {
<a name="l00563"></a>00563     <span class="keyword">using</span> <a class="code" href="../../d1/d25/structjs_1_1shadow_1_1_atom.html">shadow::Atom</a>;
<a name="l00564"></a>00564     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>Atom*<span class="keyword">&gt;</span>(atom)-&gt;lengthAndFlags &gt;&gt; Atom::LENGTH_SHIFT;
<a name="l00565"></a>00565 }
<a name="l00566"></a>00566 
<a name="l00567"></a>00567 <span class="keyword">inline</span> JSLinearString *
<a name="l00568"></a><a class="code" href="../../db/da2/namespacejs.html#a24128eec610d61548ca6ff762f49acfd">00568</a> <a class="code" href="../../db/da2/namespacejs.html#a24128eec610d61548ca6ff762f49acfd">AtomToLinearString</a>(JSAtom *atom)
<a name="l00569"></a>00569 {
<a name="l00570"></a>00570     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>JSLinearString *<span class="keyword">&gt;</span>(atom);
<a name="l00571"></a>00571 }
<a name="l00572"></a>00572 
<a name="l00573"></a>00573 <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="../../db/da2/namespacejs.html#adcf23ec721b24a3261765c41508ea798">js::PropertyOp</a>
<a name="l00574"></a>00574 CastAsJSPropertyOp(JSObject *<span class="keywordtype">object</span>)
<a name="l00575"></a>00575 {
<a name="l00576"></a>00576     <span class="keywordflow">return</span> <a class="code" href="../../d9/d8c/jstypes_8h.html#a9e9369209646553329d11cf586023a9e">JS_DATA_TO_FUNC_PTR</a>(<a class="code" href="../../db/da2/namespacejs.html#adcf23ec721b24a3261765c41508ea798">js::PropertyOp</a>, <span class="keywordtype">object</span>);
<a name="l00577"></a>00577 }
<a name="l00578"></a>00578 
<a name="l00579"></a>00579 <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="../../db/da2/namespacejs.html#a6e1080fdef992326b4df6cb033155685">js::StrictPropertyOp</a>
<a name="l00580"></a>00580 CastAsJSStrictPropertyOp(JSObject *<span class="keywordtype">object</span>)
<a name="l00581"></a>00581 {
<a name="l00582"></a>00582     <span class="keywordflow">return</span> <a class="code" href="../../d9/d8c/jstypes_8h.html#a9e9369209646553329d11cf586023a9e">JS_DATA_TO_FUNC_PTR</a>(<a class="code" href="../../db/da2/namespacejs.html#a6e1080fdef992326b4df6cb033155685">js::StrictPropertyOp</a>, <span class="keywordtype">object</span>);
<a name="l00583"></a>00583 }
<a name="l00584"></a>00584 
<a name="l00585"></a>00585 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00586"></a>00586 <a class="code" href="../../db/da2/namespacejs.html#acdd76d32977c8302e3ce4db0edda3e3b">GetPropertyNames</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *obj, <span class="keywordtype">unsigned</span> <a class="code" href="../../da/d32/prio_8h.html#aa2585d779da0ab21273a8d92de9a0ebe">flags</a>, js::AutoIdVector *<a class="code" href="../../de/dc5/jsfriendapi_8h.html#a0c4e9efe1571ce3ef20a0baf42a47be9">props</a>);
<a name="l00587"></a>00587 
<a name="l00588"></a>00588 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00589"></a>00589 <a class="code" href="../../db/da2/namespacejs.html#adb9d0b44f6e0e8bdd338ee68a1252169">AppendUnique</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, AutoIdVector &amp;<a class="code" href="../../d9/d04/expat_8h.html#a938e186c531ea86ae9adf3c0a649d8fc">base</a>, AutoIdVector &amp;others);
<a name="l00590"></a>00590 
<a name="l00591"></a>00591 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00592"></a>00592 <a class="code" href="../../db/da2/namespacejs.html#a1a0372f135737ae930d3bcdd22c7093d">GetGeneric</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *obj, JSObject *receiver, <a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">jsid</a> <span class="keywordtype">id</span>, Value *vp);
<a name="l00593"></a>00593 
<a name="l00594"></a>00594 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00595"></a>00595 <a class="code" href="../../db/da2/namespacejs.html#a0581baf8bf0cf9e1c53d241e746d4f89">StringIsArrayIndex</a>(JSLinearString *str, uint32_t *<a class="code" href="../../d2/d7d/jsapi_8h.html#a57aa00105fcba6fcdb2150dd2ab9cd6a">indexp</a>);
<a name="l00596"></a>00596 
<a name="l00597"></a>00597 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00598"></a>00598 <a class="code" href="../../db/da2/namespacejs.html#a77e427e5c4410a3026898cf33cd4c90c">SetPreserveWrapperCallback</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *rt, <a class="code" href="../../db/da2/namespacejs.html#a3dbd1a7665be62198c70fa5d67588a5d">PreserveWrapperCallback</a> callback);
<a name="l00599"></a>00599 
<a name="l00600"></a>00600 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00601"></a>00601 <a class="code" href="../../db/da2/namespacejs.html#ac230d874415f87793cba2fe49db107b9">IsObjectInContextCompartment</a>(JSObject *obj, <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx);
<a name="l00602"></a>00602 
<a name="l00603"></a>00603 <span class="comment">/*</span>
<a name="l00604"></a>00604 <span class="comment"> * NB: these flag bits are encoded into the bytecode stream in the immediate</span>
<a name="l00605"></a>00605 <span class="comment"> * operand of JSOP_ITER, so don&#39;t change them without advancing vm/Xdr.h&#39;s</span>
<a name="l00606"></a>00606 <span class="comment"> * XDR_BYTECODE_VERSION.</span>
<a name="l00607"></a>00607 <span class="comment"> */</span>
<a name="l00608"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a76c61f430ec3dcc0ccef70b5bb6dc918">00608</a> <span class="preprocessor">#define JSITER_ENUMERATE  0x1   </span><span class="comment">/* for-in compatible hidden default iterator */</span>
<a name="l00609"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a192f2979ee735a34b8b5efeff74fdcb5">00609</a> <span class="preprocessor">#define JSITER_FOREACH    0x2   </span><span class="comment">/* return [key, value] pair rather than key */</span>
<a name="l00610"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#acb9436df5270dd7d0a1f072bccbee71f">00610</a> <span class="preprocessor">#define JSITER_KEYVALUE   0x4   </span><span class="comment">/* destructuring for-in wants [key, value] */</span>
<a name="l00611"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#af90d2e7b92eacdaa9474e80090e24469">00611</a> <span class="preprocessor">#define JSITER_OWNONLY    0x8   </span><span class="comment">/* iterate over obj&#39;s own properties only */</span>
<a name="l00612"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a8b6e6334dd9c28156597f1846c4110be">00612</a> <span class="preprocessor">#define JSITER_HIDDEN     0x10  </span><span class="comment">/* also enumerate non-enumerable properties */</span>
<a name="l00613"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#aa5832f0f45d2b49828e28085b2d71ba0">00613</a> <span class="preprocessor">#define JSITER_FOR_OF     0x20  </span><span class="comment">/* harmony for-of loop */</span>
<a name="l00614"></a>00614 
<a name="l00615"></a>00615 <span class="keyword">inline</span> uintptr_t
<a name="l00616"></a><a class="code" href="../../db/da2/namespacejs.html#ad7f80ea49af232acb519b15effb723fd">00616</a> <a class="code" href="../../db/da2/namespacejs.html#ad7f80ea49af232acb519b15effb723fd">GetNativeStackLimit</a>(<span class="keyword">const</span> <a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *rt)
<a name="l00617"></a>00617 {
<a name="l00618"></a>00618     <span class="keywordflow">return</span> PerThreadDataFriendFields::getMainThread(rt)-&gt;nativeStackLimit;
<a name="l00619"></a>00619 }
<a name="l00620"></a>00620 
<a name="l00621"></a>00621 <span class="keyword">inline</span> uintptr_t
<a name="l00622"></a><a class="code" href="../../db/da2/namespacejs.html#adc4caa597f4671f85d1c43e3aea50305">00622</a> <a class="code" href="../../db/da2/namespacejs.html#ad7f80ea49af232acb519b15effb723fd">GetNativeStackLimit</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx)
<a name="l00623"></a>00623 {
<a name="l00624"></a>00624     <span class="keywordflow">return</span> <a class="code" href="../../db/da2/namespacejs.html#ad7f80ea49af232acb519b15effb723fd">GetNativeStackLimit</a>(<a class="code" href="../../db/da2/namespacejs.html#ad8f434504f1b1ab46d19d4030c053323">GetRuntime</a>(cx));
<a name="l00625"></a>00625 }
<a name="l00626"></a>00626 
<a name="l00627"></a>00627 <span class="comment">/*</span>
<a name="l00628"></a>00628 <span class="comment"> * These macros report a stack overflow and run |onerror| if we are close to</span>
<a name="l00629"></a>00629 <span class="comment"> * using up the C stack. The JS_CHECK_CHROME_RECURSION variant gives us a little</span>
<a name="l00630"></a>00630 <span class="comment"> * extra space so that we can ensure that crucial code is able to run.</span>
<a name="l00631"></a>00631 <span class="comment"> */</span>
<a name="l00632"></a>00632 
<a name="l00633"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a97ad88fdcae68fa7dc4244d67c172a1b">00633</a> <span class="preprocessor">#define JS_CHECK_RECURSION(cx, onerror)                              \</span>
<a name="l00634"></a>00634 <span class="preprocessor">    JS_BEGIN_MACRO                                                              \</span>
<a name="l00635"></a>00635 <span class="preprocessor">        int stackDummy_;                                                        \</span>
<a name="l00636"></a>00636 <span class="preprocessor">        if (!JS_CHECK_STACK_SIZE(js::GetNativeStackLimit(cx), &amp;stackDummy_)) {  \</span>
<a name="l00637"></a>00637 <span class="preprocessor">            js_ReportOverRecursed(cx);                                          \</span>
<a name="l00638"></a>00638 <span class="preprocessor">            onerror;                                                            \</span>
<a name="l00639"></a>00639 <span class="preprocessor">        }                                                                       \</span>
<a name="l00640"></a>00640 <span class="preprocessor">    JS_END_MACRO</span>
<a name="l00641"></a>00641 <span class="preprocessor"></span>
<a name="l00642"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#aa89c1aabc50fb4c85eb1152f93ce4541">00642</a> <span class="preprocessor">#define JS_CHECK_RECURSION_WITH_SP_DONT_REPORT(cx, sp, onerror)                 \</span>
<a name="l00643"></a>00643 <span class="preprocessor">    JS_BEGIN_MACRO                                                              \</span>
<a name="l00644"></a>00644 <span class="preprocessor">        if (!JS_CHECK_STACK_SIZE(js::GetNativeStackLimit(cx), sp)) {            \</span>
<a name="l00645"></a>00645 <span class="preprocessor">            onerror;                                                            \</span>
<a name="l00646"></a>00646 <span class="preprocessor">        }                                                                       \</span>
<a name="l00647"></a>00647 <span class="preprocessor">    JS_END_MACRO</span>
<a name="l00648"></a>00648 <span class="preprocessor"></span>
<a name="l00649"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#ad85268d3c9155ae116cb352c3e713bee">00649</a> <span class="preprocessor">#define JS_CHECK_CHROME_RECURSION(cx, onerror)                                  \</span>
<a name="l00650"></a>00650 <span class="preprocessor">    JS_BEGIN_MACRO                                                              \</span>
<a name="l00651"></a>00651 <span class="preprocessor">        int stackDummy_;                                                        \</span>
<a name="l00652"></a>00652 <span class="preprocessor">        if (!JS_CHECK_STACK_SIZE_WITH_TOLERANCE(js::GetNativeStackLimit(cx),    \</span>
<a name="l00653"></a>00653 <span class="preprocessor">                                                &amp;stackDummy_,                   \</span>
<a name="l00654"></a>00654 <span class="preprocessor">                                                1024 * sizeof(size_t)))         \</span>
<a name="l00655"></a>00655 <span class="preprocessor">        {                                                                       \</span>
<a name="l00656"></a>00656 <span class="preprocessor">            js_ReportOverRecursed(cx);                                          \</span>
<a name="l00657"></a>00657 <span class="preprocessor">            onerror;                                                            \</span>
<a name="l00658"></a>00658 <span class="preprocessor">        }                                                                       \</span>
<a name="l00659"></a>00659 <span class="preprocessor">    JS_END_MACRO</span>
<a name="l00660"></a>00660 <span class="preprocessor"></span>
<a name="l00661"></a>00661 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00662"></a>00662 <a class="code" href="../../db/da2/namespacejs.html#a17e4639a791b9cdd84e10d1cb7f4626a">StartPCCountProfiling</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx);
<a name="l00663"></a>00663 
<a name="l00664"></a>00664 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00665"></a>00665 <a class="code" href="../../db/da2/namespacejs.html#a2d8623efc89fa32ab64ebeb42172822e">StopPCCountProfiling</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx);
<a name="l00666"></a>00666 
<a name="l00667"></a>00667 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00668"></a>00668 <a class="code" href="../../db/da2/namespacejs.html#aeab78ab1888c5779d648d8b33062f50f">PurgePCCounts</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx);
<a name="l00669"></a>00669 
<a name="l00670"></a>00670 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">size_t</span>)
<a name="l00671"></a>00671 <a class="code" href="../../db/da2/namespacejs.html#a230c7abf868ef67fa12f14ca9b1bdc7c">GetPCCountScriptCount</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx);
<a name="l00672"></a>00672 
<a name="l00673"></a>00673 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSString *)
<a name="l00674"></a>00674 <a class="code" href="../../db/da2/namespacejs.html#ad28078bf7e31730683d2797139bfbca1">GetPCCountScriptSummary</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, <span class="keywordtype">size_t</span> script);
<a name="l00675"></a>00675 
<a name="l00676"></a>00676 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSString *)
<a name="l00677"></a>00677 <a class="code" href="../../db/da2/namespacejs.html#a801562cac83177b4cc03bb9e9221fd32">GetPCCountScriptContents</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, <span class="keywordtype">size_t</span> script);
<a name="l00678"></a>00678 
<a name="l00679"></a>00679 <span class="comment">/*</span>
<a name="l00680"></a>00680 <span class="comment"> * A call stack can be specified to the JS engine such that all JS entry/exits</span>
<a name="l00681"></a>00681 <span class="comment"> * to functions push/pop an entry to/from the specified stack.</span>
<a name="l00682"></a>00682 <span class="comment"> *</span>
<a name="l00683"></a>00683 <span class="comment"> * For more detailed information, see vm/SPSProfiler.h</span>
<a name="l00684"></a>00684 <span class="comment"> */</span>
<a name="l00685"></a><a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html">00685</a> class <a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html">ProfileEntry</a>
<a name="l00686"></a>00686 {
<a name="l00687"></a>00687     <span class="comment">/*</span>
<a name="l00688"></a>00688 <span class="comment">     * All fields are marked volatile to prevent the compiler from re-ordering</span>
<a name="l00689"></a>00689 <span class="comment">     * instructions. Namely this sequence:</span>
<a name="l00690"></a>00690 <span class="comment">     *</span>
<a name="l00691"></a>00691 <span class="comment">     *    entry[size] = ...;</span>
<a name="l00692"></a>00692 <span class="comment">     *    size++;</span>
<a name="l00693"></a>00693 <span class="comment">     *</span>
<a name="l00694"></a>00694 <span class="comment">     * If the size modification were somehow reordered before the stores, then</span>
<a name="l00695"></a>00695 <span class="comment">     * if a sample were taken it would be examining bogus information.</span>
<a name="l00696"></a>00696 <span class="comment">     *</span>
<a name="l00697"></a>00697 <span class="comment">     * A ProfileEntry represents both a C++ profile entry and a JS one. Both use</span>
<a name="l00698"></a>00698 <span class="comment">     * the string as a description, but JS uses the sp as NULL to indicate that</span>
<a name="l00699"></a>00699 <span class="comment">     * it is a JS entry. The script_ is then only ever examined for a JS entry,</span>
<a name="l00700"></a>00700 <span class="comment">     * and the idx is used by both, but with different meanings.</span>
<a name="l00701"></a>00701 <span class="comment">     */</span>
<a name="l00702"></a>00702     <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">volatile</span> <a class="code" href="../../df/d9e/prnetdb_8h.html#aed1cfb225a5fb77461e7972691e68a72">string</a>; <span class="comment">// Descriptive string of this entry</span>
<a name="l00703"></a>00703     <span class="keywordtype">void</span> * <span class="keyword">volatile</span> sp;           <span class="comment">// Relevant stack pointer for the entry</span>
<a name="l00704"></a>00704     JSScript * <span class="keyword">volatile</span> script_;  <span class="comment">// if js(), non-null script which is running</span>
<a name="l00705"></a>00705     int32_t <span class="keyword">volatile</span> idx;         <span class="comment">// if js(), idx of pc, otherwise line number</span>
<a name="l00706"></a>00706 
<a name="l00707"></a>00707   <span class="keyword">public</span>:
<a name="l00708"></a>00708     <span class="comment">/*</span>
<a name="l00709"></a>00709 <span class="comment">     * All of these methods are marked with the &#39;volatile&#39; keyword because SPS&#39;s</span>
<a name="l00710"></a>00710 <span class="comment">     * representation of the stack is stored such that all ProfileEntry</span>
<a name="l00711"></a>00711 <span class="comment">     * instances are volatile. These methods would not be available unless they</span>
<a name="l00712"></a>00712 <span class="comment">     * were marked as volatile as well</span>
<a name="l00713"></a>00713 <span class="comment">     */</span>
<a name="l00714"></a>00714 
<a name="l00715"></a><a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#a6ffcd9b07e2acca469ffbca2ea4e6313">00715</a>     <span class="keywordtype">bool</span> <a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#a6ffcd9b07e2acca469ffbca2ea4e6313">js</a>()<span class="keyword"> volatile </span>{
<a name="l00716"></a>00716         <a class="code" href="../../db/d2a/_utility_8h.html#a0e574d8e483561f9e279708d374145fe">JS_ASSERT_IF</a>(sp == <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, script_ != <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00717"></a>00717         <span class="keywordflow">return</span> sp == <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00718"></a>00718     }
<a name="l00719"></a>00719 
<a name="l00720"></a><a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#ad27187e633e2feeeddab283e15966643">00720</a>     uint32_t <a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#ad27187e633e2feeeddab283e15966643">line</a>()<span class="keyword"> volatile </span>{ <a class="code" href="../../db/d2a/_utility_8h.html#a806452d73a088062220b0f84b77587fa">JS_ASSERT</a>(!js()); <span class="keywordflow">return</span> idx; }
<a name="l00721"></a><a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#a95a04591604a3bcea288c5d3b6ed6da7">00721</a>     JSScript *<a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#a95a04591604a3bcea288c5d3b6ed6da7">script</a>()<span class="keyword"> volatile </span>{ <a class="code" href="../../db/d2a/_utility_8h.html#a806452d73a088062220b0f84b77587fa">JS_ASSERT</a>(js()); <span class="keywordflow">return</span> script_; }
<a name="l00722"></a><a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#adebad93d797ec6e4ab50acc24ca3d2c9">00722</a>     <span class="keywordtype">void</span> *<a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#adebad93d797ec6e4ab50acc24ca3d2c9">stackAddress</a>()<span class="keyword"> volatile </span>{ <span class="keywordflow">return</span> sp; }
<a name="l00723"></a><a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#ab3313c0acab5cd897bc2bca58ec4a979">00723</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#ab3313c0acab5cd897bc2bca58ec4a979">label</a>()<span class="keyword"> volatile </span>{ <span class="keywordflow">return</span> <a class="code" href="../../df/d9e/prnetdb_8h.html#aed1cfb225a5fb77461e7972691e68a72">string</a>; }
<a name="l00724"></a>00724 
<a name="l00725"></a><a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#ab0ce1e4240601232c44f7cb19767bced">00725</a>     <span class="keywordtype">void</span> <a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#ab0ce1e4240601232c44f7cb19767bced">setLine</a>(uint32_t aLine)<span class="keyword"> volatile </span>{ <a class="code" href="../../db/d2a/_utility_8h.html#a806452d73a088062220b0f84b77587fa">JS_ASSERT</a>(!js()); idx = aLine; }
<a name="l00726"></a><a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#a469346c1616fc94810a6a1656e1054f1">00726</a>     <span class="keywordtype">void</span> <a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#a469346c1616fc94810a6a1656e1054f1">setLabel</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *aString)<span class="keyword"> volatile </span>{ <span class="keywordtype">string</span> = aString; }
<a name="l00727"></a><a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#a5f9aebe82e11d29292b2832cdd875da3">00727</a>     <span class="keywordtype">void</span> <a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#a5f9aebe82e11d29292b2832cdd875da3">setStackAddress</a>(<span class="keywordtype">void</span> *aSp)<span class="keyword"> volatile </span>{ sp = aSp; }
<a name="l00728"></a><a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#adb3c460ef65a9d7f98bb5ffe1dd1d8d3">00728</a>     <span class="keywordtype">void</span> <a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#adb3c460ef65a9d7f98bb5ffe1dd1d8d3">setScript</a>(JSScript *aScript)<span class="keyword"> volatile </span>{ script_ = aScript; }
<a name="l00729"></a>00729 
<a name="l00730"></a>00730     <span class="comment">/* we can&#39;t know the layout of JSScript, so look in vm/SPSProfiler.cpp */</span>
<a name="l00731"></a>00731     <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d0/d15/jsprvtd_8h.html#ab8ac898def28608bf1c412195169b6ad">jsbytecode</a> *) <a class="code" href="../../de/deb/jsdbgapi_8h.html#a8771985c525e6da4ec7acbc045daa845">pc</a>() <a class="code" href="../../d6/d92/cdefs_8h.html#af55a5e48555be7d32ad73e76cf5d4db0">volatile</a>;
<a name="l00732"></a>00732     <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>) setPC(<a class="code" href="../../d0/d15/jsprvtd_8h.html#ab8ac898def28608bf1c412195169b6ad">jsbytecode</a> *<a class="code" href="../../de/deb/jsdbgapi_8h.html#a8771985c525e6da4ec7acbc045daa845">pc</a>) volatile;
<a name="l00733"></a>00733 
<a name="l00734"></a><a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#ad5dde7266812c4469b671171aa98551f">00734</a>     static <span class="keywordtype">size_t</span> offsetOfString() { <span class="keywordflow">return</span> <a class="code" href="../../dc/d10/ns_c_s_s_property_8h.html#a47e433676bb6902977b7a50bfe31f5fc">offsetof</a>(ProfileEntry, <span class="keywordtype">string</span>); }
<a name="l00735"></a><a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#a253b79ee8575b4e23d5ecd023df31904">00735</a>     <span class="keyword">static</span> <span class="keywordtype">size_t</span> <a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#a253b79ee8575b4e23d5ecd023df31904">offsetOfStackAddress</a>() { <span class="keywordflow">return</span> <a class="code" href="../../dc/d10/ns_c_s_s_property_8h.html#a47e433676bb6902977b7a50bfe31f5fc">offsetof</a>(ProfileEntry, sp); }
<a name="l00736"></a><a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#a54e1875011c487d8126164de23a6d1a4">00736</a>     <span class="keyword">static</span> <span class="keywordtype">size_t</span> <a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#a54e1875011c487d8126164de23a6d1a4">offsetOfPCIdx</a>() { <span class="keywordflow">return</span> <a class="code" href="../../dc/d10/ns_c_s_s_property_8h.html#a47e433676bb6902977b7a50bfe31f5fc">offsetof</a>(ProfileEntry, idx); }
<a name="l00737"></a><a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#a5a573d4786840e4605e00cec18784401">00737</a>     <span class="keyword">static</span> <span class="keywordtype">size_t</span> <a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#a5a573d4786840e4605e00cec18784401">offsetOfScript</a>() { <span class="keywordflow">return</span> <a class="code" href="../../dc/d10/ns_c_s_s_property_8h.html#a47e433676bb6902977b7a50bfe31f5fc">offsetof</a>(ProfileEntry, script_); }
<a name="l00738"></a>00738 
<a name="l00739"></a>00739     <span class="comment">/*</span>
<a name="l00740"></a>00740 <span class="comment">     * The index used in the entry can either be a line number or the offset of</span>
<a name="l00741"></a>00741 <span class="comment">     * a pc into a script&#39;s code. To signify a NULL pc, use a -1 index. This is</span>
<a name="l00742"></a>00742 <span class="comment">     * checked against in pc() and setPC() to set/get the right pc.</span>
<a name="l00743"></a>00743 <span class="comment">     */</span>
<a name="l00744"></a><a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html#ace3260f9cc1f857e30af13de86ec6541">00744</a>     <span class="keyword">static</span> <span class="keyword">const</span> int32_t NullPCIndex = -1;
<a name="l00745"></a>00745 };
<a name="l00746"></a>00746 
<a name="l00747"></a>00747 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00748"></a>00748 <a class="code" href="../../db/da2/namespacejs.html#a40ef3a31986f85d09db2e04cbf419f6b">SetRuntimeProfilingStack</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *rt, <a class="code" href="../../d1/dc3/classjs_1_1_profile_entry.html">ProfileEntry</a> *<a class="code" href="../../d6/d1b/pprthred_8h.html#afe76c3c951fe40bd646fbf0b89cbcd17">stack</a>, uint32_t *<a class="code" href="../../d5/dbd/camera_2js_2camera_8js.html#a6d7e27eaec1e5f6600e65858be43c18b">size</a>,
<a name="l00749"></a>00749                          uint32_t <a class="code" href="../../db/d13/ns_i_d_o_m_device_proximity_event_8idl.html#a0b0ede69e8156eb97acc579b88e883de">max</a>);
<a name="l00750"></a>00750 
<a name="l00751"></a>00751 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00752"></a>00752 <a class="code" href="../../db/da2/namespacejs.html#ac573d36c6742bf03c7fa0b1a3940be80">EnableRuntimeProfilingStack</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *rt, <span class="keywordtype">bool</span> <a class="code" href="../../d2/d7d/jsapi_8h.html#ad40d8437f6cf8675f077c4117119c8c0">enabled</a>);
<a name="l00753"></a>00753 
<a name="l00754"></a>00754 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d0/d15/jsprvtd_8h.html#ab8ac898def28608bf1c412195169b6ad">jsbytecode</a>*)
<a name="l00755"></a>00755 <a class="code" href="../../db/da2/namespacejs.html#a8d03cd5f10a390e22abfd6b74dfe78c2">ProfilingGetPC</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *rt, JSScript *script, <span class="keywordtype">void</span> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a2ac12bda29d5cbad2e4c87e01d0767eb">ip</a>);
<a name="l00756"></a>00756 
<a name="l00757"></a>00757 <span class="preprocessor">#ifdef JS_THREADSAFE</span>
<a name="l00758"></a>00758 <span class="preprocessor"></span><a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00759"></a>00759 <a class="code" href="../../db/da2/namespacejs.html#a90751b6e453d21ac69da1e847e6a04f6">ContextHasOutstandingRequests</a>(<a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx);
<a name="l00760"></a>00760 <span class="preprocessor">#endif</span>
<a name="l00761"></a>00761 <span class="preprocessor"></span>
<a name="l00762"></a>00762 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00763"></a>00763 <a class="code" href="../../db/da2/namespacejs.html#af2b3a2288804b0c70b70a0d2a0d33200">HasUnrootedGlobal</a>(<a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx);
<a name="l00764"></a>00764 
<a name="l00765"></a>00765 typedef <span class="keywordtype">void</span>
<a name="l00766"></a><a class="code" href="../../db/da2/namespacejs.html#a2d8f27e1380c5ad74bae97ba46b86452">00766</a> (* <a class="code" href="../../db/da2/namespacejs.html#a2d8f27e1380c5ad74bae97ba46b86452">ActivityCallback</a>)(<span class="keywordtype">void</span> *<a class="code" href="../../d2/dbe/jsprf_8h.html#ae036856e415526e58e249638733f6752">arg</a>, <a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a> active);
<a name="l00767"></a>00767 
<a name="l00768"></a>00768 <span class="comment">/*</span>
<a name="l00769"></a>00769 <span class="comment"> * Sets a callback that is run whenever the runtime goes idle - the</span>
<a name="l00770"></a>00770 <span class="comment"> * last active request ceases - and begins activity - when it was</span>
<a name="l00771"></a>00771 <span class="comment"> * idle and a request begins.</span>
<a name="l00772"></a>00772 <span class="comment"> */</span>
<a name="l00773"></a>00773 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00774"></a>00774 <a class="code" href="../../db/da2/namespacejs.html#a2539486b6f8fe86d7bf52037c9a09e61">SetActivityCallback</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *rt, <a class="code" href="../../db/da2/namespacejs.html#a2d8f27e1380c5ad74bae97ba46b86452">ActivityCallback</a> <a class="code" href="../../d2/d7d/jsapi_8h.html#a9c0cec265243907d0da86b92bda26eca">cb</a>, <span class="keywordtype">void</span> *arg);
<a name="l00775"></a>00775 
<a name="l00776"></a>00776 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code" href="../../d6/d6c/struct_j_s_structured_clone_callbacks.html">JSStructuredCloneCallbacks</a> *)
<a name="l00777"></a>00777 GetContextStructuredCloneCallbacks(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx);
<a name="l00778"></a>00778 
<a name="l00779"></a>00779 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00780"></a>00780 CanCallContextDebugHandler(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx);
<a name="l00781"></a>00781 
<a name="l00782"></a>00782 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d0/d15/jsprvtd_8h.html#a3b088eff1d49b5c006ada49e4e895058">JSTrapStatus</a>)
<a name="l00783"></a><a class="code" href="../../db/da2/namespacejs.html#a7fbe3d973e6a80f19bbdbecd774d5240">00783</a> CallContextDebugHandler(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSScript *script, <a class="code" href="../../d0/d15/jsprvtd_8h.html#ab8ac898def28608bf1c412195169b6ad">jsbytecode</a> *<a class="code" href="../../db/da2/namespacejs.html#a20ac11957e5f4a87a03e70f9358fe6b1">bc</a>, <a class="code" href="../../d1/d94/class_j_s_1_1_value.html">Value</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a5a883d97b566da72dc454ea1438aaccb">rval</a>);
<a name="l00784"></a>00784 
<a name="l00785"></a>00785 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l00786"></a>00786 IsContextRunningJS(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx);
<a name="l00787"></a>00787 
<a name="l00788"></a>00788 typedef <span class="keywordtype">void</span>
<a name="l00789"></a><a class="code" href="../../db/da2/namespacejs.html#aaddd0c4a3725d8e7bad74cff1bf243ac">00789</a> (* <a class="code" href="../../db/da2/namespacejs.html#aaddd0c4a3725d8e7bad74cff1bf243ac">AnalysisPurgeCallback</a>)(<a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *rt, JS::<a class="code" href="../../df/dfb/class_j_s_1_1_handle.html">Handle</a>&lt;JSFlatString*&gt; <a class="code" href="../../d8/dd0/extension__set_8h.html#a348efe6592512f937a672d5f5ec7d76a">desc</a>);
<a name="l00790"></a>00790 
<a name="l00791"></a>00791 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../db/da2/namespacejs.html#aaddd0c4a3725d8e7bad74cff1bf243ac">AnalysisPurgeCallback</a>)
<a name="l00792"></a><a class="code" href="../../db/da2/namespacejs.html#a38a8af01663e31ba5799074048f4eb3f">00792</a> SetAnalysisPurgeCallback(<a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *rt, <a class="code" href="../../db/da2/namespacejs.html#aaddd0c4a3725d8e7bad74cff1bf243ac">AnalysisPurgeCallback</a> callback);
<a name="l00793"></a>00793 
<a name="l00794"></a>00794 typedef <a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>
<a name="l00795"></a><a class="code" href="../../db/da2/namespacejs.html#a52842d04e9260c3aa5c9dc373120c7f7">00795</a> (* <a class="code" href="../../db/da2/namespacejs.html#a52842d04e9260c3aa5c9dc373120c7f7">DOMInstanceClassMatchesProto</a>)(JS::<a class="code" href="../../da/d7b/namespace_j_s.html#a27fbe8d507bcc80ecf65d4dfa346936e">HandleObject</a> protoObject, uint32_t protoID,
<a name="l00796"></a>00796                                  uint32_t depth);
<a name="l00797"></a><a class="code" href="../../dd/d8e/structjs_1_1_j_s_d_o_m_callbacks.html">00797</a> struct <a class="code" href="../../dd/d8e/structjs_1_1_j_s_d_o_m_callbacks.html">JSDOMCallbacks</a> {
<a name="l00798"></a><a class="code" href="../../dd/d8e/structjs_1_1_j_s_d_o_m_callbacks.html#aadd17130e8908b3dec8ce2b5c07d4408">00798</a>     <a class="code" href="../../db/da2/namespacejs.html#a52842d04e9260c3aa5c9dc373120c7f7">DOMInstanceClassMatchesProto</a> <a class="code" href="../../dd/d8e/structjs_1_1_j_s_d_o_m_callbacks.html#aadd17130e8908b3dec8ce2b5c07d4408">instanceClassMatchesProto</a>;
<a name="l00799"></a>00799 };
<a name="l00800"></a><a class="code" href="../../db/da2/namespacejs.html#a9591eb88e7029bd9885784613a32d28a">00800</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../dd/d8e/structjs_1_1_j_s_d_o_m_callbacks.html">JSDOMCallbacks</a> <a class="code" href="../../dd/d8e/structjs_1_1_j_s_d_o_m_callbacks.html">DOMCallbacks</a>;
<a name="l00801"></a>00801 
<a name="l00802"></a>00802 <span class="keyword">extern</span> <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00803"></a><a class="code" href="../../db/da2/namespacejs.html#a17f82de8a240bed016fcde0edf53d8e7">00803</a> SetDOMCallbacks(<a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *rt, <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code" href="../../dd/d8e/structjs_1_1_j_s_d_o_m_callbacks.html">DOMCallbacks</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a25a0884792aa259d1818e7f66ffa3937">callbacks</a>);
<a name="l00804"></a>00804 
<a name="l00805"></a>00805 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code" href="../../dd/d8e/structjs_1_1_j_s_d_o_m_callbacks.html">DOMCallbacks</a> *)
<a name="l00806"></a>00806 GetDOMCallbacks(<a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *rt);
<a name="l00807"></a>00807 
<a name="l00808"></a>00808 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l00809"></a>00809 GetTestingFunctions(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx);
<a name="l00810"></a>00810 
<a name="l00811"></a>00811 <span class="comment">/*</span>
<a name="l00812"></a>00812 <span class="comment"> * Helper to convert FreeOp to JSFreeOp when the definition of FreeOp is not</span>
<a name="l00813"></a>00813 <span class="comment"> * available and the compiler does not know that FreeOp inherits from</span>
<a name="l00814"></a>00814 <span class="comment"> * JSFreeOp.</span>
<a name="l00815"></a>00815 <span class="comment"> */</span>
<a name="l00816"></a>00816 <a class="code" href="../../d6/d92/cdefs_8h.html#a00d24c7231be28dbaf71f5408f30e44c">inline</a> <a class="code" href="../../d2/d82/struct_j_s_free_op.html">JSFreeOp</a> *
<a name="l00817"></a><a class="code" href="../../db/da2/namespacejs.html#afb4b5a5eeb474901756eaf1ba317740a">00817</a> <a class="code" href="../../db/da2/namespacejs.html#afb4b5a5eeb474901756eaf1ba317740a">CastToJSFreeOp</a>(FreeOp *<a class="code" href="../../de/d8f/jsdebug_8h.html#a630fc409c25f21ada0becdc353549c30">fop</a>)
<a name="l00818"></a>00818 {
<a name="l00819"></a>00819     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d2/d82/struct_j_s_free_op.html">JSFreeOp</a> *<span class="keyword">&gt;</span>(<a class="code" href="../../de/d8f/jsdebug_8h.html#a630fc409c25f21ada0becdc353549c30">fop</a>);
<a name="l00820"></a>00820 }
<a name="l00821"></a>00821 
<a name="l00822"></a>00822 <span class="comment">/* Implemented in jsexn.cpp. */</span>
<a name="l00823"></a>00823 
<a name="l00824"></a>00824 <span class="comment">/*</span>
<a name="l00825"></a>00825 <span class="comment"> * Get an error type name from a JSExnType constant.</span>
<a name="l00826"></a>00826 <span class="comment"> * Returns NULL for invalid arguments and JSEXN_INTERNALERR</span>
<a name="l00827"></a>00827 <span class="comment"> */</span>
<a name="l00828"></a>00828 <span class="keyword">extern</span> <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keyword">const</span> <a class="code" href="../../d9/d28/jspubtd_8h.html#a402ffb3c791d4197e0bf8f3aaeaf1779">jschar</a>*)
<a name="l00829"></a><a class="code" href="../../db/da2/namespacejs.html#ac18e6275814e9a3f175ddc33b1aa71f9">00829</a> GetErrorTypeName(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>* cx, int16_t <a class="code" href="../../db/da2/namespacejs.html#ac18e6275814e9a3f175ddc33b1aa71f9">exnType</a>);
<a name="l00830"></a>00830 
<a name="l00831"></a>00831 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l00832"></a>00832 <span class="preprocessor"></span><span class="keyword">extern</span> <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">unsigned</span>)
<a name="l00833"></a>00833 GetEnterCompartmentDepth(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>* cx);
<a name="l00834"></a>00834 <span class="preprocessor">#endif</span>
<a name="l00835"></a>00835 <span class="preprocessor"></span>
<a name="l00836"></a>00836 <span class="comment">/* Implemented in jswrapper.cpp. */</span>
<a name="l00837"></a><a class="code" href="../../db/da2/namespacejs.html#a1c38707d5eae6205873bff0894ed3717">00837</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../db/da2/namespacejs.html#a1c38707d5eae6205873bff0894ed3717">NukeReferencesToWindow</a> {
<a name="l00838"></a><a class="code" href="../../db/da2/namespacejs.html#a1c38707d5eae6205873bff0894ed3717a78f91fde446ff5bde6dc66a3d9f3607f">00838</a>     <a class="code" href="../../db/da2/namespacejs.html#a1c38707d5eae6205873bff0894ed3717a78f91fde446ff5bde6dc66a3d9f3607f">NukeWindowReferences</a>,
<a name="l00839"></a><a class="code" href="../../db/da2/namespacejs.html#a1c38707d5eae6205873bff0894ed3717a461c5b9e78f2ef95207eb9e2e5ba3358">00839</a>     <a class="code" href="../../db/da2/namespacejs.html#a1c38707d5eae6205873bff0894ed3717a461c5b9e78f2ef95207eb9e2e5ba3358">DontNukeWindowReferences</a>
<a name="l00840"></a>00840 } <a class="code" href="../../db/da2/namespacejs.html#a1c38707d5eae6205873bff0894ed3717">NukeReferencesToWindow</a>;
<a name="l00841"></a>00841 
<a name="l00842"></a>00842 <span class="comment">/*</span>
<a name="l00843"></a>00843 <span class="comment"> * These filters are designed to be ephemeral stack classes, and thus don&#39;t</span>
<a name="l00844"></a>00844 <span class="comment"> * do any rooting or holding of their members.</span>
<a name="l00845"></a>00845 <span class="comment"> */</span>
<a name="l00846"></a><a class="code" href="../../d5/d4f/structjs_1_1_compartment_filter.html">00846</a> <span class="keyword">struct </span><a class="code" href="../../d5/d4f/structjs_1_1_compartment_filter.html">CompartmentFilter</a> {
<a name="l00847"></a>00847     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d2/d7d/jsapi_8h.html#a99e36b20cb6cf83fe7c1f4bff6902ab6">match</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">JSCompartment</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a348d5281ca0f01adebb262bee8baf788">c</a>) <span class="keyword">const</span> = 0;
<a name="l00848"></a>00848 };
<a name="l00849"></a>00849 
<a name="l00850"></a><a class="code" href="../../d6/d6b/structjs_1_1_all_compartments.html">00850</a> <span class="keyword">struct </span><a class="code" href="../../d6/d6b/structjs_1_1_all_compartments.html">AllCompartments</a> : <span class="keyword">public</span> <a class="code" href="../../d5/d4f/structjs_1_1_compartment_filter.html">CompartmentFilter</a> {
<a name="l00851"></a><a class="code" href="../../d6/d6b/structjs_1_1_all_compartments.html#aa75f8bd02409db95a02591d6a16093f1">00851</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d6/d6b/structjs_1_1_all_compartments.html#aa75f8bd02409db95a02591d6a16093f1">match</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">JSCompartment</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a348d5281ca0f01adebb262bee8baf788">c</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l00852"></a>00852 };
<a name="l00853"></a>00853 
<a name="l00854"></a><a class="code" href="../../da/dae/structjs_1_1_content_compartments_only.html">00854</a> <span class="keyword">struct </span><a class="code" href="../../da/dae/structjs_1_1_content_compartments_only.html">ContentCompartmentsOnly</a> : <span class="keyword">public</span> <a class="code" href="../../d5/d4f/structjs_1_1_compartment_filter.html">CompartmentFilter</a> {
<a name="l00855"></a><a class="code" href="../../da/dae/structjs_1_1_content_compartments_only.html#ab2a2887f1d909f4f9ce880345335d083">00855</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../da/dae/structjs_1_1_content_compartments_only.html#ab2a2887f1d909f4f9ce880345335d083">match</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">JSCompartment</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a348d5281ca0f01adebb262bee8baf788">c</a>)<span class="keyword"> const </span>{
<a name="l00856"></a>00856         <span class="keywordflow">return</span> !IsSystemCompartment(c);
<a name="l00857"></a>00857     }
<a name="l00858"></a>00858 };
<a name="l00859"></a>00859 
<a name="l00860"></a><a class="code" href="../../d9/d2a/structjs_1_1_chrome_compartments_only.html">00860</a> <span class="keyword">struct </span><a class="code" href="../../d9/d2a/structjs_1_1_chrome_compartments_only.html">ChromeCompartmentsOnly</a> : <span class="keyword">public</span> <a class="code" href="../../d5/d4f/structjs_1_1_compartment_filter.html">CompartmentFilter</a> {
<a name="l00861"></a><a class="code" href="../../d9/d2a/structjs_1_1_chrome_compartments_only.html#a2795fc7c0e0a4ee4366714f6696bea55">00861</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d9/d2a/structjs_1_1_chrome_compartments_only.html#a2795fc7c0e0a4ee4366714f6696bea55">match</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">JSCompartment</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a348d5281ca0f01adebb262bee8baf788">c</a>)<span class="keyword"> const </span>{
<a name="l00862"></a>00862         <span class="keywordflow">return</span> IsSystemCompartment(c);
<a name="l00863"></a>00863     }
<a name="l00864"></a>00864 };
<a name="l00865"></a>00865 
<a name="l00866"></a><a class="code" href="../../d4/d39/structjs_1_1_single_compartment.html">00866</a> <span class="keyword">struct </span><a class="code" href="../../d4/d39/structjs_1_1_single_compartment.html">SingleCompartment</a> : <span class="keyword">public</span> <a class="code" href="../../d5/d4f/structjs_1_1_compartment_filter.html">CompartmentFilter</a> {
<a name="l00867"></a><a class="code" href="../../d4/d39/structjs_1_1_single_compartment.html#a2cf422444639d4e501e5697833e3ba7e">00867</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">JSCompartment</a> *<a class="code" href="../../d4/d39/structjs_1_1_single_compartment.html#a2cf422444639d4e501e5697833e3ba7e">ours</a>;
<a name="l00868"></a><a class="code" href="../../d4/d39/structjs_1_1_single_compartment.html#af7105210ab5ea11d42c092b739edb7f2">00868</a>     <a class="code" href="../../d4/d39/structjs_1_1_single_compartment.html#af7105210ab5ea11d42c092b739edb7f2">SingleCompartment</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">JSCompartment</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a348d5281ca0f01adebb262bee8baf788">c</a>) : ours(c) {}
<a name="l00869"></a><a class="code" href="../../d4/d39/structjs_1_1_single_compartment.html#a2e5608834f4d6aacfce81fce8f8a7b01">00869</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d4/d39/structjs_1_1_single_compartment.html#a2e5608834f4d6aacfce81fce8f8a7b01">match</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">JSCompartment</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a348d5281ca0f01adebb262bee8baf788">c</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> c == ours; }
<a name="l00870"></a>00870 };
<a name="l00871"></a>00871 
<a name="l00872"></a><a class="code" href="../../d9/da8/structjs_1_1_compartments_with_principals.html">00872</a> <span class="keyword">struct </span><a class="code" href="../../d9/da8/structjs_1_1_compartments_with_principals.html">CompartmentsWithPrincipals</a> : <span class="keyword">public</span> <a class="code" href="../../d5/d4f/structjs_1_1_compartment_filter.html">CompartmentFilter</a> {
<a name="l00873"></a><a class="code" href="../../d9/da8/structjs_1_1_compartments_with_principals.html#a8be142a8bcf2e8a0f83e8d6efb3b73d9">00873</a>     <a class="code" href="../../d7/d69/struct_j_s_principals.html">JSPrincipals</a> *<a class="code" href="../../d9/da8/structjs_1_1_compartments_with_principals.html#a8be142a8bcf2e8a0f83e8d6efb3b73d9">principals</a>;
<a name="l00874"></a><a class="code" href="../../d9/da8/structjs_1_1_compartments_with_principals.html#aa8eae005c08283e6b3a13bd6eb19f74d">00874</a>     <a class="code" href="../../d9/da8/structjs_1_1_compartments_with_principals.html#aa8eae005c08283e6b3a13bd6eb19f74d">CompartmentsWithPrincipals</a>(<a class="code" href="../../d7/d69/struct_j_s_principals.html">JSPrincipals</a> *<a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a>) : principals(p) {}
<a name="l00875"></a><a class="code" href="../../d9/da8/structjs_1_1_compartments_with_principals.html#a00d5e64a9bcfe0a5276f5baf9591acb6">00875</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d9/da8/structjs_1_1_compartments_with_principals.html#a00d5e64a9bcfe0a5276f5baf9591acb6">match</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">JSCompartment</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a348d5281ca0f01adebb262bee8baf788">c</a>)<span class="keyword"> const </span>{
<a name="l00876"></a>00876         <span class="keywordflow">return</span> JS_GetCompartmentPrincipals(c) == <a class="code" href="../../d2/d7d/jsapi_8h.html#ac567949abe88a04ca9a4de1fdd19504c">principals</a>;
<a name="l00877"></a>00877     }
<a name="l00878"></a>00878 };
<a name="l00879"></a>00879 
<a name="l00880"></a>00880 <span class="keyword">extern</span> <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l00881"></a>00881 NukeCrossCompartmentWrappers(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>* cx,
<a name="l00882"></a><a class="code" href="../../db/da2/namespacejs.html#a57ba6e177823a3ce4fc0f65c59a28765">00882</a>                              <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code" href="../../d5/d4f/structjs_1_1_compartment_filter.html">CompartmentFilter</a>&amp; <a class="code" href="../../db/da2/namespacejs.html#a7e3181271a9f3aa3406977154704ce75">sourceFilter</a>,
<a name="l00883"></a>00883                              <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code" href="../../d5/d4f/structjs_1_1_compartment_filter.html">CompartmentFilter</a>&amp; <a class="code" href="../../db/da2/namespacejs.html#a57ba6e177823a3ce4fc0f65c59a28765">targetFilter</a>,
<a name="l00884"></a>00884                              <a class="code" href="../../db/da2/namespacejs.html#a1c38707d5eae6205873bff0894ed3717">NukeReferencesToWindow</a> <a class="code" href="../../db/da2/namespacejs.html#a3ee760e511462ed4fb18b837a804a46b">nukeReferencesToWindow</a>);
<a name="l00885"></a>00885 
<a name="l00886"></a>00886 <span class="comment">/* Specify information about DOMProxy proxies in the DOM, for use by ICs. */</span>
<a name="l00887"></a>00887 
<a name="l00888"></a>00888 <span class="comment">/*</span>
<a name="l00889"></a>00889 <span class="comment"> * The DOMProxyShadowsCheck function will be called to check if the property for</span>
<a name="l00890"></a>00890 <span class="comment"> * id should be gotten from the prototype, or if there is an own property that</span>
<a name="l00891"></a>00891 <span class="comment"> * shadows it.</span>
<a name="l00892"></a>00892 <span class="comment"> * If DoesntShadow is returned then the slot at listBaseExpandoSlot should</span>
<a name="l00893"></a>00893 <span class="comment"> * either be undefined or point to an expando object that would contain the own</span>
<a name="l00894"></a>00894 <span class="comment"> * property.</span>
<a name="l00895"></a>00895 <span class="comment"> * If DoesntShadowUnique is returned then the slot at listBaseExpandoSlot should</span>
<a name="l00896"></a>00896 <span class="comment"> * contain a private pointer to a ExpandoAndGeneration, which contains a</span>
<a name="l00897"></a>00897 <span class="comment"> * JS::Value that should either be undefined or point to an expando object, and</span>
<a name="l00898"></a>00898 <span class="comment"> * a uint32 value. If that value changes then the IC for getting a property will</span>
<a name="l00899"></a>00899 <span class="comment"> * be invalidated.</span>
<a name="l00900"></a>00900 <span class="comment"> */</span>
<a name="l00901"></a>00901 
<a name="l00902"></a><a class="code" href="../../d5/d23/structjs_1_1_expando_and_generation.html">00902</a> struct <a class="code" href="../../d5/d23/structjs_1_1_expando_and_generation.html">ExpandoAndGeneration</a> {
<a name="l00903"></a><a class="code" href="../../d5/d23/structjs_1_1_expando_and_generation.html#a6f50400e403db119f961d18d4061988b">00903</a>   ExpandoAndGeneration()
<a name="l00904"></a>00904     : expando(UndefinedValue()),
<a name="l00905"></a>00905       generation(0)
<a name="l00906"></a>00906   {}
<a name="l00907"></a>00907 
<a name="l00908"></a><a class="code" href="../../d5/d23/structjs_1_1_expando_and_generation.html#a97f1dcbf294c1b0b0dff8e16ff8ab527">00908</a>   <span class="keywordtype">void</span> Unlink()
<a name="l00909"></a>00909   {
<a name="l00910"></a>00910       ++generation;
<a name="l00911"></a>00911       expando.setUndefined();
<a name="l00912"></a>00912   }
<a name="l00913"></a>00913 
<a name="l00914"></a><a class="code" href="../../d5/d23/structjs_1_1_expando_and_generation.html#ae79131c7c4e551d2de1ca78712b02e94">00914</a>   <a class="code" href="../../db/d0b/class_j_s_1_1_heap.html">JS::Heap&lt;JS::Value&gt;</a> <a class="code" href="../../d5/d23/structjs_1_1_expando_and_generation.html#ae79131c7c4e551d2de1ca78712b02e94">expando</a>;
<a name="l00915"></a><a class="code" href="../../d5/d23/structjs_1_1_expando_and_generation.html#a2160b13fdc3e9a82ccddbc64f83ba76d">00915</a>   uint32_t <a class="code" href="../../d5/d23/structjs_1_1_expando_and_generation.html#a2160b13fdc3e9a82ccddbc64f83ba76d">generation</a>;
<a name="l00916"></a>00916 };
<a name="l00917"></a>00917 
<a name="l00918"></a><a class="code" href="../../db/da2/namespacejs.html#ac563f67e0f335174fc051f8908145f73">00918</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../db/da2/namespacejs.html#ac563f67e0f335174fc051f8908145f73">DOMProxyShadowsResult</a> {
<a name="l00919"></a><a class="code" href="../../db/da2/namespacejs.html#ac563f67e0f335174fc051f8908145f73a90c4412e80f2ee539fb951a7245b3df9">00919</a>   <a class="code" href="../../db/da2/namespacejs.html#ac563f67e0f335174fc051f8908145f73a90c4412e80f2ee539fb951a7245b3df9">ShadowCheckFailed</a>,
<a name="l00920"></a><a class="code" href="../../db/da2/namespacejs.html#ac563f67e0f335174fc051f8908145f73aea913447c5590a58439c9490cbd6dd23">00920</a>   <a class="code" href="../../db/da2/namespacejs.html#ac563f67e0f335174fc051f8908145f73aea913447c5590a58439c9490cbd6dd23">Shadows</a>,
<a name="l00921"></a><a class="code" href="../../db/da2/namespacejs.html#ac563f67e0f335174fc051f8908145f73aeea00f0f27afaddadbcb9e4e9d2ccda3">00921</a>   <a class="code" href="../../db/da2/namespacejs.html#ac563f67e0f335174fc051f8908145f73aeea00f0f27afaddadbcb9e4e9d2ccda3">DoesntShadow</a>,
<a name="l00922"></a><a class="code" href="../../db/da2/namespacejs.html#ac563f67e0f335174fc051f8908145f73a50604bd580b72f7679368bacec8f8b61">00922</a>   <a class="code" href="../../db/da2/namespacejs.html#ac563f67e0f335174fc051f8908145f73a50604bd580b72f7679368bacec8f8b61">DoesntShadowUnique</a>
<a name="l00923"></a>00923 } <a class="code" href="../../db/da2/namespacejs.html#ac563f67e0f335174fc051f8908145f73">DOMProxyShadowsResult</a>;
<a name="l00924"></a>00924 <span class="keyword">typedef</span> <a class="code" href="../../db/da2/namespacejs.html#ac563f67e0f335174fc051f8908145f73">DOMProxyShadowsResult</a>
<a name="l00925"></a><a class="code" href="../../db/da2/namespacejs.html#ad9b940e5bb3ecce76420330c9f465058">00925</a> (* <a class="code" href="../../db/da2/namespacejs.html#ad9b940e5bb3ecce76420330c9f465058">DOMProxyShadowsCheck</a>)(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>* <a class="code" href="../../de/d8f/jsdebug_8h.html#ac84a9ad5e2527762d63c6001438948b3">cx</a>, <a class="code" href="../../df/dfb/class_j_s_1_1_handle.html">JS::HandleObject</a> <a class="code" href="../../d5/d62/build__stage_2email_2shared_2style_2_r_e_a_d_m_e_8md.html#a3324c12c8fd4a56057ace952fd0d4bc5">object</a>, <a class="code" href="../../df/dfb/class_j_s_1_1_handle.html">JS::HandleId</a> <a class="code" href="../../d2/d7d/jsapi_8h.html#a5a0801283c5c25416c0888dc53f332d0">id</a>);
<a name="l00926"></a>00926 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l00927"></a>00927 <a class="code" href="../../db/da2/namespacejs.html#adccdf8daab15d5503df8b410405a1324">SetDOMProxyInformation</a>(<span class="keywordtype">void</span> *domProxyHandlerFamily, uint32_t domProxyExpandoSlot,
<a name="l00928"></a>00928                        <a class="code" href="../../db/da2/namespacejs.html#ad9b940e5bb3ecce76420330c9f465058">DOMProxyShadowsCheck</a> domProxyShadowsCheck);
<a name="l00929"></a>00929 
<a name="l00930"></a>00930 <span class="keywordtype">void</span> *<a class="code" href="../../db/da2/namespacejs.html#ab18ff43feac0021ddd8ccfb93c5712ed">GetDOMProxyHandlerFamily</a>();
<a name="l00931"></a>00931 uint32_t <a class="code" href="../../db/da2/namespacejs.html#accaf8b948b3a09e34ef455c6906c3862">GetDOMProxyExpandoSlot</a>();
<a name="l00932"></a>00932 <a class="code" href="../../db/da2/namespacejs.html#ad9b940e5bb3ecce76420330c9f465058">DOMProxyShadowsCheck</a> <a class="code" href="../../db/da2/namespacejs.html#a5e62a131e86c2d8cdc5ba0c3db387117">GetDOMProxyShadowsCheck</a>();
<a name="l00933"></a>00933 
<a name="l00934"></a>00934 } <span class="comment">/* namespace js */</span>
<a name="l00935"></a>00935 
<a name="l00936"></a>00936 <span class="comment">/* Implemented in jsdate.cpp. */</span>
<a name="l00937"></a>00937 
<a name="l00938"></a>00938 <span class="comment">/*</span>
<a name="l00939"></a>00939 <span class="comment"> * Detect whether the internal date value is NaN.  (Because failure is</span>
<a name="l00940"></a>00940 <span class="comment"> * out-of-band for js_DateGet*)</span>
<a name="l00941"></a>00941 <span class="comment"> */</span>
<a name="l00942"></a>00942 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l00943"></a>00943 js_DateIsValid(JSObject* obj);
<a name="l00944"></a>00944 
<a name="l00945"></a>00945 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">double</span>)
<a name="l00946"></a>00946 js_DateGetMsecSinceEpoch(JSObject *obj);
<a name="l00947"></a>00947 
<a name="l00948"></a>00948 <span class="comment">/* Implemented in jscntxt.cpp. */</span>
<a name="l00949"></a>00949 
<a name="l00950"></a>00950 <span class="comment">/*</span>
<a name="l00951"></a>00951 <span class="comment"> * Report an exception, which is currently realized as a printf-style format</span>
<a name="l00952"></a>00952 <span class="comment"> * string and its arguments.</span>
<a name="l00953"></a>00953 <span class="comment"> */</span>
<a name="l00954"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#acc54785d491972064a5473c9d6b139af">00954</a> typedef <a class="code" href="../../db/dc1/namespacexpt.html#a17cff18a1a6441f4466f5bd1eb6c9515">enum</a> <a class="code" href="../../de/dc5/jsfriendapi_8h.html#acc54785d491972064a5473c9d6b139af">JSErrNum</a> {
<a name="l00955"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a6885d2a567dda48376e27c9a28584441">00955</a> <span class="preprocessor">#define MSG_DEF(name, number, count, exception, format) \</span>
<a name="l00956"></a>00956 <span class="preprocessor">    name = number,</span>
<a name="l00957"></a>00957 <span class="preprocessor"></span><span class="preprocessor">#include &quot;js.msg&quot;</span>
<a name="l00958"></a>00958 <span class="preprocessor">#undef MSG_DEF</span>
<a name="l00959"></a>00959 <span class="preprocessor"></span>    JSErr_Limit
<a name="l00960"></a>00960 } <a class="code" href="../../de/dc5/jsfriendapi_8h.html#acc54785d491972064a5473c9d6b139af">JSErrNum</a>;
<a name="l00961"></a>00961 
<a name="l00962"></a>00962 <span class="keyword">extern</span> <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keyword">const</span> <a class="code" href="../../df/d34/struct_j_s_error_format_string.html">JSErrorFormatString</a> *)
<a name="l00963"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a38008f9ebcd87acfca726e35504b2e8d">00963</a> js_GetErrorMessage(<span class="keywordtype">void</span> *<a class="code" href="../../d2/d7d/jsapi_8h.html#ae85105f95c9c8d182e463945b7d5d58e">userRef</a>, <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <span class="keywordtype">char</span> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a38008f9ebcd87acfca726e35504b2e8d">locale</a>, <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <span class="keywordtype">unsigned</span> <a class="code" href="../../d2/d7d/jsapi_8h.html#a27a9ecd30a28791d3a375852416b0bc9">errorNumber</a>);
<a name="l00964"></a>00964 
<a name="l00965"></a>00965 <span class="comment">/* Implemented in jsclone.cpp. */</span>
<a name="l00966"></a>00966 
<a name="l00967"></a>00967 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(uint64_t)
<a name="l00968"></a>00968 js_GetSCOffset(<a class="code" href="../../d9/d28/jspubtd_8h.html#af5a78864469f4dcb61e0b3fba8724728">JSStructuredCloneWriter</a>* writer);
<a name="l00969"></a>00969 
<a name="l00970"></a>00970 <span class="comment">/* Typed Array functions, implemented in jstypedarray.cpp */</span>
<a name="l00971"></a>00971 
<a name="l00972"></a>00972 namespace js {
<a name="l00973"></a><a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html">00973</a> <span class="keyword">namespace </span><a class="code" href="../../d7/d4b/namespacemozilla_1_1dom.html#aa4a11cdb0fdd6075fc3f908a372380a8">ArrayBufferView</a> {
<a name="l00974"></a>00974 
<a name="l00975"></a><a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957">00975</a> <span class="keyword">enum</span> <a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957">ViewType</a> {
<a name="l00976"></a><a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957a957570b1864c3c48a134197b30065519">00976</a>     <a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957a957570b1864c3c48a134197b30065519">TYPE_INT8</a> = 0,
<a name="l00977"></a><a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957a2f8e6dada104be521c14c17e0647f2fa">00977</a>     <a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957a2f8e6dada104be521c14c17e0647f2fa">TYPE_UINT8</a>,
<a name="l00978"></a><a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957a5460ef7281811380f9cb3cbabb89973c">00978</a>     <a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957a5460ef7281811380f9cb3cbabb89973c">TYPE_INT16</a>,
<a name="l00979"></a><a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957a90775f2c63b5d3ab82b28e5f9554f4f1">00979</a>     <a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957a90775f2c63b5d3ab82b28e5f9554f4f1">TYPE_UINT16</a>,
<a name="l00980"></a><a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957af8dbd6b15b7a315e3f38cc3ed508b0f0">00980</a>     <a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957af8dbd6b15b7a315e3f38cc3ed508b0f0">TYPE_INT32</a>,
<a name="l00981"></a><a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957a28df785a1d925980dd8d2423d8947c03">00981</a>     <a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957a28df785a1d925980dd8d2423d8947c03">TYPE_UINT32</a>,
<a name="l00982"></a><a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957a8e80c780ceba48ea5c4962b0b9fd5951">00982</a>     <a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957a8e80c780ceba48ea5c4962b0b9fd5951">TYPE_FLOAT32</a>,
<a name="l00983"></a><a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957a28e6d6fad56aceb9c71dc85303caaed9">00983</a>     <a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957a28e6d6fad56aceb9c71dc85303caaed9">TYPE_FLOAT64</a>,
<a name="l00984"></a>00984 
<a name="l00985"></a>00985     <span class="comment">/*</span>
<a name="l00986"></a>00986 <span class="comment">     * Special type that is a uint8_t, but assignments are clamped to [0, 256).</span>
<a name="l00987"></a>00987 <span class="comment">     * Treat the raw data type as a uint8_t.</span>
<a name="l00988"></a>00988 <span class="comment">     */</span>
<a name="l00989"></a><a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957aba2a086fdd9c4aff8cd3b69f0be90cfa">00989</a>     <a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957aba2a086fdd9c4aff8cd3b69f0be90cfa">TYPE_UINT8_CLAMPED</a>,
<a name="l00990"></a>00990 
<a name="l00991"></a>00991     <span class="comment">/*</span>
<a name="l00992"></a>00992 <span class="comment">     * Type returned for a DataView. Note that there is no single element type</span>
<a name="l00993"></a>00993 <span class="comment">     * in this case.</span>
<a name="l00994"></a>00994 <span class="comment">     */</span>
<a name="l00995"></a><a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957ac4620a6746b9ca3286b53dff1031ee67">00995</a>     <a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957ac4620a6746b9ca3286b53dff1031ee67">TYPE_DATAVIEW</a>,
<a name="l00996"></a>00996 
<a name="l00997"></a><a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957a0e8c683a57770617748f10569d44ebe1">00997</a>     <a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957a0e8c683a57770617748f10569d44ebe1">TYPE_MAX</a>
<a name="l00998"></a>00998 };
<a name="l00999"></a>00999 
<a name="l01000"></a>01000 } <span class="comment">/* namespace ArrayBufferView */</span>
<a name="l01001"></a>01001 
<a name="l01002"></a>01002 <span class="comment">/*</span>
<a name="l01003"></a>01003 <span class="comment"> * A helper for building up an ArrayBuffer object&#39;s data</span>
<a name="l01004"></a>01004 <span class="comment"> * before creating the ArrayBuffer itself.  Will do doubling</span>
<a name="l01005"></a>01005 <span class="comment"> * based reallocation, up to an optional maximum growth given.</span>
<a name="l01006"></a>01006 <span class="comment"> *</span>
<a name="l01007"></a>01007 <span class="comment"> * When all the data has been appended, call getArrayBuffer,</span>
<a name="l01008"></a>01008 <span class="comment"> * passing in the JSContext* for which the ArrayBuffer object</span>
<a name="l01009"></a>01009 <span class="comment"> * is to be created.  This also implicitly resets the builder,</span>
<a name="l01010"></a>01010 <span class="comment"> * or it can be reset explicitly at any point by calling reset().</span>
<a name="l01011"></a>01011 <span class="comment"> */</span>
<a name="l01012"></a><a class="code" href="../../dc/d4a/classjs_1_1_array_buffer_builder.html">01012</a> <span class="keyword">class </span><a class="code" href="../../dc/d4a/classjs_1_1_array_buffer_builder.html">ArrayBufferBuilder</a>
<a name="l01013"></a>01013 {
<a name="l01014"></a>01014     <span class="keywordtype">void</span> *rawcontents_;
<a name="l01015"></a>01015     uint8_t *dataptr_;
<a name="l01016"></a>01016     uint32_t capacity_;
<a name="l01017"></a>01017     uint32_t length_;
<a name="l01018"></a>01018   <span class="keyword">public</span>:
<a name="l01019"></a><a class="code" href="../../dc/d4a/classjs_1_1_array_buffer_builder.html#a09a957eb7457970dd3ad1d702dc78cc5">01019</a>     <a class="code" href="../../dc/d4a/classjs_1_1_array_buffer_builder.html">ArrayBufferBuilder</a>()
<a name="l01020"></a>01020         : rawcontents_(<a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),
<a name="l01021"></a>01021           dataptr_(<a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),
<a name="l01022"></a>01022           capacity_(0),
<a name="l01023"></a>01023           length_(0)
<a name="l01024"></a>01024     {
<a name="l01025"></a>01025     }
<a name="l01026"></a>01026 
<a name="l01027"></a><a class="code" href="../../dc/d4a/classjs_1_1_array_buffer_builder.html#a09d9d8a98c227e7419465ce2e0ab263e">01027</a>     <a class="code" href="../../dc/d4a/classjs_1_1_array_buffer_builder.html#a09d9d8a98c227e7419465ce2e0ab263e">~ArrayBufferBuilder</a>() {
<a name="l01028"></a>01028         <a class="code" href="../../db/dac/mock__picker_8js.html#aed26045338f591d889d2a8bf699451ef">reset</a>();
<a name="l01029"></a>01029     }
<a name="l01030"></a>01030 
<a name="l01031"></a><a class="code" href="../../dc/d4a/classjs_1_1_array_buffer_builder.html#ae9cdffbc3dafe8e3a3a348ca589e529c">01031</a>     <span class="keywordtype">void</span> <a class="code" href="../../dc/d4a/classjs_1_1_array_buffer_builder.html#ae9cdffbc3dafe8e3a3a348ca589e529c">reset</a>() {
<a name="l01032"></a>01032         <span class="keywordflow">if</span> (rawcontents_)
<a name="l01033"></a>01033             <a class="code" href="../../d2/d28/_character_encoding_8h.html#ae39ed1196945a4e30fefdc3586aa7057">JS_free</a>(<a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, rawcontents_);
<a name="l01034"></a>01034         rawcontents_ = dataptr_ = <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01035"></a>01035         capacity_ = length_ = 0;
<a name="l01036"></a>01036     }
<a name="l01037"></a>01037 
<a name="l01038"></a>01038     <span class="comment">// will truncate if newcap is &lt; length()</span>
<a name="l01039"></a><a class="code" href="../../dc/d4a/classjs_1_1_array_buffer_builder.html#ae01f1e4e5dc60e5f8380744fc9c78ba3">01039</a>     <span class="keywordtype">bool</span> <a class="code" href="../../dc/d4a/classjs_1_1_array_buffer_builder.html#ae01f1e4e5dc60e5f8380744fc9c78ba3">setCapacity</a>(uint32_t newcap) {
<a name="l01040"></a>01040         <span class="keywordflow">if</span> (!JS_ReallocateArrayBufferContents(<a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, newcap, &amp;rawcontents_, &amp;dataptr_))
<a name="l01041"></a>01041             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01042"></a>01042 
<a name="l01043"></a>01043         capacity_ = newcap;
<a name="l01044"></a>01044         <span class="keywordflow">if</span> (length_ &gt; newcap)
<a name="l01045"></a>01045             length_ = newcap;
<a name="l01046"></a>01046 
<a name="l01047"></a>01047         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01048"></a>01048     }
<a name="l01049"></a>01049 
<a name="l01050"></a>01050     <span class="comment">// Append datalen bytes from data to the current buffer.  If we</span>
<a name="l01051"></a>01051     <span class="comment">// need to grow the buffer, grow by doubling the size up to a</span>
<a name="l01052"></a>01052     <span class="comment">// maximum of maxgrowth (if given).  If datalen is greater than</span>
<a name="l01053"></a>01053     <span class="comment">// what the new capacity would end up as, then grow by datalen.</span>
<a name="l01054"></a>01054     <span class="comment">//</span>
<a name="l01055"></a>01055     <span class="comment">// The data parameter must not overlap with anything beyond the</span>
<a name="l01056"></a>01056     <span class="comment">// builder&#39;s current valid contents [0..length)</span>
<a name="l01057"></a><a class="code" href="../../dc/d4a/classjs_1_1_array_buffer_builder.html#ad80bc928051672e2e1e13c976f10a92d">01057</a>     <span class="keywordtype">bool</span> <a class="code" href="../../dc/d4a/classjs_1_1_array_buffer_builder.html#ad80bc928051672e2e1e13c976f10a92d">append</a>(<span class="keyword">const</span> uint8_t *newdata, uint32_t <a class="code" href="../../d7/d27/jpeglib_8h.html#a37893c863bbe3ef78feca71570de3017">datalen</a>, uint32_t maxgrowth = 0) {
<a name="l01058"></a>01058         <span class="keywordflow">if</span> (length_ + datalen &gt; capacity_) {
<a name="l01059"></a>01059             uint32_t newcap;
<a name="l01060"></a>01060             <span class="comment">// double while under maxgrowth or if not specified</span>
<a name="l01061"></a>01061             <span class="keywordflow">if</span> (!maxgrowth || capacity_ &lt; maxgrowth)
<a name="l01062"></a>01062                 newcap = capacity_ * 2;
<a name="l01063"></a>01063             <span class="keywordflow">else</span>
<a name="l01064"></a>01064                 newcap = capacity_ + maxgrowth;
<a name="l01065"></a>01065 
<a name="l01066"></a>01066             <span class="comment">// but make sure there&#39;s always enough to satisfy our request</span>
<a name="l01067"></a>01067             <span class="keywordflow">if</span> (newcap &lt; length_ + datalen)
<a name="l01068"></a>01068                 newcap = length_ + <a class="code" href="../../d7/d27/jpeglib_8h.html#a37893c863bbe3ef78feca71570de3017">datalen</a>;
<a name="l01069"></a>01069 
<a name="l01070"></a>01070             <span class="comment">// did we overflow?</span>
<a name="l01071"></a>01071             <span class="keywordflow">if</span> (newcap &lt; capacity_)
<a name="l01072"></a>01072                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01073"></a>01073 
<a name="l01074"></a>01074             <span class="keywordflow">if</span> (!setCapacity(newcap))
<a name="l01075"></a>01075                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01076"></a>01076         }
<a name="l01077"></a>01077 
<a name="l01078"></a>01078         <span class="comment">// assert that the region isn&#39;t overlapping so we can memcpy;</span>
<a name="l01079"></a>01079         <a class="code" href="../../db/d2a/_utility_8h.html#a806452d73a088062220b0f84b77587fa">JS_ASSERT</a>(!areOverlappingRegions(newdata, datalen, dataptr_ + length_, datalen));
<a name="l01080"></a>01080 
<a name="l01081"></a>01081         memcpy(dataptr_ + length_, newdata, datalen);
<a name="l01082"></a>01082         length_ += <a class="code" href="../../d7/d27/jpeglib_8h.html#a37893c863bbe3ef78feca71570de3017">datalen</a>;
<a name="l01083"></a>01083 
<a name="l01084"></a>01084         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01085"></a>01085     }
<a name="l01086"></a>01086 
<a name="l01087"></a><a class="code" href="../../dc/d4a/classjs_1_1_array_buffer_builder.html#a5fe43d1fd5bb0c94f181a23d58d029fc">01087</a>     uint8_t *<a class="code" href="../../dc/d4a/classjs_1_1_array_buffer_builder.html#a5fe43d1fd5bb0c94f181a23d58d029fc">data</a>() {
<a name="l01088"></a>01088         <span class="keywordflow">return</span> dataptr_;
<a name="l01089"></a>01089     }
<a name="l01090"></a>01090 
<a name="l01091"></a><a class="code" href="../../dc/d4a/classjs_1_1_array_buffer_builder.html#a82ef1d3f4a53f680618b96587a81b544">01091</a>     uint32_t <a class="code" href="../../dc/d4a/classjs_1_1_array_buffer_builder.html#a82ef1d3f4a53f680618b96587a81b544">length</a>() {
<a name="l01092"></a>01092         <span class="keywordflow">return</span> length_;
<a name="l01093"></a>01093     }
<a name="l01094"></a>01094 
<a name="l01095"></a><a class="code" href="../../dc/d4a/classjs_1_1_array_buffer_builder.html#a2b42b349c75f2268f7ec418ea8d8a655">01095</a>     uint32_t <a class="code" href="../../dc/d4a/classjs_1_1_array_buffer_builder.html#a2b42b349c75f2268f7ec418ea8d8a655">capacity</a>() {
<a name="l01096"></a>01096         <span class="keywordflow">return</span> capacity_;
<a name="l01097"></a>01097     }
<a name="l01098"></a>01098 
<a name="l01099"></a><a class="code" href="../../dc/d4a/classjs_1_1_array_buffer_builder.html#a58fc9f17a31c3d542e6db7983168cc23">01099</a>     JSObject* <a class="code" href="../../dc/d4a/classjs_1_1_array_buffer_builder.html#a58fc9f17a31c3d542e6db7983168cc23">getArrayBuffer</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx) {
<a name="l01100"></a>01100         <span class="comment">// we need to check for length_ == 0, because nothing may have been</span>
<a name="l01101"></a>01101         <span class="comment">// added</span>
<a name="l01102"></a>01102         <span class="keywordflow">if</span> (capacity_ &gt; length_ || length_ == 0) {
<a name="l01103"></a>01103             <span class="keywordflow">if</span> (!setCapacity(length_))
<a name="l01104"></a>01104                 <span class="keywordflow">return</span> <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01105"></a>01105         }
<a name="l01106"></a>01106 
<a name="l01107"></a>01107         JSObject* obj = JS_NewArrayBufferWithContents(cx, rawcontents_);
<a name="l01108"></a>01108         <span class="keywordflow">if</span> (!obj)
<a name="l01109"></a>01109             <span class="keywordflow">return</span> <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01110"></a>01110 
<a name="l01111"></a>01111         rawcontents_ = dataptr_ = <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01112"></a>01112         length_ = capacity_ = 0;
<a name="l01113"></a>01113 
<a name="l01114"></a>01114         <span class="keywordflow">return</span> <a class="code" href="../../d2/d7d/jsapi_8h.html#a2219cf9467e8547184b3cf2b051e8067">obj</a>;
<a name="l01115"></a>01115     }
<a name="l01116"></a>01116 
<a name="l01117"></a>01117 <span class="keyword">protected</span>:
<a name="l01118"></a>01118 
<a name="l01119"></a><a class="code" href="../../dc/d4a/classjs_1_1_array_buffer_builder.html#afea5fa73b38ece0c08124d3beebbdb66">01119</a>     <span class="keyword">static</span> <span class="keywordtype">bool</span> areOverlappingRegions(<span class="keyword">const</span> uint8_t *start1, uint32_t length1,
<a name="l01120"></a>01120                                       <span class="keyword">const</span> uint8_t *start2, uint32_t length2)
<a name="l01121"></a>01121     {
<a name="l01122"></a>01122         <span class="keyword">const</span> uint8_t *end1 = start1 + length1;
<a name="l01123"></a>01123         <span class="keyword">const</span> uint8_t *end2 = start2 + length2;
<a name="l01124"></a>01124 
<a name="l01125"></a>01125         <span class="keyword">const</span> uint8_t *max_start = start1 &gt; start2 ? start1 : start2;
<a name="l01126"></a>01126         <span class="keyword">const</span> uint8_t *min_end   = end1 &lt; end2 ? end1 : end2;
<a name="l01127"></a>01127 
<a name="l01128"></a>01128         <span class="keywordflow">return</span> max_start &lt; min_end;
<a name="l01129"></a>01129     }
<a name="l01130"></a>01130 };
<a name="l01131"></a>01131 
<a name="l01132"></a>01132 } <span class="comment">/* namespace js */</span>
<a name="l01133"></a>01133 
<a name="l01134"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a067994f4afbe51969aee2b7ba4a4ef53">01134</a> <span class="keyword">typedef</span> <a class="code" href="../../d6/d60/namespacejs_1_1_array_buffer_view.html#a0edbb431502e883284da616794d18957">js::ArrayBufferView::ViewType</a> <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a067994f4afbe51969aee2b7ba4a4ef53">JSArrayBufferViewType</a>;
<a name="l01135"></a>01135 
<a name="l01136"></a>01136 <span class="comment">/*</span>
<a name="l01137"></a>01137 <span class="comment"> * Create a new typed array with nelements elements.</span>
<a name="l01138"></a>01138 <span class="comment"> *</span>
<a name="l01139"></a>01139 <span class="comment"> * These functions (except the WithBuffer variants) fill in the array with zeros.</span>
<a name="l01140"></a>01140 <span class="comment"> */</span>
<a name="l01141"></a>01141 
<a name="l01142"></a>01142 <span class="keyword">extern</span> <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01143"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a1be51f8c6116dbddd28327d27ce35758">01143</a> JS_NewInt8Array(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, uint32_t <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a1be51f8c6116dbddd28327d27ce35758">nelements</a>);
<a name="l01144"></a>01144 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01145"></a>01145 JS_NewUint8Array(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, uint32_t nelements);
<a name="l01146"></a>01146 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01147"></a>01147 JS_NewUint8ClampedArray(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, uint32_t nelements);
<a name="l01148"></a>01148 
<a name="l01149"></a>01149 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01150"></a>01150 JS_NewInt16Array(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, uint32_t nelements);
<a name="l01151"></a>01151 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01152"></a>01152 JS_NewUint16Array(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, uint32_t nelements);
<a name="l01153"></a>01153 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01154"></a>01154 JS_NewInt32Array(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, uint32_t nelements);
<a name="l01155"></a>01155 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01156"></a>01156 JS_NewUint32Array(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, uint32_t nelements);
<a name="l01157"></a>01157 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01158"></a>01158 JS_NewFloat32Array(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, uint32_t nelements);
<a name="l01159"></a>01159 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01160"></a>01160 JS_NewFloat64Array(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, uint32_t nelements);
<a name="l01161"></a>01161 
<a name="l01162"></a>01162 <span class="comment">/*</span>
<a name="l01163"></a>01163 <span class="comment"> * Create a new typed array and copy in values from the given object. The</span>
<a name="l01164"></a>01164 <span class="comment"> * object is used as if it were an array; that is, the new array (if</span>
<a name="l01165"></a>01165 <span class="comment"> * successfully created) will have length given by array.length, and its</span>
<a name="l01166"></a>01166 <span class="comment"> * elements will be those specified by array[0], array[1], and so on, after</span>
<a name="l01167"></a>01167 <span class="comment"> * conversion to the typed array element type.</span>
<a name="l01168"></a>01168 <span class="comment"> */</span>
<a name="l01169"></a>01169 
<a name="l01170"></a>01170 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01171"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#ad02ced9aca42ac6266a47ec4bf01d9c6">01171</a> JS_NewInt8ArrayFromArray(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *<a class="code" href="../../de/dc5/jsfriendapi_8h.html#ad02ced9aca42ac6266a47ec4bf01d9c6">array</a>);
<a name="l01172"></a>01172 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01173"></a>01173 JS_NewUint8ArrayFromArray(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *array);
<a name="l01174"></a>01174 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01175"></a>01175 JS_NewUint8ClampedArrayFromArray(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *array);
<a name="l01176"></a>01176 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01177"></a>01177 JS_NewInt16ArrayFromArray(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *array);
<a name="l01178"></a>01178 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01179"></a>01179 JS_NewUint16ArrayFromArray(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *array);
<a name="l01180"></a>01180 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01181"></a>01181 JS_NewInt32ArrayFromArray(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *array);
<a name="l01182"></a>01182 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01183"></a>01183 JS_NewUint32ArrayFromArray(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *array);
<a name="l01184"></a>01184 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01185"></a>01185 JS_NewFloat32ArrayFromArray(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *array);
<a name="l01186"></a>01186 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01187"></a>01187 JS_NewFloat64ArrayFromArray(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *array);
<a name="l01188"></a>01188 
<a name="l01189"></a>01189 <span class="comment">/*</span>
<a name="l01190"></a>01190 <span class="comment"> * Create a new typed array using the given ArrayBuffer for storage.  The</span>
<a name="l01191"></a>01191 <span class="comment"> * length value is optional; if -1 is passed, enough elements to use up the</span>
<a name="l01192"></a>01192 <span class="comment"> * remainder of the byte array is used as the default value.</span>
<a name="l01193"></a>01193 <span class="comment"> */</span>
<a name="l01194"></a>01194 
<a name="l01195"></a>01195 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01196"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a5c11b86300cc61c8d287ba2c6b636a21">01196</a> JS_NewInt8ArrayWithBuffer(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *<a class="code" href="../../de/dc5/jsfriendapi_8h.html#a2fc788980a31bacd8773840c28378f25">arrayBuffer</a>,
<a name="l01197"></a>01197                           uint32_t <a class="code" href="../../de/dc5/jsfriendapi_8h.html#ad0aeef0a6118e64249b220220b7e6aa9">byteOffset</a>, int32_t length);
<a name="l01198"></a>01198 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01199"></a>01199 JS_NewUint8ArrayWithBuffer(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *arrayBuffer,
<a name="l01200"></a>01200                            uint32_t byteOffset, int32_t length);
<a name="l01201"></a>01201 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01202"></a>01202 JS_NewUint8ClampedArrayWithBuffer(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *arrayBuffer,
<a name="l01203"></a>01203                                   uint32_t byteOffset, int32_t length);
<a name="l01204"></a>01204 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01205"></a>01205 JS_NewInt16ArrayWithBuffer(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *arrayBuffer,
<a name="l01206"></a>01206                            uint32_t byteOffset, int32_t length);
<a name="l01207"></a>01207 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01208"></a>01208 JS_NewUint16ArrayWithBuffer(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *arrayBuffer,
<a name="l01209"></a>01209                             uint32_t byteOffset, int32_t length);
<a name="l01210"></a>01210 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01211"></a>01211 JS_NewInt32ArrayWithBuffer(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *arrayBuffer,
<a name="l01212"></a>01212                            uint32_t byteOffset, int32_t length);
<a name="l01213"></a>01213 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01214"></a>01214 JS_NewUint32ArrayWithBuffer(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *arrayBuffer,
<a name="l01215"></a>01215                             uint32_t byteOffset, int32_t length);
<a name="l01216"></a>01216 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01217"></a>01217 JS_NewFloat32ArrayWithBuffer(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *arrayBuffer,
<a name="l01218"></a>01218                              uint32_t byteOffset, int32_t length);
<a name="l01219"></a>01219 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01220"></a>01220 JS_NewFloat64ArrayWithBuffer(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *arrayBuffer,
<a name="l01221"></a>01221                              uint32_t byteOffset, int32_t length);
<a name="l01222"></a>01222 
<a name="l01223"></a>01223 <span class="comment">/*</span>
<a name="l01224"></a>01224 <span class="comment"> * Create a new ArrayBuffer with the given byte length.</span>
<a name="l01225"></a>01225 <span class="comment"> */</span>
<a name="l01226"></a>01226 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01227"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a80c8d9afd27a344ca543d05abe4209b0">01227</a> JS_NewArrayBuffer(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, uint32_t <a class="code" href="../../d2/d7d/jsapi_8h.html#a80c8d9afd27a344ca543d05abe4209b0">nbytes</a>);
<a name="l01228"></a>01228 
<a name="l01229"></a>01229 <span class="comment">/*</span>
<a name="l01230"></a>01230 <span class="comment"> * Check whether obj supports JS_GetTypedArray* APIs. Note that this may return</span>
<a name="l01231"></a>01231 <span class="comment"> * false if a security wrapper is encountered that denies the unwrapping. If</span>
<a name="l01232"></a>01232 <span class="comment"> * this test or one of the JS_Is*Array tests succeeds, then it is safe to call</span>
<a name="l01233"></a>01233 <span class="comment"> * the various accessor JSAPI calls defined below.</span>
<a name="l01234"></a>01234 <span class="comment"> */</span>
<a name="l01235"></a>01235 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l01236"></a>01236 JS_IsTypedArrayObject(JSObject *obj);
<a name="l01237"></a>01237 
<a name="l01238"></a>01238 <span class="comment">/*</span>
<a name="l01239"></a>01239 <span class="comment"> * Check whether obj supports JS_GetArrayBufferView* APIs. Note that this may</span>
<a name="l01240"></a>01240 <span class="comment"> * return false if a security wrapper is encountered that denies the</span>
<a name="l01241"></a>01241 <span class="comment"> * unwrapping. If this test or one of the more specific tests succeeds, then it</span>
<a name="l01242"></a>01242 <span class="comment"> * is safe to call the various ArrayBufferView accessor JSAPI calls defined</span>
<a name="l01243"></a>01243 <span class="comment"> * below.</span>
<a name="l01244"></a>01244 <span class="comment"> */</span>
<a name="l01245"></a>01245 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l01246"></a>01246 JS_IsArrayBufferViewObject(JSObject *obj);
<a name="l01247"></a>01247 
<a name="l01248"></a>01248 <span class="comment">/*</span>
<a name="l01249"></a>01249 <span class="comment"> * Test for specific typed array types (ArrayBufferView subtypes)</span>
<a name="l01250"></a>01250 <span class="comment"> */</span>
<a name="l01251"></a>01251 
<a name="l01252"></a>01252 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l01253"></a>01253 JS_IsInt8Array(JSObject *obj);
<a name="l01254"></a>01254 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l01255"></a>01255 JS_IsUint8Array(JSObject *obj);
<a name="l01256"></a>01256 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l01257"></a>01257 JS_IsUint8ClampedArray(JSObject *obj);
<a name="l01258"></a>01258 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l01259"></a>01259 JS_IsInt16Array(JSObject *obj);
<a name="l01260"></a>01260 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l01261"></a>01261 JS_IsUint16Array(JSObject *obj);
<a name="l01262"></a>01262 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l01263"></a>01263 JS_IsInt32Array(JSObject *obj);
<a name="l01264"></a>01264 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l01265"></a>01265 JS_IsUint32Array(JSObject *obj);
<a name="l01266"></a>01266 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l01267"></a>01267 JS_IsFloat32Array(JSObject *obj);
<a name="l01268"></a>01268 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l01269"></a>01269 JS_IsFloat64Array(JSObject *obj);
<a name="l01270"></a>01270 
<a name="l01271"></a>01271 <span class="comment">/*</span>
<a name="l01272"></a>01272 <span class="comment"> * Unwrap Typed arrays all at once. Return NULL without throwing if the object</span>
<a name="l01273"></a>01273 <span class="comment"> * cannot be viewed as the correct typed array, or the typed array object on</span>
<a name="l01274"></a>01274 <span class="comment"> * success, filling both outparameters.</span>
<a name="l01275"></a>01275 <span class="comment"> */</span>
<a name="l01276"></a>01276 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01277"></a>01277 JS_GetObjectAsInt8Array(JSObject *obj, uint32_t *length, int8_t **data);
<a name="l01278"></a>01278 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01279"></a>01279 JS_GetObjectAsUint8Array(JSObject *obj, uint32_t *length, uint8_t **data);
<a name="l01280"></a>01280 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01281"></a>01281 JS_GetObjectAsUint8ClampedArray(JSObject *obj, uint32_t *length, uint8_t **data);
<a name="l01282"></a>01282 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01283"></a>01283 JS_GetObjectAsInt16Array(JSObject *obj, uint32_t *length, int16_t **data);
<a name="l01284"></a>01284 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01285"></a>01285 JS_GetObjectAsUint16Array(JSObject *obj, uint32_t *length, uint16_t **data);
<a name="l01286"></a>01286 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01287"></a>01287 JS_GetObjectAsInt32Array(JSObject *obj, uint32_t *length, int32_t **data);
<a name="l01288"></a>01288 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01289"></a>01289 JS_GetObjectAsUint32Array(JSObject *obj, uint32_t *length, uint32_t **data);
<a name="l01290"></a>01290 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01291"></a>01291 JS_GetObjectAsFloat32Array(JSObject *obj, uint32_t *length, <span class="keywordtype">float</span> **data);
<a name="l01292"></a>01292 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01293"></a>01293 JS_GetObjectAsFloat64Array(JSObject *obj, uint32_t *length, <span class="keywordtype">double</span> **data);
<a name="l01294"></a>01294 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01295"></a>01295 JS_GetObjectAsArrayBufferView(JSObject *obj, uint32_t *length, uint8_t **data);
<a name="l01296"></a>01296 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01297"></a>01297 JS_GetObjectAsArrayBuffer(JSObject *obj, uint32_t *length, uint8_t **data);
<a name="l01298"></a>01298 
<a name="l01299"></a>01299 <span class="comment">/*</span>
<a name="l01300"></a>01300 <span class="comment"> * Get the type of elements in a typed array, or TYPE_DATAVIEW if a DataView.</span>
<a name="l01301"></a>01301 <span class="comment"> *</span>
<a name="l01302"></a>01302 <span class="comment"> * |obj| must have passed a JS_IsArrayBufferView/JS_Is*Array test, or somehow</span>
<a name="l01303"></a>01303 <span class="comment"> * be known that it would pass such a test: it is an ArrayBufferView or a</span>
<a name="l01304"></a>01304 <span class="comment"> * wrapper of an ArrayBufferView, and the unwrapping will succeed.</span>
<a name="l01305"></a>01305 <span class="comment"> */</span>
<a name="l01306"></a>01306 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSArrayBufferViewType)
<a name="l01307"></a>01307 JS_GetArrayBufferViewType(JSObject *obj);
<a name="l01308"></a>01308 
<a name="l01309"></a>01309 <span class="comment">/*</span>
<a name="l01310"></a>01310 <span class="comment"> * Check whether obj supports the JS_GetArrayBuffer* APIs. Note that this may</span>
<a name="l01311"></a>01311 <span class="comment"> * return false if a security wrapper is encountered that denies the</span>
<a name="l01312"></a>01312 <span class="comment"> * unwrapping. If this test succeeds, then it is safe to call the various</span>
<a name="l01313"></a>01313 <span class="comment"> * accessor JSAPI calls defined below.</span>
<a name="l01314"></a>01314 <span class="comment"> */</span>
<a name="l01315"></a>01315 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l01316"></a>01316 JS_IsArrayBufferObject(JSObject *obj);
<a name="l01317"></a>01317 
<a name="l01318"></a>01318 <span class="comment">/*</span>
<a name="l01319"></a>01319 <span class="comment"> * Return the available byte length of an array buffer.</span>
<a name="l01320"></a>01320 <span class="comment"> *</span>
<a name="l01321"></a>01321 <span class="comment"> * |obj| must have passed a JS_IsArrayBufferObject test, or somehow be known</span>
<a name="l01322"></a>01322 <span class="comment"> * that it would pass such a test: it is an ArrayBuffer or a wrapper of an</span>
<a name="l01323"></a>01323 <span class="comment"> * ArrayBuffer, and the unwrapping will succeed.</span>
<a name="l01324"></a>01324 <span class="comment"> */</span>
<a name="l01325"></a>01325 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(uint32_t)
<a name="l01326"></a>01326 JS_GetArrayBufferByteLength(JSObject *obj);
<a name="l01327"></a>01327 
<a name="l01328"></a>01328 <span class="comment">/*</span>
<a name="l01329"></a>01329 <span class="comment"> * Return a pointer to an array buffer&#39;s data. The buffer is still owned by the</span>
<a name="l01330"></a>01330 <span class="comment"> * array buffer object, and should not be modified on another thread. The</span>
<a name="l01331"></a>01331 <span class="comment"> * returned pointer is stable across GCs.</span>
<a name="l01332"></a>01332 <span class="comment"> *</span>
<a name="l01333"></a>01333 <span class="comment"> * |obj| must have passed a JS_IsArrayBufferObject test, or somehow be known</span>
<a name="l01334"></a>01334 <span class="comment"> * that it would pass such a test: it is an ArrayBuffer or a wrapper of an</span>
<a name="l01335"></a>01335 <span class="comment"> * ArrayBuffer, and the unwrapping will succeed.</span>
<a name="l01336"></a>01336 <span class="comment"> */</span>
<a name="l01337"></a>01337 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(uint8_t *)
<a name="l01338"></a>01338 JS_GetArrayBufferData(JSObject *obj);
<a name="l01339"></a>01339 
<a name="l01340"></a>01340 <span class="comment">/*</span>
<a name="l01341"></a>01341 <span class="comment"> * Return the number of elements in a typed array.</span>
<a name="l01342"></a>01342 <span class="comment"> *</span>
<a name="l01343"></a>01343 <span class="comment"> * |obj| must have passed a JS_IsTypedArrayObject/JS_Is*Array test, or somehow</span>
<a name="l01344"></a>01344 <span class="comment"> * be known that it would pass such a test: it is a typed array or a wrapper of</span>
<a name="l01345"></a>01345 <span class="comment"> * a typed array, and the unwrapping will succeed.</span>
<a name="l01346"></a>01346 <span class="comment"> */</span>
<a name="l01347"></a>01347 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(uint32_t)
<a name="l01348"></a>01348 JS_GetTypedArrayLength(JSObject *obj);
<a name="l01349"></a>01349 
<a name="l01350"></a>01350 <span class="comment">/*</span>
<a name="l01351"></a>01351 <span class="comment"> * Return the byte offset from the start of an array buffer to the start of a</span>
<a name="l01352"></a>01352 <span class="comment"> * typed array view.</span>
<a name="l01353"></a>01353 <span class="comment"> *</span>
<a name="l01354"></a>01354 <span class="comment"> * |obj| must have passed a JS_IsTypedArrayObject/JS_Is*Array test, or somehow</span>
<a name="l01355"></a>01355 <span class="comment"> * be known that it would pass such a test: it is a typed array or a wrapper of</span>
<a name="l01356"></a>01356 <span class="comment"> * a typed array, and the unwrapping will succeed.</span>
<a name="l01357"></a>01357 <span class="comment"> */</span>
<a name="l01358"></a>01358 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(uint32_t)
<a name="l01359"></a>01359 JS_GetTypedArrayByteOffset(JSObject *obj);
<a name="l01360"></a>01360 
<a name="l01361"></a>01361 <span class="comment">/*</span>
<a name="l01362"></a>01362 <span class="comment"> * Return the byte length of a typed array.</span>
<a name="l01363"></a>01363 <span class="comment"> *</span>
<a name="l01364"></a>01364 <span class="comment"> * |obj| must have passed a JS_IsTypedArrayObject/JS_Is*Array test, or somehow</span>
<a name="l01365"></a>01365 <span class="comment"> * be known that it would pass such a test: it is a typed array or a wrapper of</span>
<a name="l01366"></a>01366 <span class="comment"> * a typed array, and the unwrapping will succeed.</span>
<a name="l01367"></a>01367 <span class="comment"> */</span>
<a name="l01368"></a>01368 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(uint32_t)
<a name="l01369"></a>01369 JS_GetTypedArrayByteLength(JSObject *obj);
<a name="l01370"></a>01370 
<a name="l01371"></a>01371 <span class="comment">/*</span>
<a name="l01372"></a>01372 <span class="comment"> * Check whether obj supports JS_ArrayBufferView* APIs. Note that this may</span>
<a name="l01373"></a>01373 <span class="comment"> * return false if a security wrapper is encountered that denies the</span>
<a name="l01374"></a>01374 <span class="comment"> * unwrapping.</span>
<a name="l01375"></a>01375 <span class="comment"> */</span>
<a name="l01376"></a>01376 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l01377"></a>01377 JS_IsArrayBufferViewObject(JSObject *obj);
<a name="l01378"></a>01378 
<a name="l01379"></a>01379 <span class="comment">/*</span>
<a name="l01380"></a>01380 <span class="comment"> * More generic name for JS_GetTypedArrayByteLength to cover DataViews as well</span>
<a name="l01381"></a>01381 <span class="comment"> */</span>
<a name="l01382"></a>01382 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(uint32_t)
<a name="l01383"></a>01383 JS_GetArrayBufferViewByteLength(JSObject *obj);
<a name="l01384"></a>01384 
<a name="l01385"></a>01385 <span class="comment">/*</span>
<a name="l01386"></a>01386 <span class="comment"> * Return a pointer to the start of the data referenced by a typed array. The</span>
<a name="l01387"></a>01387 <span class="comment"> * data is still owned by the typed array, and should not be modified on</span>
<a name="l01388"></a>01388 <span class="comment"> * another thread.</span>
<a name="l01389"></a>01389 <span class="comment"> *</span>
<a name="l01390"></a>01390 <span class="comment"> * |obj| must have passed a JS_Is*Array test, or somehow be known that it would</span>
<a name="l01391"></a>01391 <span class="comment"> * pass such a test: it is a typed array or a wrapper of a typed array, and the</span>
<a name="l01392"></a>01392 <span class="comment"> * unwrapping will succeed.</span>
<a name="l01393"></a>01393 <span class="comment"> */</span>
<a name="l01394"></a>01394 
<a name="l01395"></a>01395 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(int8_t *)
<a name="l01396"></a>01396 JS_GetInt8ArrayData(JSObject *obj);
<a name="l01397"></a>01397 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(uint8_t *)
<a name="l01398"></a>01398 JS_GetUint8ArrayData(JSObject *obj);
<a name="l01399"></a>01399 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(uint8_t *)
<a name="l01400"></a>01400 JS_GetUint8ClampedArrayData(JSObject *obj);
<a name="l01401"></a>01401 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(int16_t *)
<a name="l01402"></a>01402 JS_GetInt16ArrayData(JSObject *obj);
<a name="l01403"></a>01403 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(uint16_t *)
<a name="l01404"></a>01404 JS_GetUint16ArrayData(JSObject *obj);
<a name="l01405"></a>01405 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(int32_t *)
<a name="l01406"></a>01406 JS_GetInt32ArrayData(JSObject *obj);
<a name="l01407"></a>01407 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(uint32_t *)
<a name="l01408"></a>01408 JS_GetUint32ArrayData(JSObject *obj);
<a name="l01409"></a>01409 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">float</span> *)
<a name="l01410"></a>01410 JS_GetFloat32ArrayData(JSObject *obj);
<a name="l01411"></a>01411 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">double</span> *)
<a name="l01412"></a>01412 JS_GetFloat64ArrayData(JSObject *obj);
<a name="l01413"></a>01413 
<a name="l01414"></a>01414 <span class="comment">/*</span>
<a name="l01415"></a>01415 <span class="comment"> * Same as above, but for any kind of ArrayBufferView. Prefer the type-specific</span>
<a name="l01416"></a>01416 <span class="comment"> * versions when possible.</span>
<a name="l01417"></a>01417 <span class="comment"> */</span>
<a name="l01418"></a>01418 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span> *)
<a name="l01419"></a>01419 JS_GetArrayBufferViewData(JSObject *obj);
<a name="l01420"></a>01420 
<a name="l01421"></a>01421 <span class="comment">/*</span>
<a name="l01422"></a>01422 <span class="comment"> * Return the ArrayBuffer underlying an ArrayBufferView. If the buffer has been</span>
<a name="l01423"></a>01423 <span class="comment"> * neutered, this will still return the neutered buffer. |obj| must be an</span>
<a name="l01424"></a>01424 <span class="comment"> * object that would return true for JS_IsArrayBufferViewObject().</span>
<a name="l01425"></a>01425 <span class="comment"> */</span>
<a name="l01426"></a>01426 extern <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(JSObject *)
<a name="l01427"></a>01427 JS_GetArrayBufferViewBuffer(JSObject *obj);
<a name="l01428"></a>01428 
<a name="l01429"></a>01429 <span class="comment">/*</span>
<a name="l01430"></a>01430 <span class="comment"> * Check whether obj supports JS_GetDataView* APIs.</span>
<a name="l01431"></a>01431 <span class="comment"> */</span>
<a name="l01432"></a>01432 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l01433"></a>01433 <a class="code" href="../../de/dc5/jsfriendapi_8h.html#adc8641f6bde19cc4896f1331a7f26c05">JS_IsDataViewObject</a>(JSObject *obj);
<a name="l01434"></a>01434 
<a name="l01435"></a>01435 <span class="comment">/*</span>
<a name="l01436"></a>01436 <span class="comment"> * Return the byte offset of a data view into its array buffer. |obj| must be a</span>
<a name="l01437"></a>01437 <span class="comment"> * DataView.</span>
<a name="l01438"></a>01438 <span class="comment"> *</span>
<a name="l01439"></a>01439 <span class="comment"> * |obj| must have passed a JS_IsDataViewObject test, or somehow be known that</span>
<a name="l01440"></a>01440 <span class="comment"> * it would pass such a test: it is a data view or a wrapper of a data view,</span>
<a name="l01441"></a>01441 <span class="comment"> * and the unwrapping will succeed.</span>
<a name="l01442"></a>01442 <span class="comment"> */</span>
<a name="l01443"></a>01443 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(uint32_t)
<a name="l01444"></a>01444 <a class="code" href="../../de/dc5/jsfriendapi_8h.html#ae40853b310b4e83680c71380cff368bd">JS_GetDataViewByteOffset</a>(JSObject *obj);
<a name="l01445"></a>01445 
<a name="l01446"></a>01446 <span class="comment">/*</span>
<a name="l01447"></a>01447 <span class="comment"> * Return the byte length of a data view.</span>
<a name="l01448"></a>01448 <span class="comment"> *</span>
<a name="l01449"></a>01449 <span class="comment"> * |obj| must have passed a JS_IsDataViewObject test, or somehow be known that</span>
<a name="l01450"></a>01450 <span class="comment"> * it would pass such a test: it is a data view or a wrapper of a data view,</span>
<a name="l01451"></a>01451 <span class="comment"> * and the unwrapping will succeed. If cx is NULL, then DEBUG builds may be</span>
<a name="l01452"></a>01452 <span class="comment"> * unable to assert when unwrapping should be disallowed.</span>
<a name="l01453"></a>01453 <span class="comment"> */</span>
<a name="l01454"></a>01454 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(uint32_t)
<a name="l01455"></a>01455 <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a65924a28a2b3c0231e176a777b4f1cea">JS_GetDataViewByteLength</a>(JSObject *obj);
<a name="l01456"></a>01456 
<a name="l01457"></a>01457 <span class="comment">/*</span>
<a name="l01458"></a>01458 <span class="comment"> * Return a pointer to the beginning of the data referenced by a DataView.</span>
<a name="l01459"></a>01459 <span class="comment"> *</span>
<a name="l01460"></a>01460 <span class="comment"> * |obj| must have passed a JS_IsDataViewObject test, or somehow be known that</span>
<a name="l01461"></a>01461 <span class="comment"> * it would pass such a test: it is a data view or a wrapper of a data view,</span>
<a name="l01462"></a>01462 <span class="comment"> * and the unwrapping will succeed. If cx is NULL, then DEBUG builds may be</span>
<a name="l01463"></a>01463 <span class="comment"> * unable to assert when unwrapping should be disallowed.</span>
<a name="l01464"></a>01464 <span class="comment"> */</span>
<a name="l01465"></a>01465 <a class="code" href="../../d9/d8c/jstypes_8h.html#a05396db57176bf1b506bb0ae8ab5108e">JS_FRIEND_API</a>(<span class="keywordtype">void</span> *)
<a name="l01466"></a>01466 <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a24de9478951cd8aecfa1141c6ae4a22a">JS_GetDataViewData</a>(JSObject *obj);
<a name="l01467"></a>01467 
<a name="l01468"></a>01468 <span class="comment">/*</span>
<a name="l01469"></a>01469 <span class="comment"> * A class, expected to be passed by value, which represents the CallArgs for a</span>
<a name="l01470"></a>01470 <span class="comment"> * JSJitGetterOp.</span>
<a name="l01471"></a>01471 <span class="comment"> */</span>
<a name="l01472"></a><a class="code" href="../../d7/d12/class_j_s_jit_getter_call_args.html">01472</a> class <a class="code" href="../../d7/d12/class_j_s_jit_getter_call_args.html">JSJitGetterCallArgs</a> : protected JS::<a class="code" href="../../da/d7b/namespace_j_s.html#a3c796ebbafcdf51a26ea70b1a366a93e">MutableHandleValue</a>
<a name="l01473"></a>01473 {
<a name="l01474"></a>01474   <span class="keyword">public</span>:
<a name="l01475"></a><a class="code" href="../../d7/d12/class_j_s_jit_getter_call_args.html#a0aa529ccc048c4fdd122d7e7aea38592">01475</a>     <span class="keyword">explicit</span> <a class="code" href="../../d7/d12/class_j_s_jit_getter_call_args.html">JSJitGetterCallArgs</a>(<span class="keyword">const</span> <a class="code" href="../../d4/d8d/class_j_s_1_1_call_args.html">JS::CallArgs</a>&amp; <a class="code" href="../../db/d7b/r_8js.html#a283fa4dd58795cf5b621404be6601e86">args</a>)
<a name="l01476"></a>01476       : JS::MutableHandleValue(args.<a class="code" href="../../d2/d7d/jsapi_8h.html#a5a883d97b566da72dc454ea1438aaccb">rval</a>())
<a name="l01477"></a>01477     {}
<a name="l01478"></a>01478 
<a name="l01479"></a><a class="code" href="../../d7/d12/class_j_s_jit_getter_call_args.html#a744588295a28f681f81b8645e5d7de94">01479</a>     <span class="keyword">explicit</span> <a class="code" href="../../d7/d12/class_j_s_jit_getter_call_args.html">JSJitGetterCallArgs</a>(<a class="code" href="../../db/d76/class_j_s_1_1_rooted.html">JS::Rooted&lt;JS::Value&gt;</a>* rooted)
<a name="l01480"></a>01480       : JS::MutableHandleValue(rooted)
<a name="l01481"></a>01481     {}
<a name="l01482"></a>01482 
<a name="l01483"></a><a class="code" href="../../d7/d12/class_j_s_jit_getter_call_args.html#a53e153b43cb357428380893c26594d22">01483</a>     <a class="code" href="../../d1/d2f/class_j_s_1_1_mutable_handle.html">JS::MutableHandleValue</a> <a class="code" href="../../d7/d12/class_j_s_jit_getter_call_args.html#a53e153b43cb357428380893c26594d22">rval</a>() {
<a name="l01484"></a>01484         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01485"></a>01485     }
<a name="l01486"></a>01486 };
<a name="l01487"></a>01487 
<a name="l01488"></a>01488 <span class="comment">/*</span>
<a name="l01489"></a>01489 <span class="comment"> * A class, expected to be passed by value, which represents the CallArgs for a</span>
<a name="l01490"></a>01490 <span class="comment"> * JSJitSetterOp.</span>
<a name="l01491"></a>01491 <span class="comment"> */</span>
<a name="l01492"></a><a class="code" href="../../da/d6f/class_j_s_jit_setter_call_args.html">01492</a> <span class="keyword">class </span><a class="code" href="../../da/d6f/class_j_s_jit_setter_call_args.html">JSJitSetterCallArgs</a> : <span class="keyword">protected</span> JS::<a class="code" href="../../da/d7b/namespace_j_s.html#a3c796ebbafcdf51a26ea70b1a366a93e">MutableHandleValue</a>
<a name="l01493"></a>01493 {
<a name="l01494"></a>01494   <span class="keyword">public</span>:
<a name="l01495"></a><a class="code" href="../../da/d6f/class_j_s_jit_setter_call_args.html#a19d389c71c8264972aaf92831f14f47e">01495</a>     <span class="keyword">explicit</span> <a class="code" href="../../da/d6f/class_j_s_jit_setter_call_args.html#a19d389c71c8264972aaf92831f14f47e">JSJitSetterCallArgs</a>(<span class="keyword">const</span> <a class="code" href="../../d4/d8d/class_j_s_1_1_call_args.html">JS::CallArgs</a>&amp; <a class="code" href="../../db/d7b/r_8js.html#a283fa4dd58795cf5b621404be6601e86">args</a>)
<a name="l01496"></a>01496       : JS::<a class="code" href="../../da/d7b/namespace_j_s.html#a3c796ebbafcdf51a26ea70b1a366a93e">MutableHandleValue</a>(args[0])
<a name="l01497"></a>01497     {}
<a name="l01498"></a>01498 
<a name="l01499"></a><a class="code" href="../../da/d6f/class_j_s_jit_setter_call_args.html#acfc7e77bf4afacd75574f301fac00033">01499</a>     <a class="code" href="../../d1/d2f/class_j_s_1_1_mutable_handle.html">JS::MutableHandleValue</a> <a class="code" href="../../da/d6f/class_j_s_jit_setter_call_args.html#acfc7e77bf4afacd75574f301fac00033">operator[]</a>(<span class="keywordtype">unsigned</span> <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>) {
<a name="l01500"></a>01500         <a class="code" href="../../d9/de9/_assertions_8h.html#aa2fa77a048d036cb2f902299ace18165">MOZ_ASSERT</a>(i == 0);
<a name="l01501"></a>01501         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01502"></a>01502     }
<a name="l01503"></a>01503 
<a name="l01504"></a><a class="code" href="../../da/d6f/class_j_s_jit_setter_call_args.html#aa2b4f254df455a9c00c4a8f7f6bd7538">01504</a>     <span class="keywordtype">unsigned</span> <a class="code" href="../../da/d6f/class_j_s_jit_setter_call_args.html#aa2b4f254df455a9c00c4a8f7f6bd7538">length</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> 1; }
<a name="l01505"></a>01505 
<a name="l01506"></a>01506     <span class="comment">// Add get() or maybe hasDefined() as needed</span>
<a name="l01507"></a>01507 };
<a name="l01508"></a>01508 
<a name="l01509"></a>01509 <span class="keyword">struct </span><a class="code" href="../../df/d0d/struct_j_s_jit_method_call_args_traits.html">JSJitMethodCallArgsTraits</a>;
<a name="l01510"></a>01510 
<a name="l01511"></a>01511 <span class="comment">/*</span>
<a name="l01512"></a>01512 <span class="comment"> * A class, expected to be passed by reference, which represents the CallArgs</span>
<a name="l01513"></a>01513 <span class="comment"> * for a JSJitMethodOp.</span>
<a name="l01514"></a>01514 <span class="comment"> */</span>
<a name="l01515"></a><a class="code" href="../../dd/d0f/class_j_s_jit_method_call_args.html">01515</a> <span class="keyword">class </span><a class="code" href="../../dd/d0f/class_j_s_jit_method_call_args.html">JSJitMethodCallArgs</a> : <span class="keyword">protected</span> JS::detail::CallArgsBase&lt;JS::detail::NoUsedRval&gt;
<a name="l01516"></a>01516 {
<a name="l01517"></a>01517   <span class="keyword">private</span>:
<a name="l01518"></a>01518     <span class="keyword">typedef</span> <a class="code" href="../../d9/d56/class_j_s_1_1detail_1_1_call_args_base.html">JS::detail::CallArgsBase&lt;JS::detail::NoUsedRval&gt;</a> <a class="code" href="../../d9/d56/class_j_s_1_1detail_1_1_call_args_base.html">Base</a>;
<a name="l01519"></a><a class="code" href="../../dd/d0f/class_j_s_jit_method_call_args.html#a81cbce61760e639a515411424eed4e5a">01519</a>     <span class="keyword">friend</span> <span class="keyword">struct </span><a class="code" href="../../df/d0d/struct_j_s_jit_method_call_args_traits.html">JSJitMethodCallArgsTraits</a>;
<a name="l01520"></a>01520 
<a name="l01521"></a>01521   <span class="keyword">public</span>:
<a name="l01522"></a><a class="code" href="../../dd/d0f/class_j_s_jit_method_call_args.html#af313b821b30b49c7dd8fd9060d4d65ee">01522</a>     <span class="keyword">explicit</span> <a class="code" href="../../dd/d0f/class_j_s_jit_method_call_args.html#af313b821b30b49c7dd8fd9060d4d65ee">JSJitMethodCallArgs</a>(<span class="keyword">const</span> <a class="code" href="../../d4/d8d/class_j_s_1_1_call_args.html">JS::CallArgs</a>&amp; <a class="code" href="../../db/d7b/r_8js.html#a283fa4dd58795cf5b621404be6601e86">args</a>) {
<a name="l01523"></a>01523         argv_ = args.<a class="code" href="../../d9/d56/class_j_s_1_1detail_1_1_call_args_base.html#a238cb256f85148cbadb0fca698aab08d">array</a>();
<a name="l01524"></a>01524         <a class="code" href="../../d9/d56/class_j_s_1_1detail_1_1_call_args_base.html#a6aa103a41b9ca74f29099fc4eed47a5a">argc_</a> = args.<a class="code" href="../../d9/d56/class_j_s_1_1detail_1_1_call_args_base.html#a61f7bc50ce59beb29835fd0e9fe414a1">length</a>();
<a name="l01525"></a>01525     }
<a name="l01526"></a>01526 
<a name="l01527"></a><a class="code" href="../../dd/d0f/class_j_s_jit_method_call_args.html#a12339fbd2ba124cb4b394957031f8bfd">01527</a>     <a class="code" href="../../d1/d2f/class_j_s_1_1_mutable_handle.html">JS::MutableHandleValue</a> <a class="code" href="../../dd/d0f/class_j_s_jit_method_call_args.html#a12339fbd2ba124cb4b394957031f8bfd">rval</a>()<span class="keyword"> const </span>{
<a name="l01528"></a>01528         <span class="keywordflow">return</span> <a class="code" href="../../dd/d0f/class_j_s_jit_method_call_args.html#a12339fbd2ba124cb4b394957031f8bfd">Base::rval</a>();
<a name="l01529"></a>01529     }
<a name="l01530"></a>01530 
<a name="l01531"></a><a class="code" href="../../dd/d0f/class_j_s_jit_method_call_args.html#abbffbd1798086dadbf99740f38027065">01531</a>     <span class="keywordtype">unsigned</span> <a class="code" href="../../dd/d0f/class_j_s_jit_method_call_args.html#abbffbd1798086dadbf99740f38027065">length</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d9/d56/class_j_s_1_1detail_1_1_call_args_base.html#a61f7bc50ce59beb29835fd0e9fe414a1">Base::length</a>(); }
<a name="l01532"></a>01532 
<a name="l01533"></a><a class="code" href="../../dd/d0f/class_j_s_jit_method_call_args.html#a7d4dadcd3e2fb41cde686b0a9a393f00">01533</a>     <a class="code" href="../../d1/d2f/class_j_s_1_1_mutable_handle.html">JS::MutableHandleValue</a> <a class="code" href="../../dd/d0f/class_j_s_jit_method_call_args.html#a7d4dadcd3e2fb41cde686b0a9a393f00">operator[]</a>(<span class="keywordtype">unsigned</span> <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>)<span class="keyword"> const </span>{
<a name="l01534"></a>01534         <span class="keywordflow">return</span> <a class="code" href="../../d9/d56/class_j_s_1_1detail_1_1_call_args_base.html#a4622532bec59791a8b36103154532da2">Base::operator[]</a>(i);
<a name="l01535"></a>01535     }
<a name="l01536"></a>01536 
<a name="l01537"></a><a class="code" href="../../dd/d0f/class_j_s_jit_method_call_args.html#a8c9d48d3a0998881a524d1010ec84d6f">01537</a>     <span class="keywordtype">bool</span> <a class="code" href="../../dd/d0f/class_j_s_jit_method_call_args.html#a8c9d48d3a0998881a524d1010ec84d6f">hasDefined</a>(<span class="keywordtype">unsigned</span> <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>)<span class="keyword"> const </span>{
<a name="l01538"></a>01538         <span class="keywordflow">return</span> <a class="code" href="../../d9/d56/class_j_s_1_1detail_1_1_call_args_base.html#a14619ea0224f615642ba15af057952ca">Base::hasDefined</a>(i);
<a name="l01539"></a>01539     }
<a name="l01540"></a>01540 
<a name="l01541"></a>01541     <span class="comment">// Add get() as needed</span>
<a name="l01542"></a>01542 };
<a name="l01543"></a>01543 
<a name="l01544"></a><a class="code" href="../../df/d0d/struct_j_s_jit_method_call_args_traits.html">01544</a> <span class="keyword">struct </span><a class="code" href="../../df/d0d/struct_j_s_jit_method_call_args_traits.html">JSJitMethodCallArgsTraits</a>
<a name="l01545"></a>01545 {
<a name="l01546"></a><a class="code" href="../../df/d0d/struct_j_s_jit_method_call_args_traits.html#afac1d3c7c69d749ad0be80de93743ce7">01546</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="../../df/d0d/struct_j_s_jit_method_call_args_traits.html#afac1d3c7c69d749ad0be80de93743ce7">offsetOfArgv</a> = <a class="code" href="../../dc/d10/ns_c_s_s_property_8h.html#a47e433676bb6902977b7a50bfe31f5fc">offsetof</a>(<a class="code" href="../../dd/d0f/class_j_s_jit_method_call_args.html">JSJitMethodCallArgs</a>, argv_);
<a name="l01547"></a><a class="code" href="../../df/d0d/struct_j_s_jit_method_call_args_traits.html#a0b23e751a6ec1196e72b6c3a7126af2a">01547</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="../../df/d0d/struct_j_s_jit_method_call_args_traits.html#a0b23e751a6ec1196e72b6c3a7126af2a">offsetOfArgc</a> = <a class="code" href="../../dc/d10/ns_c_s_s_property_8h.html#a47e433676bb6902977b7a50bfe31f5fc">offsetof</a>(<a class="code" href="../../dd/d0f/class_j_s_jit_method_call_args.html">JSJitMethodCallArgs</a>, argc_);
<a name="l01548"></a>01548 };
<a name="l01549"></a>01549 
<a name="l01550"></a>01550 <span class="comment">/*</span>
<a name="l01551"></a>01551 <span class="comment"> * This struct contains metadata passed from the DOM to the JS Engine for JIT</span>
<a name="l01552"></a>01552 <span class="comment"> * optimizations on DOM property accessors. Eventually, this should be made</span>
<a name="l01553"></a>01553 <span class="comment"> * available to general JSAPI users, but we are not currently ready to do so.</span>
<a name="l01554"></a>01554 <span class="comment"> */</span>
<a name="l01555"></a>01555 <span class="keyword">typedef</span> <a class="code" href="../../d7/dd2/qcmstypes_8h.html#acac1f8caeb95c0bd16fe8c0743249831">bool</a>
<a name="l01556"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a28982ec6d082974eb3c3a1d82f15beac">01556</a> (* <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a28982ec6d082974eb3c3a1d82f15beac">JSJitGetterOp</a>)(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *<a class="code" href="../../de/d8f/jsdebug_8h.html#ac84a9ad5e2527762d63c6001438948b3">cx</a>, <a class="code" href="../../df/dfb/class_j_s_1_1_handle.html">JS::HandleObject</a> thisObj,
<a name="l01557"></a>01557                   <span class="keywordtype">void</span> *specializedThis, <a class="code" href="../../d7/d12/class_j_s_jit_getter_call_args.html">JSJitGetterCallArgs</a> <a class="code" href="../../db/d7b/r_8js.html#a283fa4dd58795cf5b621404be6601e86">args</a>);
<a name="l01558"></a>01558 <span class="keyword">typedef</span> <a class="code" href="../../d7/dd2/qcmstypes_8h.html#acac1f8caeb95c0bd16fe8c0743249831">bool</a>
<a name="l01559"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a9b6d7b34f109ab7c3aa9d6dc4a0e72b0">01559</a> (* <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a9b6d7b34f109ab7c3aa9d6dc4a0e72b0">JSJitSetterOp</a>)(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *<a class="code" href="../../de/d8f/jsdebug_8h.html#ac84a9ad5e2527762d63c6001438948b3">cx</a>, <a class="code" href="../../df/dfb/class_j_s_1_1_handle.html">JS::HandleObject</a> thisObj,
<a name="l01560"></a>01560                   <span class="keywordtype">void</span> *specializedThis, <a class="code" href="../../da/d6f/class_j_s_jit_setter_call_args.html">JSJitSetterCallArgs</a> <a class="code" href="../../db/d7b/r_8js.html#a283fa4dd58795cf5b621404be6601e86">args</a>);
<a name="l01561"></a>01561 <span class="keyword">typedef</span> <a class="code" href="../../d7/dd2/qcmstypes_8h.html#acac1f8caeb95c0bd16fe8c0743249831">bool</a>
<a name="l01562"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a3ea78a549cf8284add3fc7e0e5d49088">01562</a> (* <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a3ea78a549cf8284add3fc7e0e5d49088">JSJitMethodOp</a>)(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *<a class="code" href="../../de/d8f/jsdebug_8h.html#ac84a9ad5e2527762d63c6001438948b3">cx</a>, <a class="code" href="../../df/dfb/class_j_s_1_1_handle.html">JS::HandleObject</a> thisObj,
<a name="l01563"></a>01563                   <span class="keywordtype">void</span> *specializedThis, <span class="keyword">const</span> <a class="code" href="../../dd/d0f/class_j_s_jit_method_call_args.html">JSJitMethodCallArgs</a>&amp; <a class="code" href="../../db/d7b/r_8js.html#a283fa4dd58795cf5b621404be6601e86">args</a>);
<a name="l01564"></a>01564 
<a name="l01565"></a><a class="code" href="../../db/d01/struct_j_s_jit_info.html">01565</a> <span class="keyword">struct </span><a class="code" href="../../db/d01/struct_j_s_jit_info.html">JSJitInfo</a> {
<a name="l01566"></a><a class="code" href="../../db/d01/struct_j_s_jit_info.html#af5b75751b0acfe3ba24bae094cf6bf0d">01566</a>     <span class="keyword">enum</span> <a class="code" href="../../db/d01/struct_j_s_jit_info.html#af5b75751b0acfe3ba24bae094cf6bf0d">OpType</a> {
<a name="l01567"></a><a class="code" href="../../db/d01/struct_j_s_jit_info.html#af5b75751b0acfe3ba24bae094cf6bf0da2d825b08fa8363ab2681c33377aa9b69">01567</a>         <a class="code" href="../../db/d01/struct_j_s_jit_info.html#af5b75751b0acfe3ba24bae094cf6bf0da2d825b08fa8363ab2681c33377aa9b69">Getter</a>,
<a name="l01568"></a><a class="code" href="../../db/d01/struct_j_s_jit_info.html#af5b75751b0acfe3ba24bae094cf6bf0daf03020b40792031de5d82de3a05893ca">01568</a>         <a class="code" href="../../db/d01/struct_j_s_jit_info.html#af5b75751b0acfe3ba24bae094cf6bf0daf03020b40792031de5d82de3a05893ca">Setter</a>,
<a name="l01569"></a><a class="code" href="../../db/d01/struct_j_s_jit_info.html#af5b75751b0acfe3ba24bae094cf6bf0da3417e5c98b828eec46ca326e4272cf3a">01569</a>         <a class="code" href="../../db/d01/struct_j_s_jit_info.html#af5b75751b0acfe3ba24bae094cf6bf0da3417e5c98b828eec46ca326e4272cf3a">Method</a>,
<a name="l01570"></a><a class="code" href="../../db/d01/struct_j_s_jit_info.html#af5b75751b0acfe3ba24bae094cf6bf0daf16512fa76040e67fbad86c339b2bc4c">01570</a>         <a class="code" href="../../db/d01/struct_j_s_jit_info.html#af5b75751b0acfe3ba24bae094cf6bf0daf16512fa76040e67fbad86c339b2bc4c">OpType_None</a>
<a name="l01571"></a>01571     };
<a name="l01572"></a>01572 
<a name="l01573"></a>01573     <span class="keyword">union </span>{
<a name="l01574"></a><a class="code" href="../../db/d01/struct_j_s_jit_info.html#ab27bc4f1a94df172f422b2a5e0b61858">01574</a>         <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a28982ec6d082974eb3c3a1d82f15beac">JSJitGetterOp</a> <a class="code" href="../../db/d01/struct_j_s_jit_info.html#ab27bc4f1a94df172f422b2a5e0b61858">getter</a>;
<a name="l01575"></a><a class="code" href="../../db/d01/struct_j_s_jit_info.html#a7193ccf55fbbab66919be4d980a3aaf4">01575</a>         <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a9b6d7b34f109ab7c3aa9d6dc4a0e72b0">JSJitSetterOp</a> <a class="code" href="../../db/d01/struct_j_s_jit_info.html#a7193ccf55fbbab66919be4d980a3aaf4">setter</a>;
<a name="l01576"></a><a class="code" href="../../db/d01/struct_j_s_jit_info.html#afcb46e6b0192f2e462bbc001a5cdbf28">01576</a>         <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a3ea78a549cf8284add3fc7e0e5d49088">JSJitMethodOp</a> <a class="code" href="../../db/d01/struct_j_s_jit_info.html#afcb46e6b0192f2e462bbc001a5cdbf28">method</a>;
<a name="l01577"></a>01577     };
<a name="l01578"></a><a class="code" href="../../db/d01/struct_j_s_jit_info.html#a2fbbc14c55fa867d1c5316a575edf3fa">01578</a>     uint32_t <a class="code" href="../../db/d01/struct_j_s_jit_info.html#a2fbbc14c55fa867d1c5316a575edf3fa">protoID</a>;
<a name="l01579"></a><a class="code" href="../../db/d01/struct_j_s_jit_info.html#a184706fd921b1c27472e33401d0c2cc5">01579</a>     uint32_t <a class="code" href="../../db/d01/struct_j_s_jit_info.html#a184706fd921b1c27472e33401d0c2cc5">depth</a>;
<a name="l01580"></a><a class="code" href="../../db/d01/struct_j_s_jit_info.html#ad6825052e00a44276089053ceb94fdb5">01580</a>     <a class="code" href="../../db/d01/struct_j_s_jit_info.html#af5b75751b0acfe3ba24bae094cf6bf0d">OpType</a> <a class="code" href="../../db/d01/struct_j_s_jit_info.html#ad6825052e00a44276089053ceb94fdb5">type</a>;
<a name="l01581"></a><a class="code" href="../../db/d01/struct_j_s_jit_info.html#ad1102d73851aa1436a5451c948147255">01581</a>     <span class="keywordtype">bool</span> <a class="code" href="../../db/d01/struct_j_s_jit_info.html#ad1102d73851aa1436a5451c948147255">isInfallible</a>;      <span class="comment">/* Is op fallible? False in setters. */</span>
<a name="l01582"></a><a class="code" href="../../db/d01/struct_j_s_jit_info.html#a6969fb9f0721d2719d311579e43d7d54">01582</a>     <span class="keywordtype">bool</span> <a class="code" href="../../db/d01/struct_j_s_jit_info.html#a6969fb9f0721d2719d311579e43d7d54">isConstant</a>;        <span class="comment">/* Getting a construction-time constant? */</span>
<a name="l01583"></a><a class="code" href="../../db/d01/struct_j_s_jit_info.html#aa55d83d22a7a86bb333cfb1e10fee1a7">01583</a>     <span class="keywordtype">bool</span> <a class="code" href="../../db/d01/struct_j_s_jit_info.html#aa55d83d22a7a86bb333cfb1e10fee1a7">isPure</a>;            <span class="comment">/* As long as no non-pure DOM things happen, will</span>
<a name="l01584"></a>01584 <span class="comment">                               keep returning the same value for the given</span>
<a name="l01585"></a>01585 <span class="comment">                               &quot;this&quot; object&quot; */</span>
<a name="l01586"></a><a class="code" href="../../db/d01/struct_j_s_jit_info.html#a609a3d24e758207f5a6de440211032c8">01586</a>     JSValueType <a class="code" href="../../db/d01/struct_j_s_jit_info.html#a609a3d24e758207f5a6de440211032c8">returnType</a>; <span class="comment">/* The return type tag.  Might be JSVAL_TYPE_UNKNOWN */</span>
<a name="l01587"></a>01587 
<a name="l01588"></a>01588     <span class="comment">/* An alternative native that&#39;s safe to call in parallel mode. */</span>
<a name="l01589"></a><a class="code" href="../../db/d01/struct_j_s_jit_info.html#a106ed7e1e9205c0d3d49286383831e8c">01589</a>     <a class="code" href="../../de/dd6/_call_args_8h.html#a1a266dfd313038ab2eba59783487a59d">JSParallelNative</a> <a class="code" href="../../db/d01/struct_j_s_jit_info.html#a106ed7e1e9205c0d3d49286383831e8c">parallelNative</a>;
<a name="l01590"></a>01590 };
<a name="l01591"></a>01591 
<a name="l01592"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#aa784cd35a8c3cf7c5a4efd76ecfb591b">01592</a> <span class="preprocessor">#define JS_JITINFO_NATIVE_PARALLEL(op)                                         \</span>
<a name="l01593"></a>01593 <span class="preprocessor">    {{NULL},0,0,JSJitInfo::OpType_None,false,false,false,JSVAL_TYPE_MISSING,op}</span>
<a name="l01594"></a>01594 <span class="preprocessor"></span>
<a name="l01595"></a>01595 <span class="keyword">static</span> JS_ALWAYS_INLINE <span class="keyword">const</span> <a class="code" href="../../db/d01/struct_j_s_jit_info.html">JSJitInfo</a> *
<a name="l01596"></a>01596 FUNCTION_VALUE_TO_JITINFO(<span class="keyword">const</span> <a class="code" href="../../d1/d94/class_j_s_1_1_value.html">JS::Value</a>&amp; <a class="code" href="../../db/db1/namespace_j_s_1_1detail.html#a5d38b5ed0e5a6c44c34f95302820c4d7">v</a>)
<a name="l01597"></a>01597 {
<a name="l01598"></a>01598     <a class="code" href="../../db/d2a/_utility_8h.html#a806452d73a088062220b0f84b77587fa">JS_ASSERT</a>(<a class="code" href="../../db/da2/namespacejs.html#aca7ef07fd5e632405949331c6929f1e6">js::GetObjectClass</a>(&amp;v.<a class="code" href="../../d1/d94/class_j_s_1_1_value.html#ae7db353eae5a97a5f417627674d33525">toObject</a>()) == js::FunctionClassPtr);
<a name="l01599"></a>01599     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d3/d73/structjs_1_1shadow_1_1_function.html">js::shadow::Function</a> *<span class="keyword">&gt;</span>(&amp;v.<a class="code" href="../../d1/d94/class_j_s_1_1_value.html#ae7db353eae5a97a5f417627674d33525">toObject</a>())-&gt;jitinfo;
<a name="l01600"></a>01600 }
<a name="l01601"></a>01601 
<a name="l01602"></a>01602 <span class="comment">/* Statically asserted in jsfun.h. */</span>
<a name="l01603"></a>01603 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> JS_FUNCTION_INTERPRETED_BIT = 0x1;
<a name="l01604"></a>01604 
<a name="l01605"></a>01605 <span class="keyword">static</span> JS_ALWAYS_INLINE <span class="keywordtype">void</span>
<a name="l01606"></a>01606 SET_JITINFO(JSFunction * <a class="code" href="../../d2/d7d/jsapi_8h.html#ad84b078786561118564537030cd7a8b1">func</a>, <span class="keyword">const</span> <a class="code" href="../../db/d01/struct_j_s_jit_info.html">JSJitInfo</a> *<a class="code" href="../../d9/d04/expat_8h.html#ad737df79bb5419e4bac72f823f6fdec9">info</a>)
<a name="l01607"></a>01607 {
<a name="l01608"></a>01608     <a class="code" href="../../d3/d73/structjs_1_1shadow_1_1_function.html">js::shadow::Function</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#aad848dcccd4ec008220ff05f5e400551">fun</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d3/d73/structjs_1_1shadow_1_1_function.html">js::shadow::Function</a> *<span class="keyword">&gt;</span>(<a class="code" href="../../d2/d7d/jsapi_8h.html#ad84b078786561118564537030cd7a8b1">func</a>);
<a name="l01609"></a>01609     <a class="code" href="../../db/d2a/_utility_8h.html#a806452d73a088062220b0f84b77587fa">JS_ASSERT</a>(!(fun-&gt;<a class="code" href="../../d3/d73/structjs_1_1shadow_1_1_function.html#a93605ef459dfb43bf3b021a8307a1b9b">flags</a> &amp; JS_FUNCTION_INTERPRETED_BIT));
<a name="l01610"></a>01610     fun-&gt;<a class="code" href="../../d3/d73/structjs_1_1shadow_1_1_function.html#ae6216436ca1843066a5e0209415daff5">jitinfo</a> = <a class="code" href="../../d9/d04/expat_8h.html#ad737df79bb5419e4bac72f823f6fdec9">info</a>;
<a name="l01611"></a>01611 }
<a name="l01612"></a>01612 
<a name="l01613"></a>01613 <span class="comment">/*</span>
<a name="l01614"></a>01614 <span class="comment"> * Engine-internal extensions of jsid.  This code is here only until we</span>
<a name="l01615"></a>01615 <span class="comment"> * eliminate Gecko&#39;s dependencies on it!</span>
<a name="l01616"></a>01616 <span class="comment"> */</span>
<a name="l01617"></a>01617 
<a name="l01618"></a>01618 <span class="keyword">static</span> JS_ALWAYS_INLINE <a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">jsid</a>
<a name="l01619"></a>01619 JSID_FROM_BITS(<span class="keywordtype">size_t</span> bits)
<a name="l01620"></a>01620 {
<a name="l01621"></a>01621     <a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">jsid</a> <a class="code" href="../../d2/d7d/jsapi_8h.html#a5a0801283c5c25416c0888dc53f332d0">id</a>;
<a name="l01622"></a>01622     <a class="code" href="../../d9/d28/jspubtd_8h.html#a0ad679b26727881bfa4628883a66dd0f">JSID_BITS</a>(<span class="keywordtype">id</span>) = bits;
<a name="l01623"></a>01623     <span class="keywordflow">return</span> <a class="code" href="../../d2/d7d/jsapi_8h.html#a5a0801283c5c25416c0888dc53f332d0">id</a>;
<a name="l01624"></a>01624 }
<a name="l01625"></a>01625 
<a name="l01626"></a>01626 <span class="comment">/*</span>
<a name="l01627"></a>01627 <span class="comment"> * Must not be used on atoms that are representable as integer jsids.</span>
<a name="l01628"></a>01628 <span class="comment"> * Prefer NameToId or AtomToId over this function:</span>
<a name="l01629"></a>01629 <span class="comment"> *</span>
<a name="l01630"></a>01630 <span class="comment"> * A PropertyName is an atom that does not contain an integer in the range</span>
<a name="l01631"></a>01631 <span class="comment"> * [0, UINT32_MAX]. However, jsid can only hold an integer in the range</span>
<a name="l01632"></a>01632 <span class="comment"> * [0, JSID_INT_MAX] (where JSID_INT_MAX == 2^31-1).  Thus, for the range of</span>
<a name="l01633"></a>01633 <span class="comment"> * integers (JSID_INT_MAX, UINT32_MAX], to represent as a jsid &#39;id&#39;, it must be</span>
<a name="l01634"></a>01634 <span class="comment"> * the case JSID_IS_ATOM(id) and !JSID_TO_ATOM(id)-&gt;isPropertyName().  In most</span>
<a name="l01635"></a>01635 <span class="comment"> * cases when creating a jsid, code does not have to care about this corner</span>
<a name="l01636"></a>01636 <span class="comment"> * case because:</span>
<a name="l01637"></a>01637 <span class="comment"> *</span>
<a name="l01638"></a>01638 <span class="comment"> * - When given an arbitrary JSAtom*, AtomToId must be used, which checks for</span>
<a name="l01639"></a>01639 <span class="comment"> *   integer atoms representable as integer jsids, and does this conversion.</span>
<a name="l01640"></a>01640 <span class="comment"> *</span>
<a name="l01641"></a>01641 <span class="comment"> * - When given a PropertyName*, NameToId can be used which which does not need</span>
<a name="l01642"></a>01642 <span class="comment"> *   to do any dynamic checks.</span>
<a name="l01643"></a>01643 <span class="comment"> *</span>
<a name="l01644"></a>01644 <span class="comment"> * Thus, it is only the rare third case which needs this function, which</span>
<a name="l01645"></a>01645 <span class="comment"> * handles any JSAtom* that is known not to be representable with an int jsid.</span>
<a name="l01646"></a>01646 <span class="comment"> */</span>
<a name="l01647"></a>01647 <span class="keyword">static</span> JS_ALWAYS_INLINE <a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">jsid</a>
<a name="l01648"></a>01648 NON_INTEGER_ATOM_TO_JSID(JSAtom *atom)
<a name="l01649"></a>01649 {
<a name="l01650"></a>01650     <a class="code" href="../../db/d2a/_utility_8h.html#a806452d73a088062220b0f84b77587fa">JS_ASSERT</a>(((<span class="keywordtype">size_t</span>)atom &amp; 0x7) == 0);
<a name="l01651"></a>01651     <a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">jsid</a> <span class="keywordtype">id</span> = JSID_FROM_BITS((<span class="keywordtype">size_t</span>)atom);
<a name="l01652"></a>01652     <a class="code" href="../../db/d2a/_utility_8h.html#a806452d73a088062220b0f84b77587fa">JS_ASSERT</a>(<span class="keywordtype">id</span> == <a class="code" href="../../d2/d7d/jsapi_8h.html#aa6edc957b9395533a6dfcde7bb2f0186">INTERNED_STRING_TO_JSID</a>(<a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, (JSString*)atom));
<a name="l01653"></a>01653     <span class="keywordflow">return</span> <a class="code" href="../../d2/d7d/jsapi_8h.html#a5a0801283c5c25416c0888dc53f332d0">id</a>;
<a name="l01654"></a>01654 }
<a name="l01655"></a>01655 
<a name="l01656"></a>01656 <span class="comment">/* All strings stored in jsids are atomized, but are not necessarily property names. */</span>
<a name="l01657"></a>01657 <span class="keyword">static</span> JS_ALWAYS_INLINE <a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>
<a name="l01658"></a>01658 JSID_IS_ATOM(<a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">jsid</a> <span class="keywordtype">id</span>)
<a name="l01659"></a>01659 {
<a name="l01660"></a>01660     <span class="keywordflow">return</span> JSID_IS_STRING(<span class="keywordtype">id</span>);
<a name="l01661"></a>01661 }
<a name="l01662"></a>01662 
<a name="l01663"></a>01663 <span class="keyword">static</span> JS_ALWAYS_INLINE <a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>
<a name="l01664"></a>01664 JSID_IS_ATOM(<a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">jsid</a> <span class="keywordtype">id</span>, JSAtom *atom)
<a name="l01665"></a>01665 {
<a name="l01666"></a>01666     <span class="keywordflow">return</span> <span class="keywordtype">id</span> == JSID_FROM_BITS((<span class="keywordtype">size_t</span>)atom);
<a name="l01667"></a>01667 }
<a name="l01668"></a>01668 
<a name="l01669"></a>01669 <span class="keyword">static</span> JS_ALWAYS_INLINE JSAtom *
<a name="l01670"></a>01670 JSID_TO_ATOM(<a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">jsid</a> <span class="keywordtype">id</span>)
<a name="l01671"></a>01671 {
<a name="l01672"></a>01672     <span class="keywordflow">return</span> (JSAtom *)JSID_TO_STRING(<span class="keywordtype">id</span>);
<a name="l01673"></a>01673 }
<a name="l01674"></a>01674 
<a name="l01675"></a>01675 <a class="code" href="../../db/d2a/_utility_8h.html#abdd762ed3dbe3155d9c047448f788eda">JS_STATIC_ASSERT</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">jsid</a>) == <a class="code" href="../../da/dd4/js-config_8h.html#a7bc0b0cc1e1ac4cd00d4fea589ce9dbc">JS_BYTES_PER_WORD</a>);
<a name="l01676"></a>01676 
<a name="l01677"></a>01677 <span class="keyword">namespace </span>js {
<a name="l01678"></a>01678 
<a name="l01679"></a>01679 <span class="keyword">static</span> JS_ALWAYS_INLINE Value
<a name="l01680"></a>01680 IdToValue(<a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">jsid</a> <span class="keywordtype">id</span>)
<a name="l01681"></a>01681 {
<a name="l01682"></a>01682     <span class="keywordflow">if</span> (JSID_IS_STRING(<span class="keywordtype">id</span>))
<a name="l01683"></a>01683         <span class="keywordflow">return</span> StringValue(JSID_TO_STRING(<span class="keywordtype">id</span>));
<a name="l01684"></a>01684     <span class="keywordflow">if</span> (<a class="code" href="../../d9/d8c/jstypes_8h.html#a5f203724581811473133dbaae2d14820">JS_LIKELY</a>(JSID_IS_INT(<span class="keywordtype">id</span>)))
<a name="l01685"></a>01685         <span class="keywordflow">return</span> Int32Value(JSID_TO_INT(<span class="keywordtype">id</span>));
<a name="l01686"></a>01686     <span class="keywordflow">if</span> (<a class="code" href="../../d9/d8c/jstypes_8h.html#a5f203724581811473133dbaae2d14820">JS_LIKELY</a>(JSID_IS_OBJECT(<span class="keywordtype">id</span>)))
<a name="l01687"></a>01687         <span class="keywordflow">return</span> ObjectValue(*JSID_TO_OBJECT(<span class="keywordtype">id</span>));
<a name="l01688"></a>01688     <a class="code" href="../../db/d2a/_utility_8h.html#a806452d73a088062220b0f84b77587fa">JS_ASSERT</a>(JSID_IS_VOID(<span class="keywordtype">id</span>));
<a name="l01689"></a>01689     <span class="keywordflow">return</span> UndefinedValue();
<a name="l01690"></a>01690 }
<a name="l01691"></a>01691 
<a name="l01692"></a>01692 <span class="keyword">static</span> JS_ALWAYS_INLINE <a class="code" href="../../d1/d94/class_j_s_1_1_value.html">jsval</a>
<a name="l01693"></a>01693 IdToJsval(<a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">jsid</a> <span class="keywordtype">id</span>)
<a name="l01694"></a>01694 {
<a name="l01695"></a>01695     <span class="keywordflow">return</span> IdToValue(<span class="keywordtype">id</span>);
<a name="l01696"></a>01696 }
<a name="l01697"></a>01697 
<a name="l01698"></a>01698 <span class="keyword">extern</span> <a class="code" href="../../db/da2/namespacejs.html#a682661c06661609cfb4081d7cb48de33">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l01699"></a>01699 IsReadOnlyDateMethod(JS::<a class="code" href="../../da/d7b/namespace_j_s.html#af94dc917dd44cf25a181c88081c62e00">IsAcceptableThis</a> <a class="code" href="../../db/db1/namespace_j_s_1_1detail.html#a4fe50fa16c059b33ed172c344bb3fc74">test</a>, JS::<a class="code" href="../../da/d7b/namespace_j_s.html#a85743370f6c1b72e2a048a4ac4486af6">NativeImpl</a> method);
<a name="l01700"></a>01700 
<a name="l01701"></a>01701 extern <a class="code" href="../../db/da2/namespacejs.html#a682661c06661609cfb4081d7cb48de33">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l01702"></a>01702 IsTypedArrayThisCheck(JS::<a class="code" href="../../da/d7b/namespace_j_s.html#af94dc917dd44cf25a181c88081c62e00">IsAcceptableThis</a> test);
<a name="l01703"></a>01703 
<a name="l01704"></a><a class="code" href="../../db/da2/namespacejs.html#a32fb576d13028132fb4d8f2c1133ac41">01704</a> <a class="code" href="../../db/dc1/namespacexpt.html#a17cff18a1a6441f4466f5bd1eb6c9515">enum</a> <a class="code" href="../../db/da2/namespacejs.html#a32fb576d13028132fb4d8f2c1133ac41">CTypesActivityType</a> {
<a name="l01705"></a><a class="code" href="../../db/da2/namespacejs.html#a32fb576d13028132fb4d8f2c1133ac41ac6690cd2ba62ff31d7341b6e1b2fb8ae">01705</a>     <a class="code" href="../../db/da2/namespacejs.html#a32fb576d13028132fb4d8f2c1133ac41ac6690cd2ba62ff31d7341b6e1b2fb8ae">CTYPES_CALL_BEGIN</a>,
<a name="l01706"></a><a class="code" href="../../db/da2/namespacejs.html#a32fb576d13028132fb4d8f2c1133ac41a433ee026ab065d3d6b9437911c63458d">01706</a>     <a class="code" href="../../db/da2/namespacejs.html#a32fb576d13028132fb4d8f2c1133ac41a433ee026ab065d3d6b9437911c63458d">CTYPES_CALL_END</a>,
<a name="l01707"></a><a class="code" href="../../db/da2/namespacejs.html#a32fb576d13028132fb4d8f2c1133ac41abf92b86fcf0aa397914c17a39ee684eb">01707</a>     <a class="code" href="../../db/da2/namespacejs.html#a32fb576d13028132fb4d8f2c1133ac41abf92b86fcf0aa397914c17a39ee684eb">CTYPES_CALLBACK_BEGIN</a>,
<a name="l01708"></a><a class="code" href="../../db/da2/namespacejs.html#a32fb576d13028132fb4d8f2c1133ac41a4a342de98e30c755c6c7f9cdbd5524b1">01708</a>     <a class="code" href="../../db/da2/namespacejs.html#a32fb576d13028132fb4d8f2c1133ac41a4a342de98e30c755c6c7f9cdbd5524b1">CTYPES_CALLBACK_END</a>
<a name="l01709"></a>01709 };
<a name="l01710"></a>01710 
<a name="l01711"></a>01711 <span class="keyword">typedef</span> <a class="code" href="../../d4/da9/png_8h.html#ab30926da86712184b070e550789f8bf7">void</a>
<a name="l01712"></a><a class="code" href="../../db/da2/namespacejs.html#a2f7935b23159cf485bfbc5fdb3db5b6d">01712</a> (* <a class="code" href="../../db/da2/namespacejs.html#a2f7935b23159cf485bfbc5fdb3db5b6d">CTypesActivityCallback</a>)(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *<a class="code" href="../../de/d8f/jsdebug_8h.html#ac84a9ad5e2527762d63c6001438948b3">cx</a>, <a class="code" href="../../db/da2/namespacejs.html#a32fb576d13028132fb4d8f2c1133ac41">CTypesActivityType</a> <a class="code" href="../../df/d44/permission__manager_8js.html#a5996578fe734dff3d2912807ee458e83">type</a>);
<a name="l01713"></a>01713 
<a name="l01714"></a>01714 <span class="comment">/*</span>
<a name="l01715"></a>01715 <span class="comment"> * Sets a callback that is run whenever js-ctypes is about to be used when</span>
<a name="l01716"></a>01716 <span class="comment"> * calling into C.</span>
<a name="l01717"></a>01717 <span class="comment"> */</span>
<a name="l01718"></a>01718 <a class="code" href="../../db/da2/namespacejs.html#a682661c06661609cfb4081d7cb48de33">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l01719"></a>01719 <a class="code" href="../../db/da2/namespacejs.html#abf0ed834fae1c56571193d6e5735364c">SetCTypesActivityCallback</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *rt, <a class="code" href="../../db/da2/namespacejs.html#a2f7935b23159cf485bfbc5fdb3db5b6d">CTypesActivityCallback</a> <a class="code" href="../../d2/d7d/jsapi_8h.html#a9c0cec265243907d0da86b92bda26eca">cb</a>);
<a name="l01720"></a>01720 
<a name="l01721"></a><a class="code" href="../../db/da2/namespacejs.html#ad1abd50bf41893c256e5cd5b9df92cb0">01721</a> class <a class="code" href="../../db/da2/namespacejs.html#a682661c06661609cfb4081d7cb48de33">JS_FRIEND_API</a>(AutoCTypesActivityCallback) {
<a name="l01722"></a>01722   <span class="keyword">private</span>:
<a name="l01723"></a>01723     <a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *<a class="code" href="../../de/d8f/jsdebug_8h.html#ac84a9ad5e2527762d63c6001438948b3">cx</a>;
<a name="l01724"></a>01724     <a class="code" href="../../db/da2/namespacejs.html#a2f7935b23159cf485bfbc5fdb3db5b6d">CTypesActivityCallback</a> <a class="code" href="../../db/da2/namespacejs.html#a38a8af01663e31ba5799074048f4eb3f">callback</a>;
<a name="l01725"></a>01725     <a class="code" href="../../db/da2/namespacejs.html#a32fb576d13028132fb4d8f2c1133ac41">CTypesActivityType</a> endType;
<a name="l01726"></a>01726     MOZ_DECL_USE_GUARD_OBJECT_NOTIFIER
<a name="l01727"></a>01727 
<a name="l01728"></a>01728   <span class="keyword">public</span>:
<a name="l01729"></a>01729     AutoCTypesActivityCallback(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, <a class="code" href="../../db/da2/namespacejs.html#a32fb576d13028132fb4d8f2c1133ac41">CTypesActivityType</a> beginType,
<a name="l01730"></a>01730                                <a class="code" href="../../db/da2/namespacejs.html#a32fb576d13028132fb4d8f2c1133ac41">CTypesActivityType</a> endType
<a name="l01731"></a>01731                                MOZ_GUARD_OBJECT_NOTIFIER_PARAM);
<a name="l01732"></a>01732     ~AutoCTypesActivityCallback() {
<a name="l01733"></a>01733         DoEndCallback();
<a name="l01734"></a>01734     }
<a name="l01735"></a>01735     <span class="keywordtype">void</span> DoEndCallback() {
<a name="l01736"></a>01736         <span class="keywordflow">if</span> (callback) {
<a name="l01737"></a>01737             <a class="code" href="../../db/da2/namespacejs.html#a38a8af01663e31ba5799074048f4eb3f">callback</a>(cx, endType);
<a name="l01738"></a>01738             callback = <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l01739"></a>01739         }
<a name="l01740"></a>01740     }
<a name="l01741"></a>01741 };
<a name="l01742"></a>01742 
<a name="l01743"></a>01743 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l01744"></a>01744 <span class="preprocessor"></span><span class="keyword">extern</span> <a class="code" href="../../db/da2/namespacejs.html#a682661c06661609cfb4081d7cb48de33">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l01745"></a>01745 <a class="code" href="../../db/da2/namespacejs.html#a07a7ac5f0f4d60a0b512e271b43535ee">assertEnteredPolicy</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *obj, <a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">jsid</a> <span class="keywordtype">id</span>);
<a name="l01746"></a>01746 <span class="preprocessor">#else</span>
<a name="l01747"></a><a class="code" href="../../db/da2/namespacejs.html#a07a7ac5f0f4d60a0b512e271b43535ee">01747</a> <span class="preprocessor"></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="../../db/da2/namespacejs.html#a07a7ac5f0f4d60a0b512e271b43535ee">assertEnteredPolicy</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *obj, <a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">jsid</a> <span class="keywordtype">id</span>) {};
<a name="l01748"></a>01748 <span class="preprocessor">#endif</span>
<a name="l01749"></a>01749 <span class="preprocessor"></span>
<a name="l01750"></a>01750 <span class="keyword">typedef</span> <a class="code" href="../../d7/dd2/qcmstypes_8h.html#acac1f8caeb95c0bd16fe8c0743249831">bool</a>
<a name="l01751"></a><a class="code" href="../../db/da2/namespacejs.html#a53ccdee2cf354beb67407869cfc4079a">01751</a> (* <a class="code" href="../../db/da2/namespacejs.html#a53ccdee2cf354beb67407869cfc4079a">ObjectMetadataCallback</a>)(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *<a class="code" href="../../de/d8f/jsdebug_8h.html#ac84a9ad5e2527762d63c6001438948b3">cx</a>, JSObject **pmetadata);
<a name="l01752"></a>01752 
<a name="l01753"></a>01753 <span class="comment">/*</span>
<a name="l01754"></a>01754 <span class="comment"> * Specify a callback to invoke when creating each JS object in the current</span>
<a name="l01755"></a>01755 <span class="comment"> * compartment, which may return a metadata object to associate with the</span>
<a name="l01756"></a>01756 <span class="comment"> * object. Objects with different metadata have different shape hierarchies,</span>
<a name="l01757"></a>01757 <span class="comment"> * so for efficiency, objects should generally try to share metadata objects.</span>
<a name="l01758"></a>01758 <span class="comment"> */</span>
<a name="l01759"></a>01759 <a class="code" href="../../db/da2/namespacejs.html#a682661c06661609cfb4081d7cb48de33">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l01760"></a>01760 <a class="code" href="../../db/da2/namespacejs.html#aa58e578e6ed014580bd4503fcd39a65c">SetObjectMetadataCallback</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, <a class="code" href="../../db/da2/namespacejs.html#a53ccdee2cf354beb67407869cfc4079a">ObjectMetadataCallback</a> callback);
<a name="l01761"></a>01761 
<a name="l01762"></a>01762 <span class="comment">/* Manipulate the metadata associated with an object. */</span>
<a name="l01763"></a>01763 
<a name="l01764"></a>01764 <a class="code" href="../../db/da2/namespacejs.html#a682661c06661609cfb4081d7cb48de33">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l01765"></a>01765 <a class="code" href="../../db/da2/namespacejs.html#a590f074a653826669520b49f69f6632e">SetObjectMetadata</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JS::<a class="code" href="../../da/d7b/namespace_j_s.html#a27fbe8d507bcc80ecf65d4dfa346936e">HandleObject</a> obj, JS::<a class="code" href="../../da/d7b/namespace_j_s.html#a27fbe8d507bcc80ecf65d4dfa346936e">HandleObject</a> metadata);
<a name="l01766"></a>01766 
<a name="l01767"></a>01767 <a class="code" href="../../db/da2/namespacejs.html#a682661c06661609cfb4081d7cb48de33">JS_FRIEND_API</a>(JSObject *)
<a name="l01768"></a>01768 <a class="code" href="../../db/da2/namespacejs.html#a2c68f65307a0de5373c1156483e57bb2">GetObjectMetadata</a>(JSObject *obj);
<a name="l01769"></a>01769 
<a name="l01770"></a>01770 <span class="comment">/* ES5 8.12.8. */</span>
<a name="l01771"></a>01771 extern <a class="code" href="../../db/da2/namespacejs.html#a682661c06661609cfb4081d7cb48de33">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l01772"></a><a class="code" href="../../db/da2/namespacejs.html#afa0a750ea3f8b66dbedcde0b48e88d24">01772</a> DefaultValue(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JS::<a class="code" href="../../da/d7b/namespace_j_s.html#a27fbe8d507bcc80ecf65d4dfa346936e">HandleObject</a> obj, <a class="code" href="../../d9/d28/jspubtd_8h.html#ab828a4e860944557526a55ef30823ccd">JSType</a> <a class="code" href="../../db/da2/namespacejs.html#a0907c1e2c7396649b20b2378044054ed">hint</a>, <a class="code" href="../../da/d7b/namespace_j_s.html#a3c796ebbafcdf51a26ea70b1a366a93e">MutableHandleValue</a> vp);
<a name="l01773"></a>01773 
<a name="l01774"></a>01774 <span class="comment">/*</span>
<a name="l01775"></a>01775 <span class="comment"> * Helper function. To approximate a call to the [[DefineOwnProperty]] internal</span>
<a name="l01776"></a>01776 <span class="comment"> * method described in ES5, first call this, then call JS_DefinePropertyById.</span>
<a name="l01777"></a>01777 <span class="comment"> *</span>
<a name="l01778"></a>01778 <span class="comment"> * JS_DefinePropertyById by itself does not enforce the invariants on</span>
<a name="l01779"></a>01779 <span class="comment"> * non-configurable properties when obj-&gt;isNative(). This function performs the</span>
<a name="l01780"></a>01780 <span class="comment"> * relevant checks (specified in ES5 8.12.9 [[DefineOwnProperty]] steps 1-11),</span>
<a name="l01781"></a>01781 <span class="comment"> * but only if obj is native.</span>
<a name="l01782"></a>01782 <span class="comment"> *</span>
<a name="l01783"></a>01783 <span class="comment"> * The reason for the messiness here is that ES5 uses [[DefineOwnProperty]] as</span>
<a name="l01784"></a>01784 <span class="comment"> * a sort of extension point, but there is no hook in js::Class,</span>
<a name="l01785"></a>01785 <span class="comment"> * js::ProxyHandler, or the JSAPI with precisely the right semantics for it.</span>
<a name="l01786"></a>01786 <span class="comment"> */</span>
<a name="l01787"></a>01787 extern <a class="code" href="../../db/da2/namespacejs.html#a682661c06661609cfb4081d7cb48de33">JS_FRIEND_API</a>(<span class="keywordtype">bool</span>)
<a name="l01788"></a><a class="code" href="../../db/da2/namespacejs.html#af8ce949a9cd336050cbf2f99934ac387">01788</a> CheckDefineProperty(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, <a class="code" href="../../da/d7b/namespace_j_s.html#a27fbe8d507bcc80ecf65d4dfa346936e">HandleObject</a> obj, <a class="code" href="../../da/d7b/namespace_j_s.html#a3a21bbd1526caa6bd8cd8d7bdeb3f119">HandleId</a> <span class="keywordtype">id</span>, <a class="code" href="../../da/d7b/namespace_j_s.html#ad0f815dced139d94ef7a891f97e3bb2c">HandleValue</a> <a class="code" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>,
<a name="l01789"></a>01789                     <a class="code" href="../../db/da2/namespacejs.html#adcf23ec721b24a3261765c41508ea798">PropertyOp</a> <a class="code" href="../../db/da2/namespacejs.html#aca6193c01c4a87836c8c8042913af5bf">getter</a>, <a class="code" href="../../db/da2/namespacejs.html#a6e1080fdef992326b4df6cb033155685">StrictPropertyOp</a> <a class="code" href="../../db/da2/namespacejs.html#add36e2029386006b5415e4d67384ceb8">setter</a>, <span class="keywordtype">unsigned</span> <a class="code" href="../../db/da2/namespacejs.html#a44e682a04143d6ecf295f26022e5d06f">attrs</a>);
<a name="l01790"></a>01790 
<a name="l01791"></a>01791 } <span class="comment">/* namespace js */</span>
<a name="l01792"></a>01792 
<a name="l01793"></a>01793 extern <a class="code" href="../../db/da2/namespacejs.html#a682661c06661609cfb4081d7cb48de33">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l01794"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a2d51f90bf9fac760c758bb515d5932ad">01794</a> js_DefineOwnProperty(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, JSObject *<a class="code" href="../../de/dc5/jsfriendapi_8h.html#a2d51f90bf9fac760c758bb515d5932ad">objArg</a>, <a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">jsid</a> <a class="code" href="../../de/dc5/jsfriendapi_8h.html#ae6984562eb9d7cb881314dfef316e632">idArg</a>,
<a name="l01795"></a>01795                      <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> js::<a class="code" href="../../db/da2/namespacejs.html#a0b5afc2fa71b091a47d81c4c12ec75b5">PropertyDescriptor</a>&amp; <a class="code" href="../../d2/d7d/jsapi_8h.html#a1207a417b47b08dec9e8da04d8b1e334">descriptor</a>, <a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#aa2e6da94e325afb9ee95b8dcca7ac902">bp</a>);
<a name="l01796"></a>01796 
<a name="l01797"></a>01797 extern <a class="code" href="../../db/da2/namespacejs.html#a682661c06661609cfb4081d7cb48de33">JS_FRIEND_API</a>(<a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>)
<a name="l01798"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#af4f9d31d0cf236d0722eec3015976ab1">01798</a> js_ReportIsNotFunction(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *cx, <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> JS::Value&amp; <a class="code" href="../../db/da2/namespacejs.html#a275c4f237481d5a4aeb0350f354aeeb0">v</a>);
<a name="l01799"></a>01799 
<a name="l01800"></a>01800 <span class="preprocessor">#ifdef JSGC_GENERATIONAL</span>
<a name="l01801"></a>01801 <span class="preprocessor"></span><span class="keyword">extern</span> <a class="code" href="../../db/da2/namespacejs.html#a682661c06661609cfb4081d7cb48de33">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l01802"></a>01802 <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a3921aeb40a11724b3edcf9e7c3bf0116">JS_StoreObjectPostBarrierCallback</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>* cx,
<a name="l01803"></a>01803                                   <span class="keywordtype">void</span> (*callback)(<a class="code" href="../../dd/df1/struct_j_s_tracer.html">JSTracer</a> *trc, <span class="keywordtype">void</span> *key, <span class="keywordtype">void</span> *data),
<a name="l01804"></a>01804                                   JSObject *key, <span class="keywordtype">void</span> *data);
<a name="l01805"></a>01805 
<a name="l01806"></a>01806 extern <a class="code" href="../../db/da2/namespacejs.html#a682661c06661609cfb4081d7cb48de33">JS_FRIEND_API</a>(<span class="keywordtype">void</span>)
<a name="l01807"></a>01807 <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a75fab6b45062203c07d45fab70f47801">JS_StoreStringPostBarrierCallback</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>* cx,
<a name="l01808"></a>01808                                   <span class="keywordtype">void</span> (*callback)(<a class="code" href="../../dd/df1/struct_j_s_tracer.html">JSTracer</a> *trc, <span class="keywordtype">void</span> *key, <span class="keywordtype">void</span> *data),
<a name="l01809"></a>01809                                   JSString *key, <span class="keywordtype">void</span> *data);
<a name="l01810"></a>01810 <span class="preprocessor">#else</span>
<a name="l01811"></a>01811 <span class="preprocessor"></span><span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l01812"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a3921aeb40a11724b3edcf9e7c3bf0116">01812</a> <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a3921aeb40a11724b3edcf9e7c3bf0116">JS_StoreObjectPostBarrierCallback</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>* cx,
<a name="l01813"></a>01813                                   <span class="keywordtype">void</span> (*callback)(<a class="code" href="../../dd/df1/struct_j_s_tracer.html">JSTracer</a> *trc, <span class="keywordtype">void</span> *key, <span class="keywordtype">void</span> *data),
<a name="l01814"></a>01814                                   JSObject *key, <span class="keywordtype">void</span> *data) {}
<a name="l01815"></a>01815 
<a name="l01816"></a>01816 <span class="keyword">inline</span> <span class="keywordtype">void</span>
<a name="l01817"></a><a class="code" href="../../de/dc5/jsfriendapi_8h.html#a75fab6b45062203c07d45fab70f47801">01817</a> <a class="code" href="../../de/dc5/jsfriendapi_8h.html#a75fab6b45062203c07d45fab70f47801">JS_StoreStringPostBarrierCallback</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>* cx,
<a name="l01818"></a>01818                                   <span class="keywordtype">void</span> (*callback)(<a class="code" href="../../dd/df1/struct_j_s_tracer.html">JSTracer</a> *trc, <span class="keywordtype">void</span> *key, <span class="keywordtype">void</span> *data),
<a name="l01819"></a>01819                                   JSString *key, <span class="keywordtype">void</span> *data) {}
<a name="l01820"></a>01820 <span class="preprocessor">#endif </span><span class="comment">/* JSGC_GENERATIONAL */</span>
<a name="l01821"></a>01821 
<a name="l01822"></a>01822 <span class="preprocessor">#endif </span><span class="comment">/* jsfriendapi_h */</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../de/dc5/jsfriendapi_8h.html">jsfriendapi.h</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 00:52:30に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
