<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: クラス mozIStorageService</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li><a href="../../classes.html"><span>データ構造索引</span></a></li>
      <li><a href="../../inherits.html"><span>クラス階層</span></a></li>
      <li><a href="../../functions.html"><span>データフィールド</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d1/d50/interfacemoz_i_storage_service.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public メソッド</a>  </div>
  <div class="headertitle">
<div class="title">クラス mozIStorageService</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="mozIStorageService" --><!-- doxytag: inherits="nsISupports,nsISupports" -->
<p><code>import &quot;<a class="el" href="../../de/dbc/moz_i_storage_service_8idl_source.html">mozIStorageService.idl</a>&quot;;</code></p>
<div class="dynheader">
mozIStorageServiceに対する継承グラフ</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../da/d35/interfacemoz_i_storage_service__inherit__graph.svg" width="150" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">凡例</a>]</span></center></div>
<div class="dynheader">
mozIStorageServiceのコラボレーション図</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../de/d89/interfacemoz_i_storage_service__coll__graph.svg" width="150" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">凡例</a>]</span></center></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#ad93d6067ab4a4b501216366662a0459e">openAsyncDatabase</a> (in <a class="el" href="../../d1/d98/interfacens_i_variant.html">nsIVariant</a> aDatabaseStore,[optional] in <a class="el" href="../../d2/d42/interfacens_i_property_bag2.html">nsIPropertyBag2</a> aOptions, in <a class="el" href="../../d5/d22/interfacemoz_i_storage_completion_callback.html">mozIStorageCompletionCallback</a> aCallback)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html">mozIStorageConnection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#a115e7fab6dcbe0542d61d7515b6cf644">openSpecialDatabase</a> (in <a class="el" href="../../df/d9e/prnetdb_8h.html#aed1cfb225a5fb77461e7972691e68a72">string</a> aStorageKey)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html">mozIStorageConnection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#afcb0b53bd7fc05e9161f88a444621380">openDatabase</a> (in <a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a> aDatabaseFile)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html">mozIStorageConnection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#a0f79025850b503f6864b071bb675e7d5">openUnsharedDatabase</a> (in <a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a> aDatabaseFile)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html">mozIStorageConnection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#acbf506db12ed4509038a73e17c5eea51">openDatabaseWithFileURL</a> (in <a class="el" href="../../db/d02/interfacens_i_file_u_r_l.html">nsIFileURL</a> aFileURL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#af46433de05353471bba674b6188cc9cd">backupDatabaseFile</a> (in <a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a> aDBFile, in AString aBackupFileName,[optional] in <a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a> aBackupParentDirectory)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#a4dc3e92ffb95af79ab295b5b4a0637a9">OpenAsyncDatabase</a> (<a class="el" href="../../d1/d98/interfacens_i_variant.html">nsIVariant</a> *aDatabaseStore, <a class="el" href="../../d2/d42/interfacens_i_property_bag2.html">nsIPropertyBag2</a> *aOptions, <a class="el" href="../../d5/d22/interfacemoz_i_storage_completion_callback.html">mozIStorageCompletionCallback</a> *aCallback)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#a0db23242044acf769814ed5103559879">OpenSpecialDatabase</a> (<a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *aStorageKey, <a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html">mozIStorageConnection</a> **_retval)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#adc759cd1fc1e0b7e461d8a8f7a804b41">OpenDatabase</a> (<a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a> *aDatabaseFile, <a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html">mozIStorageConnection</a> **_retval)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#aea535bd13036b1eb0731c1ed09de8256">OpenUnsharedDatabase</a> (<a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a> *aDatabaseFile, <a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html">mozIStorageConnection</a> **_retval)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#afed4ee93fbaf4b5bddea36ef0b926ee2">OpenDatabaseWithFileURL</a> (<a class="el" href="../../db/d02/interfacens_i_file_u_r_l.html">nsIFileURL</a> *aFileURL, <a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html">mozIStorageConnection</a> **_retval)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#a0d59e7665190ab378746b64b47598356">BackupDatabaseFile</a> (<a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a> *aDBFile, <a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> nsAString &amp;aBackupFileName, <a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a> *aBackupParentDirectory, <a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a> **_retval)=0</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>説明</h2>
<div class="textblock"><p>The <a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html">mozIStorageService</a> interface is intended to be implemented by a service that can create storage connections (<a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html">mozIStorageConnection</a>) to either a well-known profile database or to a specific database file.</p>
<p>This is the only way to open a database connection.</p>
<dl class="note"><dt><b>覚え書き:</b></dt><dd>The first reference to <a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html">mozIStorageService</a> must be made on the main thread. </dd></dl>

<p> <a class="el" href="../../de/dbc/moz_i_storage_service_8idl_source.html">mozIStorageService.idl</a> の <a class="el" href="../../de/dbc/moz_i_storage_service_8idl_source.html#l00026">26</a> 行で定義されています。</p>
</div><hr/><h2>メソッド</h2>
<a class="anchor" id="a0d59e7665190ab378746b64b47598356"></a><!-- doxytag: member="mozIStorageService::BackupDatabaseFile" ref="a0d59e7665190ab378746b64b47598356" args="(nsIFile *aDBFile, const nsAString &amp;aBackupFileName, nsIFile *aBackupParentDirectory, nsIFile **_retval)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a> <a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#a0d59e7665190ab378746b64b47598356">mozIStorageService::BackupDatabaseFile</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a> *&#160;</td>
          <td class="paramname"><em>aDBFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> nsAString &amp;&#160;</td>
          <td class="paramname"><em>aBackupFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a> *&#160;</td>
          <td class="paramname"><em>aBackupParentDirectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a> **&#160;</td>
          <td class="paramname"><em>_retval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af46433de05353471bba674b6188cc9cd"></a><!-- doxytag: member="mozIStorageService::backupDatabaseFile" ref="af46433de05353471bba674b6188cc9cd" args="(in nsIFile aDBFile, in AString aBackupFileName,[optional] in nsIFile aBackupParentDirectory)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a> <a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#af46433de05353471bba674b6188cc9cd">mozIStorageService::backupDatabaseFile</a> </td>
          <td>(</td>
          <td class="paramtype">in <a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a>&#160;</td>
          <td class="paramname"><em>aDBFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in AString&#160;</td>
          <td class="paramname"><em>aBackupFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[optional] in <a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a>&#160;</td>
          <td class="paramname"><em>aBackupParentDirectory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copies the specified database file to the specified parent directory with the specified file name. If the parent directory is not specified, it places the backup in the same directory as the current file. This function ensures that the file being created is unique.</p>
<dl class="params"><dt><b>引数:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">aDBFile</td><td>The database file that will be backed up. </td></tr>
    <tr><td class="paramname">aBackupFileName</td><td>The name of the new backup file to create. </td></tr>
    <tr><td class="paramname">[optional]</td><td>aBackupParentDirectory The directory you'd like the backup file to be placed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>The <a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a> representing the backup file. </dd></dl>

</div>
</div>
<a class="anchor" id="a4dc3e92ffb95af79ab295b5b4a0637a9"></a><!-- doxytag: member="mozIStorageService::OpenAsyncDatabase" ref="a4dc3e92ffb95af79ab295b5b4a0637a9" args="(nsIVariant *aDatabaseStore, nsIPropertyBag2 *aOptions, mozIStorageCompletionCallback *aCallback)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a> <a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#a4dc3e92ffb95af79ab295b5b4a0637a9">mozIStorageService::OpenAsyncDatabase</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d98/interfacens_i_variant.html">nsIVariant</a> *&#160;</td>
          <td class="paramname"><em>aDatabaseStore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d42/interfacens_i_property_bag2.html">nsIPropertyBag2</a> *&#160;</td>
          <td class="paramname"><em>aOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d22/interfacemoz_i_storage_completion_callback.html">mozIStorageCompletionCallback</a> *&#160;</td>
          <td class="paramname"><em>aCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad93d6067ab4a4b501216366662a0459e"></a><!-- doxytag: member="mozIStorageService::openAsyncDatabase" ref="ad93d6067ab4a4b501216366662a0459e" args="(in nsIVariant aDatabaseStore,[optional] in nsIPropertyBag2 aOptions, in mozIStorageCompletionCallback aCallback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a> <a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#ad93d6067ab4a4b501216366662a0459e">mozIStorageService::openAsyncDatabase</a> </td>
          <td>(</td>
          <td class="paramtype">in <a class="el" href="../../d1/d98/interfacens_i_variant.html">nsIVariant</a>&#160;</td>
          <td class="paramname"><em>aDatabaseStore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[optional] in <a class="el" href="../../d2/d42/interfacens_i_property_bag2.html">nsIPropertyBag2</a>&#160;</td>
          <td class="paramname"><em>aOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in <a class="el" href="../../d5/d22/interfacemoz_i_storage_completion_callback.html">mozIStorageCompletionCallback</a>&#160;</td>
          <td class="paramname"><em>aCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Open an asynchronous connection to a database.</p>
<p>This method MUST be called from the main thread. The connection object returned by this function is not threadsafe. You MUST use it only from the main thread.</p>
<p>If you have more than one connection to a file, you MUST use the EXACT SAME NAME for the file each time, including case. The sqlite code uses a simple string compare to see if there is already a connection. Opening a connection to "Foo.sqlite" and "foo.sqlite" will CORRUPT YOUR DATABASE.</p>
<dl class="params"><dt><b>引数:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">aDatabaseStore</td><td>Either a <a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a> representing the file that contains the database or a special string to open a special database. The special string may be:<ul>
<li>"memory" to open an in-memory database.</li>
</ul>
</td></tr>
    <tr><td class="paramname">aOptions</td><td>A set of options (may be null). Options may contain:<ul>
<li>bool shared (defaults to |false|). -- If |true|, opens the database with a shared-cache. The shared-cache mode is more memory-efficient when many connections to the same database are expected, though, the connections will contend the cache resource. In any cases where performance matter, working without a shared-cache will improve concurrency. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>参照:</b></dt><dd><a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#a0f79025850b503f6864b071bb675e7d5">openUnsharedDatabase</a></dd></dl>
<ul>
<li>int growthIncrement (defaults to none). -- Set the growth increment for the main database. This hints SQLite to grow the database file by a given chunk size and may reduce filesystem fragmentation on large databases. <dl class="see"><dt><b>参照:</b></dt><dd><a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html#ae6d80bd80e8e9383ae3e5347abaf7986">mozIStorageConnection::setGrowthIncrement</a></dd></dl>
<dl class="params"><dt><b>引数:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">aCallback</td><td>A callback that will receive the result of the operation. In case of error, it may receive as status:<ul>
<li>NS_ERROR_OUT_OF_MEMORY if allocating a new storage object fails.</li>
<li>NS_ERROR_FILE_CORRUPTED if the database file is corrupted. In case of success, it receives as argument the new database connection, as an instance of |mozIStorageAsyncConnection|.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt><b>例外:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">NS_ERROR_INVALID_ARG</td><td>if |aDatabaseStore| is neither a file nor one of the special strings understood by this method, or if one of the options passed through |aOptions| does not have the right type. </td></tr>
    <tr><td class="paramname">NS_ERROR_NOT_SAME_THREAD</td><td>if called from a thread other than the main thread. </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="adc759cd1fc1e0b7e461d8a8f7a804b41"></a><!-- doxytag: member="mozIStorageService::OpenDatabase" ref="adc759cd1fc1e0b7e461d8a8f7a804b41" args="(nsIFile *aDatabaseFile, mozIStorageConnection **_retval)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a> <a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#adc759cd1fc1e0b7e461d8a8f7a804b41">mozIStorageService::OpenDatabase</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a> *&#160;</td>
          <td class="paramname"><em>aDatabaseFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html">mozIStorageConnection</a> **&#160;</td>
          <td class="paramname"><em>_retval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afcb0b53bd7fc05e9161f88a444621380"></a><!-- doxytag: member="mozIStorageService::openDatabase" ref="afcb0b53bd7fc05e9161f88a444621380" args="(in nsIFile aDatabaseFile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html">mozIStorageConnection</a> <a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#afcb0b53bd7fc05e9161f88a444621380">mozIStorageService::openDatabase</a> </td>
          <td>(</td>
          <td class="paramtype">in <a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a>&#160;</td>
          <td class="paramname"><em>aDatabaseFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Open a connection to the specified file.</p>
<p>Consumers should check <a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html#afb739775c8468eabf4b6475ce2c9a6b2">mozIStorageConnection::connectionReady</a> to ensure that they can use the database. If this value is false, it is strongly recommended that the database be backed up with mozIStorageConnection::backupDB so user data is not lost.</p>
<p>========== DANGER ==========</p>
<p>If you have more than one connection to a file, you MUST use the EXACT SAME NAME for the file each time, including case. The sqlite code uses a simple string compare to see if there is already a connection. Opening a connection to "Foo.sqlite" and "foo.sqlite" will CORRUPT YOUR DATABASE.</p>
<p>The connection object returned by this function is not threadsafe. You must use it only from the thread you created it from.</p>
<dl class="params"><dt><b>引数:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">aDatabaseFile</td><td>A <a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a> that represents the database that is to be opened..</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>a <a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html">mozIStorageConnection</a> for the requested database file.</dd></dl>
<dl class="exception"><dt><b>例外:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">NS_ERROR_OUT_OF_MEMORY</td><td>If allocating a new storage object fails. </td></tr>
    <tr><td class="paramname">NS_ERROR_FILE_CORRUPTED</td><td>If the database file is corrupted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afed4ee93fbaf4b5bddea36ef0b926ee2"></a><!-- doxytag: member="mozIStorageService::OpenDatabaseWithFileURL" ref="afed4ee93fbaf4b5bddea36ef0b926ee2" args="(nsIFileURL *aFileURL, mozIStorageConnection **_retval)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a> <a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#afed4ee93fbaf4b5bddea36ef0b926ee2">mozIStorageService::OpenDatabaseWithFileURL</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d02/interfacens_i_file_u_r_l.html">nsIFileURL</a> *&#160;</td>
          <td class="paramname"><em>aFileURL</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html">mozIStorageConnection</a> **&#160;</td>
          <td class="paramname"><em>_retval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="acbf506db12ed4509038a73e17c5eea51"></a><!-- doxytag: member="mozIStorageService::openDatabaseWithFileURL" ref="acbf506db12ed4509038a73e17c5eea51" args="(in nsIFileURL aFileURL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html">mozIStorageConnection</a> <a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#acbf506db12ed4509038a73e17c5eea51">mozIStorageService::openDatabaseWithFileURL</a> </td>
          <td>(</td>
          <td class="paramtype">in <a class="el" href="../../db/d02/interfacens_i_file_u_r_l.html">nsIFileURL</a>&#160;</td>
          <td class="paramname"><em>aFileURL</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>See <a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#afcb0b53bd7fc05e9161f88a444621380">openDatabase()</a>. Exactly the same only initialized with a file <a class="el" href="../../d6/dfe/class_u_r_l.html">URL</a>. Custom parameters can be passed to SQLite and VFS implementations through the query part of the <a class="el" href="../../d6/dfe/class_u_r_l.html">URL</a>.</p>
<dl class="params"><dt><b>引数:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">aURL</td><td>A <a class="el" href="../../db/d02/interfacens_i_file_u_r_l.html">nsIFileURL</a> that represents the database that is to be opened. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0db23242044acf769814ed5103559879"></a><!-- doxytag: member="mozIStorageService::OpenSpecialDatabase" ref="a0db23242044acf769814ed5103559879" args="(const char *aStorageKey, mozIStorageConnection **_retval)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a> <a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#a0db23242044acf769814ed5103559879">mozIStorageService::OpenSpecialDatabase</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>aStorageKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html">mozIStorageConnection</a> **&#160;</td>
          <td class="paramname"><em>_retval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a115e7fab6dcbe0542d61d7515b6cf644"></a><!-- doxytag: member="mozIStorageService::openSpecialDatabase" ref="a115e7fab6dcbe0542d61d7515b6cf644" args="(in string aStorageKey)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html">mozIStorageConnection</a> <a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#a115e7fab6dcbe0542d61d7515b6cf644">mozIStorageService::openSpecialDatabase</a> </td>
          <td>(</td>
          <td class="paramtype">in <a class="el" href="../../df/d9e/prnetdb_8h.html#aed1cfb225a5fb77461e7972691e68a72">string</a>&#160;</td>
          <td class="paramname"><em>aStorageKey</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a connection to a named special database storage.</p>
<dl class="params"><dt><b>引数:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">aStorageKey</td><td>a string key identifying the type of storage requested. Valid values include: "memory".</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>参照:</b></dt><dd><a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#afcb0b53bd7fc05e9161f88a444621380">openDatabase</a> <a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a> restrictions <a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">on</a> <a class="el" href="../../da/d32/prio_8h.html#a8824f9ea3075fbb14fe4fb6511c228a1">how</a> database connections may be used. For the profile database, you should only access it from the <a class="el" href="../../db/d0b/_image_editor_8js.html#a8fd8f854b393f98b5469a29042d701d1">main</a> <a class="el" href="../../d9/d42/caldav__worker_8js.html#a35139327f12356355bbdd875e374c469">thread</a> since other callers may also have connections.</dd></dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>a new <a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html">mozIStorageConnection</a> for the requested storage database.</dd></dl>
<dl class="exception"><dt><b>例外:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">NS_ERROR_INVALID_ARG</td><td>if aStorageKey is invalid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aea535bd13036b1eb0731c1ed09de8256"></a><!-- doxytag: member="mozIStorageService::OpenUnsharedDatabase" ref="aea535bd13036b1eb0731c1ed09de8256" args="(nsIFile *aDatabaseFile, mozIStorageConnection **_retval)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a> <a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#aea535bd13036b1eb0731c1ed09de8256">mozIStorageService::OpenUnsharedDatabase</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a> *&#160;</td>
          <td class="paramname"><em>aDatabaseFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html">mozIStorageConnection</a> **&#160;</td>
          <td class="paramname"><em>_retval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0f79025850b503f6864b071bb675e7d5"></a><!-- doxytag: member="mozIStorageService::openUnsharedDatabase" ref="a0f79025850b503f6864b071bb675e7d5" args="(in nsIFile aDatabaseFile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html">mozIStorageConnection</a> <a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html#a0f79025850b503f6864b071bb675e7d5">mozIStorageService::openUnsharedDatabase</a> </td>
          <td>(</td>
          <td class="paramtype">in <a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a>&#160;</td>
          <td class="paramname"><em>aDatabaseFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Open a connection to the specified file that doesn't share a sqlite cache.</p>
<p>Without a shared-cache, each connection uses its own pages cache, which may be memory inefficient with a large number of connections, in such a case so you should use openDatabase instead. On the other side, if cache contention may be an issue, for instance when concurrency is important to ensure responsiveness, using unshared connections may be a performance win.</p>
<p>========== DANGER ==========</p>
<p>If you have more than one connection to a file, you MUST use the EXACT SAME NAME for the file each time, including case. The sqlite code uses a simple string compare to see if there is already a connection. Opening a connection to "Foo.sqlite" and "foo.sqlite" will CORRUPT YOUR DATABASE.</p>
<p>The connection object returned by this function is not threadsafe. You must use it only from the thread you created it from.</p>
<dl class="params"><dt><b>引数:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">aDatabaseFile</td><td>A <a class="el" href="../../d0/d3e/interfacens_i_file.html">nsIFile</a> that represents the database that is to be opened.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>a <a class="el" href="../../db/d9d/interfacemoz_i_storage_connection.html">mozIStorageConnection</a> for the requested database file.</dd></dl>
<dl class="exception"><dt><b>例外:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">NS_ERROR_OUT_OF_MEMORY</td><td>If allocating a new storage object fails. </td></tr>
    <tr><td class="paramname">NS_ERROR_FILE_CORRUPTED</td><td>If the database file is corrupted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li><a class="el" href="../../de/dbc/moz_i_storage_service_8idl_source.html">mozIStorageService.idl</a></li>
<li><a class="el" href="../../d2/d77/moz_i_storage_service_8h_source.html">mozIStorageService.h</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d1/d50/interfacemoz_i_storage_service.html">mozIStorageService</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 00:59:05に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
