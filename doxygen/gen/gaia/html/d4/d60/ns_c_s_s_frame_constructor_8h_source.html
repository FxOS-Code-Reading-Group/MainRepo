<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: nsCSSFrameConstructor.h ソースファイル</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li class="current"><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>ファイル一覧</span></a></li>
      <li><a href="../../globals.html"><span>グローバル</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d4/d60/ns_c_s_s_frame_constructor_8h.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">nsCSSFrameConstructor.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html">説明を見る。</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a name="l00002"></a>00002 <span class="comment">/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a name="l00003"></a>00003 <span class="comment"> * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a name="l00004"></a>00004 <span class="comment"> * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="comment">/*</span>
<a name="l00007"></a>00007 <span class="comment"> * construction of a frame tree that is nearly isomorphic to the content</span>
<a name="l00008"></a>00008 <span class="comment"> * tree and updating of that tree in response to dynamic changes</span>
<a name="l00009"></a>00009 <span class="comment"> */</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="preprocessor">#ifndef nsCSSFrameConstructor_h___</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span><span class="preprocessor">#define nsCSSFrameConstructor_h___</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &quot;<a class="code" href="../../d1/da8/_attributes_8h.html">mozilla/Attributes.h</a>&quot;</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 <span class="preprocessor">#include &quot;<a class="code" href="../../d5/d03/ns_c_o_m_ptr_8h.html">nsCOMPtr.h</a>&quot;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &quot;<a class="code" href="../../da/dfa/ns_i_layout_history_state_8h.html">nsILayoutHistoryState.h</a>&quot;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &quot;nsQuoteList.h&quot;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &quot;nsCounterManager.h&quot;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &quot;<a class="code" href="../../d8/dcf/ns_hash_keys_8h.html">nsHashKeys.h</a>&quot;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &quot;<a class="code" href="../../d6/d6b/ns_thread_utils_8h.html">nsThreadUtils.h</a>&quot;</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &quot;<a class="code" href="../../da/d15/ns_c_s_s_pseudo_elements_8h.html">nsCSSPseudoElements.h</a>&quot;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &quot;<a class="code" href="../../d1/df5/ns_i_anonymous_content_creator_8h.html">nsIAnonymousContentCreator.h</a>&quot;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &quot;<a class="code" href="../../d4/d85/ns_frame_manager_8h.html">nsFrameManager.h</a>&quot;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;RestyleManager.h&quot;</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="keyword">class </span><a class="code" href="../../de/dd1/classns_i_document.html">nsIDocument</a>;
<a name="l00028"></a>00028 <span class="keyword">struct </span>nsFrameItems;
<a name="l00029"></a>00029 <span class="keyword">struct </span>nsAbsoluteItems;
<a name="l00030"></a>00030 <span class="keyword">class </span><a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>;
<a name="l00031"></a>00031 <span class="keyword">struct </span><a class="code" href="../../d3/d35/structns_style_content.html">nsStyleContent</a>;
<a name="l00032"></a>00032 <span class="keyword">struct </span><a class="code" href="../../da/dd0/structns_style_display.html">nsStyleDisplay</a>;
<a name="l00033"></a>00033 <span class="keyword">class </span><a class="code" href="../../d3/d8f/classns_i_pres_shell.html">nsIPresShell</a>;
<a name="l00034"></a>00034 <span class="keyword">class </span><a class="code" href="../../da/d76/interfacens_i_d_o_m_h_t_m_l_select_element.html">nsIDOMHTMLSelectElement</a>;
<a name="l00035"></a>00035 <span class="keyword">class </span><a class="code" href="../../d0/d65/classns_pres_context.html">nsPresContext</a>;
<a name="l00036"></a>00036 <span class="keyword">class </span><a class="code" href="../../df/d01/classns_style_change_list.html">nsStyleChangeList</a>;
<a name="l00037"></a>00037 <span class="keyword">class </span><a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>;
<a name="l00038"></a>00038 <span class="keyword">struct </span>nsGenConInitializer;
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="keyword">class </span><a class="code" href="../../d6/df6/classns_i_c_s_s_anon_box_pseudo.html">nsICSSAnonBoxPseudo</a>;
<a name="l00041"></a>00041 <span class="keyword">class </span>nsPageContentFrame;
<a name="l00042"></a>00042 <span class="keyword">struct </span>PendingBinding;
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 <span class="keyword">class </span>nsFrameConstructorState;
<a name="l00045"></a>00045 <span class="keyword">class </span>nsFrameConstructorSaveState;
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="keyword">namespace </span>mozilla {
<a name="l00048"></a>00048 
<a name="l00049"></a>00049 <span class="keyword">class </span>RestyleManager;
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 <span class="keyword">namespace </span><a class="code" href="../../da/dce/details__test_8js.html#a017102f866db15b37d9657454efde4ff">dom</a> {
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 <span class="keyword">class </span>FlattenedChildIterator;
<a name="l00054"></a>00054 
<a name="l00055"></a>00055 }
<a name="l00056"></a>00056 }
<a name="l00057"></a>00057 
<a name="l00058"></a><a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html">00058</a> <span class="keyword">class </span><a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html">nsCSSFrameConstructor</a> : <span class="keyword">public</span> <a class="code" href="../../d0/da9/classns_frame_manager.html">nsFrameManager</a>
<a name="l00059"></a>00059 {
<a name="l00060"></a>00060 <span class="keyword">public</span>:
<a name="l00061"></a><a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">00061</a>   <span class="keyword">typedef</span> <a class="code" href="../../de/da4/classmozilla_1_1dom_1_1_element.html">mozilla::dom::Element</a> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>;
<a name="l00062"></a>00062 
<a name="l00063"></a><a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a072483f6e7b5de369d7423f9fe3ad29a">00063</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a072483f6e7b5de369d7423f9fe3ad29a">mozilla::RestyleManager</a>;
<a name="l00064"></a>00064 
<a name="l00065"></a>00065   <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a1c769842721cb402b5136a7e99bbd6d5">nsCSSFrameConstructor</a>(<a class="code" href="../../de/dd1/classns_i_document.html">nsIDocument</a> *aDocument, <a class="code" href="../../d3/d8f/classns_i_pres_shell.html">nsIPresShell</a>* aPresShell,
<a name="l00066"></a>00066                         <a class="code" href="../../d2/db0/classns_style_set.html">nsStyleSet</a>* aStyleSet);
<a name="l00067"></a><a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a9511b4b77706e0dcd95c00f16922f060">00067</a>   <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a9511b4b77706e0dcd95c00f16922f060">~nsCSSFrameConstructor</a>(<span class="keywordtype">void</span>) {
<a name="l00068"></a>00068     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(mUpdateCount == 0, <span class="stringliteral">&quot;Dying in the middle of our own update?&quot;</span>);
<a name="l00069"></a>00069   }
<a name="l00070"></a>00070 
<a name="l00071"></a>00071   <span class="comment">// get the alternate text for a content node</span>
<a name="l00072"></a>00072   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a87f1cd3e237024d9f8f3f2ee363aaddf">GetAlternateTextFor</a>(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*    aContent,
<a name="l00073"></a>00073                                   <a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a>*       aTag,  <span class="comment">// content object&#39;s tag</span>
<a name="l00074"></a>00074                                   nsXPIDLString&amp; aAltText);
<a name="l00075"></a>00075 
<a name="l00076"></a>00076 <span class="keyword">private</span>:
<a name="l00077"></a>00077   <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a1c769842721cb402b5136a7e99bbd6d5">nsCSSFrameConstructor</a>(<span class="keyword">const</span> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html">nsCSSFrameConstructor</a>&amp; aCopy) MOZ_DELETE;
<a name="l00078"></a>00078   <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html">nsCSSFrameConstructor</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html">nsCSSFrameConstructor</a>&amp; aCopy) MOZ_DELETE;
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 <span class="keyword">public</span>:
<a name="l00081"></a><a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#afeb624f59b4bade45512bf8554f64875">00081</a>   <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a072483f6e7b5de369d7423f9fe3ad29a">mozilla::RestyleManager</a>* <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#afeb624f59b4bade45512bf8554f64875">RestyleManager</a>()<span class="keyword"> const</span>
<a name="l00082"></a>00082 <span class="keyword">    </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d4/dd3/classns_frame_manager_base.html#ad765501410627a0657a8131586b87f65">mPresShell</a>-&gt;<a class="code" href="../../d3/d8f/classns_i_pres_shell.html#a066aae16d1254b2ebe7c834b43682492">GetPresContext</a>()-&gt;RestyleManager(); }
<a name="l00083"></a>00083 
<a name="l00084"></a>00084   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a5bcaf87dbc78d97d5def8b136e346a0d">ConstructRootFrame</a>();
<a name="l00085"></a>00085 
<a name="l00086"></a>00086   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a59a092539538015a0bffbdc38f38aa26">ReconstructDocElementHierarchy</a>();
<a name="l00087"></a>00087 
<a name="l00088"></a>00088   <span class="comment">// Create frames for content nodes that are marked as needing frames. This</span>
<a name="l00089"></a>00089   <span class="comment">// should be called before ProcessPendingRestyles.</span>
<a name="l00090"></a>00090   <span class="comment">// Note: It&#39;s the caller&#39;s responsibility to make sure to wrap a</span>
<a name="l00091"></a>00091   <span class="comment">// CreateNeededFrames call in a view update batch and a script blocker.</span>
<a name="l00092"></a>00092   <span class="keywordtype">void</span> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#ade37920ee3c09aab22ad108951ba28da">CreateNeededFrames</a>();
<a name="l00093"></a>00093 
<a name="l00094"></a>00094 <span class="keyword">private</span>:
<a name="l00095"></a>00095   <span class="keywordtype">void</span> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#ade37920ee3c09aab22ad108951ba28da">CreateNeededFrames</a>(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContent);
<a name="l00096"></a>00096 
<a name="l00097"></a>00097   <span class="keyword">enum</span> Operation {
<a name="l00098"></a>00098     CONTENTAPPEND,
<a name="l00099"></a>00099     CONTENTINSERT
<a name="l00100"></a>00100   };
<a name="l00101"></a>00101 
<a name="l00102"></a>00102   <span class="comment">// aChild is the child being inserted for inserts, and the first</span>
<a name="l00103"></a>00103   <span class="comment">// child being appended for appends.</span>
<a name="l00104"></a>00104   <span class="keywordtype">bool</span> MaybeConstructLazily(Operation aOperation,
<a name="l00105"></a>00105                               <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContainer,
<a name="l00106"></a>00106                               <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aChild);
<a name="l00107"></a>00107 
<a name="l00108"></a>00108   <span class="comment">// Issues a single ContentInserted for each child of aContainer in the range</span>
<a name="l00109"></a>00109   <span class="comment">// [aStartChild, aEndChild).</span>
<a name="l00110"></a>00110   <span class="keywordtype">void</span> IssueSingleInsertNofications(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContainer,
<a name="l00111"></a>00111                                     <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aStartChild,
<a name="l00112"></a>00112                                     <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aEndChild,
<a name="l00113"></a>00113                                     <span class="keywordtype">bool</span> aAllowLazyConstruction);
<a name="l00114"></a>00114   
<a name="l00115"></a>00115   <span class="comment">// Checks if the children of aContainer in the range [aStartChild, aEndChild)</span>
<a name="l00116"></a>00116   <span class="comment">// can be inserted/appended to one insertion point together. If so, returns</span>
<a name="l00117"></a>00117   <span class="comment">// that insertion point. If not, returns null and issues single</span>
<a name="l00118"></a>00118   <span class="comment">// ContentInserted calls for each child.  aEndChild = nullptr indicates that we</span>
<a name="l00119"></a>00119   <span class="comment">// are dealing with an append.</span>
<a name="l00120"></a>00120   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* GetRangeInsertionPoint(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContainer,
<a name="l00121"></a>00121                                    <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aStartChild,
<a name="l00122"></a>00122                                    <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aEndChild,
<a name="l00123"></a>00123                                    <span class="keywordtype">bool</span> aAllowLazyConstruction);
<a name="l00124"></a>00124 
<a name="l00125"></a>00125   <span class="comment">// Returns true if parent was recreated due to frameset child, false otherwise.</span>
<a name="l00126"></a>00126   <span class="keywordtype">bool</span> MaybeRecreateForFrameset(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aParentFrame,
<a name="l00127"></a>00127                                   <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aStartChild,
<a name="l00128"></a>00128                                   <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aEndChild);
<a name="l00129"></a>00129 
<a name="l00130"></a>00130 <span class="keyword">public</span>:
<a name="l00175"></a>00175   <span class="comment">// If aAllowLazyConstruction is true then frame construction of the new</span>
<a name="l00176"></a>00176   <span class="comment">// children can be done lazily.</span>
<a name="l00177"></a>00177   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a16749170f288e43677c227b8854fb321">ContentAppended</a>(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContainer,
<a name="l00178"></a>00178                            <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aFirstNewContent,
<a name="l00179"></a>00179                            <span class="keywordtype">bool</span>        aAllowLazyConstruction);
<a name="l00180"></a>00180 
<a name="l00181"></a>00181   <span class="comment">// If aAllowLazyConstruction is true then frame construction of the new child</span>
<a name="l00182"></a>00182   <span class="comment">// can be done lazily.</span>
<a name="l00183"></a>00183   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a0c5f315e8bc95489bffd0fff5554ae5b">ContentInserted</a>(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*            aContainer,
<a name="l00184"></a>00184                            <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*            aChild,
<a name="l00185"></a>00185                            <a class="code" href="../../d3/df3/classns_i_layout_history_state.html">nsILayoutHistoryState</a>* aFrameState,
<a name="l00186"></a>00186                            <span class="keywordtype">bool</span>                   aAllowLazyConstruction);
<a name="l00187"></a>00187 
<a name="l00188"></a>00188   <span class="comment">// Like ContentInserted but handles inserting the children of aContainer in</span>
<a name="l00189"></a>00189   <span class="comment">// the range [aStartChild, aEndChild).  aStartChild must be non-null.</span>
<a name="l00190"></a>00190   <span class="comment">// aEndChild may be null to indicate the range includes all kids after</span>
<a name="l00191"></a>00191   <span class="comment">// aStartChild.  If aAllowLazyConstruction is true then frame construction of</span>
<a name="l00192"></a>00192   <span class="comment">// the new children can be done lazily. It is only allowed to be true when</span>
<a name="l00193"></a>00193   <span class="comment">// inserting a single node.</span>
<a name="l00194"></a>00194   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#add3bd2b8752501e791114a6a36c9c069">ContentRangeInserted</a>(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*            aContainer,
<a name="l00195"></a>00195                                 <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*            aStartChild,
<a name="l00196"></a>00196                                 <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*            aEndChild,
<a name="l00197"></a>00197                                 <a class="code" href="../../d3/df3/classns_i_layout_history_state.html">nsILayoutHistoryState</a>* aFrameState,
<a name="l00198"></a>00198                                 <span class="keywordtype">bool</span>                   aAllowLazyConstruction);
<a name="l00199"></a>00199 
<a name="l00200"></a><a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a936569d98767c247fd6c0825c8c89b3a">00200</a>   <span class="keyword">enum</span> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a936569d98767c247fd6c0825c8c89b3a">RemoveFlags</a> { <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a936569d98767c247fd6c0825c8c89b3aa6739dd4be1ae294fc4e79aea1a1ba54a">REMOVE_CONTENT</a>, <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a936569d98767c247fd6c0825c8c89b3aa37151c637bd153095cd75b045a6f40f3">REMOVE_FOR_RECONSTRUCTION</a> };
<a name="l00201"></a>00201   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a72b6264bd41276dc18e4e6ccf90cbf4a">ContentRemoved</a>(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContainer,
<a name="l00202"></a>00202                           <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aChild,
<a name="l00203"></a>00203                           <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aOldNextSibling,
<a name="l00204"></a>00204                           <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a936569d98767c247fd6c0825c8c89b3a">RemoveFlags</a> aFlags,
<a name="l00205"></a>00205                           <span class="keywordtype">bool</span>*     aDidReconstruct);
<a name="l00206"></a>00206 
<a name="l00207"></a>00207   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#ad4a816929f48c20454cd37bf2ed7b65a">CharacterDataChanged</a>(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContent,
<a name="l00208"></a>00208                                 <a class="code" href="../../d2/df5/struct_character_data_change_info.html">CharacterDataChangeInfo</a>* aInfo);
<a name="l00209"></a>00209 
<a name="l00210"></a>00210   <span class="comment">// generate the child frames and process bindings</span>
<a name="l00211"></a>00211   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#ad603e33068ae7d363245fe4aa0ffcbee">GenerateChildFrames</a>(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame);
<a name="l00212"></a>00212 
<a name="l00213"></a>00213   <span class="comment">// Should be called when a frame is going to be destroyed and</span>
<a name="l00214"></a>00214   <span class="comment">// WillDestroyFrameTree hasn&#39;t been called yet.</span>
<a name="l00215"></a>00215   <span class="keywordtype">void</span> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a324cb4793720295c769375017cf4ab0d">NotifyDestroyingFrame</a>(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame);
<a name="l00216"></a>00216 
<a name="l00217"></a>00217   <span class="keywordtype">void</span> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a877d8dc8325a06a6ed53f7c91820f586">BeginUpdate</a>();
<a name="l00218"></a>00218   <span class="keywordtype">void</span> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a6ddf02135a3546dd71053ed0d69c0cae">EndUpdate</a>();
<a name="l00219"></a>00219   <span class="keywordtype">void</span> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a9989734fda0d5196f016b5230b426a4d">RecalcQuotesAndCounters</a>();
<a name="l00220"></a>00220 
<a name="l00221"></a>00221   <span class="comment">// Gets called when the presshell is destroying itself and also</span>
<a name="l00222"></a>00222   <span class="comment">// when we tear down our frame tree to reconstruct it</span>
<a name="l00223"></a>00223   <span class="keywordtype">void</span> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a9f20df6891a238537ae7e544212f0379">WillDestroyFrameTree</a>();
<a name="l00224"></a>00224 
<a name="l00225"></a>00225   <span class="comment">// Request to create a continuing frame.  This method never returns null.</span>
<a name="l00226"></a>00226   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#ad37959bd2449a16493070f7ac1e68e8f">CreateContinuingFrame</a>(<a class="code" href="../../d0/d65/classns_pres_context.html">nsPresContext</a>* aPresContext,
<a name="l00227"></a>00227                                   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*       aFrame,
<a name="l00228"></a>00228                                   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*       aParentFrame,
<a name="l00229"></a>00229                                   <span class="keywordtype">bool</span>            aIsFluid = <span class="keyword">true</span>);
<a name="l00230"></a>00230 
<a name="l00231"></a>00231   <span class="comment">// Copy over fixed frames from aParentFrame&#39;s prev-in-flow</span>
<a name="l00232"></a>00232   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a692124bbf95564af1d25d09ff359e29f">ReplicateFixedFrames</a>(nsPageContentFrame* aParentFrame);
<a name="l00233"></a>00233 
<a name="l00234"></a>00234   <span class="comment">// Get the XBL insertion point for a child</span>
<a name="l00235"></a>00235   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a44808ab95ade3b7edb362a516913de06">GetInsertionPoint</a>(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContainer,
<a name="l00236"></a>00236                               <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aChildContent,
<a name="l00237"></a>00237                               <span class="keywordtype">bool</span>*       aMultiple = <span class="keyword">nullptr</span>);
<a name="l00238"></a>00238 
<a name="l00239"></a>00239   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#ad06f84f7926f4324032812c1aa86434b">CreateListBoxContent</a>(<a class="code" href="../../d0/d65/classns_pres_context.html">nsPresContext</a>* aPresContext,
<a name="l00240"></a>00240                                 <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*       aParentFrame,
<a name="l00241"></a>00241                                 <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*       <a class="code" href="../../d0/da9/classns_frame_manager.html#a8176b712edf24dfedd26d7632679d622">aPrevFrame</a>,
<a name="l00242"></a>00242                                 <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*     aChild,
<a name="l00243"></a>00243                                 <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>**      <a class="code" href="../../d9/d6a/ns_color_8h.html#a820357f645d7b0eaf62fd4994dda5a24">aResult</a>,
<a name="l00244"></a>00244                                 <span class="keywordtype">bool</span>            aIsAppend,
<a name="l00245"></a>00245                                 <span class="keywordtype">bool</span>            aIsScrollbar,
<a name="l00246"></a>00246                                 <a class="code" href="../../d3/df3/classns_i_layout_history_state.html">nsILayoutHistoryState</a>* aFrameState);
<a name="l00247"></a>00247 
<a name="l00248"></a>00248   <span class="comment">// GetInitialContainingBlock() is deprecated in favor of GetRootElementFrame();</span>
<a name="l00249"></a>00249   <span class="comment">// nsIFrame* GetInitialContainingBlock() { return mRootElementFrame; }</span>
<a name="l00250"></a>00250   <span class="comment">// This returns the outermost frame for the root element</span>
<a name="l00251"></a><a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a8381dc198f58e3802db978db80a5afed">00251</a>   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a8381dc198f58e3802db978db80a5afed">GetRootElementFrame</a>() { <span class="keywordflow">return</span> mRootElementFrame; }
<a name="l00252"></a>00252   <span class="comment">// This returns the frame for the root element that does not</span>
<a name="l00253"></a>00253   <span class="comment">// have a psuedo-element style</span>
<a name="l00254"></a><a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a565ad9bf51cd7872f9336235b7ffc0b1">00254</a>   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a565ad9bf51cd7872f9336235b7ffc0b1">GetRootElementStyleFrame</a>() { <span class="keywordflow">return</span> mRootElementStyleFrame; }
<a name="l00255"></a><a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a0ce36b5b17b93b1880ff80ba49b22432">00255</a>   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a0ce36b5b17b93b1880ff80ba49b22432">GetPageSequenceFrame</a>() { <span class="keywordflow">return</span> mPageSequenceFrame; }
<a name="l00256"></a>00256 
<a name="l00257"></a>00257   <span class="comment">// Get the frame that is the parent of the root element.</span>
<a name="l00258"></a><a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a0d9e47dc1efc710514005a097c043572">00258</a>   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a0d9e47dc1efc710514005a097c043572">GetDocElementContainingBlock</a>()
<a name="l00259"></a>00259     { <span class="keywordflow">return</span> mDocElementContainingBlock; }
<a name="l00260"></a>00260 
<a name="l00261"></a>00261 <span class="keyword">private</span>:
<a name="l00262"></a>00262   <span class="keyword">struct </span>FrameConstructionItem;
<a name="l00263"></a>00263   <span class="keyword">class </span>FrameConstructionItemList;
<a name="l00264"></a>00264 
<a name="l00265"></a>00265   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* ConstructPageFrame(<a class="code" href="../../d3/d8f/classns_i_pres_shell.html">nsIPresShell</a>*  aPresShell, 
<a name="l00266"></a>00266                                <a class="code" href="../../d0/d65/classns_pres_context.html">nsPresContext</a>* aPresContext,
<a name="l00267"></a>00267                                <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*      aParentFrame,
<a name="l00268"></a>00268                                <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*      aPrevPageFrame,
<a name="l00269"></a>00269                                <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*&amp;     aCanvasFrame);
<a name="l00270"></a>00270 
<a name="l00271"></a>00271   <span class="keywordtype">void</span> InitAndRestoreFrame (<span class="keyword">const</span> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l00272"></a>00272                             <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*                    aContent,
<a name="l00273"></a>00273                             <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                      aParentFrame,
<a name="l00274"></a>00274                             <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                      aNewFrame,
<a name="l00275"></a>00275                             <span class="keywordtype">bool</span>                           aAllowCounters = <span class="keyword">true</span>);
<a name="l00276"></a>00276 
<a name="l00277"></a>00277   <span class="comment">// aState can be null if not available; it&#39;s used as an optimization.</span>
<a name="l00278"></a>00278   <span class="comment">// XXXbz IsValidSibling is the only caller that doesn&#39;t pass a state here!</span>
<a name="l00279"></a>00279   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;nsStyleContext&gt;</a>
<a name="l00280"></a>00280   ResolveStyleContext(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*         aParentFrame,
<a name="l00281"></a>00281                       <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*       aContent,
<a name="l00282"></a>00282                       <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>* <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>);
<a name="l00283"></a>00283   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;nsStyleContext&gt;</a>
<a name="l00284"></a>00284   ResolveStyleContext(<a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aParentStyleContext,
<a name="l00285"></a>00285                       <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContent,
<a name="l00286"></a>00286                       <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>* <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>);
<a name="l00287"></a>00287 
<a name="l00288"></a>00288   <span class="comment">// Construct a frame for aContent and put it in aFrameItems.  This should</span>
<a name="l00289"></a>00289   <span class="comment">// only be used in cases when it&#39;s known that the frame won&#39;t need table</span>
<a name="l00290"></a>00290   <span class="comment">// pseudo-frame construction and the like.</span>
<a name="l00291"></a>00291   <span class="keywordtype">void</span> ConstructFrame(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l00292"></a>00292                       <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*              aContent,
<a name="l00293"></a>00293                       <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aParentFrame,
<a name="l00294"></a>00294                       nsFrameItems&amp;            aFrameItems);
<a name="l00295"></a>00295 
<a name="l00296"></a>00296   <span class="comment">// Add the frame construction items for the given aContent and aParentFrame</span>
<a name="l00297"></a>00297   <span class="comment">// to the list.  This might add more than one item in some rare cases.</span>
<a name="l00298"></a>00298   <span class="comment">// If aSuppressWhiteSpaceOptimizations is true, optimizations that</span>
<a name="l00299"></a>00299   <span class="comment">// may suppress the construction of white-space-only text frames</span>
<a name="l00300"></a>00300   <span class="comment">// must be skipped for these items and items around them.</span>
<a name="l00301"></a>00301   <span class="keywordtype">void</span> AddFrameConstructionItems(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l00302"></a>00302                                  <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*              aContent,
<a name="l00303"></a>00303                                  <span class="keywordtype">bool</span>                     aSuppressWhiteSpaceOptimizations,
<a name="l00304"></a>00304                                  <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aParentFrame,
<a name="l00305"></a>00305                                  FrameConstructionItemList&amp; aItems);
<a name="l00306"></a>00306 
<a name="l00307"></a>00307   <span class="comment">// Construct the frames for the document element.  This can return null if the</span>
<a name="l00308"></a>00308   <span class="comment">// document element is display:none, or if the document element has a</span>
<a name="l00309"></a>00309   <span class="comment">// not-yet-loaded XBL binding, or if it&#39;s an SVG element that&#39;s not &lt;svg&gt;.</span>
<a name="l00310"></a>00310   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* ConstructDocElementFrame(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>*                 aDocElement,
<a name="l00311"></a>00311                                      <a class="code" href="../../d3/df3/classns_i_layout_history_state.html">nsILayoutHistoryState</a>*   aFrameState);
<a name="l00312"></a>00312 
<a name="l00313"></a>00313   <span class="comment">// Set up our mDocElementContainingBlock correctly for the given root</span>
<a name="l00314"></a>00314   <span class="comment">// content.</span>
<a name="l00315"></a>00315   <span class="keywordtype">void</span> SetUpDocElementContainingBlock(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aDocElement);
<a name="l00316"></a>00316 
<a name="l00331"></a>00331   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> CreateAttributeContent(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* <a class="code" href="../../d0/da9/classns_frame_manager.html#add0749bcba10b8b641f5a2bf5c9aafcd">aParentContent</a>,
<a name="l00332"></a>00332                                   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aParentFrame,
<a name="l00333"></a>00333                                   int32_t aAttrNamespace,
<a name="l00334"></a>00334                                   <a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a>* aAttrName,
<a name="l00335"></a>00335                                   <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* <a class="code" href="../../d0/da9/classns_frame_manager.html#a14324abae6c74aaed4c16b826e6ca9ef">aStyleContext</a>,
<a name="l00336"></a>00336                                   <a class="code" href="../../d3/d4e/classns_c_o_m_array.html">nsCOMArray&lt;nsIContent&gt;</a>&amp; aGeneratedContent,
<a name="l00337"></a>00337                                   <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>** aNewContent,
<a name="l00338"></a>00338                                   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>** aNewFrame);
<a name="l00339"></a>00339 
<a name="l00344"></a>00344   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;nsIContent&gt;</a> CreateGenConTextNode(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l00345"></a>00345                                                     <span class="keyword">const</span> nsString&amp; aString,
<a name="l00346"></a>00346                                                     nsCOMPtr&lt;nsIDOMCharacterData&gt;* aText,
<a name="l00347"></a>00347                                                     nsGenConInitializer* aInitializer);
<a name="l00348"></a>00348 
<a name="l00358"></a>00358   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;nsIContent&gt;</a> CreateGeneratedContent(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l00359"></a>00359                                                       <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*     <a class="code" href="../../d0/da9/classns_frame_manager.html#add0749bcba10b8b641f5a2bf5c9aafcd">aParentContent</a>,
<a name="l00360"></a>00360                                                       <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* <a class="code" href="../../d0/da9/classns_frame_manager.html#a14324abae6c74aaed4c16b826e6ca9ef">aStyleContext</a>,
<a name="l00361"></a>00361                                                       uint32_t        aContentIndex);
<a name="l00362"></a>00362 
<a name="l00363"></a>00363   <span class="comment">// aFrame may be null; this method doesn&#39;t use it directly in any case.</span>
<a name="l00364"></a>00364   <span class="keywordtype">void</span> CreateGeneratedContentItem(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp;   <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l00365"></a>00365                                   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                  aFrame,
<a name="l00366"></a>00366                                   <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*                aContent,
<a name="l00367"></a>00367                                   <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>*            <a class="code" href="../../d0/da9/classns_frame_manager.html#a14324abae6c74aaed4c16b826e6ca9ef">aStyleContext</a>,
<a name="l00368"></a>00368                                   <a class="code" href="../../d3/d0f/ns_display_item_types_8h.html#a1d1cfd8ffb84e947f82999c682b666a7">nsCSSPseudoElements::Type</a>  aPseudoElement,
<a name="l00369"></a>00369                                   FrameConstructionItemList&amp; aItems);
<a name="l00370"></a>00370 
<a name="l00371"></a>00371   <span class="comment">// This method can change aFrameList: it can chop off the beginning and put</span>
<a name="l00372"></a>00372   <span class="comment">// it in aParentFrame while putting the remainder into a special sibling of</span>
<a name="l00373"></a>00373   <span class="comment">// aParentFrame.  aPrevSibling must be the frame after which aFrameList is to</span>
<a name="l00374"></a>00374   <span class="comment">// be placed on aParentFrame&#39;s principal child list.  It may be null if</span>
<a name="l00375"></a>00375   <span class="comment">// aFrameList is being added at the beginning of the child list.</span>
<a name="l00376"></a>00376   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> AppendFramesToParent(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp;       <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l00377"></a>00377                                 <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                      aParentFrame,
<a name="l00378"></a>00378                                 nsFrameItems&amp;                  <a class="code" href="../../d0/da9/classns_frame_manager.html#a56f34227f81e91b4f6c2dd78ec0d3ccb">aFrameList</a>,
<a name="l00379"></a>00379                                 <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                      aPrevSibling,
<a name="l00380"></a>00380                                 <span class="keywordtype">bool</span>                           aIsRecursiveCall = <span class="keyword">false</span>);
<a name="l00381"></a>00381 
<a name="l00382"></a>00382   <span class="comment">// BEGIN TABLE SECTION</span>
<a name="l00387"></a>00387 <span class="comment"></span>  <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* ConstructTable(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l00388"></a>00388                            FrameConstructionItem&amp;   aItem,
<a name="l00389"></a>00389                            <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aParentFrame,
<a name="l00390"></a>00390                            <span class="keyword">const</span> <a class="code" href="../../da/dd0/structns_style_display.html">nsStyleDisplay</a>*    aDisplay,
<a name="l00391"></a>00391                            nsFrameItems&amp;            aFrameItems);
<a name="l00392"></a>00392 
<a name="l00396"></a>00396   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* ConstructTableRow(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l00397"></a>00397                               FrameConstructionItem&amp;   aItem,
<a name="l00398"></a>00398                               <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aParentFrame,
<a name="l00399"></a>00399                               <span class="keyword">const</span> <a class="code" href="../../da/dd0/structns_style_display.html">nsStyleDisplay</a>*    aStyleDisplay,
<a name="l00400"></a>00400                               nsFrameItems&amp;            aFrameItems);
<a name="l00401"></a>00401 
<a name="l00405"></a>00405   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* ConstructTableCol(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l00406"></a>00406                               FrameConstructionItem&amp;   aItem,
<a name="l00407"></a>00407                               <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aParentFrame,
<a name="l00408"></a>00408                               <span class="keyword">const</span> <a class="code" href="../../da/dd0/structns_style_display.html">nsStyleDisplay</a>*    aStyleDisplay,
<a name="l00409"></a>00409                               nsFrameItems&amp;            aFrameItems);
<a name="l00410"></a>00410 
<a name="l00414"></a>00414   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* ConstructTableCell(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l00415"></a>00415                                FrameConstructionItem&amp;   aItem,
<a name="l00416"></a>00416                                <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aParentFrame,
<a name="l00417"></a>00417                                <span class="keyword">const</span> <a class="code" href="../../da/dd0/structns_style_display.html">nsStyleDisplay</a>*    aStyleDisplay,
<a name="l00418"></a>00418                                nsFrameItems&amp;            aFrameItems);
<a name="l00419"></a>00419 
<a name="l00420"></a>00420 <span class="keyword">private</span>:
<a name="l00421"></a>00421   <span class="comment">/* An enum of possible parent types for anonymous table object construction */</span>
<a name="l00422"></a>00422   <span class="keyword">enum</span> ParentType {
<a name="l00423"></a>00423     eTypeBlock = 0, <span class="comment">/* This includes all non-table-related frames */</span>
<a name="l00424"></a>00424     eTypeRow,
<a name="l00425"></a>00425     eTypeRowGroup,
<a name="l00426"></a>00426     eTypeColGroup,
<a name="l00427"></a>00427     eTypeTable,
<a name="l00428"></a>00428     eParentTypeCount
<a name="l00429"></a>00429   };
<a name="l00430"></a>00430 
<a name="l00431"></a>00431   <span class="comment">/* 3 bits is enough to handle our ParentType values */</span>
<a name="l00432"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#a19194bcf692861742cede3ca646b44e9">00432</a> <span class="preprocessor">#define FCDATA_PARENT_TYPE_OFFSET 29</span>
<a name="l00433"></a>00433 <span class="preprocessor"></span>  <span class="comment">/* Macro to get the desired parent type out of an mBits member of</span>
<a name="l00434"></a>00434 <span class="comment">     FrameConstructionData */</span>
<a name="l00435"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#a8e307619b1f384090ff7bf50bf4ea24b">00435</a> <span class="preprocessor">#define FCDATA_DESIRED_PARENT_TYPE(_bits)           \</span>
<a name="l00436"></a>00436 <span class="preprocessor">  ParentType((_bits) &gt;&gt; FCDATA_PARENT_TYPE_OFFSET)</span>
<a name="l00437"></a>00437 <span class="preprocessor"></span>  <span class="comment">/* Macro to create FrameConstructionData bits out of a desired parent type */</span>
<a name="l00438"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#a831895427f1119368579e0c4b3c78905">00438</a> <span class="preprocessor">#define FCDATA_DESIRED_PARENT_TYPE_TO_BITS(_type)     \</span>
<a name="l00439"></a>00439 <span class="preprocessor">  (((uint32_t)(_type)) &lt;&lt; FCDATA_PARENT_TYPE_OFFSET)</span>
<a name="l00440"></a>00440 <span class="preprocessor"></span>
<a name="l00441"></a>00441   <span class="comment">/* Get the parent type that aParentFrame has. */</span>
<a name="l00442"></a>00442   <span class="keyword">static</span> ParentType GetParentType(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aParentFrame) {
<a name="l00443"></a>00443     <span class="keywordflow">return</span> GetParentType(aParentFrame-&gt;<a class="code" href="../../d7/d20/classns_i_frame.html#a1d5ba203e2f364ac3f8f2bcf197d7ec5">GetType</a>());
<a name="l00444"></a>00444   }
<a name="l00445"></a>00445 
<a name="l00446"></a>00446   <span class="comment">/* Get the parent type for the given nsIFrame type atom */</span>
<a name="l00447"></a>00447   <span class="keyword">static</span> ParentType GetParentType(<a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a>* aFrameType);
<a name="l00448"></a>00448 
<a name="l00449"></a>00449   <span class="comment">/* A constructor function that just creates an nsIFrame object.  The caller</span>
<a name="l00450"></a>00450 <span class="comment">     is responsible for initializing the object, adding it to frame lists,</span>
<a name="l00451"></a>00451 <span class="comment">     constructing frames for the children, etc.</span>
<a name="l00452"></a>00452 <span class="comment"></span>
<a name="l00453"></a>00453 <span class="comment">     @param nsIPresShell the presshell whose arena should be used to allocate</span>
<a name="l00454"></a>00454 <span class="comment">                         the frame.</span>
<a name="l00455"></a>00455 <span class="comment">     @param nsStyleContext the style context to use for the frame. */</span>
<a name="l00456"></a>00456   <span class="keyword">typedef</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* (* FrameCreationFunc)(<a class="code" href="../../d3/d8f/classns_i_pres_shell.html">nsIPresShell</a>*, <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>*);
<a name="l00457"></a>00457 
<a name="l00458"></a>00458   <span class="comment">/* A function that can be used to get a FrameConstructionData.  Such</span>
<a name="l00459"></a>00459 <span class="comment">     a function is allowed to return null.</span>
<a name="l00460"></a>00460 <span class="comment"></span>
<a name="l00461"></a>00461 <span class="comment">     @param nsIContent the node for which the frame is being constructed.</span>
<a name="l00462"></a>00462 <span class="comment">     @param nsStyleContext the style context to be used for the frame.</span>
<a name="l00463"></a>00463 <span class="comment">  */</span>
<a name="l00464"></a>00464   <span class="keyword">struct </span>FrameConstructionData;
<a name="l00465"></a>00465   <span class="keyword">typedef</span> <span class="keyword">const</span> FrameConstructionData*
<a name="l00466"></a>00466     (* FrameConstructionDataGetter)(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>*, <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>*);
<a name="l00467"></a>00467 
<a name="l00468"></a>00468   <span class="comment">/* A constructor function that&#39;s used for complicated construction tasks.</span>
<a name="l00469"></a>00469 <span class="comment">     This is expected to create the new frame, initialize it, add whatever</span>
<a name="l00470"></a>00470 <span class="comment">     needs to be added to aFrameItems (XXXbz is that really necessary?  Could</span>
<a name="l00471"></a>00471 <span class="comment">     caller add?  Might there be cases when the returned frame or its</span>
<a name="l00472"></a>00472 <span class="comment">     placeholder is not the thing that ends up in aFrameItems?  If not, would</span>
<a name="l00473"></a>00473 <span class="comment">     it be safe to do the add into the frame construction state after</span>
<a name="l00474"></a>00474 <span class="comment">     processing kids?  Look into this as a followup!), process children as</span>
<a name="l00475"></a>00475 <span class="comment">     needed, etc.  It is NOT expected to deal with setting the frame on the</span>
<a name="l00476"></a>00476 <span class="comment">     content.</span>
<a name="l00477"></a>00477 <span class="comment"></span>
<a name="l00478"></a>00478 <span class="comment">     @param aState the frame construction state to use.</span>
<a name="l00479"></a>00479 <span class="comment">     @param aItem the frame construction item to use</span>
<a name="l00480"></a>00480 <span class="comment">     @param aParentFrame the frame to set as the parent of the</span>
<a name="l00481"></a>00481 <span class="comment">                         newly-constructed frame.</span>
<a name="l00482"></a>00482 <span class="comment">     @param aStyleDisplay the display struct from aItem&#39;s mStyleContext</span>
<a name="l00483"></a>00483 <span class="comment">     @param aFrameItems the frame list to add the new frame (or its</span>
<a name="l00484"></a>00484 <span class="comment">                        placeholder) to.</span>
<a name="l00485"></a>00485 <span class="comment">     @return the frame that was constructed.  This frame is what the caller</span>
<a name="l00486"></a>00486 <span class="comment">             will set as the frame on the content.  Guaranteed non-null.</span>
<a name="l00487"></a>00487 <span class="comment">  */</span>
<a name="l00488"></a>00488   <span class="keyword">typedef</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*
<a name="l00489"></a>00489     (<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html">nsCSSFrameConstructor</a>::* FrameFullConstructor)(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l00490"></a>00490                                                     FrameConstructionItem&amp; aItem,
<a name="l00491"></a>00491                                                     <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aParentFrame,
<a name="l00492"></a>00492                                                     <span class="keyword">const</span> <a class="code" href="../../da/dd0/structns_style_display.html">nsStyleDisplay</a>* aStyleDisplay,
<a name="l00493"></a>00493                                                     nsFrameItems&amp; aFrameItems);
<a name="l00494"></a>00494 
<a name="l00495"></a>00495   <span class="comment">/* Bits that modify the way a FrameConstructionData is handled */</span>
<a name="l00496"></a>00496 
<a name="l00497"></a>00497   <span class="comment">/* If the FCDATA_SKIP_FRAMESET bit is set, then the frame created should not</span>
<a name="l00498"></a>00498 <span class="comment">     be set as the primary frame on the content node.  This should only be used</span>
<a name="l00499"></a>00499 <span class="comment">     in very rare cases when we create more than one frame for a given content</span>
<a name="l00500"></a>00500 <span class="comment">     node. */</span>
<a name="l00501"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#a1a776523e557ae12977d5e7df23e7040">00501</a> <span class="preprocessor">#define FCDATA_SKIP_FRAMESET 0x1</span>
<a name="l00502"></a>00502 <span class="preprocessor"></span>  <span class="comment">/* If the FCDATA_FUNC_IS_DATA_GETTER bit is set, then the mFunc of the</span>
<a name="l00503"></a>00503 <span class="comment">     FrameConstructionData is a getter function that can be used to get the</span>
<a name="l00504"></a>00504 <span class="comment">     actual FrameConstructionData to use. */</span>
<a name="l00505"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#ac96c2aba2605e97690a2cedc5a30e11c">00505</a> <span class="preprocessor">#define FCDATA_FUNC_IS_DATA_GETTER 0x2</span>
<a name="l00506"></a>00506 <span class="preprocessor"></span>  <span class="comment">/* If the FCDATA_FUNC_IS_FULL_CTOR bit is set, then the FrameConstructionData</span>
<a name="l00507"></a>00507 <span class="comment">     has an mFullConstructor.  In this case, there is no relevant mData or</span>
<a name="l00508"></a>00508 <span class="comment">     mFunc */</span>
<a name="l00509"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#a5e3f50680026c10d335f9d220460e7e8">00509</a> <span class="preprocessor">#define FCDATA_FUNC_IS_FULL_CTOR 0x4</span>
<a name="l00510"></a>00510 <span class="preprocessor"></span>  <span class="comment">/* If FCDATA_DISALLOW_OUT_OF_FLOW is set, do not allow the frame to</span>
<a name="l00511"></a>00511 <span class="comment">     float or be absolutely positioned.  This can also be used with</span>
<a name="l00512"></a>00512 <span class="comment">     FCDATA_FUNC_IS_FULL_CTOR to indicate what the full-constructor</span>
<a name="l00513"></a>00513 <span class="comment">     function will do. */</span>
<a name="l00514"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#a2f9642a617f772bcec8ca69010298072">00514</a> <span class="preprocessor">#define FCDATA_DISALLOW_OUT_OF_FLOW 0x8</span>
<a name="l00515"></a>00515 <span class="preprocessor"></span>  <span class="comment">/* If FCDATA_FORCE_NULL_ABSPOS_CONTAINER is set, make sure to push a</span>
<a name="l00516"></a>00516 <span class="comment">     null absolute containing block before processing children for this</span>
<a name="l00517"></a>00517 <span class="comment">     frame.  If this is not set, the frame will be pushed as the</span>
<a name="l00518"></a>00518 <span class="comment">     absolute containing block as needed, based on its style */</span>
<a name="l00519"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#aa213d717571b6c964dfd0a9964ef4a8b">00519</a> <span class="preprocessor">#define FCDATA_FORCE_NULL_ABSPOS_CONTAINER 0x10</span>
<a name="l00520"></a>00520 <span class="preprocessor"></span>  <span class="comment">/* If FCDATA_WRAP_KIDS_IN_BLOCKS is set, the inline kids of the frame</span>
<a name="l00521"></a>00521 <span class="comment">     will be wrapped in blocks.  This is only usable for MathML at the</span>
<a name="l00522"></a>00522 <span class="comment">     moment. */</span>
<a name="l00523"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#add2b233243c2e4b531503c84d7735852">00523</a> <span class="preprocessor">#define FCDATA_WRAP_KIDS_IN_BLOCKS 0x20</span>
<a name="l00524"></a>00524 <span class="preprocessor"></span>  <span class="comment">/* If FCDATA_SUPPRESS_FRAME is set, no frame should be created for the</span>
<a name="l00525"></a>00525 <span class="comment">     content.  If this bit is set, nothing else in the struct needs to be</span>
<a name="l00526"></a>00526 <span class="comment">     set. */</span>
<a name="l00527"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#a2f09e206802aa4b563570e191690b4b1">00527</a> <span class="preprocessor">#define FCDATA_SUPPRESS_FRAME 0x40</span>
<a name="l00528"></a>00528 <span class="preprocessor"></span>  <span class="comment">/* If FCDATA_MAY_NEED_SCROLLFRAME is set, the new frame should be wrapped in</span>
<a name="l00529"></a>00529 <span class="comment">     a scrollframe if its overflow type so requires. */</span>
<a name="l00530"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#a41a8af727909fdbcb816912509701ae6">00530</a> <span class="preprocessor">#define FCDATA_MAY_NEED_SCROLLFRAME 0x80</span>
<a name="l00531"></a>00531 <span class="preprocessor"></span><span class="preprocessor">#ifdef MOZ_XUL</span>
<a name="l00532"></a>00532 <span class="preprocessor"></span>  <span class="comment">/* If FCDATA_IS_POPUP is set, the new frame is a XUL popup frame.  These need</span>
<a name="l00533"></a>00533 <span class="comment">     some really weird special handling.  */</span>
<a name="l00534"></a>00534 <span class="preprocessor">#define FCDATA_IS_POPUP 0x100</span>
<a name="l00535"></a>00535 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* MOZ_XUL */</span>
<a name="l00536"></a>00536   <span class="comment">/* If FCDATA_SKIP_ABSPOS_PUSH is set, don&#39;t push this frame as an</span>
<a name="l00537"></a>00537 <span class="comment">     absolute containing block, no matter what its style says. */</span>
<a name="l00538"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#ad8cd6ae91aa9fb3e3681e93610cff9f0">00538</a> <span class="preprocessor">#define FCDATA_SKIP_ABSPOS_PUSH 0x200</span>
<a name="l00539"></a>00539 <span class="preprocessor"></span>  <span class="comment">/* If FCDATA_DISALLOW_GENERATED_CONTENT is set, then don&#39;t allow generated</span>
<a name="l00540"></a>00540 <span class="comment">     content when processing kids of this frame.  This should not be used with</span>
<a name="l00541"></a>00541 <span class="comment">     FCDATA_FUNC_IS_FULL_CTOR */</span>
<a name="l00542"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#a3fdf0f0f37d41cb83d3cdd59e9513b67">00542</a> <span class="preprocessor">#define FCDATA_DISALLOW_GENERATED_CONTENT 0x400</span>
<a name="l00543"></a>00543 <span class="preprocessor"></span>  <span class="comment">/* If FCDATA_IS_TABLE_PART is set, then the frame is some sort of</span>
<a name="l00544"></a>00544 <span class="comment">     table-related thing and we should not attempt to fetch a table-cell parent</span>
<a name="l00545"></a>00545 <span class="comment">     for it if it&#39;s inside another table-related frame. */</span>
<a name="l00546"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#ad15773af3fd03cfa01f62cba4d882728">00546</a> <span class="preprocessor">#define FCDATA_IS_TABLE_PART 0x800</span>
<a name="l00547"></a>00547 <span class="preprocessor"></span>  <span class="comment">/* If FCDATA_IS_INLINE is set, then the frame is a non-replaced CSS</span>
<a name="l00548"></a>00548 <span class="comment">     inline box. */</span>
<a name="l00549"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#abaf9f4188da484f7acdb65c2f0cce41d">00549</a> <span class="preprocessor">#define FCDATA_IS_INLINE 0x1000</span>
<a name="l00550"></a>00550 <span class="preprocessor"></span>  <span class="comment">/* If FCDATA_IS_LINE_PARTICIPANT is set, the frame is something that will</span>
<a name="l00551"></a>00551 <span class="comment">     return true for IsFrameOfType(nsIFrame::eLineParticipant) */</span>
<a name="l00552"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#a6a6ddfaeab4082826387c0d79f9403f6">00552</a> <span class="preprocessor">#define FCDATA_IS_LINE_PARTICIPANT 0x2000</span>
<a name="l00553"></a>00553 <span class="preprocessor"></span>  <span class="comment">/* If FCDATA_IS_LINE_BREAK is set, the frame is something that will</span>
<a name="l00554"></a>00554 <span class="comment">     induce a line break boundary before and after itself. */</span>
<a name="l00555"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#aa9971071019d4790eb5f98eb1de03c2f">00555</a> <span class="preprocessor">#define FCDATA_IS_LINE_BREAK 0x4000</span>
<a name="l00556"></a>00556 <span class="preprocessor"></span>  <span class="comment">/* If FCDATA_ALLOW_BLOCK_STYLES is set, allow block styles when processing</span>
<a name="l00557"></a>00557 <span class="comment">     children.  This should not be used with FCDATA_FUNC_IS_FULL_CTOR. */</span>
<a name="l00558"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#ada339bbaf3ad603dfc559bb256401c34">00558</a> <span class="preprocessor">#define FCDATA_ALLOW_BLOCK_STYLES 0x8000</span>
<a name="l00559"></a>00559 <span class="preprocessor"></span>  <span class="comment">/* If FCDATA_USE_CHILD_ITEMS is set, then use the mChildItems in the relevant</span>
<a name="l00560"></a>00560 <span class="comment">     FrameConstructionItem instead of trying to process the content&#39;s children.</span>
<a name="l00561"></a>00561 <span class="comment">     This can be used with or without FCDATA_FUNC_IS_FULL_CTOR.</span>
<a name="l00562"></a>00562 <span class="comment">     The child items might still need table pseudo processing. */</span>
<a name="l00563"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#ad83e55af5c5acb2d50a8327ea5ccceb5">00563</a> <span class="preprocessor">#define FCDATA_USE_CHILD_ITEMS 0x10000</span>
<a name="l00564"></a>00564 <span class="preprocessor"></span>  <span class="comment">/* If FCDATA_FORCED_NON_SCROLLABLE_BLOCK is set, then this block</span>
<a name="l00565"></a>00565 <span class="comment">     would have been scrollable but has been forced to be</span>
<a name="l00566"></a>00566 <span class="comment">     non-scrollable due to being in a paginated context. */</span>
<a name="l00567"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#acc62ae575a6ea262889cb369d4e9a50f">00567</a> <span class="preprocessor">#define FCDATA_FORCED_NON_SCROLLABLE_BLOCK 0x20000</span>
<a name="l00568"></a>00568 <span class="preprocessor"></span>  <span class="comment">/* If FCDATA_CREATE_BLOCK_WRAPPER_FOR_ALL_KIDS is set, then create a</span>
<a name="l00569"></a>00569 <span class="comment">     block formatting context wrapper around the kids of this frame</span>
<a name="l00570"></a>00570 <span class="comment">     using the FrameConstructionData&#39;s mPseudoAtom for its anonymous</span>
<a name="l00571"></a>00571 <span class="comment">     box type. */</span>
<a name="l00572"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#abb9831b32c39f832a04163ec6998ecdf">00572</a> <span class="preprocessor">#define FCDATA_CREATE_BLOCK_WRAPPER_FOR_ALL_KIDS 0x40000</span>
<a name="l00573"></a>00573 <span class="preprocessor"></span>  <span class="comment">/* If FCDATA_IS_SVG_TEXT is set, then this text frame is a descendant of</span>
<a name="l00574"></a>00574 <span class="comment">     an SVG text frame. */</span>
<a name="l00575"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#a878b99373f06a4e211a6c7cafa5e3fbc">00575</a> <span class="preprocessor">#define FCDATA_IS_SVG_TEXT 0x80000</span>
<a name="l00576"></a>00576 <span class="preprocessor"></span>
<a name="l00577"></a>00577   <span class="comment">/* Structure representing information about how a frame should be</span>
<a name="l00578"></a>00578 <span class="comment">     constructed.  */</span>
<a name="l00579"></a>00579   <span class="keyword">struct </span>FrameConstructionData {
<a name="l00580"></a>00580     <span class="comment">// Flag bits that can modify the way the construction happens</span>
<a name="l00581"></a>00581     uint32_t mBits;
<a name="l00582"></a>00582     <span class="comment">// We have exactly one of three types of functions, so use a union for</span>
<a name="l00583"></a>00583     <span class="comment">// better cache locality for the ones that aren&#39;t pointer-to-member.  That</span>
<a name="l00584"></a>00584     <span class="comment">// one needs to be separate, because we can&#39;t cast between it and the</span>
<a name="l00585"></a>00585     <span class="comment">// others and hence wouldn&#39;t be able to initialize the union without a</span>
<a name="l00586"></a>00586     <span class="comment">// constructor and all the resulting generated code.  See documentation</span>
<a name="l00587"></a>00587     <span class="comment">// above for FrameCreationFunc, FrameConstructionDataGetter, and</span>
<a name="l00588"></a>00588     <span class="comment">// FrameFullConstructor to see what the functions would do.</span>
<a name="l00589"></a><a class="code" href="../../da/d0f/unionns_c_s_s_frame_constructor_1_1_frame_construction_data_1_1_func.html">00589</a>     <span class="keyword">union </span><a class="code" href="../../da/d0f/unionns_c_s_s_frame_constructor_1_1_frame_construction_data_1_1_func.html">Func</a> {
<a name="l00590"></a><a class="code" href="../../da/d0f/unionns_c_s_s_frame_constructor_1_1_frame_construction_data_1_1_func.html#a0960aec3c7f68d4294b9075d03733948">00590</a>       FrameCreationFunc <a class="code" href="../../da/d0f/unionns_c_s_s_frame_constructor_1_1_frame_construction_data_1_1_func.html#a0960aec3c7f68d4294b9075d03733948">mCreationFunc</a>;
<a name="l00591"></a><a class="code" href="../../da/d0f/unionns_c_s_s_frame_constructor_1_1_frame_construction_data_1_1_func.html#a21451b1343b764b91b10d3903e84f8fa">00591</a>       FrameConstructionDataGetter <a class="code" href="../../da/d0f/unionns_c_s_s_frame_constructor_1_1_frame_construction_data_1_1_func.html#a21451b1343b764b91b10d3903e84f8fa">mDataGetter</a>;
<a name="l00592"></a>00592     } mFunc;
<a name="l00593"></a>00593     FrameFullConstructor mFullConstructor;
<a name="l00594"></a>00594     <span class="comment">// For cases when FCDATA_CREATE_BLOCK_WRAPPER_FOR_ALL_KIDS is set, the</span>
<a name="l00595"></a>00595     <span class="comment">// anonymous box type to use for that wrapper.</span>
<a name="l00596"></a>00596     <a class="code" href="../../d6/df6/classns_i_c_s_s_anon_box_pseudo.html">nsICSSAnonBoxPseudo</a> * <span class="keyword">const</span> * <span class="keyword">const</span> mAnonBoxPseudo;
<a name="l00597"></a>00597   };
<a name="l00598"></a>00598 
<a name="l00599"></a>00599   <span class="comment">/* Structure representing a mapping of an atom to a FrameConstructionData.</span>
<a name="l00600"></a>00600 <span class="comment">     This can be used with non-static atoms, assuming that the nsIAtom* is</span>
<a name="l00601"></a>00601 <span class="comment">     stored somewhere that this struct can point to (that is, a static</span>
<a name="l00602"></a>00602 <span class="comment">     nsIAtom*) and that it&#39;s allocated before the struct is ever used. */</span>
<a name="l00603"></a>00603   <span class="keyword">struct </span>FrameConstructionDataByTag {
<a name="l00604"></a>00604     <span class="comment">// Pointer to nsIAtom* is used because we want to initialize this</span>
<a name="l00605"></a>00605     <span class="comment">// statically, so before our atom tables are set up.</span>
<a name="l00606"></a>00606     <span class="keyword">const</span> <a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a> * <span class="keyword">const</span> * <span class="keyword">const</span> mTag;
<a name="l00607"></a>00607     <span class="keyword">const</span> FrameConstructionData mData;
<a name="l00608"></a>00608   };
<a name="l00609"></a>00609 
<a name="l00610"></a>00610   <span class="comment">/* Structure representing a mapping of an integer to a</span>
<a name="l00611"></a>00611 <span class="comment">     FrameConstructionData. There are no magic integer values here. */</span>
<a name="l00612"></a>00612   <span class="keyword">struct </span>FrameConstructionDataByInt {
<a name="l00613"></a>00613     <span class="comment">/* Could be used for display or whatever else */</span>
<a name="l00614"></a>00614     <span class="keyword">const</span> int32_t mInt;
<a name="l00615"></a>00615     <span class="keyword">const</span> FrameConstructionData mData;
<a name="l00616"></a>00616   };
<a name="l00617"></a>00617 
<a name="l00618"></a>00618   <span class="comment">/* Structure that has a FrameConstructionData and style context pseudo-type</span>
<a name="l00619"></a>00619 <span class="comment">     for a table pseudo-frame */</span>
<a name="l00620"></a>00620   <span class="keyword">struct </span>PseudoParentData {
<a name="l00621"></a>00621     <span class="keyword">const</span> FrameConstructionData mFCData;
<a name="l00622"></a>00622     <a class="code" href="../../d6/df6/classns_i_c_s_s_anon_box_pseudo.html">nsICSSAnonBoxPseudo</a> * <span class="keyword">const</span> * <span class="keyword">const</span> mPseudoType;
<a name="l00623"></a>00623   };
<a name="l00624"></a>00624   <span class="comment">/* Array of such structures that we use to properly construct table</span>
<a name="l00625"></a>00625 <span class="comment">     pseudo-frames as needed */</span>
<a name="l00626"></a>00626   <span class="keyword">static</span> <span class="keyword">const</span> PseudoParentData sPseudoParentData[eParentTypeCount];
<a name="l00627"></a>00627 
<a name="l00628"></a>00628   <span class="comment">/* A function that takes an integer, content, style context, and array of</span>
<a name="l00629"></a>00629 <span class="comment">     FrameConstructionDataByInts and finds the appropriate frame construction</span>
<a name="l00630"></a>00630 <span class="comment">     data to use and returns it.  This can return null if none of the integers</span>
<a name="l00631"></a>00631 <span class="comment">     match or if the matching integer has a FrameConstructionDataGetter that</span>
<a name="l00632"></a>00632 <span class="comment">     returns null. */</span>
<a name="l00633"></a>00633   <span class="keyword">static</span> <span class="keyword">const</span> FrameConstructionData*
<a name="l00634"></a>00634     FindDataByInt(int32_t aInt, <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>* aElement,
<a name="l00635"></a>00635                   <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* <a class="code" href="../../d0/da9/classns_frame_manager.html#a14324abae6c74aaed4c16b826e6ca9ef">aStyleContext</a>,
<a name="l00636"></a>00636                   <span class="keyword">const</span> FrameConstructionDataByInt* aDataPtr,
<a name="l00637"></a>00637                   uint32_t <a class="code" href="../../d6/d1d/ns_x_p_c_o_m_strings_8h.html#a4690339f4be520db591d4b309e956bd6">aDataLength</a>);
<a name="l00638"></a>00638 
<a name="l00639"></a>00639   <span class="comment">/* A function that takes a tag, content, style context, and array of</span>
<a name="l00640"></a>00640 <span class="comment">     FrameConstructionDataByTags and finds the appropriate frame construction</span>
<a name="l00641"></a>00641 <span class="comment">     data to use and returns it.  This can return null if none of the tags</span>
<a name="l00642"></a>00642 <span class="comment">     match or if the matching tag has a FrameConstructionDataGetter that</span>
<a name="l00643"></a>00643 <span class="comment">     returns null. */</span>
<a name="l00644"></a>00644   <span class="keyword">static</span> <span class="keyword">const</span> FrameConstructionData*
<a name="l00645"></a>00645     FindDataByTag(<a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a>* aTag, <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>* aElement,
<a name="l00646"></a>00646                   <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* <a class="code" href="../../d0/da9/classns_frame_manager.html#a14324abae6c74aaed4c16b826e6ca9ef">aStyleContext</a>,
<a name="l00647"></a>00647                   <span class="keyword">const</span> FrameConstructionDataByTag* aDataPtr,
<a name="l00648"></a>00648                   uint32_t <a class="code" href="../../d6/d1d/ns_x_p_c_o_m_strings_8h.html#a4690339f4be520db591d4b309e956bd6">aDataLength</a>);
<a name="l00649"></a>00649 
<a name="l00650"></a>00650   <span class="comment">/* A class representing a list of FrameConstructionItems */</span>
<a name="l00651"></a>00651   <span class="keyword">class </span>FrameConstructionItemList {
<a name="l00652"></a>00652   <span class="keyword">public</span>:
<a name="l00653"></a>00653     FrameConstructionItemList() :
<a name="l00654"></a>00654       mInlineCount(0),
<a name="l00655"></a>00655       mBlockCount(0),
<a name="l00656"></a>00656       mLineParticipantCount(0),
<a name="l00657"></a>00657       mItemCount(0),
<a name="l00658"></a>00658       mLineBoundaryAtStart(<a class="code" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>),
<a name="l00659"></a>00659       mLineBoundaryAtEnd(<a class="code" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>),
<a name="l00660"></a>00660       mParentHasNoXBLChildren(<a class="code" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>),
<a name="l00661"></a>00661       mTriedConstructingFrames(<a class="code" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>)
<a name="l00662"></a>00662     {
<a name="l00663"></a>00663       <a class="code" href="../../da/d6e/prclist_8h.html#a1356c520cd83c9f7ac335468a3762643">PR_INIT_CLIST</a>(&amp;mItems);
<a name="l00664"></a>00664       memset(mDesiredParentCounts, 0, <span class="keyword">sizeof</span>(mDesiredParentCounts));
<a name="l00665"></a>00665     }
<a name="l00666"></a>00666 
<a name="l00667"></a>00667     ~FrameConstructionItemList() {
<a name="l00668"></a>00668       <a class="code" href="../../d3/dd1/struct_p_r_c_list_str.html">PRCList</a>* cur = <a class="code" href="../../da/d6e/prclist_8h.html#a144962c9eeb7197fdfaae630ef9173ee">PR_NEXT_LINK</a>(&amp;mItems);
<a name="l00669"></a>00669       <span class="keywordflow">while</span> (cur != &amp;mItems) {
<a name="l00670"></a>00670         <a class="code" href="../../d3/dd1/struct_p_r_c_list_str.html">PRCList</a>* next = <a class="code" href="../../da/d6e/prclist_8h.html#a144962c9eeb7197fdfaae630ef9173ee">PR_NEXT_LINK</a>(cur);
<a name="l00671"></a>00671         <span class="keyword">delete</span> ToItem(cur);
<a name="l00672"></a>00672         cur = next;
<a name="l00673"></a>00673       }
<a name="l00674"></a>00674 
<a name="l00675"></a>00675       <span class="comment">// Leaves our mItems pointing to deleted memory in both directions,</span>
<a name="l00676"></a>00676       <span class="comment">// but that&#39;s OK at this point.</span>
<a name="l00677"></a>00677 
<a name="l00678"></a>00678       <span class="comment">// Create the undisplayed entries for our mUndisplayedItems, if any, but</span>
<a name="l00679"></a>00679       <span class="comment">// only if we have tried constructing frames for this item list.  If we</span>
<a name="l00680"></a>00680       <span class="comment">// haven&#39;t, then we&#39;re just throwing it away and will probably try again.</span>
<a name="l00681"></a>00681       <span class="keywordflow">if</span> (!mUndisplayedItems.IsEmpty() &amp;&amp; mTriedConstructingFrames) {
<a name="l00682"></a>00682         <span class="comment">// We could store the frame manager in a member, but just</span>
<a name="l00683"></a>00683         <span class="comment">// getting it off the style context is not too bad.</span>
<a name="l00684"></a>00684         <a class="code" href="../../d0/da9/classns_frame_manager.html">nsFrameManager</a> *mgr =
<a name="l00685"></a>00685           mUndisplayedItems[0].mStyleContext-&gt;PresContext()-&gt;FrameManager();
<a name="l00686"></a>00686         <span class="keywordflow">for</span> (uint32_t <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; mUndisplayedItems.Length(); ++<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>) {
<a name="l00687"></a>00687           UndisplayedItem&amp; item = mUndisplayedItems[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>];
<a name="l00688"></a>00688           mgr-&gt;SetUndisplayedContent(item.mContent, item.mStyleContext);
<a name="l00689"></a>00689         }
<a name="l00690"></a>00690       }
<a name="l00691"></a>00691     }
<a name="l00692"></a>00692 
<a name="l00693"></a>00693     <span class="keywordtype">void</span> SetLineBoundaryAtStart(<span class="keywordtype">bool</span> aBoundary) { mLineBoundaryAtStart = aBoundary; }
<a name="l00694"></a>00694     <span class="keywordtype">void</span> SetLineBoundaryAtEnd(<span class="keywordtype">bool</span> aBoundary) { mLineBoundaryAtEnd = aBoundary; }
<a name="l00695"></a>00695     <span class="keywordtype">void</span> SetParentHasNoXBLChildren(<span class="keywordtype">bool</span> aHasNoXBLChildren) {
<a name="l00696"></a>00696       mParentHasNoXBLChildren = aHasNoXBLChildren;
<a name="l00697"></a>00697     }
<a name="l00698"></a>00698     <span class="keywordtype">void</span> SetTriedConstructingFrames() { mTriedConstructingFrames = <span class="keyword">true</span>; }
<a name="l00699"></a>00699     <span class="keywordtype">bool</span> HasLineBoundaryAtStart() { <span class="keywordflow">return</span> mLineBoundaryAtStart; }
<a name="l00700"></a>00700     <span class="keywordtype">bool</span> HasLineBoundaryAtEnd() { <span class="keywordflow">return</span> mLineBoundaryAtEnd; }
<a name="l00701"></a>00701     <span class="keywordtype">bool</span> ParentHasNoXBLChildren() { <span class="keywordflow">return</span> mParentHasNoXBLChildren; }
<a name="l00702"></a>00702     <span class="keywordtype">bool</span> IsEmpty()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../da/d6e/prclist_8h.html#af361c0700dfc0a6738d74762b58a5ab6">PR_CLIST_IS_EMPTY</a>(&amp;mItems); }
<a name="l00703"></a>00703     <span class="keywordtype">bool</span> AnyItemsNeedBlockParent()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mLineParticipantCount != 0; }
<a name="l00704"></a>00704     <span class="keywordtype">bool</span> AreAllItemsInline()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mInlineCount == mItemCount; }
<a name="l00705"></a>00705     <span class="keywordtype">bool</span> AreAllItemsBlock()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mBlockCount == mItemCount; }
<a name="l00706"></a>00706     <span class="keywordtype">bool</span> AllWantParentType(ParentType aDesiredParentType)<span class="keyword"> const </span>{
<a name="l00707"></a>00707       <span class="keywordflow">return</span> mDesiredParentCounts[aDesiredParentType] == mItemCount;
<a name="l00708"></a>00708     }
<a name="l00709"></a>00709 
<a name="l00710"></a>00710     <span class="comment">// aSuppressWhiteSpaceOptimizations is true if optimizations that</span>
<a name="l00711"></a>00711     <span class="comment">// skip constructing whitespace frames for this item or items</span>
<a name="l00712"></a>00712     <span class="comment">// around it cannot be performed.</span>
<a name="l00713"></a>00713     FrameConstructionItem* AppendItem(<span class="keyword">const</span> FrameConstructionData* aFCData,
<a name="l00714"></a>00714                                       <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContent,
<a name="l00715"></a>00715                                       <a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a>* aTag,
<a name="l00716"></a>00716                                       int32_t aNameSpaceID,
<a name="l00717"></a>00717                                       PendingBinding* aPendingBinding,
<a name="l00718"></a>00718                                       <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;nsStyleContext&gt;</a> <a class="code" href="../../d0/da9/classns_frame_manager.html#a14324abae6c74aaed4c16b826e6ca9ef">aStyleContext</a>,
<a name="l00719"></a>00719                                       <span class="keywordtype">bool</span> aSuppressWhiteSpaceOptimizations)
<a name="l00720"></a>00720     {
<a name="l00721"></a>00721       FrameConstructionItem* item =
<a name="l00722"></a>00722         <span class="keyword">new</span> FrameConstructionItem(aFCData, aContent, aTag, aNameSpaceID,
<a name="l00723"></a>00723                                   aPendingBinding, aStyleContext,
<a name="l00724"></a>00724                                   aSuppressWhiteSpaceOptimizations);
<a name="l00725"></a>00725       <a class="code" href="../../da/d6e/prclist_8h.html#a8b47d4a6d5a165926133a86f52ca8ad2">PR_APPEND_LINK</a>(item, &amp;mItems);
<a name="l00726"></a>00726       ++mItemCount;
<a name="l00727"></a>00727       ++mDesiredParentCounts[item-&gt;DesiredParentType()];
<a name="l00728"></a>00728       <span class="keywordflow">return</span> item;
<a name="l00729"></a>00729     }
<a name="l00730"></a>00730 
<a name="l00731"></a>00731     <span class="keywordtype">void</span> AppendUndisplayedItem(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContent,
<a name="l00732"></a>00732                                <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aStyleContext) {
<a name="l00733"></a>00733       mUndisplayedItems.AppendElement(UndisplayedItem(aContent, aStyleContext));
<a name="l00734"></a>00734     }
<a name="l00735"></a>00735 
<a name="l00736"></a>00736     <span class="keywordtype">void</span> InlineItemAdded() { ++mInlineCount; }
<a name="l00737"></a>00737     <span class="keywordtype">void</span> BlockItemAdded() { ++mBlockCount; }
<a name="l00738"></a>00738     <span class="keywordtype">void</span> LineParticipantItemAdded() { ++mLineParticipantCount; }
<a name="l00739"></a>00739 
<a name="l00740"></a>00740     <span class="keyword">class </span>Iterator;
<a name="l00741"></a>00741     <span class="keyword">friend</span> <span class="keyword">class </span>Iterator;
<a name="l00742"></a>00742 
<a name="l00743"></a><a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html">00743</a>     <span class="keyword">class </span><a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html">Iterator</a> {
<a name="l00744"></a>00744     <span class="keyword">public</span>:
<a name="l00745"></a><a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a574ece576a29f362d7ed36bcf8934047">00745</a>       <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a574ece576a29f362d7ed36bcf8934047">Iterator</a>(FrameConstructionItemList&amp; <a class="code" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>) :
<a name="l00746"></a>00746         mCurrent(<a class="code" href="../../da/d6e/prclist_8h.html#a144962c9eeb7197fdfaae630ef9173ee">PR_NEXT_LINK</a>(&amp;list.mItems)),
<a name="l00747"></a>00747         mEnd(&amp;list.mItems),
<a name="l00748"></a>00748         mList(list)
<a name="l00749"></a>00749       {}
<a name="l00750"></a><a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#ad497a9ecd2ecaaad21d67a3ededad1e4">00750</a>       <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a574ece576a29f362d7ed36bcf8934047">Iterator</a>(<span class="keyword">const</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html">Iterator</a>&amp; aOther) :
<a name="l00751"></a>00751         mCurrent(aOther.mCurrent),
<a name="l00752"></a>00752         mEnd(aOther.mEnd),
<a name="l00753"></a>00753         mList(aOther.mList)
<a name="l00754"></a>00754       {}
<a name="l00755"></a>00755 
<a name="l00756"></a><a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#aae81d3ead8cdb0b21df306455e4aae65">00756</a>       <span class="keywordtype">bool</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#aae81d3ead8cdb0b21df306455e4aae65">operator==</a>(<span class="keyword">const</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html">Iterator</a>&amp; aOther)<span class="keyword"> const </span>{
<a name="l00757"></a>00757         <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(mEnd == aOther.mEnd, <span class="stringliteral">&quot;Iterators for different lists?&quot;</span>);
<a name="l00758"></a>00758         <span class="keywordflow">return</span> mCurrent == aOther.mCurrent;
<a name="l00759"></a>00759       }
<a name="l00760"></a><a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a3a76f9325afe0292e08b2fe1dcffaa77">00760</a>       <span class="keywordtype">bool</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a3a76f9325afe0292e08b2fe1dcffaa77">operator!=</a>(<span class="keyword">const</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html">Iterator</a>&amp; aOther)<span class="keyword"> const </span>{
<a name="l00761"></a>00761         <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == aOther);
<a name="l00762"></a>00762       }
<a name="l00763"></a><a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a96ed9240c00cb20d69c286e9e0ef1dfa">00763</a>       <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html">Iterator</a>&amp; <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a96ed9240c00cb20d69c286e9e0ef1dfa">operator=</a>(<span class="keyword">const</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html">Iterator</a>&amp; aOther) {
<a name="l00764"></a>00764         <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(mEnd == aOther.mEnd, <span class="stringliteral">&quot;Iterators for different lists?&quot;</span>);
<a name="l00765"></a>00765         mCurrent = aOther.mCurrent;
<a name="l00766"></a>00766         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00767"></a>00767       }
<a name="l00768"></a>00768 
<a name="l00769"></a><a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#ad4ffa353a7ba3688ef72bca2072dbebc">00769</a>       FrameConstructionItemList* <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#ad4ffa353a7ba3688ef72bca2072dbebc">List</a>() {
<a name="l00770"></a>00770         <span class="keywordflow">return</span> &amp;mList;
<a name="l00771"></a>00771       }
<a name="l00772"></a>00772 
<a name="l00773"></a><a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#af8888124625ce9f637e86094fba5d61e">00773</a>       <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#af8888124625ce9f637e86094fba5d61e">operator FrameConstructionItem&amp; </a>() {
<a name="l00774"></a>00774         <span class="keywordflow">return</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a3c41848ec6fb9c7925166cfc57196b91">item</a>();
<a name="l00775"></a>00775       }
<a name="l00776"></a>00776 
<a name="l00777"></a><a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a3c41848ec6fb9c7925166cfc57196b91">00777</a>       FrameConstructionItem&amp; <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a3c41848ec6fb9c7925166cfc57196b91">item</a>() {
<a name="l00778"></a>00778         <span class="keywordflow">return</span> *FrameConstructionItemList::ToItem(mCurrent);
<a name="l00779"></a>00779       }
<a name="l00780"></a><a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a270d820d8d5c827a95d93c0c2994e889">00780</a>       <span class="keywordtype">bool</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a270d820d8d5c827a95d93c0c2994e889">IsDone</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mCurrent == mEnd; }
<a name="l00781"></a><a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a4b9dc2f4f0da86f002cb19e41f580c2b">00781</a>       <span class="keywordtype">bool</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a4b9dc2f4f0da86f002cb19e41f580c2b">AtStart</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mCurrent == <a class="code" href="../../da/d6e/prclist_8h.html#a144962c9eeb7197fdfaae630ef9173ee">PR_NEXT_LINK</a>(mEnd); }
<a name="l00782"></a><a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a7e3173d004670f361c7cbc7ed7241bdc">00782</a>       <span class="keywordtype">void</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a7e3173d004670f361c7cbc7ed7241bdc">Next</a>() {
<a name="l00783"></a>00783         <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(!<a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a270d820d8d5c827a95d93c0c2994e889">IsDone</a>(), <span class="stringliteral">&quot;Should have checked IsDone()!&quot;</span>);
<a name="l00784"></a>00784         mCurrent = <a class="code" href="../../da/d6e/prclist_8h.html#a144962c9eeb7197fdfaae630ef9173ee">PR_NEXT_LINK</a>(mCurrent);
<a name="l00785"></a>00785       }
<a name="l00786"></a><a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#ac519ba6b8acd4db90b71bef2980935da">00786</a>       <span class="keywordtype">void</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#ac519ba6b8acd4db90b71bef2980935da">Prev</a>() {
<a name="l00787"></a>00787         <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(!<a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a4b9dc2f4f0da86f002cb19e41f580c2b">AtStart</a>(), <span class="stringliteral">&quot;Should have checked AtStart()!&quot;</span>);
<a name="l00788"></a>00788         mCurrent = <a class="code" href="../../da/d6e/prclist_8h.html#a2e7ab3e8be15b603b066164d8d11f893">PR_PREV_LINK</a>(mCurrent);
<a name="l00789"></a>00789       }
<a name="l00790"></a><a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a87b0d9b7462e7f2e45ed3ff9a8b40e48">00790</a>       <span class="keywordtype">void</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a87b0d9b7462e7f2e45ed3ff9a8b40e48">SetToEnd</a>() { mCurrent = mEnd; }
<a name="l00791"></a>00791 
<a name="l00792"></a>00792       <span class="comment">// Skip over all items that want a parent type different from the given</span>
<a name="l00793"></a>00793       <span class="comment">// one.  Return whether the iterator is done after doing that.  The</span>
<a name="l00794"></a>00794       <span class="comment">// iterator must not be done when this is called.</span>
<a name="l00795"></a>00795       <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a3c16bf047962315e6c68bd0b6e94e6c6">SkipItemsWantingParentType</a>(ParentType aParentType);
<a name="l00796"></a>00796 
<a name="l00797"></a>00797       <span class="comment">// Skip over non-replaced inline frames and positioned frames.</span>
<a name="l00798"></a>00798       <span class="comment">// Return whether the iterator is done after doing that.</span>
<a name="l00799"></a>00799       <span class="comment">// The iterator must not be done when this is called.</span>
<a name="l00800"></a>00800       <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a7542c88e4e0f8549e5d72adc8fd9fb58">SkipItemsThatNeedAnonFlexItem</a>(
<a name="l00801"></a>00801         <span class="keyword">const</span> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>);
<a name="l00802"></a>00802 
<a name="l00803"></a>00803       <span class="comment">// Skip to the first frame that is a non-replaced inline or is</span>
<a name="l00804"></a>00804       <span class="comment">// positioned.  Return whether the iterator is done after doing that.</span>
<a name="l00805"></a>00805       <span class="comment">// The iterator must not be done when this is called.</span>
<a name="l00806"></a>00806       <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a9c6d3a6042a87f1443ce10004c668bc5">SkipItemsThatDontNeedAnonFlexItem</a>(
<a name="l00807"></a>00807         <span class="keyword">const</span> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>);
<a name="l00808"></a>00808 
<a name="l00809"></a>00809       <span class="comment">// Skip over whitespace.  Return whether the iterator is done after doing</span>
<a name="l00810"></a>00810       <span class="comment">// that.  The iterator must not be done, and must be pointing to a</span>
<a name="l00811"></a>00811       <span class="comment">// whitespace item when this is called.</span>
<a name="l00812"></a>00812       <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a2786721b4f82cbfa7562adecb89c5060">SkipWhitespace</a>(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>);
<a name="l00813"></a>00813 
<a name="l00814"></a>00814       <span class="comment">// Remove the item pointed to by this iterator from its current list and</span>
<a name="l00815"></a>00815       <span class="comment">// Append it to aTargetList.  This iterator is advanced to point to the</span>
<a name="l00816"></a>00816       <span class="comment">// next item in its list.  aIter must not be done.  aOther must not be</span>
<a name="l00817"></a>00817       <span class="comment">// the list this iterator is iterating over..</span>
<a name="l00818"></a>00818       <span class="keywordtype">void</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a5f4a64d965c434aafd506a3657d2c061">AppendItemToList</a>(FrameConstructionItemList&amp; aTargetList);
<a name="l00819"></a>00819 
<a name="l00820"></a>00820       <span class="comment">// As above, but moves all items starting with this iterator until we</span>
<a name="l00821"></a>00821       <span class="comment">// get to aEnd; the item pointed to by aEnd is not stolen.  This method</span>
<a name="l00822"></a>00822       <span class="comment">// might have optimizations over just looping and doing StealItem for</span>
<a name="l00823"></a>00823       <span class="comment">// some special cases.  After this method returns, this iterator will</span>
<a name="l00824"></a>00824       <span class="comment">// point to the item aEnd points to now; aEnd is not modified.</span>
<a name="l00825"></a>00825       <span class="comment">// aTargetList must not be the list this iterator is iterating over.</span>
<a name="l00826"></a>00826       <span class="keywordtype">void</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#ac13644870e2001ae6a77675adae5bc60">AppendItemsToList</a>(<span class="keyword">const</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html">Iterator</a>&amp; aEnd,
<a name="l00827"></a>00827                              FrameConstructionItemList&amp; aTargetList);
<a name="l00828"></a>00828 
<a name="l00829"></a>00829       <span class="comment">// Insert aItem in this iterator&#39;s list right before the item pointed to</span>
<a name="l00830"></a>00830       <span class="comment">// by this iterator.  After the insertion, this iterator will continue to</span>
<a name="l00831"></a>00831       <span class="comment">// point to the item it now points to (the one just after the</span>
<a name="l00832"></a>00832       <span class="comment">// newly-inserted item).  This iterator is allowed to be done; in that</span>
<a name="l00833"></a>00833       <span class="comment">// case this call just appends the given item to the list.</span>
<a name="l00834"></a>00834       <span class="keywordtype">void</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#ae84b8272cf5a7d92123b5b644a4b2804">InsertItem</a>(FrameConstructionItem* aItem);
<a name="l00835"></a>00835 
<a name="l00836"></a>00836       <span class="comment">// Delete the items between this iterator and aEnd, including the item</span>
<a name="l00837"></a>00837       <span class="comment">// this iterator currently points to but not including the item pointed</span>
<a name="l00838"></a>00838       <span class="comment">// to by aEnd.  When this returns, this iterator will point to the same</span>
<a name="l00839"></a>00839       <span class="comment">// item as aEnd.  This iterator must not equal aEnd when this method is</span>
<a name="l00840"></a>00840       <span class="comment">// called.</span>
<a name="l00841"></a>00841       <span class="keywordtype">void</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html#a343b0aebefb84a8439a848ce92e5daed">DeleteItemsTo</a>(<span class="keyword">const</span> <a class="code" href="../../d9/dfc/classns_c_s_s_frame_constructor_1_1_frame_construction_item_list_1_1_iterator.html">Iterator</a>&amp; aEnd);
<a name="l00842"></a>00842 
<a name="l00843"></a>00843     <span class="keyword">private</span>:
<a name="l00844"></a>00844       <a class="code" href="../../d3/dd1/struct_p_r_c_list_str.html">PRCList</a>* mCurrent;
<a name="l00845"></a>00845       <a class="code" href="../../d3/dd1/struct_p_r_c_list_str.html">PRCList</a>* mEnd;
<a name="l00846"></a>00846       FrameConstructionItemList&amp; mList;
<a name="l00847"></a>00847     };
<a name="l00848"></a>00848 
<a name="l00849"></a>00849   <span class="keyword">private</span>:
<a name="l00850"></a>00850     <span class="keyword">static</span> FrameConstructionItem* ToItem(<a class="code" href="../../d3/dd1/struct_p_r_c_list_str.html">PRCList</a>* item) {
<a name="l00851"></a>00851       <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>FrameConstructionItem*<span class="keyword">&gt;</span>(item);
<a name="l00852"></a>00852     }
<a name="l00853"></a>00853 
<a name="l00854"></a>00854     <span class="keyword">struct </span>UndisplayedItem {
<a name="l00855"></a>00855       UndisplayedItem(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContent, <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aStyleContext) :
<a name="l00856"></a>00856         mContent(aContent), mStyleContext(aStyleContext)
<a name="l00857"></a>00857       {}
<a name="l00858"></a>00858 
<a name="l00859"></a>00859       <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a> * <span class="keyword">const</span> mContent;
<a name="l00860"></a>00860       <a class="code" href="../../d0/d01/classns_ref_ptr.html">nsRefPtr&lt;nsStyleContext&gt;</a> mStyleContext;
<a name="l00861"></a>00861     };
<a name="l00862"></a>00862 
<a name="l00863"></a>00863     <span class="comment">// Adjust our various counts for aItem being added or removed.  aDelta</span>
<a name="l00864"></a>00864     <span class="comment">// should be either +1 or -1 depending on which is happening.</span>
<a name="l00865"></a>00865     <span class="keywordtype">void</span> AdjustCountsForItem(FrameConstructionItem* aItem, int32_t aDelta);
<a name="l00866"></a>00866 
<a name="l00867"></a>00867     <a class="code" href="../../d3/dd1/struct_p_r_c_list_str.html">PRCList</a> mItems;
<a name="l00868"></a>00868     uint32_t mInlineCount;
<a name="l00869"></a>00869     uint32_t mBlockCount;
<a name="l00870"></a>00870     uint32_t mLineParticipantCount;
<a name="l00871"></a>00871     uint32_t mItemCount;
<a name="l00872"></a>00872     uint32_t mDesiredParentCounts[eParentTypeCount];
<a name="l00873"></a>00873     <span class="comment">// True if there is guaranteed to be a line boundary before the</span>
<a name="l00874"></a>00874     <span class="comment">// frames created by these items</span>
<a name="l00875"></a>00875     <span class="keywordtype">bool</span> mLineBoundaryAtStart;
<a name="l00876"></a>00876     <span class="comment">// True if there is guaranteed to be a line boundary after the</span>
<a name="l00877"></a>00877     <span class="comment">// frames created by these items</span>
<a name="l00878"></a>00878     <span class="keywordtype">bool</span> mLineBoundaryAtEnd;
<a name="l00879"></a>00879     <span class="comment">// True if the parent is guaranteed to have no XBL anonymous children</span>
<a name="l00880"></a>00880     <span class="keywordtype">bool</span> mParentHasNoXBLChildren;
<a name="l00881"></a>00881     <span class="comment">// True if we have tried constructing frames from this list</span>
<a name="l00882"></a>00882     <span class="keywordtype">bool</span> mTriedConstructingFrames;
<a name="l00883"></a>00883 
<a name="l00884"></a>00884     <a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;UndisplayedItem&gt;</a> mUndisplayedItems;
<a name="l00885"></a>00885   };
<a name="l00886"></a>00886 
<a name="l00887"></a>00887   <span class="keyword">typedef</span> FrameConstructionItemList::Iterator FCItemIterator;
<a name="l00888"></a>00888 
<a name="l00889"></a>00889   <span class="comment">/* A struct representing an item for which frames might need to be</span>
<a name="l00890"></a>00890 <span class="comment">   * constructed.  This contains all the information needed to construct the</span>
<a name="l00891"></a>00891 <span class="comment">   * frame other than the parent frame and whatever would be stored in the</span>
<a name="l00892"></a>00892 <span class="comment">   * frame constructor state. */</span>
<a name="l00893"></a>00893   <span class="keyword">struct </span>FrameConstructionItem : <span class="keyword">public</span> <a class="code" href="../../d3/dd1/struct_p_r_c_list_str.html">PRCList</a> {
<a name="l00894"></a>00894     <span class="comment">// No need to PR_INIT_CLIST in the constructor because the only</span>
<a name="l00895"></a>00895     <span class="comment">// place that creates us immediately appends us.</span>
<a name="l00896"></a>00896     FrameConstructionItem(<span class="keyword">const</span> FrameConstructionData* aFCData,
<a name="l00897"></a>00897                           <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContent,
<a name="l00898"></a>00898                           <a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a>* aTag,
<a name="l00899"></a>00899                           int32_t aNameSpaceID,
<a name="l00900"></a>00900                           PendingBinding* aPendingBinding,
<a name="l00901"></a>00901                           <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;nsStyleContext&gt;</a> aStyleContext,
<a name="l00902"></a>00902                           <span class="keywordtype">bool</span> aSuppressWhiteSpaceOptimizations) :
<a name="l00903"></a>00903       mFCData(aFCData), mContent(aContent), mTag(aTag),
<a name="l00904"></a>00904       mNameSpaceID(aNameSpaceID),
<a name="l00905"></a>00905       mPendingBinding(aPendingBinding), mStyleContext(aStyleContext),
<a name="l00906"></a>00906       mSuppressWhiteSpaceOptimizations(aSuppressWhiteSpaceOptimizations),
<a name="l00907"></a>00907       mIsText(<a class="code" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>), mIsGeneratedContent(<a class="code" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>),
<a name="l00908"></a>00908       mIsRootPopupgroup(<a class="code" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>), mIsAllInline(<a class="code" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>), mIsBlock(<a class="code" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>),
<a name="l00909"></a>00909       mHasInlineEnds(<a class="code" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>), mIsPopup(<a class="code" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>),
<a name="l00910"></a>00910       mIsLineParticipant(<a class="code" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>), mIsForSVGAElement(<a class="code" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>)
<a name="l00911"></a>00911     {}
<a name="l00912"></a>00912     ~FrameConstructionItem() {
<a name="l00913"></a>00913       <span class="keywordflow">if</span> (mIsGeneratedContent) {
<a name="l00914"></a>00914         mContent-&gt;UnbindFromTree();
<a name="l00915"></a>00915         <a class="code" href="../../d9/d4b/ns_i_supports_utils_8h.html#ab6d0830322edd9bb36dc31245834833a">NS_RELEASE</a>(mContent);
<a name="l00916"></a>00916       }
<a name="l00917"></a>00917     }
<a name="l00918"></a>00918 
<a name="l00919"></a>00919     ParentType DesiredParentType() {
<a name="l00920"></a>00920       <span class="keywordflow">return</span> <a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#a8e307619b1f384090ff7bf50bf4ea24b">FCDATA_DESIRED_PARENT_TYPE</a>(mFCData-&gt;mBits);
<a name="l00921"></a>00921     }
<a name="l00922"></a>00922 
<a name="l00923"></a>00923     <span class="comment">// Indicates whether (when in a flexbox container) this item needs to be</span>
<a name="l00924"></a>00924     <span class="comment">// wrapped in an anonymous block.</span>
<a name="l00925"></a>00925     <span class="keywordtype">bool</span> NeedsAnonFlexItem(<span class="keyword">const</span> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>);
<a name="l00926"></a>00926 
<a name="l00927"></a>00927     <span class="comment">// Don&#39;t call this unless the frametree really depends on the answer!</span>
<a name="l00928"></a>00928     <span class="comment">// Especially so for generated content, where we don&#39;t want to reframe</span>
<a name="l00929"></a>00929     <span class="comment">// things.</span>
<a name="l00930"></a>00930     <span class="keywordtype">bool</span> IsWhitespace(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>) <span class="keyword">const</span>;
<a name="l00931"></a>00931 
<a name="l00932"></a>00932     <span class="keywordtype">bool</span> IsLineBoundary()<span class="keyword"> const </span>{
<a name="l00933"></a>00933       <span class="keywordflow">return</span> mIsBlock || (mFCData-&gt;mBits &amp; <a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#aa9971071019d4790eb5f98eb1de03c2f">FCDATA_IS_LINE_BREAK</a>);
<a name="l00934"></a>00934     }
<a name="l00935"></a>00935 
<a name="l00936"></a>00936     <span class="comment">// The FrameConstructionData to use.</span>
<a name="l00937"></a>00937     <span class="keyword">const</span> FrameConstructionData* mFCData;
<a name="l00938"></a>00938     <span class="comment">// The nsIContent node to use when initializing the new frame.</span>
<a name="l00939"></a>00939     <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* mContent;
<a name="l00940"></a>00940     <span class="comment">// The XBL-resolved tag name to use for frame construction.</span>
<a name="l00941"></a>00941     <a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a>* mTag;
<a name="l00942"></a>00942     <span class="comment">// The XBL-resolved namespace to use for frame construction.</span>
<a name="l00943"></a>00943     int32_t mNameSpaceID;
<a name="l00944"></a>00944     <span class="comment">// The PendingBinding for this frame construction item, if any.  May be</span>
<a name="l00945"></a>00945     <span class="comment">// null.  We maintain a list of PendingBindings in the frame construction</span>
<a name="l00946"></a>00946     <span class="comment">// state in the order in which AddToAttachedQueue should be called on them:</span>
<a name="l00947"></a>00947     <span class="comment">// depth-first, post-order traversal order.  Since we actually traverse the</span>
<a name="l00948"></a>00948     <span class="comment">// DOM in a mix of breadth-first and depth-first, it is the responsibility</span>
<a name="l00949"></a>00949     <span class="comment">// of whoever constructs FrameConstructionItem kids of a given</span>
<a name="l00950"></a>00950     <span class="comment">// FrameConstructionItem to push its mPendingBinding as the current</span>
<a name="l00951"></a>00951     <span class="comment">// insertion point before doing so and pop it afterward.</span>
<a name="l00952"></a>00952     PendingBinding* mPendingBinding;
<a name="l00953"></a>00953     <span class="comment">// The style context to use for creating the new frame.</span>
<a name="l00954"></a>00954     <a class="code" href="../../d0/d01/classns_ref_ptr.html">nsRefPtr&lt;nsStyleContext&gt;</a> mStyleContext;
<a name="l00955"></a>00955     <span class="comment">// Whether optimizations to skip constructing textframes around</span>
<a name="l00956"></a>00956     <span class="comment">// this content need to be suppressed.</span>
<a name="l00957"></a>00957     <span class="keywordtype">bool</span> mSuppressWhiteSpaceOptimizations;
<a name="l00958"></a>00958     <span class="comment">// Whether this is a text content item.</span>
<a name="l00959"></a>00959     <span class="keywordtype">bool</span> mIsText;
<a name="l00960"></a>00960     <span class="comment">// Whether this is a generated content container.</span>
<a name="l00961"></a>00961     <span class="comment">// If it is, mContent is a strong pointer.</span>
<a name="l00962"></a>00962     <span class="keywordtype">bool</span> mIsGeneratedContent;
<a name="l00963"></a>00963     <span class="comment">// Whether this is an item for the root popupgroup.</span>
<a name="l00964"></a>00964     <span class="keywordtype">bool</span> mIsRootPopupgroup;
<a name="l00965"></a>00965     <span class="comment">// Whether construction from this item will create only frames that are</span>
<a name="l00966"></a>00966     <span class="comment">// IsInlineOutside() in the principal child list.  This is not precise, but</span>
<a name="l00967"></a>00967     <span class="comment">// conservative: if true the frames will really be inline, whereas if false</span>
<a name="l00968"></a>00968     <span class="comment">// they might still all be inline.</span>
<a name="l00969"></a>00969     <span class="keywordtype">bool</span> mIsAllInline;
<a name="l00970"></a>00970     <span class="comment">// Whether construction from this item will create only frames that are</span>
<a name="l00971"></a>00971     <span class="comment">// IsBlockOutside() in the principal child list.  This is not precise, but</span>
<a name="l00972"></a>00972     <span class="comment">// conservative: if true the frames will really be blocks, whereas if false</span>
<a name="l00973"></a>00973     <span class="comment">// they might still be blocks (and in particular, out-of-flows that didn&#39;t</span>
<a name="l00974"></a>00974     <span class="comment">// find a containing block).</span>
<a name="l00975"></a>00975     <span class="keywordtype">bool</span> mIsBlock;
<a name="l00976"></a>00976     <span class="comment">// Whether construction from this item will give leading and trailing</span>
<a name="l00977"></a>00977     <span class="comment">// inline frames.  This is equal to mIsAllInline, except for inline frame</span>
<a name="l00978"></a>00978     <span class="comment">// items, where it&#39;s always true, whereas mIsAllInline might be false due</span>
<a name="l00979"></a>00979     <span class="comment">// to {ib} splits.</span>
<a name="l00980"></a>00980     <span class="keywordtype">bool</span> mHasInlineEnds;
<a name="l00981"></a>00981     <span class="comment">// Whether construction from this item will create a popup that needs to</span>
<a name="l00982"></a>00982     <span class="comment">// go into the global popup items.</span>
<a name="l00983"></a>00983     <span class="keywordtype">bool</span> mIsPopup;
<a name="l00984"></a>00984     <span class="comment">// Whether this item should be treated as a line participant</span>
<a name="l00985"></a>00985     <span class="keywordtype">bool</span> mIsLineParticipant;
<a name="l00986"></a>00986     <span class="comment">// Whether this item is for an SVG &lt;a&gt; element</span>
<a name="l00987"></a>00987     <span class="keywordtype">bool</span> mIsForSVGAElement;
<a name="l00988"></a>00988 
<a name="l00989"></a>00989     <span class="comment">// Child frame construction items.</span>
<a name="l00990"></a>00990     FrameConstructionItemList mChildItems;
<a name="l00991"></a>00991 
<a name="l00992"></a>00992   <span class="keyword">private</span>:
<a name="l00993"></a>00993     FrameConstructionItem(<span class="keyword">const</span> FrameConstructionItem&amp; aOther) MOZ_DELETE; <span class="comment">/* not implemented */</span>
<a name="l00994"></a>00994   };
<a name="l00995"></a>00995 
<a name="l01003"></a>01003   <span class="keywordtype">void</span> CreateNeededAnonFlexItems(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01004"></a>01004                                     FrameConstructionItemList&amp; aItems,
<a name="l01005"></a>01005                                     <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aParentFrame);
<a name="l01006"></a>01006 
<a name="l01012"></a>01012   <span class="keyword">inline</span> <span class="keywordtype">void</span> CreateNeededTablePseudos(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01013"></a>01013                                        FrameConstructionItemList&amp; aItems,
<a name="l01014"></a>01014                                        <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aParentFrame);
<a name="l01015"></a>01015 
<a name="l01024"></a>01024   <span class="comment">// XXXbz this function should really go away once we rework pseudo-frame</span>
<a name="l01025"></a>01025   <span class="comment">// handling to be better. This should simply be part of the job of</span>
<a name="l01026"></a>01026   <span class="comment">// GetGeometricParent, and stuff like the frameitems and parent frame should</span>
<a name="l01027"></a>01027   <span class="comment">// be kept track of in the state...</span>
<a name="l01028"></a>01028   <span class="keywordtype">void</span> AdjustParentFrame(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* &amp;                  aParentFrame,
<a name="l01029"></a>01029                          <span class="keyword">const</span> FrameConstructionData* aFCData,
<a name="l01030"></a>01030                          <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>*              aStyleContext);
<a name="l01031"></a>01031 
<a name="l01032"></a>01032   <span class="comment">// END TABLE SECTION</span>
<a name="l01033"></a>01033 
<a name="l01034"></a>01034 <span class="keyword">protected</span>:
<a name="l01035"></a>01035   <span class="keyword">static</span> <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a4ae4cae49001bb3b28e3764201932dca">CreatePlaceholderFrameFor</a>(<a class="code" href="../../d3/d8f/classns_i_pres_shell.html">nsIPresShell</a>*    aPresShell, 
<a name="l01036"></a>01036                                              <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*      aContent,
<a name="l01037"></a>01037                                              <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*        aFrame,
<a name="l01038"></a>01038                                              <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>*  aStyleContext,
<a name="l01039"></a>01039                                              <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*        aParentFrame,
<a name="l01040"></a>01040                                              <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*        aPrevInFlow,
<a name="l01041"></a>01041                                              <a class="code" href="../../d4/ddc/ns_i_frame_8h.html#a2f1be3b8b8bed481a78cf01e6d26554f">nsFrameState</a>     aTypeBit);
<a name="l01042"></a>01042 
<a name="l01043"></a>01043 <span class="keyword">private</span>:
<a name="l01044"></a>01044   <span class="comment">// ConstructSelectFrame puts the new frame in aFrameItems and</span>
<a name="l01045"></a>01045   <span class="comment">// handles the kids of the select.</span>
<a name="l01046"></a>01046   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* ConstructSelectFrame(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01047"></a>01047                                  FrameConstructionItem&amp;   aItem,
<a name="l01048"></a>01048                                  <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aParentFrame,
<a name="l01049"></a>01049                                  <span class="keyword">const</span> <a class="code" href="../../da/dd0/structns_style_display.html">nsStyleDisplay</a>*    aStyleDisplay,
<a name="l01050"></a>01050                                  nsFrameItems&amp;            aFrameItems);
<a name="l01051"></a>01051 
<a name="l01052"></a>01052   <span class="comment">// ConstructFieldSetFrame puts the new frame in aFrameItems and</span>
<a name="l01053"></a>01053   <span class="comment">// handles the kids of the fieldset</span>
<a name="l01054"></a>01054   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* ConstructFieldSetFrame(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01055"></a>01055                                    FrameConstructionItem&amp;   aItem,
<a name="l01056"></a>01056                                    <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aParentFrame,
<a name="l01057"></a>01057                                    <span class="keyword">const</span> <a class="code" href="../../da/dd0/structns_style_display.html">nsStyleDisplay</a>*    aStyleDisplay,
<a name="l01058"></a>01058                                    nsFrameItems&amp;            aFrameItems);
<a name="l01059"></a>01059 
<a name="l01060"></a>01060   <span class="comment">// aParentFrame might be null.  If it is, that means it was an</span>
<a name="l01061"></a>01061   <span class="comment">// inline frame.</span>
<a name="l01062"></a>01062   <span class="keyword">static</span> <span class="keyword">const</span> FrameConstructionData* FindTextData(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aParentFrame);
<a name="l01063"></a>01063 
<a name="l01064"></a>01064   <span class="keywordtype">void</span> ConstructTextFrame(<span class="keyword">const</span> FrameConstructionData* <a class="code" href="../../d6/d1d/ns_x_p_c_o_m_strings_8h.html#a580e3d1c78551e30e0c97ab45dc8a3b5">aData</a>,
<a name="l01065"></a>01065                           <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01066"></a>01066                           <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*              aContent,
<a name="l01067"></a>01067                           <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aParentFrame,
<a name="l01068"></a>01068                           <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>*          aStyleContext,
<a name="l01069"></a>01069                           nsFrameItems&amp;            aFrameItems);
<a name="l01070"></a>01070 
<a name="l01071"></a>01071   <span class="comment">// If aPossibleTextContent is a text node and doesn&#39;t have a frame, append a</span>
<a name="l01072"></a>01072   <span class="comment">// frame construction item for it to aItems.</span>
<a name="l01073"></a>01073   <span class="keywordtype">void</span> AddTextItemIfNeeded(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01074"></a>01074                            <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aParentFrame,
<a name="l01075"></a>01075                            <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aPossibleTextContent,
<a name="l01076"></a>01076                            FrameConstructionItemList&amp; aItems);
<a name="l01077"></a>01077 
<a name="l01078"></a>01078   <span class="comment">// If aParentContent&#39;s child aContent is a text node and</span>
<a name="l01079"></a>01079   <span class="comment">// doesn&#39;t have a frame, try to create a frame for it.</span>
<a name="l01080"></a>01080   <span class="keywordtype">void</span> ReframeTextIfNeeded(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* <a class="code" href="../../d0/da9/classns_frame_manager.html#add0749bcba10b8b641f5a2bf5c9aafcd">aParentContent</a>,
<a name="l01081"></a>01081                            <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContent);
<a name="l01082"></a>01082 
<a name="l01083"></a>01083   <span class="keywordtype">void</span> AddPageBreakItem(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContent,
<a name="l01084"></a>01084                         <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aMainStyleContext,
<a name="l01085"></a>01085                         FrameConstructionItemList&amp; aItems);
<a name="l01086"></a>01086 
<a name="l01087"></a>01087   <span class="comment">// Function to find FrameConstructionData for aElement.  Will return</span>
<a name="l01088"></a>01088   <span class="comment">// null if aElement is not HTML.</span>
<a name="l01089"></a>01089   <span class="comment">// aParentFrame might be null.  If it is, that means it was an</span>
<a name="l01090"></a>01090   <span class="comment">// inline frame.</span>
<a name="l01091"></a>01091   <span class="keyword">static</span> <span class="keyword">const</span> FrameConstructionData* FindHTMLData(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>* aContent,
<a name="l01092"></a>01092                                                    <a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a>* aTag,
<a name="l01093"></a>01093                                                    int32_t aNameSpaceID,
<a name="l01094"></a>01094                                                    <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aParentFrame,
<a name="l01095"></a>01095                                                    <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aStyleContext);
<a name="l01096"></a>01096   <span class="comment">// HTML data-finding helper functions</span>
<a name="l01097"></a>01097   <span class="keyword">static</span> <span class="keyword">const</span> FrameConstructionData*
<a name="l01098"></a>01098     FindImgData(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>* aElement, <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aStyleContext);
<a name="l01099"></a>01099   <span class="keyword">static</span> <span class="keyword">const</span> FrameConstructionData*
<a name="l01100"></a>01100     FindImgControlData(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>* aElement, <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aStyleContext);
<a name="l01101"></a>01101   <span class="keyword">static</span> <span class="keyword">const</span> FrameConstructionData*
<a name="l01102"></a>01102     FindInputData(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>* aElement, <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aStyleContext);
<a name="l01103"></a>01103   <span class="keyword">static</span> <span class="keyword">const</span> FrameConstructionData*
<a name="l01104"></a>01104     FindObjectData(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>* aElement, <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aStyleContext);
<a name="l01105"></a>01105   <span class="keyword">static</span> <span class="keyword">const</span> FrameConstructionData*
<a name="l01106"></a>01106     FindCanvasData(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>* aElement, <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aStyleContext);
<a name="l01107"></a>01107 
<a name="l01108"></a>01108   <span class="comment">/* Construct a frame from the given FrameConstructionItem.  This function</span>
<a name="l01109"></a>01109 <span class="comment">     will handle adding the frame to frame lists, processing children, setting</span>
<a name="l01110"></a>01110 <span class="comment">     the frame as the primary frame for the item&#39;s content, and so forth.</span>
<a name="l01111"></a>01111 <span class="comment"></span>
<a name="l01112"></a>01112 <span class="comment">     @param aItem the FrameConstructionItem to use.</span>
<a name="l01113"></a>01113 <span class="comment">     @param aState the frame construction state to use.</span>
<a name="l01114"></a>01114 <span class="comment">     @param aParentFrame the frame to set as the parent of the</span>
<a name="l01115"></a>01115 <span class="comment">                         newly-constructed frame.</span>
<a name="l01116"></a>01116 <span class="comment">     @param aFrameItems the frame list to add the new frame (or its</span>
<a name="l01117"></a>01117 <span class="comment">                        placeholder) to.</span>
<a name="l01118"></a>01118 <span class="comment">  */</span>
<a name="l01119"></a>01119   <span class="keywordtype">void</span> ConstructFrameFromItemInternal(FrameConstructionItem&amp; aItem,
<a name="l01120"></a>01120                                       <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01121"></a>01121                                       <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aParentFrame,
<a name="l01122"></a>01122                                       nsFrameItems&amp; aFrameItems);
<a name="l01123"></a>01123 
<a name="l01124"></a>01124   <span class="comment">// possible flags for AddFrameConstructionItemInternal&#39;s aFlags argument</span>
<a name="l01125"></a>01125   <span class="comment">/* Allow xbl:base to affect the tag/namespace used. */</span>
<a name="l01126"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#a7e1dafb3f71c7f57566c71192c999d4f">01126</a> <span class="preprocessor">#define ITEM_ALLOW_XBL_BASE 0x1</span>
<a name="l01127"></a>01127 <span class="preprocessor"></span>  <span class="comment">/* Allow page-break before and after items to be created if the</span>
<a name="l01128"></a>01128 <span class="comment">     style asks for them. */</span>
<a name="l01129"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#a48a08377d2c3794854041824778e37a7">01129</a> <span class="preprocessor">#define ITEM_ALLOW_PAGE_BREAK 0x2</span>
<a name="l01130"></a>01130 <span class="preprocessor"></span>  <span class="comment">/* The item is a generated content item. */</span>
<a name="l01131"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#a102ac03ca3c638d7fe1bb89e5c3ce8db">01131</a> <span class="preprocessor">#define ITEM_IS_GENERATED_CONTENT 0x4</span>
<a name="l01132"></a>01132 <span class="preprocessor"></span>  <span class="comment">/* The item is within an SVG text block frame. */</span>
<a name="l01133"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#a82a631c587e6ab2f51e82938036d3d8e">01133</a> <span class="preprocessor">#define ITEM_IS_WITHIN_SVG_TEXT 0x8</span>
<a name="l01134"></a>01134 <span class="preprocessor"></span>  <span class="comment">/* The item allows items to be created for SVG &lt;textPath&gt; children. */</span>
<a name="l01135"></a><a class="code" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html#a13f19e4732e224c33291be58aa1ec460">01135</a> <span class="preprocessor">#define ITEM_ALLOWS_TEXT_PATH_CHILD 0x10</span>
<a name="l01136"></a>01136 <span class="preprocessor"></span>  <span class="comment">// The guts of AddFrameConstructionItems</span>
<a name="l01137"></a>01137   <span class="comment">// aParentFrame might be null.  If it is, that means it was an</span>
<a name="l01138"></a>01138   <span class="comment">// inline frame.</span>
<a name="l01139"></a>01139   <span class="keywordtype">void</span> AddFrameConstructionItemsInternal(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01140"></a>01140                                          <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*              aContent,
<a name="l01141"></a>01141                                          <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aParentFrame,
<a name="l01142"></a>01142                                          <a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a>*                 aTag,
<a name="l01143"></a>01143                                          int32_t                  aNameSpaceID,
<a name="l01144"></a>01144                                          <span class="keywordtype">bool</span>                     aSuppressWhiteSpaceOptimizations,
<a name="l01145"></a>01145                                          <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>*          aStyleContext,
<a name="l01146"></a>01146                                          uint32_t                 aFlags,
<a name="l01147"></a>01147                                          FrameConstructionItemList&amp; aItems);
<a name="l01148"></a>01148 
<a name="l01153"></a>01153   <span class="keywordtype">void</span> ConstructFramesFromItemList(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01154"></a>01154                                    FrameConstructionItemList&amp; aItems,
<a name="l01155"></a>01155                                    <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aParentFrame,
<a name="l01156"></a>01156                                    nsFrameItems&amp; aFrameItems);
<a name="l01157"></a>01157   <span class="keywordtype">void</span> ConstructFramesFromItem(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01158"></a>01158                                FCItemIterator&amp; aItem,
<a name="l01159"></a>01159                                <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aParentFrame,
<a name="l01160"></a>01160                                nsFrameItems&amp; aFrameItems);
<a name="l01161"></a>01161   <span class="keyword">static</span> <span class="keywordtype">bool</span> AtLineBoundary(FCItemIterator&amp; aIter);
<a name="l01162"></a>01162 
<a name="l01163"></a>01163   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> CreateAnonymousFrames(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01164"></a>01164                                  <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*              aParent,
<a name="l01165"></a>01165                                  <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aParentFrame,
<a name="l01166"></a>01166                                  PendingBinding  *        aPendingBinding,
<a name="l01167"></a>01167                                  nsFrameItems&amp;            aChildItems);
<a name="l01168"></a>01168 
<a name="l01169"></a>01169   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> GetAnonymousContent(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aParent,
<a name="l01170"></a>01170                                <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aParentFrame,
<a name="l01171"></a>01171                                <a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;nsIAnonymousContentCreator::ContentInfo&gt;</a>&amp; aAnonContent);
<a name="l01172"></a>01172 
<a name="l01173"></a>01173 <span class="comment">//MathML Mod - RBS</span>
<a name="l01179"></a>01179 <span class="comment"></span>  <span class="keywordtype">void</span> FlushAccumulatedBlock(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01180"></a>01180                              <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContent,
<a name="l01181"></a>01181                              <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aParentFrame,
<a name="l01182"></a>01182                              nsFrameItems&amp; aBlockItems,
<a name="l01183"></a>01183                              nsFrameItems&amp; aNewItems);
<a name="l01184"></a>01184 
<a name="l01185"></a>01185   <span class="comment">// Function to find FrameConstructionData for aContent.  Will return</span>
<a name="l01186"></a>01186   <span class="comment">// null if aContent is not MathML.</span>
<a name="l01187"></a>01187   <span class="keyword">static</span> <span class="keyword">const</span> FrameConstructionData* FindMathMLData(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>* aElement,
<a name="l01188"></a>01188                                                      <a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a>* aTag,
<a name="l01189"></a>01189                                                      int32_t aNameSpaceID,
<a name="l01190"></a>01190                                                      <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aStyleContext);
<a name="l01191"></a>01191 
<a name="l01192"></a>01192   <span class="comment">// Function to find FrameConstructionData for aContent.  Will return</span>
<a name="l01193"></a>01193   <span class="comment">// null if aContent is not XUL.</span>
<a name="l01194"></a>01194   <span class="keyword">static</span> <span class="keyword">const</span> FrameConstructionData* FindXULTagData(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>* aElement,
<a name="l01195"></a>01195                                                      <a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a>* aTag,
<a name="l01196"></a>01196                                                      int32_t aNameSpaceID,
<a name="l01197"></a>01197                                                      <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aStyleContext);
<a name="l01198"></a>01198   <span class="comment">// XUL data-finding helper functions and structures</span>
<a name="l01199"></a>01199 <span class="preprocessor">#ifdef MOZ_XUL</span>
<a name="l01200"></a>01200 <span class="preprocessor"></span>  <span class="keyword">static</span> <span class="keyword">const</span> FrameConstructionData*
<a name="l01201"></a>01201     FindPopupGroupData(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>* aElement, <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aStyleContext);
<a name="l01202"></a>01202   <span class="comment">// sXULTextBoxData used for both labels and descriptions</span>
<a name="l01203"></a>01203   <span class="keyword">static</span> <span class="keyword">const</span> FrameConstructionData sXULTextBoxData;
<a name="l01204"></a>01204   <span class="keyword">static</span> <span class="keyword">const</span> FrameConstructionData*
<a name="l01205"></a>01205     FindXULLabelData(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>* aElement, <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aStyleContext);
<a name="l01206"></a>01206   <span class="keyword">static</span> <span class="keyword">const</span> FrameConstructionData*
<a name="l01207"></a>01207     FindXULDescriptionData(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>* aElement, <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aStyleContext);
<a name="l01208"></a>01208 <span class="preprocessor">#ifdef XP_MACOSX</span>
<a name="l01209"></a>01209 <span class="preprocessor"></span>  <span class="keyword">static</span> <span class="keyword">const</span> FrameConstructionData*
<a name="l01210"></a>01210     FindXULMenubarData(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>* aElement, <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aStyleContext);
<a name="l01211"></a>01211 <span class="preprocessor">#endif </span><span class="comment">/* XP_MACOSX */</span>
<a name="l01212"></a>01212   <span class="keyword">static</span> <span class="keyword">const</span> FrameConstructionData*
<a name="l01213"></a>01213     FindXULListBoxBodyData(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>* aElement, <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aStyleContext);
<a name="l01214"></a>01214   <span class="keyword">static</span> <span class="keyword">const</span> FrameConstructionData*
<a name="l01215"></a>01215     FindXULListItemData(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>* aElement, <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aStyleContext);
<a name="l01216"></a>01216 <span class="preprocessor">#endif </span><span class="comment">/* MOZ_XUL */</span>
<a name="l01217"></a>01217 
<a name="l01218"></a>01218   <span class="comment">// Function to find FrameConstructionData for aContent using one of the XUL</span>
<a name="l01219"></a>01219   <span class="comment">// display types.  Will return null if aDisplay doesn&#39;t have a XUL display</span>
<a name="l01220"></a>01220   <span class="comment">// type.  This function performs no other checks, so should only be called if</span>
<a name="l01221"></a>01221   <span class="comment">// we know for sure that the content is not something that should get a frame</span>
<a name="l01222"></a>01222   <span class="comment">// constructed by tag.</span>
<a name="l01223"></a>01223   <span class="keyword">static</span> <span class="keyword">const</span> FrameConstructionData*
<a name="l01224"></a>01224     FindXULDisplayData(<span class="keyword">const</span> <a class="code" href="../../da/dd0/structns_style_display.html">nsStyleDisplay</a>* aDisplay,
<a name="l01225"></a>01225                        <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>* aElement,
<a name="l01226"></a>01226                        <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aStyleContext);
<a name="l01227"></a>01227 
<a name="l01228"></a>01228 <span class="comment">// SVG - rods</span>
<a name="l01234"></a>01234 <span class="comment"></span>  <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* ConstructOuterSVG(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01235"></a>01235                               FrameConstructionItem&amp;   aItem,
<a name="l01236"></a>01236                               <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aParentFrame,
<a name="l01237"></a>01237                               <span class="keyword">const</span> <a class="code" href="../../da/dd0/structns_style_display.html">nsStyleDisplay</a>*    aDisplay,
<a name="l01238"></a>01238                               nsFrameItems&amp;            aFrameItems);
<a name="l01239"></a>01239 
<a name="l01240"></a>01240   <span class="keyword">static</span> <span class="keyword">const</span> FrameConstructionData* FindSVGData(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>* aElement,
<a name="l01241"></a>01241                                                   <a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a>* aTag,
<a name="l01242"></a>01242                                                   int32_t aNameSpaceID,
<a name="l01243"></a>01243                                                   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aParentFrame,
<a name="l01244"></a>01244                                                   <span class="keywordtype">bool</span> aIsWithinSVGText,
<a name="l01245"></a>01245                                                   <span class="keywordtype">bool</span> aAllowsTextPathChild,
<a name="l01246"></a>01246                                                   <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aStyleContext);
<a name="l01247"></a>01247 
<a name="l01248"></a>01248   <span class="comment">/* Not static because it does PropagateScrollToViewport.  If this</span>
<a name="l01249"></a>01249 <span class="comment">     changes, make this static */</span>
<a name="l01250"></a>01250   <span class="keyword">const</span> FrameConstructionData*
<a name="l01251"></a>01251     FindDisplayData(<span class="keyword">const</span> <a class="code" href="../../da/dd0/structns_style_display.html">nsStyleDisplay</a>* aDisplay, <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>* aElement,
<a name="l01252"></a>01252                     <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aParentFrame, <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aStyleContext);
<a name="l01253"></a>01253 
<a name="l01257"></a>01257   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* ConstructScrollableBlock(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01258"></a>01258                                      FrameConstructionItem&amp;   aItem,
<a name="l01259"></a>01259                                      <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aParentFrame,
<a name="l01260"></a>01260                                      <span class="keyword">const</span> <a class="code" href="../../da/dd0/structns_style_display.html">nsStyleDisplay</a>*    aDisplay,
<a name="l01261"></a>01261                                      nsFrameItems&amp;            aFrameItems);
<a name="l01262"></a>01262 
<a name="l01266"></a>01266   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* ConstructNonScrollableBlock(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01267"></a>01267                                         FrameConstructionItem&amp;   aItem,
<a name="l01268"></a>01268                                         <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aParentFrame,
<a name="l01269"></a>01269                                         <span class="keyword">const</span> <a class="code" href="../../da/dd0/structns_style_display.html">nsStyleDisplay</a>*    aDisplay,
<a name="l01270"></a>01270                                         nsFrameItems&amp;            aFrameItems);
<a name="l01271"></a>01271 
<a name="l01303"></a>01303   <span class="keywordtype">void</span> ProcessChildren(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01304"></a>01304                        <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*              aContent,
<a name="l01305"></a>01305                        <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>*          aStyleContext,
<a name="l01306"></a>01306                        <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aFrame,
<a name="l01307"></a>01307                        <span class="keyword">const</span> <span class="keywordtype">bool</span>               aCanHaveGeneratedContent,
<a name="l01308"></a>01308                        nsFrameItems&amp;            aFrameItems,
<a name="l01309"></a>01309                        <span class="keyword">const</span> <span class="keywordtype">bool</span>               aAllowBlockStyles,
<a name="l01310"></a>01310                        PendingBinding*          aPendingBinding,
<a name="l01311"></a>01311                        <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aPossiblyLeafFrame = <span class="keyword">nullptr</span>);
<a name="l01312"></a>01312 
<a name="l01313"></a>01313   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* GetFrameFor(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContent);
<a name="l01314"></a>01314 
<a name="l01323"></a>01323 <span class="keyword">public</span>:
<a name="l01324"></a><a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#af73cc0a65cae50bdafd78483abeaa8b1">01324</a>   <span class="keyword">enum</span> <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#af73cc0a65cae50bdafd78483abeaa8b1">ContainingBlockType</a> {
<a name="l01325"></a><a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#af73cc0a65cae50bdafd78483abeaa8b1ad310c49bf811bf6f5d71f3e42901ffab">01325</a>     <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#af73cc0a65cae50bdafd78483abeaa8b1ad310c49bf811bf6f5d71f3e42901ffab">ABS_POS</a>,
<a name="l01326"></a><a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#af73cc0a65cae50bdafd78483abeaa8b1a763476540090608b703f3b381519aeb3">01326</a>     <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#af73cc0a65cae50bdafd78483abeaa8b1a763476540090608b703f3b381519aeb3">FIXED_POS</a>
<a name="l01327"></a>01327   };
<a name="l01328"></a>01328   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa360365eda4fb4dbe14193e193c8979d">GetAbsoluteContainingBlock</a>(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame, <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#af73cc0a65cae50bdafd78483abeaa8b1">ContainingBlockType</a> <a class="code" href="../../df/d33/ns_x_u_l_app_a_p_i_8h.html#a02213a397ee55db7eba28bed963f63df">aType</a>);
<a name="l01329"></a>01329   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#a1513ba645e172c12041817bf05cf052b">GetFloatContainingBlock</a>(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame);
<a name="l01330"></a>01330 
<a name="l01331"></a>01331 <span class="keyword">private</span>:
<a name="l01332"></a>01332   <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* PropagateScrollToViewport();
<a name="l01333"></a>01333 
<a name="l01334"></a>01334   <span class="comment">// Build a scroll frame: </span>
<a name="l01335"></a>01335   <span class="comment">//  Calls BeginBuildingScrollFrame, InitAndRestoreFrame, and then FinishBuildingScrollFrame.</span>
<a name="l01336"></a>01336   <span class="comment">// @param aNewFrame the created scrollframe --- output only</span>
<a name="l01337"></a>01337   <span class="comment">// @param aParentFrame the geometric parent that the scrollframe will have.</span>
<a name="l01338"></a>01338   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a>
<a name="l01339"></a>01339   BuildScrollFrame(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01340"></a>01340                    <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*              aContent,
<a name="l01341"></a>01341                    <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>*          aContentStyle,
<a name="l01342"></a>01342                    <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aScrolledFrame,
<a name="l01343"></a>01343                    <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aParentFrame,
<a name="l01344"></a>01344                    <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*&amp;               aNewFrame);
<a name="l01345"></a>01345 
<a name="l01346"></a>01346   <span class="comment">// Builds the initial ScrollFrame</span>
<a name="l01347"></a>01347   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;nsStyleContext&gt;</a>
<a name="l01348"></a>01348   BeginBuildingScrollFrame(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01349"></a>01349                            <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*              aContent,
<a name="l01350"></a>01350                            <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>*          aContentStyle,
<a name="l01351"></a>01351                            <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aParentFrame,
<a name="l01352"></a>01352                            <a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a>*                 aScrolledPseudo,
<a name="l01353"></a>01353                            <span class="keywordtype">bool</span>                     aIsRoot,
<a name="l01354"></a>01354                            <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*&amp;               aNewFrame);
<a name="l01355"></a>01355 
<a name="l01356"></a>01356   <span class="comment">// Completes the building of the scrollframe:</span>
<a name="l01357"></a>01357   <span class="comment">// Creates a view for the scrolledframe and makes it the child of the scrollframe.</span>
<a name="l01358"></a>01358   <span class="keywordtype">void</span>
<a name="l01359"></a>01359   FinishBuildingScrollFrame(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aScrollFrame,
<a name="l01360"></a>01360                             <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aScrolledFrame);
<a name="l01361"></a>01361 
<a name="l01362"></a>01362   <span class="comment">// InitializeSelectFrame puts scrollFrame in aFrameItems if aBuildCombobox is false</span>
<a name="l01363"></a>01363   <span class="comment">// aBuildCombobox indicates if we are building a combobox that has a dropdown</span>
<a name="l01364"></a>01364   <span class="comment">// popup widget or not.</span>
<a name="l01365"></a>01365   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a>
<a name="l01366"></a>01366   InitializeSelectFrame(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01367"></a>01367                         <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                scrollFrame,
<a name="l01368"></a>01368                         <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                scrolledFrame,
<a name="l01369"></a>01369                         <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*              aContent,
<a name="l01370"></a>01370                         <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aParentFrame,
<a name="l01371"></a>01371                         <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>*          aStyleContext,
<a name="l01372"></a>01372                         <span class="keywordtype">bool</span>                     aBuildCombobox,
<a name="l01373"></a>01373                         PendingBinding*          aPendingBinding,
<a name="l01374"></a>01374                         nsFrameItems&amp;            aFrameItems);
<a name="l01375"></a>01375 
<a name="l01376"></a>01376   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> MaybeRecreateFramesForElement(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#aa234f7f060addad76a7a5e1f9062063c">Element</a>* aElement);
<a name="l01377"></a>01377 
<a name="l01378"></a>01378   <span class="comment">// If aAsyncInsert is true then a restyle event will be posted to handle the</span>
<a name="l01379"></a>01379   <span class="comment">// required ContentInserted call instead of doing it immediately.</span>
<a name="l01380"></a>01380   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> RecreateFramesForContent(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContent, <span class="keywordtype">bool</span> aAsyncInsert);
<a name="l01381"></a>01381 
<a name="l01382"></a>01382   <span class="comment">// If removal of aFrame from the frame tree requires reconstruction of some</span>
<a name="l01383"></a>01383   <span class="comment">// containing block (either of aFrame or of its parent) due to {ib} splits or</span>
<a name="l01384"></a>01384   <span class="comment">// table pseudo-frames, recreate the relevant frame subtree.  The return value</span>
<a name="l01385"></a>01385   <span class="comment">// indicates whether this happened.  If this method returns true, *aResult is</span>
<a name="l01386"></a>01386   <span class="comment">// the return value of ReframeContainingBlock or RecreateFramesForContent.  If</span>
<a name="l01387"></a>01387   <span class="comment">// this method returns false, the value of *aResult is not affected.  aFrame</span>
<a name="l01388"></a>01388   <span class="comment">// and aResult must not be null.  aFrame must be the result of a</span>
<a name="l01389"></a>01389   <span class="comment">// GetPrimaryFrame() call on a content node (which means its parent is also</span>
<a name="l01390"></a>01390   <span class="comment">// not null).</span>
<a name="l01391"></a>01391   <span class="keywordtype">bool</span> MaybeRecreateContainerForFrameRemoval(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame,
<a name="l01392"></a>01392                                                <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a>* <a class="code" href="../../d9/d6a/ns_color_8h.html#a820357f645d7b0eaf62fd4994dda5a24">aResult</a>);
<a name="l01393"></a>01393 
<a name="l01394"></a>01394   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* CreateContinuingOuterTableFrame(<a class="code" href="../../d3/d8f/classns_i_pres_shell.html">nsIPresShell</a>*    aPresShell, 
<a name="l01395"></a>01395                                             <a class="code" href="../../d0/d65/classns_pres_context.html">nsPresContext</a>*  aPresContext,
<a name="l01396"></a>01396                                             <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*        aFrame,
<a name="l01397"></a>01397                                             <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*        aParentFrame,
<a name="l01398"></a>01398                                             <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*      aContent,
<a name="l01399"></a>01399                                             <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>*  aStyleContext);
<a name="l01400"></a>01400 
<a name="l01401"></a>01401   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* CreateContinuingTableFrame(<a class="code" href="../../d3/d8f/classns_i_pres_shell.html">nsIPresShell</a>*    aPresShell, 
<a name="l01402"></a>01402                                        <a class="code" href="../../d0/d65/classns_pres_context.html">nsPresContext</a>*  aPresContext,
<a name="l01403"></a>01403                                        <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*        aFrame,
<a name="l01404"></a>01404                                        <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*        aParentFrame,
<a name="l01405"></a>01405                                        <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*      aContent,
<a name="l01406"></a>01406                                        <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>*  aStyleContext);
<a name="l01407"></a>01407 
<a name="l01408"></a>01408   <span class="comment">//----------------------------------------</span>
<a name="l01409"></a>01409 
<a name="l01410"></a>01410   <span class="comment">// Methods support creating block frames and their children</span>
<a name="l01411"></a>01411 
<a name="l01412"></a>01412   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;nsStyleContext&gt;</a>
<a name="l01413"></a>01413   GetFirstLetterStyle(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*      aContent,
<a name="l01414"></a>01414                       <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>*  aStyleContext);
<a name="l01415"></a>01415 
<a name="l01416"></a>01416   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;nsStyleContext&gt;</a>
<a name="l01417"></a>01417   GetFirstLineStyle(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*      aContent,
<a name="l01418"></a>01418                     <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>*  aStyleContext);
<a name="l01419"></a>01419 
<a name="l01420"></a>01420   <span class="keywordtype">bool</span> ShouldHaveFirstLetterStyle(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*      aContent,
<a name="l01421"></a>01421                                     <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>*  aStyleContext);
<a name="l01422"></a>01422 
<a name="l01423"></a>01423   <span class="comment">// Check whether a given block has first-letter style.  Make sure to</span>
<a name="l01424"></a>01424   <span class="comment">// only pass in blocks!  And don&#39;t pass in null either.</span>
<a name="l01425"></a>01425   <span class="keywordtype">bool</span> HasFirstLetterStyle(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aBlockFrame);
<a name="l01426"></a>01426 
<a name="l01427"></a>01427   <span class="keywordtype">bool</span> ShouldHaveFirstLineStyle(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*      aContent,
<a name="l01428"></a>01428                                   <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>*  aStyleContext);
<a name="l01429"></a>01429 
<a name="l01430"></a>01430   <span class="keywordtype">void</span> ShouldHaveSpecialBlockStyle(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*      aContent,
<a name="l01431"></a>01431                                    <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>*  aStyleContext,
<a name="l01432"></a>01432                                    <span class="keywordtype">bool</span>*          aHaveFirstLetterStyle,
<a name="l01433"></a>01433                                    <span class="keywordtype">bool</span>*          aHaveFirstLineStyle);
<a name="l01434"></a>01434 
<a name="l01435"></a>01435   <span class="comment">// |aContentParentFrame| should be null if it&#39;s really the same as</span>
<a name="l01436"></a>01436   <span class="comment">// |aParentFrame|.</span>
<a name="l01437"></a>01437   <span class="comment">// @param aFrameItems where we want to put the block in case it&#39;s in-flow.</span>
<a name="l01438"></a>01438   <span class="comment">// @param aNewFrame an in/out parameter. On input it is the block to be</span>
<a name="l01439"></a>01439   <span class="comment">// constructed. On output it is reset to the outermost</span>
<a name="l01440"></a>01440   <span class="comment">// frame constructed (e.g. if we need to wrap the block in an</span>
<a name="l01441"></a>01441   <span class="comment">// nsColumnSetFrame.</span>
<a name="l01442"></a>01442   <span class="comment">// @param aParentFrame is the desired parent for the (possibly wrapped)</span>
<a name="l01443"></a>01443   <span class="comment">// block</span>
<a name="l01444"></a>01444   <span class="comment">// @param aContentParent is the parent the block would have if it</span>
<a name="l01445"></a>01445   <span class="comment">// were in-flow</span>
<a name="l01446"></a>01446   <span class="comment">// @param aPositionedFrameForAbsPosContainer if non-null, then the new</span>
<a name="l01447"></a>01447   <span class="comment">// block should be an abs-pos container and aPositionedFrameForAbsPosContainer</span>
<a name="l01448"></a>01448   <span class="comment">// is the frame whose style is making this block an abs-pos container.</span>
<a name="l01449"></a>01449   <span class="comment">// @param aPendingBinding the pending binding  from this block&#39;s frame</span>
<a name="l01450"></a>01450   <span class="comment">// construction item.</span>
<a name="l01451"></a>01451   <span class="keywordtype">void</span> ConstructBlock(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01452"></a>01452                       <span class="keyword">const</span> <a class="code" href="../../da/dd0/structns_style_display.html">nsStyleDisplay</a>*    aDisplay,
<a name="l01453"></a>01453                       <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*              aContent,
<a name="l01454"></a>01454                       <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aParentFrame,
<a name="l01455"></a>01455                       <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aContentParentFrame,
<a name="l01456"></a>01456                       <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>*          aStyleContext,
<a name="l01457"></a>01457                       <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>**               aNewFrame,
<a name="l01458"></a>01458                       nsFrameItems&amp;            aFrameItems,
<a name="l01459"></a>01459                       <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aPositionedFrameForAbsPosContainer,
<a name="l01460"></a>01460                       PendingBinding*          aPendingBinding);
<a name="l01461"></a>01461 
<a name="l01462"></a>01462   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* ConstructInline(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01463"></a>01463                             FrameConstructionItem&amp;   aItem,
<a name="l01464"></a>01464                             <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aParentFrame,
<a name="l01465"></a>01465                             <span class="keyword">const</span> <a class="code" href="../../da/dd0/structns_style_display.html">nsStyleDisplay</a>*    aDisplay,
<a name="l01466"></a>01466                             nsFrameItems&amp;            aFrameItems);
<a name="l01467"></a>01467 
<a name="l01486"></a>01486   <span class="keywordtype">void</span> CreateIBSiblings(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01487"></a>01487                         <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aInitialInline,
<a name="l01488"></a>01488                         <span class="keywordtype">bool</span> aIsPositioned,
<a name="l01489"></a>01489                         nsFrameItems&amp; aChildItems,
<a name="l01490"></a>01490                         nsFrameItems&amp; aSiblings);
<a name="l01491"></a>01491 
<a name="l01496"></a>01496   <span class="keywordtype">void</span> BuildInlineChildItems(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01497"></a>01497                              FrameConstructionItem&amp; aParentItem,
<a name="l01498"></a>01498                              <span class="keywordtype">bool</span> aItemIsWithinSVGText,
<a name="l01499"></a>01499                              <span class="keywordtype">bool</span> aItemAllowsTextPathChild);
<a name="l01500"></a>01500 
<a name="l01501"></a>01501   <span class="comment">// Determine whether we need to wipe out what we just did and start over</span>
<a name="l01502"></a>01502   <span class="comment">// because we&#39;re doing something like adding block kids to an inline frame</span>
<a name="l01503"></a>01503   <span class="comment">// (and therefore need an {ib} split).  aPrevSibling must be correct, even in</span>
<a name="l01504"></a>01504   <span class="comment">// aIsAppend cases.  Passing aIsAppend false even when an append is happening</span>
<a name="l01505"></a>01505   <span class="comment">// is ok in terms of correctness, but can lead to unnecessary reframing.  If</span>
<a name="l01506"></a>01506   <span class="comment">// aIsAppend is true, then the caller MUST call</span>
<a name="l01507"></a>01507   <span class="comment">// nsCSSFrameConstructor::AppendFrames (as opposed to</span>
<a name="l01508"></a>01508   <span class="comment">// nsFrameManager::InsertFrames directly) to add the new frames.</span>
<a name="l01509"></a>01509   <span class="comment">// @return true if we reconstructed the containing block, false</span>
<a name="l01510"></a>01510   <span class="comment">// otherwise</span>
<a name="l01511"></a>01511   <span class="keywordtype">bool</span> WipeContainingBlock(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01512"></a>01512                              <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aContainingBlock,
<a name="l01513"></a>01513                              <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aFrame,
<a name="l01514"></a>01514                              FrameConstructionItemList&amp; aItems,
<a name="l01515"></a>01515                              <span class="keywordtype">bool</span>                     aIsAppend,
<a name="l01516"></a>01516                              <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aPrevSibling);
<a name="l01517"></a>01517 
<a name="l01518"></a>01518   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> ReframeContainingBlock(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aFrame);
<a name="l01519"></a>01519 
<a name="l01520"></a>01520   <span class="comment">//----------------------------------------</span>
<a name="l01521"></a>01521 
<a name="l01522"></a>01522   <span class="comment">// Methods support :first-letter style</span>
<a name="l01523"></a>01523 
<a name="l01524"></a>01524   <span class="keywordtype">void</span> CreateFloatingLetterFrame(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01525"></a>01525                                  <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aBlockFrame,
<a name="l01526"></a>01526                                  <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*              aTextContent,
<a name="l01527"></a>01527                                  <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aTextFrame,
<a name="l01528"></a>01528                                  <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*              aBlockContent,
<a name="l01529"></a>01529                                  <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aParentFrame,
<a name="l01530"></a>01530                                  <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>*          aStyleContext,
<a name="l01531"></a>01531                                  nsFrameItems&amp;            <a class="code" href="../../d9/d6a/ns_color_8h.html#a820357f645d7b0eaf62fd4994dda5a24">aResult</a>);
<a name="l01532"></a>01532 
<a name="l01533"></a>01533   <span class="keywordtype">void</span> CreateLetterFrame(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aBlockFrame,
<a name="l01534"></a>01534                          <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aBlockContinuation,
<a name="l01535"></a>01535                          <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*              aTextContent,
<a name="l01536"></a>01536                          <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aParentFrame,
<a name="l01537"></a>01537                          nsFrameItems&amp;            <a class="code" href="../../d9/d6a/ns_color_8h.html#a820357f645d7b0eaf62fd4994dda5a24">aResult</a>);
<a name="l01538"></a>01538 
<a name="l01539"></a>01539   <span class="keywordtype">void</span> WrapFramesInFirstLetterFrame(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*   aBlockContent,
<a name="l01540"></a>01540                                     <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*     aBlockFrame,
<a name="l01541"></a>01541                                     nsFrameItems&amp; aBlockFrames);
<a name="l01542"></a>01542 
<a name="l01565"></a>01565   <span class="keywordtype">void</span> WrapFramesInFirstLetterFrame(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*     aBlockFrame,
<a name="l01566"></a>01566                                     <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*     aBlockContinuation,
<a name="l01567"></a>01567                                     <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*     aParentFrame,
<a name="l01568"></a>01568                                     <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*     aParentFrameList,
<a name="l01569"></a>01569                                     <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>**    aModifiedParent,
<a name="l01570"></a>01570                                     <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>**    aTextFrame,
<a name="l01571"></a>01571                                     <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>**    <a class="code" href="../../d0/da9/classns_frame_manager.html#a8176b712edf24dfedd26d7632679d622">aPrevFrame</a>,
<a name="l01572"></a>01572                                     nsFrameItems&amp; aLetterFrames,
<a name="l01573"></a>01573                                     <span class="keywordtype">bool</span>*       aStopLooking);
<a name="l01574"></a>01574 
<a name="l01575"></a>01575   <span class="keywordtype">void</span> RecoverLetterFrames(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* aBlockFrame);
<a name="l01576"></a>01576 
<a name="l01577"></a>01577   <span class="comment">// </span>
<a name="l01578"></a>01578   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> RemoveLetterFrames(<a class="code" href="../../d0/d65/classns_pres_context.html">nsPresContext</a>*  aPresContext,
<a name="l01579"></a>01579                               <a class="code" href="../../d3/d8f/classns_i_pres_shell.html">nsIPresShell</a>*    aPresShell,
<a name="l01580"></a>01580                               <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*        aBlockFrame);
<a name="l01581"></a>01581 
<a name="l01582"></a>01582   <span class="comment">// Recursive helper for RemoveLetterFrames</span>
<a name="l01583"></a>01583   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> RemoveFirstLetterFrames(<a class="code" href="../../d0/d65/classns_pres_context.html">nsPresContext</a>*  aPresContext,
<a name="l01584"></a>01584                                    <a class="code" href="../../d3/d8f/classns_i_pres_shell.html">nsIPresShell</a>*    aPresShell,
<a name="l01585"></a>01585                                    <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*        aFrame,
<a name="l01586"></a>01586                                    <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*        aBlockFrame,
<a name="l01587"></a>01587                                    <span class="keywordtype">bool</span>*          aStopLooking);
<a name="l01588"></a>01588 
<a name="l01589"></a>01589   <span class="comment">// Special remove method for those pesky floating first-letter frames</span>
<a name="l01590"></a>01590   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> RemoveFloatingFirstLetterFrames(<a class="code" href="../../d0/d65/classns_pres_context.html">nsPresContext</a>*  aPresContext,
<a name="l01591"></a>01591                                            <a class="code" href="../../d3/d8f/classns_i_pres_shell.html">nsIPresShell</a>*    aPresShell,
<a name="l01592"></a>01592                                            <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*        aBlockFrame,
<a name="l01593"></a>01593                                            <span class="keywordtype">bool</span>*          aStopLooking);
<a name="l01594"></a>01594 
<a name="l01595"></a>01595   <span class="comment">// Capture state for the frame tree rooted at the frame associated with the</span>
<a name="l01596"></a>01596   <span class="comment">// content object, aContent</span>
<a name="l01597"></a>01597   <span class="keywordtype">void</span> CaptureStateForFramesOf(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContent,
<a name="l01598"></a>01598                                <a class="code" href="../../d3/df3/classns_i_layout_history_state.html">nsILayoutHistoryState</a>* aHistoryState);
<a name="l01599"></a>01599 
<a name="l01600"></a>01600   <span class="comment">//----------------------------------------</span>
<a name="l01601"></a>01601 
<a name="l01602"></a>01602   <span class="comment">// Methods support :first-line style</span>
<a name="l01603"></a>01603 
<a name="l01604"></a>01604   <span class="comment">// This method chops the initial inline-outside frames out of aFrameItems.</span>
<a name="l01605"></a>01605   <span class="comment">// If aLineFrame is non-null, it appends them to that frame.  Otherwise, it</span>
<a name="l01606"></a>01606   <span class="comment">// creates a new line frame, sets the inline frames as its initial child</span>
<a name="l01607"></a>01607   <span class="comment">// list, and inserts that line frame at the front of what&#39;s left of</span>
<a name="l01608"></a>01608   <span class="comment">// aFrameItems.  In both cases, the kids are reparented to the line frame.</span>
<a name="l01609"></a>01609   <span class="comment">// After this call, aFrameItems holds the frames that need to become kids of</span>
<a name="l01610"></a>01610   <span class="comment">// the block (possibly including line frames).</span>
<a name="l01611"></a>01611   <span class="keywordtype">void</span> WrapFramesInFirstLineFrame(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01612"></a>01612                                   <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*              aBlockContent,
<a name="l01613"></a>01613                                   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aBlockFrame,
<a name="l01614"></a>01614                                   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aLineFrame,
<a name="l01615"></a>01615                                   nsFrameItems&amp;            aFrameItems);
<a name="l01616"></a>01616 
<a name="l01617"></a>01617   <span class="comment">// Handle the case when a block with first-line style is appended to (by</span>
<a name="l01618"></a>01618   <span class="comment">// possibly calling WrapFramesInFirstLineFrame as needed).</span>
<a name="l01619"></a>01619   <span class="keywordtype">void</span> AppendFirstLineFrames(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01620"></a>01620                              <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*              aContent,
<a name="l01621"></a>01621                              <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aBlockFrame,
<a name="l01622"></a>01622                              nsFrameItems&amp;            aFrameItems);
<a name="l01623"></a>01623 
<a name="l01624"></a>01624   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> InsertFirstLineFrames(<a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>&amp; <a class="code" href="../../d0/da9/classns_frame_manager.html#a8911c9dd8fcfb462e0beeb4307980d87">aState</a>,
<a name="l01625"></a>01625                                  <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*              aContent,
<a name="l01626"></a>01626                                  <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aBlockFrame,
<a name="l01627"></a>01627                                  <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>**               aParentFrame,
<a name="l01628"></a>01628                                  <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*                aPrevSibling,
<a name="l01629"></a>01629                                  nsFrameItems&amp;            aFrameItems);
<a name="l01630"></a>01630 
<a name="l01631"></a>01631   <span class="comment">// Find the right frame to use for aContent when looking for sibling</span>
<a name="l01632"></a>01632   <span class="comment">// frames for aTargetContent.  If aPrevSibling is true, this</span>
<a name="l01633"></a>01633   <span class="comment">// will look for last continuations, etc, as necessary.  This calls</span>
<a name="l01634"></a>01634   <span class="comment">// IsValidSibling as needed; if that returns false it returns null.</span>
<a name="l01635"></a>01635   <span class="comment">//</span>
<a name="l01636"></a>01636   <span class="comment">// @param aTargetContentDisplay the CSS display enum for aTargetContent if</span>
<a name="l01637"></a>01637   <span class="comment">// already known, UNSET_DISPLAY otherwise. It will be filled in if needed.</span>
<a name="l01638"></a>01638   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* FindFrameForContentSibling(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContent,
<a name="l01639"></a>01639                                        <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aTargetContent,
<a name="l01640"></a>01640                                        uint8_t&amp; aTargetContentDisplay,
<a name="l01641"></a>01641                                        <span class="keywordtype">bool</span> aPrevSibling);
<a name="l01642"></a>01642 
<a name="l01643"></a>01643   <span class="comment">// Find the ``rightmost&#39;&#39; frame for the content immediately preceding the one</span>
<a name="l01644"></a>01644   <span class="comment">// aIter points to, following continuations if necessary.  aIter is passed by</span>
<a name="l01645"></a>01645   <span class="comment">// value on purpose, so as not to modify the caller&#39;s iterator.</span>
<a name="l01646"></a>01646   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* FindPreviousSibling(mozilla::dom::FlattenedChildIterator aIter,
<a name="l01647"></a>01647                                 uint8_t&amp; aTargetContentDisplay);
<a name="l01648"></a>01648 
<a name="l01649"></a>01649   <span class="comment">// Find the frame for the content node immediately following the one aIter</span>
<a name="l01650"></a>01650   <span class="comment">// points to, following continuations if necessary.  aIter is passed by value</span>
<a name="l01651"></a>01651   <span class="comment">// on purpose, so as not to modify the caller&#39;s iterator.</span>
<a name="l01652"></a>01652   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* FindNextSibling(mozilla::dom::FlattenedChildIterator aIter,
<a name="l01653"></a>01653                             uint8_t&amp; aTargetContentDisplay);
<a name="l01654"></a>01654 
<a name="l01655"></a>01655   <span class="comment">// Find the right previous sibling for an insertion.  This also updates the</span>
<a name="l01656"></a>01656   <span class="comment">// parent frame to point to the correct continuation of the parent frame to</span>
<a name="l01657"></a>01657   <span class="comment">// use, and returns whether this insertion is to be treated as an append.</span>
<a name="l01658"></a>01658   <span class="comment">// aChild is the child being inserted.</span>
<a name="l01659"></a>01659   <span class="comment">// aIsRangeInsertSafe returns whether it is safe to do a range insert with</span>
<a name="l01660"></a>01660   <span class="comment">// aChild being the first child in the range. It is the callers&#39;</span>
<a name="l01661"></a>01661   <span class="comment">// responsibility to check whether a range insert is safe with regards to</span>
<a name="l01662"></a>01662   <span class="comment">// fieldsets.</span>
<a name="l01663"></a>01663   <span class="comment">// The skip parameters are used to ignore a range of children when looking</span>
<a name="l01664"></a>01664   <span class="comment">// for a sibling. All nodes starting from aStartSkipChild and up to but not</span>
<a name="l01665"></a>01665   <span class="comment">// including aEndSkipChild will be skipped over when looking for sibling</span>
<a name="l01666"></a>01666   <span class="comment">// frames. Skipping a range can deal with XBL but not when there are multiple</span>
<a name="l01667"></a>01667   <span class="comment">// insertion points.</span>
<a name="l01668"></a>01668   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* GetInsertionPrevSibling(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*&amp; aParentFrame, <span class="comment">/* inout */</span>
<a name="l01669"></a>01669                                     <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContainer,
<a name="l01670"></a>01670                                     <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aChild,
<a name="l01671"></a>01671                                     <span class="keywordtype">bool</span>* aIsAppend,
<a name="l01672"></a>01672                                     <span class="keywordtype">bool</span>* aIsRangeInsertSafe,
<a name="l01673"></a>01673                                     <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aStartSkipChild = <span class="keyword">nullptr</span>,
<a name="l01674"></a>01674                                     <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a> *aEndSkipChild = <span class="keyword">nullptr</span>);
<a name="l01675"></a>01675 
<a name="l01676"></a>01676   <span class="comment">// see if aContent and aSibling are legitimate siblings due to restrictions</span>
<a name="l01677"></a>01677   <span class="comment">// imposed by table columns</span>
<a name="l01678"></a>01678   <span class="comment">// XXXbz this code is generally wrong, since the frame for aContent</span>
<a name="l01679"></a>01679   <span class="comment">// may be constructed based on tag, not based on aDisplay!</span>
<a name="l01680"></a>01680   <span class="keywordtype">bool</span> IsValidSibling(<a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*              aSibling,
<a name="l01681"></a>01681                         <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*            aContent,
<a name="l01682"></a>01682                         uint8_t&amp;               aDisplay);
<a name="l01683"></a>01683   
<a name="l01684"></a>01684   <span class="keywordtype">void</span> QuotesDirty() {
<a name="l01685"></a>01685     <a class="code" href="../../dc/d6d/ns_debug_8h.html#a3ad5c3d474e430752263e97b6f1378c5">NS_PRECONDITION</a>(mUpdateCount != 0, <span class="stringliteral">&quot;Instant quote updates are bad news&quot;</span>);
<a name="l01686"></a>01686     mQuotesDirty = <span class="keyword">true</span>;
<a name="l01687"></a>01687     mDocument-&gt;<a class="code" href="../../de/dd1/classns_i_document.html#a42aa6b2ff9a48467b427a4bc0ecfb8c9">SetNeedLayoutFlush</a>();
<a name="l01688"></a>01688   }
<a name="l01689"></a>01689 
<a name="l01690"></a>01690   <span class="keywordtype">void</span> CountersDirty() {
<a name="l01691"></a>01691     <a class="code" href="../../dc/d6d/ns_debug_8h.html#a3ad5c3d474e430752263e97b6f1378c5">NS_PRECONDITION</a>(mUpdateCount != 0, <span class="stringliteral">&quot;Instant counter updates are bad news&quot;</span>);
<a name="l01692"></a>01692     mCountersDirty = <span class="keyword">true</span>;
<a name="l01693"></a>01693     mDocument-&gt;<a class="code" href="../../de/dd1/classns_i_document.html#a42aa6b2ff9a48467b427a4bc0ecfb8c9">SetNeedLayoutFlush</a>();
<a name="l01694"></a>01694   }
<a name="l01695"></a>01695 
<a name="l01703"></a>01703   <span class="keyword">static</span> <span class="keywordtype">void</span> SetAsUndisplayedContent(FrameConstructionItemList&amp; aList,
<a name="l01704"></a>01704                                       <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aContent,
<a name="l01705"></a>01705                                       <a class="code" href="../../db/d89/classns_style_context.html">nsStyleContext</a>* aStyleContext,
<a name="l01706"></a>01706                                       <span class="keywordtype">bool</span> aIsGeneratedContent);
<a name="l01707"></a>01707 
<a name="l01708"></a>01708 <span class="keyword">public</span>:
<a name="l01709"></a>01709 
<a name="l01710"></a><a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">01710</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../de/d61/classns_c_s_s_frame_constructor.html#affbed61eb555fe368b3f0130a3a5b4de">nsFrameConstructorState</a>;
<a name="l01711"></a>01711 
<a name="l01712"></a>01712 <span class="keyword">private</span>:
<a name="l01713"></a>01713 
<a name="l01714"></a>01714   <a class="code" href="../../de/dd1/classns_i_document.html">nsIDocument</a>*        mDocument;  <span class="comment">// Weak ref</span>
<a name="l01715"></a>01715 
<a name="l01716"></a>01716   <span class="comment">// See the comment at the start of ConstructRootFrame for more details</span>
<a name="l01717"></a>01717   <span class="comment">// about the following frames.</span>
<a name="l01718"></a>01718   
<a name="l01719"></a>01719   <span class="comment">// This is just the outermost frame for the root element.</span>
<a name="l01720"></a>01720   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*           mRootElementFrame;
<a name="l01721"></a>01721   <span class="comment">// This is the frame for the root element that has no pseudo-element style.</span>
<a name="l01722"></a>01722   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*           mRootElementStyleFrame;
<a name="l01723"></a>01723   <span class="comment">// This is the containing block for fixed-pos frames --- the</span>
<a name="l01724"></a>01724   <span class="comment">// viewport or page frame</span>
<a name="l01725"></a>01725   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*           mFixedContainingBlock;
<a name="l01726"></a>01726   <span class="comment">// This is the containing block that contains the root element ---</span>
<a name="l01727"></a>01727   <span class="comment">// the real &quot;initial containing block&quot; according to CSS 2.1.</span>
<a name="l01728"></a>01728   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*           mDocElementContainingBlock;
<a name="l01729"></a>01729   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*           mGfxScrollFrame;
<a name="l01730"></a>01730   <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>*           mPageSequenceFrame;
<a name="l01731"></a>01731   nsQuoteList         mQuoteList;
<a name="l01732"></a>01732   nsCounterManager    mCounterManager;
<a name="l01733"></a>01733   <span class="comment">// Current ProcessChildren depth.</span>
<a name="l01734"></a>01734   uint16_t            mCurrentDepth;
<a name="l01735"></a>01735   uint16_t            mUpdateCount;
<a name="l01736"></a>01736   <span class="keywordtype">bool</span>                mQuotesDirty : 1;
<a name="l01737"></a>01737   <span class="keywordtype">bool</span>                mCountersDirty : 1;
<a name="l01738"></a>01738   <span class="keywordtype">bool</span>                mIsDestroyingFrameTree : 1;
<a name="l01739"></a>01739   <span class="comment">// This is true if mDocElementContainingBlock supports absolute positioning</span>
<a name="l01740"></a>01740   <span class="keywordtype">bool</span>                mHasRootAbsPosContainingBlock : 1;
<a name="l01741"></a>01741 
<a name="l01742"></a>01742   nsCOMPtr&lt;nsILayoutHistoryState&gt; mTempFrameTreeState;
<a name="l01743"></a>01743 };
<a name="l01744"></a>01744 
<a name="l01745"></a>01745 <span class="preprocessor">#endif </span><span class="comment">/* nsCSSFrameConstructor_h___ */</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d4/d60/ns_c_s_s_frame_constructor_8h.html">nsCSSFrameConstructor.h</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 00:52:57に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
