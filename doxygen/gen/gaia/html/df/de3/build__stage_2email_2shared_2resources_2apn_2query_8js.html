<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: query.js</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li class="current"><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>ファイル一覧</span></a></li>
      <li><a href="../../globals.html"><span>グローバル</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('df/de3/build__stage_2email_2shared_2resources_2apn_2query_8js.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">関数</a>  </div>
  <div class="headertitle">
<div class="title">query.js</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="../../df/de3/build__stage_2email_2shared_2resources_2apn_2query_8js_source.html">ソースコードを見る。</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
関数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d35/tools_2xpcwindow_2lib_2window_2window_8js.html#a400f9ad46a12f3c0d20e97c78e682258">document</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/de3/build__stage_2email_2shared_2resources_2apn_2query_8js.html#a94eaef4a3e238449a9e577d37beb3cf0">addEventListener</a> ('DOMContentLoaded', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> <a class="el" href="../../de/dea/uitest_8js.html#a43397fd3516cd230995b3edbbadff48b">onload</a>(){var <a class="el" href="../../de/dd0/fl_2js_2constants_8js.html#a758c150b67e476ecf77478f16b387c61">DEBUG</a>=<a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>;var OPERATOR_VARIANT_FILE= '../apn.json';var GNOME_DB_FILE= 'service_providers.xml';var ANDROID_DB_FILE= 'apns_conf.xml';var LOCAL_ANDROID_DB_FILE= 'apns_conf_local.xml';var OPERATOR_VARIANT_DB_FILE= 'operator_variant.xml';var gGnomeDB=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;var gAndroidDB=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;var gOperatorVariantDB=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> loadXML(<a class="el" href="../../de/d8f/jsdebug_8h.html#a39bb9861b2cb39f94badb5db778de746">url</a>){var <a class="el" href="../../da/d84/openvideo_8js.html#a329f2008ea05312f90696aa4401250ed">xhr</a>=new <a class="el" href="../../d9/d0a/class_x_m_l_http_request.html">XMLHttpRequest</a>();<a class="el" href="../../da/d84/openvideo_8js.html#a2a6896c38bfcbba014743ee706623b5d">xhr.open</a>('GET', <a class="el" href="../../de/d8f/jsdebug_8h.html#a39bb9861b2cb39f94badb5db778de746">url</a>, <a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>);<a class="el" href="../../da/d84/openvideo_8js.html#a169d077acddcf947878a89b1702afaae">xhr.send</a>();<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> xhr.responseXML;}<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> queryXML(xmlDocument, query){var xpe=new XPathEvaluator();var nsResolver=xpe.createNSResolver(xmlDocument);<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> xpe.evaluate(query, xmlDocument, nsResolver, 0, <a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>);}<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> queryAndroidDB(mcc, mnc){var query= '<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(mcc){query+= '[@mcc='+mcc+ ']';}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(mnc){query+= '[@mnc='+mnc+ ']';}var <a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#ad4dc7d3fd716004895ed4c669af1c61c">result</a>=queryXML(gAndroidDB, query);var res=result.iterateNext();var found=[];<a class="el" href="../../d3/d4b/lockscreen_8js.html#a5ad25e705333134dd79a0ba0e766f6bc">while</a>(res){var apn={};<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(var <a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>=0;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>&lt; <a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">res.attributes.length</a>;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++){var <a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>=res.attributes[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].<a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>;var <a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>=res.attributes[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].<a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>== '<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a>'){<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">apn.type</a>=value.split(',');}else{apn[<a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>]=<a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>;}}<a class="el" href="../../d5/da4/preferences_8js.html#a04cdfd02512383b1feea0e6fa7f5d3a3">found.push</a>(apn);res=result.iterateNext();}<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> found;}<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> queryGnomeDB(mcc, mnc, setting){var query= ' ']/'+setting;var <a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#ad4dc7d3fd716004895ed4c669af1c61c">result</a>=queryXML(gGnomeDB, query);var <a class="el" href="../../df/db4/_h_i_s_t_o_r_y_8md.html#a766be2d162a033dbb9c6a21d3a0175d9">node</a>=result.iterateNext();<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> <a class="el" href="../../df/db4/_h_i_s_t_o_r_y_8md.html#a766be2d162a033dbb9c6a21d3a0175d9">node</a>?node.textContent: '';}<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> queryOperatorVariantDB(mcc, mnc){var query= 'var <a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#ad4dc7d3fd716004895ed4c669af1c61c">result</a>=queryXML(gOperatorVariantDB, query);var res=result.iterateNext();var found=[];<a class="el" href="../../d3/d4b/lockscreen_8js.html#a5ad25e705333134dd79a0ba0e766f6bc">while</a>(res){var operatorSettings={};<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(var <a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>=0;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>&lt; <a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">res.attributes.length</a>;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++){var <a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>=res.attributes[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].<a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>;var <a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>=res.attributes[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].<a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>;operatorSettings[<a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>]=<a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>;}<a class="el" href="../../d5/da4/preferences_8js.html#a04cdfd02512383b1feea0e6fa7f5d3a3">found.push</a>(operatorSettings);res=result.iterateNext();}<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> <a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">found.length</a>?found[0]:<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;}<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> <a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a85d894d441c0a15e64373537d8db1658">padLeft</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#af23ba264fc6071dcd37179d8a2b5440b">num</a>, <a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a>){var r=String(<a class="el" href="../../de/d81/xpt__struct_8h.html#af23ba264fc6071dcd37179d8a2b5440b">num</a>);<a class="el" href="../../d3/d4b/lockscreen_8js.html#a5ad25e705333134dd79a0ba0e766f6bc">while</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">r.length</a>&lt; <a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a>){r= '0'+r;}<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> r;}<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> mergeDBs(){var apn={};<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(var mcc=1;mcc&lt; 999;mcc++){var country={};var _mcc=<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a85d894d441c0a15e64373537d8db1658">padLeft</a>(mcc, 3);var <a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#ad4dc7d3fd716004895ed4c669af1c61c">result</a>=queryAndroidDB(_mcc);<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#ad4dc7d3fd716004895ed4c669af1c61c">result</a> &amp;&amp;<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">result.length</a>){result.sort();<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(var <a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>=0;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>&lt; <a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">result.length</a>;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++){var mnc=<a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#ad4dc7d3fd716004895ed4c669af1c61c">result</a>[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].mnc;var operatorVariantSettings={};var voicemail=queryGnomeDB(_mcc, mnc, 'voicemail');<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(voicemail){operatorVariantSettings.voicemail=voicemail;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../de/dd0/fl_2js_2constants_8js.html#a758c150b67e476ecf77478f16b387c61">DEBUG</a>){<a class="el" href="../../d9/d43/membuster_8js.html#aad81d14d4c8eea114056d7dc1f18f9b7">console.log</a>(operatorVariantSettings.voicemail+ ': '+voicemail);}}var otherSettings=queryOperatorVariantDB(_mcc, mnc);<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(otherSettings){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../de/dd0/fl_2js_2constants_8js.html#a758c150b67e476ecf77478f16b387c61">DEBUG</a>){<a class="el" href="../../d9/d43/membuster_8js.html#aad81d14d4c8eea114056d7dc1f18f9b7">console.log</a>('Other operator settings: '+<a class="el" href="../../d1/d22/ical_8js.html#a8076921037776baf4e4838660048f802">JSON.stringify</a>(otherSettings));}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!operatorVariantSettings.voicemail){voicemail=otherSettings['voicemail'];<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(voicemail){operatorVariantSettings.voicemail=voicemail;}}var enableStrict7BitEncodingForSms=otherSettings['enableStrict7BitEncodingForSms'];<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(enableStrict7BitEncodingForSms){operatorVariantSettings.enableStrict7BitEncodingForSms=enableStrict7BitEncodingForSms== '<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>';}var cellBroadcastSearchList=otherSettings['cellBroadcastSearchList'];<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(cellBroadcastSearchList){operatorVariantSettings.cellBroadcastSearchList=cellBroadcastSearchList;}var operatorSizeLimitation=otherSettings['operatorSizeLimitation'];<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(operatorSizeLimitation){operatorVariantSettings.operatorSizeLimitation=+operatorSizeLimitation;}var skipProxy=otherSettings['skipProxy'];<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(skipProxy== '<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>'){var skipProxyFor=otherSettings['skipProxyFor'];<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(skipProxyFor){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../d4/d23/binary__string__view_8js.html#a78826d1185ecdcfc63deffaedf15c7bd">skipProxyFor.indexOf</a>(<a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#ad4dc7d3fd716004895ed4c669af1c61c">result</a>[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].carrier)!=-1){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../de/dd0/fl_2js_2constants_8js.html#a758c150b67e476ecf77478f16b387c61">DEBUG</a>){<a class="el" href="../../d9/d43/membuster_8js.html#aad81d14d4c8eea114056d7dc1f18f9b7">console.log</a>('Skip proxy setting for: '+<a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#ad4dc7d3fd716004895ed4c669af1c61c">result</a>[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].carrier);}<a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#ad4dc7d3fd716004895ed4c669af1c61c">result</a>[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].proxy=<a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#ad4dc7d3fd716004895ed4c669af1c61c">result</a>[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].<a class="el" href="../../df/d9e/prnetdb_8h.html#a2442718810e8bab593a8ef904979ca72">port</a>= '';}}}}delete(<a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#ad4dc7d3fd716004895ed4c669af1c61c">result</a>[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].mcc);delete(<a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#ad4dc7d3fd716004895ed4c669af1c61c">result</a>[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].mnc);<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(country[mnc]){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../de/dd0/fl_2js_2constants_8js.html#a758c150b67e476ecf77478f16b387c61">DEBUG</a>){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(country[mnc].<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a>==1){<a class="el" href="../../d9/d43/membuster_8js.html#aad81d14d4c8eea114056d7dc1f18f9b7">console.log</a>('duplicate mcc/mnc: '+_mcc+ '/'+mnc);<a class="el" href="../../d9/d43/membuster_8js.html#aad81d14d4c8eea114056d7dc1f18f9b7">console.log</a>('- '+country[mnc][0].carrier);}<a class="el" href="../../d9/d43/membuster_8js.html#aad81d14d4c8eea114056d7dc1f18f9b7">console.log</a>('- '+<a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#ad4dc7d3fd716004895ed4c669af1c61c">result</a>[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].carrier);}country[mnc].<a class="el" href="../../d5/da4/preferences_8js.html#a04cdfd02512383b1feea0e6fa7f5d3a3">push</a>(<a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#ad4dc7d3fd716004895ed4c669af1c61c">result</a>[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>]);}else{country[mnc]=[<a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#ad4dc7d3fd716004895ed4c669af1c61c">result</a>[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>]];<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(voicemail||otherSettings){<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">operatorVariantSettings.type</a>=[];<a class="el" href="../../d5/da4/preferences_8js.html#a04cdfd02512383b1feea0e6fa7f5d3a3">operatorVariantSettings.type.push</a>('operatorvariant');country[mnc].<a class="el" href="../../d5/da4/preferences_8js.html#a04cdfd02512383b1feea0e6fa7f5d3a3">push</a>(operatorVariantSettings);}}}apn[_mcc]=country;}}<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> apn;}var gAPN;var apnPrefNames={ 'default':{ 'ril.data.carrier': 'carrier', 'ril.data.apn': 'apn', '<a class="el" href="../../de/d8f/jsdebug_8h.html#ad8babe1ecde8f9f6d224a06ea1a99480">ril.data.user</a>': '<a class="el" href="../../de/d8f/jsdebug_8h.html#ad8babe1ecde8f9f6d224a06ea1a99480">user</a>', 'ril.data.passwd': 'password', 'ril.data.httpProxyHost': 'proxy', 'ril.data.httpProxyPort': '<a class="el" href="../../df/d9e/prnetdb_8h.html#a2442718810e8bab593a8ef904979ca72">port</a>', 'ril.data.authtype': 'authtype'}, 'supl':{ 'ril.supl.carrier': 'carrier', 'ril.supl.apn': 'apn', '<a class="el" href="../../de/d8f/jsdebug_8h.html#ad8babe1ecde8f9f6d224a06ea1a99480">ril.supl.user</a>': '<a class="el" href="../../de/d8f/jsdebug_8h.html#ad8babe1ecde8f9f6d224a06ea1a99480">user</a>', 'ril.supl.passwd': 'password', 'ril.supl.httpProxyHost': 'proxy', 'ril.supl.httpProxyPort': '<a class="el" href="../../df/d9e/prnetdb_8h.html#a2442718810e8bab593a8ef904979ca72">port</a>', 'ril.supl.authtype': 'authtype'}, 'mms':{ 'ril.mms.carrier': 'carrier', 'ril.mms.apn': 'apn', '<a class="el" href="../../de/d8f/jsdebug_8h.html#ad8babe1ecde8f9f6d224a06ea1a99480">ril.mms.user</a>': '<a class="el" href="../../de/d8f/jsdebug_8h.html#ad8babe1ecde8f9f6d224a06ea1a99480">user</a>', 'ril.mms.passwd': 'password', 'ril.mms.httpProxyHost': 'proxy', 'ril.mms.httpProxyPort': '<a class="el" href="../../df/d9e/prnetdb_8h.html#a2442718810e8bab593a8ef904979ca72">port</a>', 'ril.mms.mmsc': 'mmsc', 'ril.mms.mmsproxy': 'mmsproxy', 'ril.mms.mmsport': 'mmsport', 'ril.mms.authtype': 'authtype'}, 'operatorvariant':{ 'ril.iccInfo.mbdn': 'voicemail', '<a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#ad40d8437f6cf8675f077c4117119c8c0">ril.sms.strict7BitEncoding.enabled</a>': 'enableStrict7BitEncodingForSms', 'ril.cellbroadcast.searchlist': 'cellBroadcastSearchList', 'dom.mms.operatorSizeLimitation': 'operatorSizeLimitation'}};var booleanPrefNames=[ '<a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#ad40d8437f6cf8675f077c4117119c8c0">ril.sms.strict7BitEncoding.enabled</a>'];<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> loadDB(<a class="el" href="../../df/d12/latin__test_8js.html#a34687689873d42dec2c94cc27f36e1e9">output</a>, <a class="el" href="../../de/dc5/jsfriendapi_8h.html#ae9494ad8646a84b50bd3446d72433e82">callback</a>){<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">output.textContent</a>= '\<a class="el" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a> loading database...';var <a class="el" href="../../da/d84/openvideo_8js.html#a329f2008ea05312f90696aa4401250ed">xhr</a>=new <a class="el" href="../../d9/d0a/class_x_m_l_http_request.html">XMLHttpRequest</a>();<a class="el" href="../../da/d84/openvideo_8js.html#a2a6896c38bfcbba014743ee706623b5d">xhr.open</a>('GET', OPERATOR_VARIANT_FILE, <a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>);xhr.onreadystatechange=<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(xhr.readyState==4){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../de/d8f/jsdebug_8h.html#a0818854fd36b9ae0fdfe5872464dae94">xhr.status</a>==200||<a class="el" href="../../de/d8f/jsdebug_8h.html#a0818854fd36b9ae0fdfe5872464dae94">xhr.status</a>===0){gAPN=<a class="el" href="../../d3/d52/blanket_8js.html#a3e70263fa1d00b23249fce45e65e5849">JSON.parse</a>(xhr.responseText);}else{<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">output.textContent</a>= '\<a class="el" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a> merging databases, <a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#af23f5f9187c304ed6a90a2c49a64fa48">this</a> takes <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> while...';gAndroidDB=loadXML(ANDROID_DB_FILE);var localAndroidDB=loadXML(LOCAL_ANDROID_DB_FILE);var localApns=localAndroidDB.documentElement.querySelectorAll('apn');<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(var localApn of localApns){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(localApn.getAttribute('<a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>')){var <a class="el" href="../../dd/dc2/plarenas_8h.html#a621f01fe882bc5e2bc28ab9358543f18">pattern</a>= 'apn'+ '[mcc=&quot;' + localApn.getAttribute('mcc') + '&quot;]'+ '[mnc=&quot;' + localApn.getAttribute('mnc') + '&quot;]';var androidApns=gAndroidDB.documentElement.querySelectorAll(<a class="el" href="../../dd/dc2/plarenas_8h.html#a621f01fe882bc5e2bc28ab9358543f18">pattern</a>);<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(var androidApn of androidApns){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(androidApn &amp;&amp;androidApn.getAttribute('carrier')===localApn.getAttribute('carrier')){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../de/dd0/fl_2js_2constants_8js.html#a758c150b67e476ecf77478f16b387c61">DEBUG</a>){<a class="el" href="../../d9/d43/membuster_8js.html#aad81d14d4c8eea114056d7dc1f18f9b7">console.log</a>('-<a class="el" href="../../dc/d89/wappush_2js_2message_8js.html#a7c5f9536f6c7849a4a7a592bfedf18f1">replace</a>&quot;' +
                                androidApn.getAttribute('carrier') +
                                '&quot;to&quot;' + localApn.getAttribute('<a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>') +
                                '&quot;');}androidApn.setAttribute('carrier', localApn.getAttribute('<a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>'));}}}else{gAndroidDB.documentElement.appendChild(localApn);}}gGnomeDB=loadXML(GNOME_DB_FILE);gOperatorVariantDB=loadXML(OPERATOR_VARIANT_DB_FILE);gAPN=mergeDBs();}<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">output.textContent</a>=<a class="el" href="../../de/dd0/fl_2js_2constants_8js.html#a758c150b67e476ecf77478f16b387c61">DEBUG</a>?<a class="el" href="../../d1/d22/ical_8js.html#a8076921037776baf4e4838660048f802">JSON.stringify</a>(gAPN, <a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>, 2):<a class="el" href="../../d1/d22/ical_8js.html#a8076921037776baf4e4838660048f802">JSON.stringify</a>(gAPN, <a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>, 0).<a class="el" href="../../dc/d89/wappush_2js_2message_8js.html#a7c5f9536f6c7849a4a7a592bfedf18f1">replace</a>(/(&quot;[0-9]+&quot;):{/<a class="el" href="../../d2/d77/build__stage_2email_2js_2ext_2mailapi_2chewlayer_8js.html#a73c18c59a39b18382081ec00bb456d43">g</a>, '\<a class="el" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a> $1:{').<a class="el" href="../../dc/d89/wappush_2js_2message_8js.html#a7c5f9536f6c7849a4a7a592bfedf18f1">replace</a>(/(&quot;[0-9]+&quot;):\[/<a class="el" href="../../d2/d77/build__stage_2email_2js_2ext_2mailapi_2chewlayer_8js.html#a73c18c59a39b18382081ec00bb456d43">g</a>, '\<a class="el" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a> $1:[').<a class="el" href="../../dc/d89/wappush_2js_2message_8js.html#a7c5f9536f6c7849a4a7a592bfedf18f1">replace</a>(/},\<a class="el" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a>/<a class="el" href="../../d2/d77/build__stage_2email_2js_2ext_2mailapi_2chewlayer_8js.html#a73c18c59a39b18382081ec00bb456d43">g</a>, '\<a class="el" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a>},\<a class="el" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a>').<a class="el" href="../../dc/d89/wappush_2js_2message_8js.html#a7c5f9536f6c7849a4a7a592bfedf18f1">replace</a>(/\[{/<a class="el" href="../../d2/d77/build__stage_2email_2js_2ext_2mailapi_2chewlayer_8js.html#a73c18c59a39b18382081ec00bb456d43">g</a>, '[\<a class="el" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a>{').<a class="el" href="../../dc/d89/wappush_2js_2message_8js.html#a7c5f9536f6c7849a4a7a592bfedf18f1">replace</a>(/},{/<a class="el" href="../../d2/d77/build__stage_2email_2js_2ext_2mailapi_2chewlayer_8js.html#a73c18c59a39b18382081ec00bb456d43">g</a>, '},\<a class="el" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a>{').<a class="el" href="../../dc/d89/wappush_2js_2message_8js.html#a7c5f9536f6c7849a4a7a592bfedf18f1">replace</a>(/}(],?)/<a class="el" href="../../d2/d77/build__stage_2email_2js_2ext_2mailapi_2chewlayer_8js.html#a73c18c59a39b18382081ec00bb456d43">g</a>, '}\<a class="el" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a> $1').<a class="el" href="../../dc/d89/wappush_2js_2message_8js.html#a7c5f9536f6c7849a4a7a592bfedf18f1">replace</a>(/]}}$/, ']\<a class="el" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a>}\<a class="el" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a>}');<a class="el" href="../../de/dc5/jsfriendapi_8h.html#ae9494ad8646a84b50bd3446d72433e82">callback</a>();}};<a class="el" href="../../da/d84/openvideo_8js.html#a169d077acddcf947878a89b1702afaae">xhr.send</a>();}<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> <a class="el" href="../../dd/d6d/mock__spinner_8js.html#ab10b009b0da48f61217a18daf8e20cd8">update</a>(){var selection=<a class="el" href="../../d4/d8c/viewphoto_8js.html#a6d08c5d82e2ca7c6042afb9f8ae078c1">document.getElementById</a>('selection');var mcc=<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">document.querySelector</a>('<a class="el" href="../../d2/d7d/jsapi_8h.html#a8908b6d42ac95ee6387e73b7ac543dae">input</a>[<a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>=mcc]').<a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>;var mnc=<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">document.querySelector</a>('<a class="el" href="../../d2/d7d/jsapi_8h.html#a8908b6d42ac95ee6387e73b7ac543dae">input</a>[<a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>=mnc]').<a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>;var res=gAPN[mcc]?(gAPN[mcc][mnc]||[]):[];<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">selection.textContent</a>=<a class="el" href="../../d1/d22/ical_8js.html#a8076921037776baf4e4838660048f802">JSON.stringify</a>(res, <a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>, 2);var preferences=<a class="el" href="../../d4/d8c/viewphoto_8js.html#a6d08c5d82e2ca7c6042afb9f8ae078c1">document.getElementById</a>('preferences');var prefs={};<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(var <a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a> in apnPrefNames){var apn={};<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(var <a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>=0;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>&lt; <a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">res.length</a>;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(res[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].<a class="el" href="../../d4/d23/binary__string__view_8js.html#a78826d1185ecdcfc63deffaedf15c7bd">type.indexOf</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a>)!=-1){apn=res[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>];<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a>;}}var prefNames=apnPrefNames[<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a>];<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(var <a class="el" href="../../d2/d7d/jsapi_8h.html#a02d8cbd1392e102198d5bb521715f608">key</a> in prefNames){var <a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>=apnPrefNames[<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a>][<a class="el" href="../../d2/d7d/jsapi_8h.html#a02d8cbd1392e102198d5bb521715f608">key</a>];<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../d4/d23/binary__string__view_8js.html#a78826d1185ecdcfc63deffaedf15c7bd">booleanPrefNames.indexOf</a>(<a class="el" href="../../d2/d7d/jsapi_8h.html#a02d8cbd1392e102198d5bb521715f608">key</a>)!=-1){prefs[<a class="el" href="../../d2/d7d/jsapi_8h.html#a02d8cbd1392e102198d5bb521715f608">key</a>]=apn[<a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>]||<a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>;}else{prefs[<a class="el" href="../../d2/d7d/jsapi_8h.html#a02d8cbd1392e102198d5bb521715f608">key</a>]=apn[<a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>]|| '';}}}<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">preferences.textContent</a>=<a class="el" href="../../d1/d22/ical_8js.html#a8076921037776baf4e4838660048f802">JSON.stringify</a>(prefs, <a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>, 2);}<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">document.querySelector</a>('form').oninput=<a class="el" href="../../dd/d6d/mock__spinner_8js.html#ab10b009b0da48f61217a18daf8e20cd8">update</a>;loadDB(<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">document.querySelector</a>('textarea'), <a class="el" href="../../dd/d6d/mock__spinner_8js.html#ab10b009b0da48f61217a18daf8e20cd8">update</a>);})</td></tr>
</table>
<hr/><h2>関数</h2>
<a class="anchor" id="a94eaef4a3e238449a9e577d37beb3cf0"></a><!-- doxytag: member="build_stage/email/shared/resources/apn/query.js::addEventListener" ref="a94eaef4a3e238449a9e577d37beb3cf0" args="('DOMContentLoaded', function onload(){var DEBUG=false;var OPERATOR_VARIANT_FILE= '../apn.json';var GNOME_DB_FILE= 'service_providers.xml';var ANDROID_DB_FILE= 'apns_conf.xml';var LOCAL_ANDROID_DB_FILE= 'apns_conf_local.xml';var OPERATOR_VARIANT_DB_FILE= 'operator_variant.xml';var gGnomeDB=null;var gAndroidDB=null;var gOperatorVariantDB=null;function loadXML(url){var xhr=new XMLHttpRequest();xhr.open('GET', url, false);xhr.send();return xhr.responseXML;}function queryXML(xmlDocument, query){var xpe=new XPathEvaluator();var nsResolver=xpe.createNSResolver(xmlDocument);return xpe.evaluate(query, xmlDocument, nsResolver, 0, null);}function queryAndroidDB(mcc, mnc){var query= 'if(mcc){query+= '[@mcc='+mcc+ ']';}if(mnc){query+= '[@mnc='+mnc+ ']';}var result=queryXML(gAndroidDB, query);var res=result.iterateNext();var found=[];while(res){var apn={};for(var i=0;i&lt; res.attributes.length;i++){var name=res.attributes[i].name;var value=res.attributes[i].value;if(name== 'type'){apn.type=value.split(',');}else{apn[name]=value;}}found.push(apn);res=result.iterateNext();}return found;}function queryGnomeDB(mcc, mnc, setting){var query= ' ']/'+setting;var result=queryXML(gGnomeDB, query);var node=result.iterateNext();return node?node.textContent: '';}function queryOperatorVariantDB(mcc, mnc){var query= 'var result=queryXML(gOperatorVariantDB, query);var res=result.iterateNext();var found=[];while(res){var operatorSettings={};for(var i=0;i&lt; res.attributes.length;i++){var name=res.attributes[i].name;var value=res.attributes[i].value;operatorSettings[name]=value;}found.push(operatorSettings);res=result.iterateNext();}return found.length?found[0]:null;}function padLeft(num, length){var r=String(num);while(r.length&lt; length){r= '0'+r;}return r;}function mergeDBs(){var apn={};for(var mcc=1;mcc&lt; 999;mcc++){var country={};var _mcc=padLeft(mcc, 3);var result=queryAndroidDB(_mcc);if(result &amp;&amp;result.length){result.sort();for(var i=0;i&lt; result.length;i++){var mnc=result[i].mnc;var operatorVariantSettings={};var voicemail=queryGnomeDB(_mcc, mnc, 'voicemail');if(voicemail){operatorVariantSettings.voicemail=voicemail;if(DEBUG){console.log(operatorVariantSettings.voicemail+ ': '+voicemail);}}var otherSettings=queryOperatorVariantDB(_mcc, mnc);if(otherSettings){if(DEBUG){console.log('Other operator settings: '+JSON.stringify(otherSettings));}if(!operatorVariantSettings.voicemail){voicemail=otherSettings['voicemail'];if(voicemail){operatorVariantSettings.voicemail=voicemail;}}var enableStrict7BitEncodingForSms=otherSettings['enableStrict7BitEncodingForSms'];if(enableStrict7BitEncodingForSms){operatorVariantSettings.enableStrict7BitEncodingForSms=enableStrict7BitEncodingForSms== 'true';}var cellBroadcastSearchList=otherSettings['cellBroadcastSearchList'];if(cellBroadcastSearchList){operatorVariantSettings.cellBroadcastSearchList=cellBroadcastSearchList;}var operatorSizeLimitation=otherSettings['operatorSizeLimitation'];if(operatorSizeLimitation){operatorVariantSettings.operatorSizeLimitation=+operatorSizeLimitation;}var skipProxy=otherSettings['skipProxy'];if(skipProxy== 'true'){var skipProxyFor=otherSettings['skipProxyFor'];if(skipProxyFor){if(skipProxyFor.indexOf(result[i].carrier)!=&#45;1){if(DEBUG){console.log('Skip proxy setting for: '+result[i].carrier);}result[i].proxy=result[i].port= '';}}}}delete(result[i].mcc);delete(result[i].mnc);if(country[mnc]){if(DEBUG){if(country[mnc].length==1){console.log('duplicate mcc/mnc: '+_mcc+ '/'+mnc);console.log('&#45; '+country[mnc][0].carrier);}console.log('&#45; '+result[i].carrier);}country[mnc].push(result[i]);}else{country[mnc]=[result[i]];if(voicemail||otherSettings){operatorVariantSettings.type=[];operatorVariantSettings.type.push('operatorvariant');country[mnc].push(operatorVariantSettings);}}}apn[_mcc]=country;}}return apn;}var gAPN;var apnPrefNames={ 'default':{ 'ril.data.carrier': 'carrier', 'ril.data.apn': 'apn', 'ril.data.user': 'user', 'ril.data.passwd': 'password', 'ril.data.httpProxyHost': 'proxy', 'ril.data.httpProxyPort': 'port', 'ril.data.authtype': 'authtype'}, 'supl':{ 'ril.supl.carrier': 'carrier', 'ril.supl.apn': 'apn', 'ril.supl.user': 'user', 'ril.supl.passwd': 'password', 'ril.supl.httpProxyHost': 'proxy', 'ril.supl.httpProxyPort': 'port', 'ril.supl.authtype': 'authtype'}, 'mms':{ 'ril.mms.carrier': 'carrier', 'ril.mms.apn': 'apn', 'ril.mms.user': 'user', 'ril.mms.passwd': 'password', 'ril.mms.httpProxyHost': 'proxy', 'ril.mms.httpProxyPort': 'port', 'ril.mms.mmsc': 'mmsc', 'ril.mms.mmsproxy': 'mmsproxy', 'ril.mms.mmsport': 'mmsport', 'ril.mms.authtype': 'authtype'}, 'operatorvariant':{ 'ril.iccInfo.mbdn': 'voicemail', 'ril.sms.strict7BitEncoding.enabled': 'enableStrict7BitEncodingForSms', 'ril.cellbroadcast.searchlist': 'cellBroadcastSearchList', 'dom.mms.operatorSizeLimitation': 'operatorSizeLimitation'}};var booleanPrefNames=[ 'ril.sms.strict7BitEncoding.enabled'];function loadDB(output, callback){output.textContent= '\n loading database...';var xhr=new XMLHttpRequest();xhr.open('GET', OPERATOR_VARIANT_FILE, true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status==200||xhr.status===0){gAPN=JSON.parse(xhr.responseText);}else{output.textContent= '\n merging databases, this takes a while...';gAndroidDB=loadXML(ANDROID_DB_FILE);var localAndroidDB=loadXML(LOCAL_ANDROID_DB_FILE);var localApns=localAndroidDB.documentElement.querySelectorAll('apn');for(var localApn of localApns){if(localApn.getAttribute('name')){var pattern= 'apn'+ '[mcc=&quot;' + localApn.getAttribute('mcc') + '&quot;]'+ '[mnc=&quot;' + localApn.getAttribute('mnc') + '&quot;]';var androidApns=gAndroidDB.documentElement.querySelectorAll(pattern);for(var androidApn of androidApns){if(androidApn &amp;&amp;androidApn.getAttribute('carrier')===localApn.getAttribute('carrier')){if(DEBUG){console.log('&#45;replace&quot;' +
                                androidApn.getAttribute('carrier') +
                                '&quot;to&quot;' + localApn.getAttribute('name') +
                                '&quot;');}androidApn.setAttribute('carrier', localApn.getAttribute('name'));}}}else{gAndroidDB.documentElement.appendChild(localApn);}}gGnomeDB=loadXML(GNOME_DB_FILE);gOperatorVariantDB=loadXML(OPERATOR_VARIANT_DB_FILE);gAPN=mergeDBs();}output.textContent=DEBUG?JSON.stringify(gAPN, true, 2):JSON.stringify(gAPN, true, 0).replace(/(&quot;[0&#45;9]+&quot;):{/g, '\n $1:{').replace(/(&quot;[0&#45;9]+&quot;):\[/g, '\n $1:[').replace(/},\n/g, '\n},\n').replace(/\[{/g, '[\n{').replace(/},{/g, '},\n{').replace(/}(],?)/g, '}\n $1').replace(/]}}$/, ']\n}\n}');callback();}};xhr.send();}function update(){var selection=document.getElementById('selection');var mcc=document.querySelector('input[name=mcc]').value;var mnc=document.querySelector('input[name=mnc]').value;var res=gAPN[mcc]?(gAPN[mcc][mnc]||[]):[];selection.textContent=JSON.stringify(res, true, 2);var preferences=document.getElementById('preferences');var prefs={};for(var type in apnPrefNames){var apn={};for(var i=0;i&lt; res.length;i++){if(res[i].type.indexOf(type)!=&#45;1){apn=res[i];break;}}var prefNames=apnPrefNames[type];for(var key in prefNames){var name=apnPrefNames[type][key];if(booleanPrefNames.indexOf(key)!=&#45;1){prefs[key]=apn[name]||false;}else{prefs[key]=apn[name]|| '';}}}preferences.textContent=JSON.stringify(prefs, true, 2);}document.querySelector('form').oninput=update;loadDB(document.querySelector('textarea'), update);})" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d35/tools_2xpcwindow_2lib_2window_2window_8js.html#a400f9ad46a12f3c0d20e97c78e682258">document</a> <a class="el" href="../../d1/d51/test__external__apps_2packstubtest_2js_2app_8js.html#ac189c42168797aa80d7a298a9394ff0b">addEventListener</a> </td>
          <td>(</td>
          <td class="paramtype">'DOMContentLoaded'&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../df/de3/build__stage_2email_2shared_2resources_2apn_2query_8js.html">query.js</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 00:57:47に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
