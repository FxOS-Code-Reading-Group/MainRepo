<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: CanvasRenderingContext2D.h ソースファイル</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li class="current"><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>ファイル一覧</span></a></li>
      <li><a href="../../globals.html"><span>グローバル</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('df/d7b/_canvas_rendering_context2_d_8h.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">CanvasRenderingContext2D.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../df/d7b/_canvas_rendering_context2_d_8h.html">説明を見る。</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a name="l00002"></a>00002 <span class="comment"> * License, v. 2.0. If a copy of the MPL was not distributed with this file,</span>
<a name="l00003"></a>00003 <span class="comment"> * You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a name="l00004"></a>00004 
<a name="l00005"></a>00005 <span class="preprocessor">#ifndef CanvasRenderingContext2D_h</span>
<a name="l00006"></a>00006 <span class="preprocessor"></span><span class="preprocessor">#define CanvasRenderingContext2D_h</span>
<a name="l00007"></a>00007 <span class="preprocessor"></span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &quot;<a class="code" href="../../d1/da8/_attributes_8h.html">mozilla/Attributes.h</a>&quot;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;<a class="code" href="../../df/d41/ns_i_d_o_m_canvas_rendering_context2_d_8h.html">nsIDOMCanvasRenderingContext2D.h</a>&quot;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &quot;<a class="code" href="../../d4/dd6/ns_i_canvas_rendering_context_internal_8h.html">nsICanvasRenderingContextInternal.h</a>&quot;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &quot;<a class="code" href="../../da/d78/_ref_ptr_8h.html">mozilla/RefPtr.h</a>&quot;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &quot;<a class="code" href="../../d9/d6a/ns_color_8h.html">nsColor.h</a>&quot;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &quot;<a class="code" href="../../d8/d90/_h_t_m_l_canvas_element_8h.html">mozilla/dom/HTMLCanvasElement.h</a>&quot;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &quot;<a class="code" href="../../de/daa/_h_t_m_l_video_element_8h.html">mozilla/dom/HTMLVideoElement.h</a>&quot;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &quot;<a class="code" href="../../dd/d6d/_canvas_utils_8h.html">CanvasUtils.h</a>&quot;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &quot;<a class="code" href="../../d3/d0b/gfx_font_8h.html">gfxFont.h</a>&quot;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &quot;<a class="code" href="../../db/dd4/_error_result_8h.html">mozilla/ErrorResult.h</a>&quot;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &quot;<a class="code" href="../../d3/d82/_image_data_8h.html">mozilla/dom/ImageData.h</a>&quot;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &quot;<a class="code" href="../../db/d67/_canvas_gradient_8h.html">mozilla/dom/CanvasGradient.h</a>&quot;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &quot;<a class="code" href="../../d6/d17/_canvas_rendering_context2_d_binding_8h.html">mozilla/dom/CanvasRenderingContext2DBinding.h</a>&quot;</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &quot;<a class="code" href="../../de/d79/_canvas_pattern_8h.html">mozilla/dom/CanvasPattern.h</a>&quot;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &quot;<a class="code" href="../../d3/d27/_rect_8h.html">mozilla/gfx/Rect.h</a>&quot;</span>
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="keyword">class </span>nsXULElement;
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="keyword">namespace </span>mozilla {
<a name="l00028"></a>00028 <span class="keyword">namespace </span>gfx {
<a name="l00029"></a>00029 <span class="keyword">class </span>SourceSurface;
<a name="l00030"></a>00030 }
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="keyword">namespace </span><a class="code" href="../../da/dce/details__test_8js.html#a017102f866db15b37d9657454efde4ff">dom</a> {
<a name="l00033"></a>00033 <span class="keyword">class </span>HTMLImageElementOrHTMLCanvasElementOrHTMLVideoElement;
<a name="l00034"></a>00034 <span class="keyword">class </span>StringOrCanvasGradientOrCanvasPattern;
<a name="l00035"></a>00035 <span class="keyword">class </span>StringOrCanvasGradientOrCanvasPatternReturnValue;
<a name="l00036"></a>00036 <span class="keyword">class </span><a class="code" href="../../d0/dfb/namespacemozilla_1_1dom_1_1prototypes_1_1id.html#addcec93baff9084aadf2519231ea4a28a4e300ddb2d25f29b8ef82d914bd5ab60">TextMetrics</a>;
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a89ee4741e9b0dde3c6bf62a0fa7d4b70">mozilla::gfx::Float</a> <a class="code" href="../../d7/d4b/namespacemozilla_1_1dom.html#a3c0363d26dba35dcbd77ea3866033baf">SIGMA_MAX</a>;
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">class </span>Optional;
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 <span class="keyword">struct </span>CanvasBidiProcessor;
<a name="l00043"></a>00043 <span class="keyword">class </span>CanvasRenderingContext2DUserData;
<a name="l00044"></a>00044 
<a name="l00048"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html">00048</a> <span class="keyword">class </span><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html">CanvasRenderingContext2D</a> :
<a name="l00049"></a>00049   <span class="keyword">public</span> <a class="code" href="../../d8/d7b/classns_i_canvas_rendering_context_internal.html">nsICanvasRenderingContextInternal</a>,
<a name="l00050"></a>00050   <span class="keyword">public</span> <a class="code" href="../../d0/d7e/classns_wrapper_cache.html">nsWrapperCache</a>
<a name="l00051"></a>00051 {
<a name="l00052"></a>00052 <span class="keyword">typedef</span> <a class="code" href="../../d0/dbc/classmozilla_1_1dom_1_1_h_t_m_l_image_element_or_h_t_m_l_canvas_element_or_h_t_m_l_video_element.html">HTMLImageElementOrHTMLCanvasElementOrHTMLVideoElement</a>
<a name="l00053"></a>00053   <a class="code" href="../../d0/dbc/classmozilla_1_1dom_1_1_h_t_m_l_image_element_or_h_t_m_l_canvas_element_or_h_t_m_l_video_element.html">HTMLImageOrCanvasOrVideoElement</a>;
<a name="l00054"></a>00054 
<a name="l00055"></a>00055 <span class="keyword">public</span>:
<a name="l00056"></a>00056   <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a3430f1296e98c7ae4227764195d5e60b">CanvasRenderingContext2D</a>();
<a name="l00057"></a>00057   <span class="keyword">virtual</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a33c6a460f62f691ef2511d14d4d60e37">~CanvasRenderingContext2D</a>();
<a name="l00058"></a>00058 
<a name="l00059"></a>00059   <span class="keyword">virtual</span> JSObject* <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aa39415f88451aca258e5d99d41e28821">WrapObject</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *<a class="code" href="../../de/d8f/jsdebug_8h.html#ac84a9ad5e2527762d63c6001438948b3">cx</a>,
<a name="l00060"></a>00060                                <a class="code" href="../../df/dfb/class_j_s_1_1_handle.html">JS::Handle&lt;JSObject*&gt;</a> <a class="code" href="../../d6/d1b/pprthred_8h.html#abebc974dc471da8573244b14d2646069">scope</a>) MOZ_OVERRIDE;
<a name="l00061"></a>00061 
<a name="l00062"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ac65d8042a1e122b16e497e08806bb639">00062</a>   <a class="code" href="../../d0/dfb/namespacemozilla_1_1dom_1_1prototypes_1_1id.html#addcec93baff9084aadf2519231ea4a28ae5b6aaa6d6a45c6a62628c2a3bbe810d">HTMLCanvasElement</a>* <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ac65d8042a1e122b16e497e08806bb639">GetCanvas</a>()<span class="keyword"> const</span>
<a name="l00063"></a>00063 <span class="keyword">  </span>{
<a name="l00064"></a>00064     <span class="comment">// corresponds to changes to the old bindings made in bug 745025</span>
<a name="l00065"></a>00065     <span class="keywordflow">return</span> <a class="code" href="../../d8/d7b/classns_i_canvas_rendering_context_internal.html#ae41827573c364cb0dd34223318186753">mCanvasElement</a>-&gt;GetOriginalCanvas();
<a name="l00066"></a>00066   }
<a name="l00067"></a>00067 
<a name="l00068"></a>00068   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a44f55545d275b5df782ace6358b69654">Save</a>();
<a name="l00069"></a>00069   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a9791206e1ef4420501ec73bd3a03ed6e">Restore</a>();
<a name="l00070"></a>00070   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ad2e718d68f9f7ce985c9dedb1c57e2fc">Scale</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00071"></a>00071   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a2ee21a58f06a6a1d5b464b264823b437">Rotate</a>(<span class="keywordtype">double</span> angle, <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00072"></a>00072   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a4bca4f2f08ac2a81311692ff0afaee7a">Translate</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00073"></a>00073   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#abb11473f400aded765150ead8cd5a844">Transform</a>(<span class="keywordtype">double</span> m11, <span class="keywordtype">double</span> m12, <span class="keywordtype">double</span> m21, <span class="keywordtype">double</span> m22, <span class="keywordtype">double</span> dx,
<a name="l00074"></a>00074                  <span class="keywordtype">double</span> dy, <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00075"></a>00075   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a932ef1f5e8e588d07547259b86594e00">SetTransform</a>(<span class="keywordtype">double</span> m11, <span class="keywordtype">double</span> m12, <span class="keywordtype">double</span> m21, <span class="keywordtype">double</span> m22, <span class="keywordtype">double</span> dx,
<a name="l00076"></a>00076                     <span class="keywordtype">double</span> dy, <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00077"></a>00077 
<a name="l00078"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aef4e838b80c55c9c1b56c24a3adfb211">00078</a>   <span class="keywordtype">double</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aef4e838b80c55c9c1b56c24a3adfb211">GlobalAlpha</a>()
<a name="l00079"></a>00079   {
<a name="l00080"></a>00080     <span class="keywordflow">return</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>().<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a73f0ee515e81c01ca90f280da475b6c1">globalAlpha</a>;
<a name="l00081"></a>00081   }
<a name="l00082"></a>00082 
<a name="l00083"></a>00083   <span class="comment">// Useful for silencing cast warnings</span>
<a name="l00084"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">00084</a>   <span class="keyword">static</span> <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a89ee4741e9b0dde3c6bf62a0fa7d4b70">mozilla::gfx::Float</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(<span class="keywordtype">double</span> aValue) { <span class="keywordflow">return</span> <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a89ee4741e9b0dde3c6bf62a0fa7d4b70">mozilla::gfx::Float</a>(aValue); }
<a name="l00085"></a>00085 
<a name="l00086"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ace2bbf6a5c977952afc96a8fd70fd356">00086</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ace2bbf6a5c977952afc96a8fd70fd356">SetGlobalAlpha</a>(<span class="keywordtype">double</span> globalAlpha)
<a name="l00087"></a>00087   {
<a name="l00088"></a>00088     <span class="keywordflow">if</span> (globalAlpha &gt;= 0.0 &amp;&amp; globalAlpha &lt;= 1.0) {
<a name="l00089"></a>00089       <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>().<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a73f0ee515e81c01ca90f280da475b6c1">globalAlpha</a> = <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(globalAlpha);
<a name="l00090"></a>00090     }
<a name="l00091"></a>00091   }
<a name="l00092"></a>00092 
<a name="l00093"></a>00093   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a87ccb334ae4862bd337d85ad1e05eb26">GetGlobalCompositeOperation</a>(nsAString&amp; op, <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00094"></a>00094   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae2f36fe43b332aff6924e560e245f5f1">SetGlobalCompositeOperation</a>(<span class="keyword">const</span> nsAString&amp; op,
<a name="l00095"></a>00095                                    <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00096"></a>00096 
<a name="l00097"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a768f8987bb7f0b657f2de1da00799463">00097</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a768f8987bb7f0b657f2de1da00799463">GetStrokeStyle</a>(<a class="code" href="../../d5/d1e/classmozilla_1_1dom_1_1_string_or_canvas_gradient_or_canvas_pattern_return_value.html">StringOrCanvasGradientOrCanvasPatternReturnValue</a>&amp; <a class="code" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>)
<a name="l00098"></a>00098   {
<a name="l00099"></a>00099     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aa89cda7c2e09d4e647edfd7c2d235125">GetStyleAsUnion</a>(value, <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7eca922ffe9ea487dde8adce31e423825654">STYLE_STROKE</a>);
<a name="l00100"></a>00100   }
<a name="l00101"></a>00101 
<a name="l00102"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8eb271aa31aee9600867eb76a6ecf054">00102</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8eb271aa31aee9600867eb76a6ecf054">SetStrokeStyle</a>(<span class="keyword">const</span> <a class="code" href="../../da/de4/classmozilla_1_1dom_1_1_string_or_canvas_gradient_or_canvas_pattern.html">StringOrCanvasGradientOrCanvasPattern</a>&amp; <a class="code" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>)
<a name="l00103"></a>00103   {
<a name="l00104"></a>00104     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a06cc932164fc41537f5adcc0b19a54cf">SetStyleFromUnion</a>(value, <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7eca922ffe9ea487dde8adce31e423825654">STYLE_STROKE</a>);
<a name="l00105"></a>00105   }
<a name="l00106"></a>00106 
<a name="l00107"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a28970716b384a09d6ac94eed27a852c6">00107</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a28970716b384a09d6ac94eed27a852c6">GetFillStyle</a>(<a class="code" href="../../d5/d1e/classmozilla_1_1dom_1_1_string_or_canvas_gradient_or_canvas_pattern_return_value.html">StringOrCanvasGradientOrCanvasPatternReturnValue</a>&amp; <a class="code" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>)
<a name="l00108"></a>00108   {
<a name="l00109"></a>00109     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aa89cda7c2e09d4e647edfd7c2d235125">GetStyleAsUnion</a>(value, <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7eca8294e92bd618c748dbf5f720b0163f01">STYLE_FILL</a>);
<a name="l00110"></a>00110   }
<a name="l00111"></a>00111 
<a name="l00112"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ad6a2cedfbbbec425f34a9ef1025cc6ba">00112</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ad6a2cedfbbbec425f34a9ef1025cc6ba">SetFillStyle</a>(<span class="keyword">const</span> <a class="code" href="../../da/de4/classmozilla_1_1dom_1_1_string_or_canvas_gradient_or_canvas_pattern.html">StringOrCanvasGradientOrCanvasPattern</a>&amp; <a class="code" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>)
<a name="l00113"></a>00113   {
<a name="l00114"></a>00114     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a06cc932164fc41537f5adcc0b19a54cf">SetStyleFromUnion</a>(value, <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7eca8294e92bd618c748dbf5f720b0163f01">STYLE_FILL</a>);
<a name="l00115"></a>00115   }
<a name="l00116"></a>00116 
<a name="l00117"></a>00117   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;CanvasGradient&gt;</a>
<a name="l00118"></a>00118     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1ab559da3ff9589ba9fb35d7754c9411">CreateLinearGradient</a>(<span class="keywordtype">double</span> x0, <span class="keywordtype">double</span> y0, <span class="keywordtype">double</span> x1, <span class="keywordtype">double</span> y1);
<a name="l00119"></a>00119   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;CanvasGradient&gt;</a>
<a name="l00120"></a>00120     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ad4a89a1fcc9f0289f39a74f35261448a">CreateRadialGradient</a>(<span class="keywordtype">double</span> x0, <span class="keywordtype">double</span> y0, <span class="keywordtype">double</span> r0, <span class="keywordtype">double</span> x1, <span class="keywordtype">double</span> y1,
<a name="l00121"></a>00121                          <span class="keywordtype">double</span> r1, <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">ErrorResult</a>&amp; aError);
<a name="l00122"></a>00122   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;CanvasPattern&gt;</a>
<a name="l00123"></a>00123     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a85ed925033b7bb7ef38d10f017512663">CreatePattern</a>(<span class="keyword">const</span> HTMLImageOrCanvasOrVideoElement&amp; element,
<a name="l00124"></a>00124                   <span class="keyword">const</span> nsAString&amp; repeat, <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00125"></a>00125 
<a name="l00126"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a2f73fa316a8a6997cc6014fa04c18c06">00126</a>   <span class="keywordtype">double</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a2f73fa316a8a6997cc6014fa04c18c06">ShadowOffsetX</a>()
<a name="l00127"></a>00127   {
<a name="l00128"></a>00128     <span class="keywordflow">return</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>().<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a3f2be1e255a8ebfc7bc4e08f4b546279">shadowOffset</a>.<a class="code" href="../../d2/dfb/structmozilla_1_1gfx_1_1_base_point.html#a5576f8edcd7f6ad67dfc54e8d7bc47f3">x</a>;
<a name="l00129"></a>00129   }
<a name="l00130"></a>00130 
<a name="l00131"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a3ca0e6c7b0f1b64ee816b3c1830275d2">00131</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a3ca0e6c7b0f1b64ee816b3c1830275d2">SetShadowOffsetX</a>(<span class="keywordtype">double</span> shadowOffsetX)
<a name="l00132"></a>00132   {
<a name="l00133"></a>00133     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>().<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a3f2be1e255a8ebfc7bc4e08f4b546279">shadowOffset</a>.<a class="code" href="../../d2/dfb/structmozilla_1_1gfx_1_1_base_point.html#a5576f8edcd7f6ad67dfc54e8d7bc47f3">x</a> = <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(shadowOffsetX);
<a name="l00134"></a>00134   }
<a name="l00135"></a>00135 
<a name="l00136"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aa846e1f02a00c301fc6c7fd2f845b7cc">00136</a>   <span class="keywordtype">double</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aa846e1f02a00c301fc6c7fd2f845b7cc">ShadowOffsetY</a>()
<a name="l00137"></a>00137   {
<a name="l00138"></a>00138     <span class="keywordflow">return</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>().<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a3f2be1e255a8ebfc7bc4e08f4b546279">shadowOffset</a>.<a class="code" href="../../d2/dfb/structmozilla_1_1gfx_1_1_base_point.html#a6fd3bcff5bc3dc56019016d97262b5a2">y</a>;
<a name="l00139"></a>00139   }
<a name="l00140"></a>00140 
<a name="l00141"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a557d76f93f7c3f0dace9f3d27490a8e4">00141</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a557d76f93f7c3f0dace9f3d27490a8e4">SetShadowOffsetY</a>(<span class="keywordtype">double</span> shadowOffsetY)
<a name="l00142"></a>00142   {
<a name="l00143"></a>00143     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>().<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a3f2be1e255a8ebfc7bc4e08f4b546279">shadowOffset</a>.<a class="code" href="../../d2/dfb/structmozilla_1_1gfx_1_1_base_point.html#a6fd3bcff5bc3dc56019016d97262b5a2">y</a> = <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(shadowOffsetY);
<a name="l00144"></a>00144   }
<a name="l00145"></a>00145 
<a name="l00146"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a0de77ef25dff7661230e751eb7eac3cc">00146</a>   <span class="keywordtype">double</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a0de77ef25dff7661230e751eb7eac3cc">ShadowBlur</a>()
<a name="l00147"></a>00147   {
<a name="l00148"></a>00148     <span class="keywordflow">return</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>().<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a1f273e21d182e5a667dfbe592f424f6e">shadowBlur</a>;
<a name="l00149"></a>00149   }
<a name="l00150"></a>00150 
<a name="l00151"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aeed930b926ff29317712fc31fbc38c14">00151</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aeed930b926ff29317712fc31fbc38c14">SetShadowBlur</a>(<span class="keywordtype">double</span> shadowBlur)
<a name="l00152"></a>00152   {
<a name="l00153"></a>00153     <span class="keywordflow">if</span> (shadowBlur &gt;= 0.0) {
<a name="l00154"></a>00154       <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>().<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a1f273e21d182e5a667dfbe592f424f6e">shadowBlur</a> = <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(shadowBlur);
<a name="l00155"></a>00155     }
<a name="l00156"></a>00156   }
<a name="l00157"></a>00157 
<a name="l00158"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aac3fb6f8f88a4ed96ec1b54524ec7f8d">00158</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aac3fb6f8f88a4ed96ec1b54524ec7f8d">GetShadowColor</a>(nsAString&amp; shadowColor)
<a name="l00159"></a>00159   {
<a name="l00160"></a>00160     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a3a741bfc7589ac59b6422bb1d78e9e27">StyleColorToString</a>(<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>().shadowColor, shadowColor);
<a name="l00161"></a>00161   }
<a name="l00162"></a>00162 
<a name="l00163"></a>00163   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ac0c25363317bfb69fd8548721ca9a86b">SetShadowColor</a>(<span class="keyword">const</span> nsAString&amp; shadowColor);
<a name="l00164"></a>00164   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a277ffb4571cfa70c3170dccec9bea08c">ClearRect</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> w, <span class="keywordtype">double</span> h);
<a name="l00165"></a>00165   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a0e33febd99c9f81d2a1ce80c0e72fb8f">FillRect</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> w, <span class="keywordtype">double</span> h);
<a name="l00166"></a>00166   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ad76d14cdfab0a6b5e0db54c5ae457f27">StrokeRect</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> w, <span class="keywordtype">double</span> h);
<a name="l00167"></a>00167   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a570e0614f964067c143ce27b331d80ca">BeginPath</a>();
<a name="l00168"></a>00168   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a7b0126690c02121147696b129ea48ad6">Fill</a>(<span class="keyword">const</span> CanvasWindingRule&amp; winding);
<a name="l00169"></a>00169   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#af9d42992e3d88c791163be70c6973913">Stroke</a>();
<a name="l00170"></a>00170   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a72cdfec39cd7bccf04021719f57f4dec">Clip</a>(<span class="keyword">const</span> CanvasWindingRule&amp; winding);
<a name="l00171"></a>00171   <span class="keywordtype">bool</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a2cd85e9e73d8708930009f7e288a8e78">IsPointInPath</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keyword">const</span> CanvasWindingRule&amp; winding);
<a name="l00172"></a>00172   <span class="keywordtype">bool</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a9643b758637a98c11ee7938d7be533f5">IsPointInStroke</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y);
<a name="l00173"></a>00173   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aa9fbfafb9ee493da5a06bdf8c3bb5d6c">FillText</a>(<span class="keyword">const</span> nsAString&amp; <a class="code" href="../../dd/dfa/classtext.html">text</a>, <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y,
<a name="l00174"></a>00174                 <span class="keyword">const</span> <a class="code" href="../../d2/d77/classmozilla_1_1dom_1_1_optional.html">Optional&lt;double&gt;</a>&amp; maxWidth,
<a name="l00175"></a>00175                 <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00176"></a>00176   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a414552bab2becbf06bc5b5289f86f6d3">StrokeText</a>(<span class="keyword">const</span> nsAString&amp; <a class="code" href="../../dd/dfa/classtext.html">text</a>, <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y,
<a name="l00177"></a>00177                   <span class="keyword">const</span> <a class="code" href="../../d2/d77/classmozilla_1_1dom_1_1_optional.html">Optional&lt;double&gt;</a>&amp; maxWidth,
<a name="l00178"></a>00178                   <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00179"></a>00179   <a class="code" href="../../d0/dfb/namespacemozilla_1_1dom_1_1prototypes_1_1id.html#addcec93baff9084aadf2519231ea4a28a4e300ddb2d25f29b8ef82d914bd5ab60">TextMetrics</a>*
<a name="l00180"></a>00180     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#addef8a8e5f4f644282313d31d20ec291">MeasureText</a>(<span class="keyword">const</span> nsAString&amp; rawText, <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00181"></a>00181 
<a name="l00182"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ad5bf8b6d77f4f8d85bb654a9e747dd52">00182</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ad5bf8b6d77f4f8d85bb654a9e747dd52">DrawImage</a>(<span class="keyword">const</span> <a class="code" href="../../d0/dbc/classmozilla_1_1dom_1_1_h_t_m_l_image_element_or_h_t_m_l_canvas_element_or_h_t_m_l_video_element.html">HTMLImageOrCanvasOrVideoElement</a>&amp; image,
<a name="l00183"></a>00183                  <span class="keywordtype">double</span> dx, <span class="keywordtype">double</span> dy, <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>)
<a name="l00184"></a>00184   {
<a name="l00185"></a>00185     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ad5bf8b6d77f4f8d85bb654a9e747dd52">DrawImage</a>(image, 0.0, 0.0, 0.0, 0.0, dx, dy, 0.0, 0.0, 0, error);
<a name="l00186"></a>00186   }
<a name="l00187"></a>00187 
<a name="l00188"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aa2d25ac73288ba4c6cafa8dc915ac1d9">00188</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ad5bf8b6d77f4f8d85bb654a9e747dd52">DrawImage</a>(<span class="keyword">const</span> <a class="code" href="../../d0/dbc/classmozilla_1_1dom_1_1_h_t_m_l_image_element_or_h_t_m_l_canvas_element_or_h_t_m_l_video_element.html">HTMLImageOrCanvasOrVideoElement</a>&amp; image,
<a name="l00189"></a>00189                  <span class="keywordtype">double</span> dx, <span class="keywordtype">double</span> dy, <span class="keywordtype">double</span> dw, <span class="keywordtype">double</span> dh,
<a name="l00190"></a>00190                  <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>)
<a name="l00191"></a>00191   {
<a name="l00192"></a>00192     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ad5bf8b6d77f4f8d85bb654a9e747dd52">DrawImage</a>(image, 0.0, 0.0, 0.0, 0.0, dx, dy, dw, dh, 2, error);
<a name="l00193"></a>00193   }
<a name="l00194"></a>00194 
<a name="l00195"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8de97ac50c9174b667a56b80a22e69b4">00195</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ad5bf8b6d77f4f8d85bb654a9e747dd52">DrawImage</a>(<span class="keyword">const</span> <a class="code" href="../../d0/dbc/classmozilla_1_1dom_1_1_h_t_m_l_image_element_or_h_t_m_l_canvas_element_or_h_t_m_l_video_element.html">HTMLImageOrCanvasOrVideoElement</a>&amp; image,
<a name="l00196"></a>00196                  <span class="keywordtype">double</span> sx, <span class="keywordtype">double</span> sy, <span class="keywordtype">double</span> sw, <span class="keywordtype">double</span> sh, <span class="keywordtype">double</span> dx,
<a name="l00197"></a>00197                  <span class="keywordtype">double</span> dy, <span class="keywordtype">double</span> dw, <span class="keywordtype">double</span> dh, <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>)
<a name="l00198"></a>00198   {
<a name="l00199"></a>00199     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ad5bf8b6d77f4f8d85bb654a9e747dd52">DrawImage</a>(image, sx, sy, sw, sh, dx, dy, dw, dh, 6, error);
<a name="l00200"></a>00200   }
<a name="l00201"></a>00201 
<a name="l00202"></a>00202   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;ImageData&gt;</a>
<a name="l00203"></a>00203     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ac30b9398210624e43d0e0b6f88e64918">CreateImageData</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>* cx, <span class="keywordtype">double</span> sw, <span class="keywordtype">double</span> sh,
<a name="l00204"></a>00204                     <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00205"></a>00205   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;ImageData&gt;</a>
<a name="l00206"></a>00206     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ac30b9398210624e43d0e0b6f88e64918">CreateImageData</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>* cx, <a class="code" href="../../d0/dfb/namespacemozilla_1_1dom_1_1prototypes_1_1id.html#addcec93baff9084aadf2519231ea4a28ae3dc1cf927a2b8e42186e1abba847676">ImageData</a>&amp; imagedata,
<a name="l00207"></a>00207                     <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00208"></a>00208   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;ImageData&gt;</a>
<a name="l00209"></a>00209     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#af5dbf26dcfeba238c908ee6c5c87779a">GetImageData</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>* cx, <span class="keywordtype">double</span> sx, <span class="keywordtype">double</span> sy, <span class="keywordtype">double</span> sw, <span class="keywordtype">double</span> sh,
<a name="l00210"></a>00210                  <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00211"></a>00211   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1eaabe67886107d4caaa0cc83b87833f">PutImageData</a>(<a class="code" href="../../d0/dfb/namespacemozilla_1_1dom_1_1prototypes_1_1id.html#addcec93baff9084aadf2519231ea4a28ae3dc1cf927a2b8e42186e1abba847676">ImageData</a>&amp; <a class="code" href="../../d2/db9/newnotification_8js.html#a5025d399f24841aaae3667153528dfcb">imageData</a>,
<a name="l00212"></a>00212                     <span class="keywordtype">double</span> dx, <span class="keywordtype">double</span> dy, <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00213"></a>00213   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1eaabe67886107d4caaa0cc83b87833f">PutImageData</a>(<a class="code" href="../../d0/dfb/namespacemozilla_1_1dom_1_1prototypes_1_1id.html#addcec93baff9084aadf2519231ea4a28ae3dc1cf927a2b8e42186e1abba847676">ImageData</a>&amp; <a class="code" href="../../d2/db9/newnotification_8js.html#a5025d399f24841aaae3667153528dfcb">imageData</a>,
<a name="l00214"></a>00214                     <span class="keywordtype">double</span> dx, <span class="keywordtype">double</span> dy, <span class="keywordtype">double</span> dirtyX, <span class="keywordtype">double</span> dirtyY,
<a name="l00215"></a>00215                     <span class="keywordtype">double</span> dirtyWidth, <span class="keywordtype">double</span> dirtyHeight,
<a name="l00216"></a>00216                     <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00217"></a>00217 
<a name="l00218"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aee08ae20f73b446f03fcdccd72703fb9">00218</a>   <span class="keywordtype">double</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aee08ae20f73b446f03fcdccd72703fb9">LineWidth</a>()
<a name="l00219"></a>00219   {
<a name="l00220"></a>00220     <span class="keywordflow">return</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>().<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a5a0bb9c06134e4e0bd1f9a5ddf81cca0">lineWidth</a>;
<a name="l00221"></a>00221   }
<a name="l00222"></a>00222 
<a name="l00223"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab805d707d565d1ed6c13efade3415881">00223</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab805d707d565d1ed6c13efade3415881">SetLineWidth</a>(<span class="keywordtype">double</span> <a class="code" href="../../d4/d8c/viewphoto_8js.html#adb90f9ed3668a895cc5b90a19bcdee13">width</a>)
<a name="l00224"></a>00224   {
<a name="l00225"></a>00225     <span class="keywordflow">if</span> (width &gt; 0.0) {
<a name="l00226"></a>00226       <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>().<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a5a0bb9c06134e4e0bd1f9a5ddf81cca0">lineWidth</a> = <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(width);
<a name="l00227"></a>00227     }
<a name="l00228"></a>00228   }
<a name="l00229"></a>00229   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a37cab31489aa68682d68be8f8aed08f0">GetLineCap</a>(nsAString&amp; linecap);
<a name="l00230"></a>00230   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aca633104362aa2f590ea1aecb73e2392">SetLineCap</a>(<span class="keyword">const</span> nsAString&amp; linecap);
<a name="l00231"></a>00231   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aff85badad2188828fe67f1218587212c">GetLineJoin</a>(nsAString&amp; linejoin, <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00232"></a>00232   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#af30f5ef9c764b3906a5bb37cf2cbc1ce">SetLineJoin</a>(<span class="keyword">const</span> nsAString&amp; linejoin);
<a name="l00233"></a>00233 
<a name="l00234"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ac1c76a52938ab7762e3a5e9a0867b07e">00234</a>   <span class="keywordtype">double</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ac1c76a52938ab7762e3a5e9a0867b07e">MiterLimit</a>()
<a name="l00235"></a>00235   {
<a name="l00236"></a>00236     <span class="keywordflow">return</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>().<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a57f1e7ef07a0e2271595140d818c7bd7">miterLimit</a>;
<a name="l00237"></a>00237   }
<a name="l00238"></a>00238 
<a name="l00239"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a150756d6d1e5af44210f32d76fbdf4aa">00239</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a150756d6d1e5af44210f32d76fbdf4aa">SetMiterLimit</a>(<span class="keywordtype">double</span> miter)
<a name="l00240"></a>00240   {
<a name="l00241"></a>00241     <span class="keywordflow">if</span> (miter &gt; 0.0) {
<a name="l00242"></a>00242       <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>().<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a57f1e7ef07a0e2271595140d818c7bd7">miterLimit</a> = <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(miter);
<a name="l00243"></a>00243     }
<a name="l00244"></a>00244   }
<a name="l00245"></a>00245 
<a name="l00246"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab6b906e2a753ff1fc84e53bc790136f6">00246</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ac28f9958261dfc4542567fd173c50d25">GetFont</a>(nsAString&amp; <a class="code" href="../../d4/d8c/viewphoto_8js.html#ae15b4cb928861ff768db92508d6ce0d2">font</a>)
<a name="l00247"></a>00247   {
<a name="l00248"></a>00248     font = <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ac28f9958261dfc4542567fd173c50d25">GetFont</a>();
<a name="l00249"></a>00249   }
<a name="l00250"></a>00250 
<a name="l00251"></a>00251   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a09031d3e0250bc3fbabff8386d9cedae">SetFont</a>(<span class="keyword">const</span> nsAString&amp; <a class="code" href="../../d4/d8c/viewphoto_8js.html#ae15b4cb928861ff768db92508d6ce0d2">font</a>, <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00252"></a>00252   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ad12eb93472e0fe4a0f0527faae17068b">GetTextAlign</a>(nsAString&amp; textAlign);
<a name="l00253"></a>00253   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#af519da5416ece2b308e416a3c646b783">SetTextAlign</a>(<span class="keyword">const</span> nsAString&amp; textAlign);
<a name="l00254"></a>00254   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae328e68e77aec73ffdfb79a2c362f8f5">GetTextBaseline</a>(nsAString&amp; textBaseline);
<a name="l00255"></a>00255   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a6cfd7187f693c5193d376367adf9824f">SetTextBaseline</a>(<span class="keyword">const</span> nsAString&amp; textBaseline);
<a name="l00256"></a>00256 
<a name="l00257"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a3544f9b19d65ffc33ac9c08fa8415a58">00257</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a3544f9b19d65ffc33ac9c08fa8415a58">ClosePath</a>()
<a name="l00258"></a>00258   {
<a name="l00259"></a>00259     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1e4eb4a3080bd6546f96f9d3529f7910">EnsureWritablePath</a>();
<a name="l00260"></a>00260 
<a name="l00261"></a>00261     <span class="keywordflow">if</span> (<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1c13679383233ce32b80217a6a1ae123">mPathBuilder</a>) {
<a name="l00262"></a>00262       <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1c13679383233ce32b80217a6a1ae123">mPathBuilder</a>-&gt;<a class="code" href="../../d5/d0f/classmozilla_1_1gfx_1_1_path_sink.html#ab42842247dabe06ffa37791342fb04d0">Close</a>();
<a name="l00263"></a>00263     } <span class="keywordflow">else</span> {
<a name="l00264"></a>00264       <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab7fc0074f36ebfb1ba988a5979fa2022">mDSPathBuilder</a>-&gt;<a class="code" href="../../d5/d0f/classmozilla_1_1gfx_1_1_path_sink.html#ab42842247dabe06ffa37791342fb04d0">Close</a>();
<a name="l00265"></a>00265     }
<a name="l00266"></a>00266   }
<a name="l00267"></a>00267 
<a name="l00268"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a0e63e9e2b278097812542801e2059758">00268</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a0e63e9e2b278097812542801e2059758">MoveTo</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y)
<a name="l00269"></a>00269   {
<a name="l00270"></a>00270     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1e4eb4a3080bd6546f96f9d3529f7910">EnsureWritablePath</a>();
<a name="l00271"></a>00271 
<a name="l00272"></a>00272     <span class="keywordflow">if</span> (<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1c13679383233ce32b80217a6a1ae123">mPathBuilder</a>) {
<a name="l00273"></a>00273       <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1c13679383233ce32b80217a6a1ae123">mPathBuilder</a>-&gt;<a class="code" href="../../d5/d0f/classmozilla_1_1gfx_1_1_path_sink.html#ad34c2be79cfa048f8930636e9e154d57">MoveTo</a>(<a class="code" href="../../de/d80/structmozilla_1_1gfx_1_1_point_typed.html">mozilla::gfx::Point</a>(<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(x), <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(y)));
<a name="l00274"></a>00274     } <span class="keywordflow">else</span> {
<a name="l00275"></a>00275       <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab7fc0074f36ebfb1ba988a5979fa2022">mDSPathBuilder</a>-&gt;<a class="code" href="../../d5/d0f/classmozilla_1_1gfx_1_1_path_sink.html#ad34c2be79cfa048f8930636e9e154d57">MoveTo</a>(<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a52eaeb3bb77681cd2fdd07cd92013c6f">mTarget</a>-&gt;<a class="code" href="../../d2/d07/classmozilla_1_1gfx_1_1_draw_target.html#ab9dfb479185957eea5d1eb7d6e871d98">GetTransform</a>() *
<a name="l00276"></a>00276                              <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#ade8659a74cae0e614ec39d4f1218a2fb">mozilla::gfx::Point</a>(<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(x), <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(y)));
<a name="l00277"></a>00277     }
<a name="l00278"></a>00278   }
<a name="l00279"></a>00279 
<a name="l00280"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a9708e24dbb55b739be1faf05d4b91c46">00280</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a9708e24dbb55b739be1faf05d4b91c46">LineTo</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y)
<a name="l00281"></a>00281   {
<a name="l00282"></a>00282     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1e4eb4a3080bd6546f96f9d3529f7910">EnsureWritablePath</a>();
<a name="l00283"></a>00283 
<a name="l00284"></a>00284     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a9708e24dbb55b739be1faf05d4b91c46">LineTo</a>(<a class="code" href="../../de/d80/structmozilla_1_1gfx_1_1_point_typed.html">mozilla::gfx::Point</a>(<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(x), <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(y)));
<a name="l00285"></a>00285   }
<a name="l00286"></a>00286 
<a name="l00287"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ac7e1dd67e4ccbea5ad88ea86ae0d9c5e">00287</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ac7e1dd67e4ccbea5ad88ea86ae0d9c5e">QuadraticCurveTo</a>(<span class="keywordtype">double</span> cpx, <span class="keywordtype">double</span> cpy, <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y)
<a name="l00288"></a>00288   {
<a name="l00289"></a>00289     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1e4eb4a3080bd6546f96f9d3529f7910">EnsureWritablePath</a>();
<a name="l00290"></a>00290 
<a name="l00291"></a>00291     <span class="keywordflow">if</span> (<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1c13679383233ce32b80217a6a1ae123">mPathBuilder</a>) {
<a name="l00292"></a>00292       <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1c13679383233ce32b80217a6a1ae123">mPathBuilder</a>-&gt;<a class="code" href="../../d5/d0f/classmozilla_1_1gfx_1_1_path_sink.html#a6ddf6079ba473e8ae8ecbc339677df11">QuadraticBezierTo</a>(<a class="code" href="../../de/d80/structmozilla_1_1gfx_1_1_point_typed.html">mozilla::gfx::Point</a>(<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(cpx), <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(cpy)),
<a name="l00293"></a>00293                                       <a class="code" href="../../de/d80/structmozilla_1_1gfx_1_1_point_typed.html">mozilla::gfx::Point</a>(<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(x), <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(y)));
<a name="l00294"></a>00294     } <span class="keywordflow">else</span> {
<a name="l00295"></a>00295       <a class="code" href="../../d2/db0/classmozilla_1_1gfx_1_1_matrix.html">mozilla::gfx::Matrix</a> <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a16f1a2d59c558394e62fa83237fbd076">transform</a> = <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a52eaeb3bb77681cd2fdd07cd92013c6f">mTarget</a>-&gt;<a class="code" href="../../d2/d07/classmozilla_1_1gfx_1_1_draw_target.html#ab9dfb479185957eea5d1eb7d6e871d98">GetTransform</a>();
<a name="l00296"></a>00296       <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab7fc0074f36ebfb1ba988a5979fa2022">mDSPathBuilder</a>-&gt;<a class="code" href="../../d5/d0f/classmozilla_1_1gfx_1_1_path_sink.html#a6ddf6079ba473e8ae8ecbc339677df11">QuadraticBezierTo</a>(transform *
<a name="l00297"></a>00297                                         <a class="code" href="../../de/d80/structmozilla_1_1gfx_1_1_point_typed.html">mozilla::gfx::Point</a>(<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(cpx), <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(cpy)),
<a name="l00298"></a>00298                                         transform *
<a name="l00299"></a>00299                                         <a class="code" href="../../de/d80/structmozilla_1_1gfx_1_1_point_typed.html">mozilla::gfx::Point</a>(<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(x), <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(y)));
<a name="l00300"></a>00300     }
<a name="l00301"></a>00301   }
<a name="l00302"></a>00302 
<a name="l00303"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a007b65a9d693743ea7c3cb7769dadec3">00303</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a007b65a9d693743ea7c3cb7769dadec3">BezierCurveTo</a>(<span class="keywordtype">double</span> cp1x, <span class="keywordtype">double</span> cp1y, <span class="keywordtype">double</span> cp2x, <span class="keywordtype">double</span> cp2y, <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y)
<a name="l00304"></a>00304   {
<a name="l00305"></a>00305     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1e4eb4a3080bd6546f96f9d3529f7910">EnsureWritablePath</a>();
<a name="l00306"></a>00306 
<a name="l00307"></a>00307     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#af4b4d894358ea3aa11c9f3defb46251d">BezierTo</a>(<a class="code" href="../../de/d80/structmozilla_1_1gfx_1_1_point_typed.html">mozilla::gfx::Point</a>(<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(cp1x), <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(cp1y)),
<a name="l00308"></a>00308              <a class="code" href="../../de/d80/structmozilla_1_1gfx_1_1_point_typed.html">mozilla::gfx::Point</a>(<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(cp2x), <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(cp2y)),
<a name="l00309"></a>00309              <a class="code" href="../../de/d80/structmozilla_1_1gfx_1_1_point_typed.html">mozilla::gfx::Point</a>(<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(x), <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3942644da21f0515e9107f2e17e0f4b">ToFloat</a>(y)));
<a name="l00310"></a>00310   }
<a name="l00311"></a>00311 
<a name="l00312"></a>00312   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a218a65e09e3a42c9beb4636f76f936a6">ArcTo</a>(<span class="keywordtype">double</span> x1, <span class="keywordtype">double</span> y1, <span class="keywordtype">double</span> x2, <span class="keywordtype">double</span> y2, <span class="keywordtype">double</span> radius,
<a name="l00313"></a>00313              <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00314"></a>00314   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#abe5516d3550341970ae0ebe217c21ef3">Rect</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> w, <span class="keywordtype">double</span> h);
<a name="l00315"></a>00315   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a9b4bbed27ed947b61b43d749ef0e78b5">Arc</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> radius, <span class="keywordtype">double</span> startAngle,
<a name="l00316"></a>00316            <span class="keywordtype">double</span> endAngle, <span class="keywordtype">bool</span> anticlockwise, <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00317"></a>00317 
<a name="l00318"></a>00318   JSObject* <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a2577fd78568737d5c4752f941c76e109">GetMozCurrentTransform</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>* cx,
<a name="l00319"></a>00319                                    <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>) <span class="keyword">const</span>;
<a name="l00320"></a>00320   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a3ba4b350e2f585406e58e2effd1021ea">SetMozCurrentTransform</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>* cx,
<a name="l00321"></a>00321                               <a class="code" href="../../df/dfb/class_j_s_1_1_handle.html">JS::Handle&lt;JSObject*&gt;</a> currentTransform,
<a name="l00322"></a>00322                               <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00323"></a>00323   JSObject* <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a7c74d9b96bdf2972e478507414ea3b02">GetMozCurrentTransformInverse</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>* cx,
<a name="l00324"></a>00324                                           <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>) <span class="keyword">const</span>;
<a name="l00325"></a>00325   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a2d6926a28aad04869233b087fcb59e55">SetMozCurrentTransformInverse</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>* cx,
<a name="l00326"></a>00326                                      <a class="code" href="../../df/dfb/class_j_s_1_1_handle.html">JS::Handle&lt;JSObject*&gt;</a> currentTransform,
<a name="l00327"></a>00327                                      <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00328"></a>00328   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aa821a7a4604fb5143fef880beb61d397">GetFillRule</a>(nsAString&amp; fillRule);
<a name="l00329"></a>00329   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a832812439028aea11f26fc868d12bcbd">SetFillRule</a>(<span class="keyword">const</span> nsAString&amp; fillRule);
<a name="l00330"></a>00330   <a class="code" href="../../d1/d94/class_j_s_1_1_value.html">JS::Value</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a5645c6432347c9d355baae20ad958317">GetMozDash</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>* cx, <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00331"></a>00331   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aa42106e4295ea3ae20e7ba1d87b81b85">SetMozDash</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>* cx, <span class="keyword">const</span> <a class="code" href="../../d1/d94/class_j_s_1_1_value.html">JS::Value</a>&amp; mozDash,
<a name="l00332"></a>00332                   <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00333"></a>00333 
<a name="l00334"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a5d2ac31344a81b658e99030b79182310">00334</a>   <span class="keywordtype">double</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a5d2ac31344a81b658e99030b79182310">MozDashOffset</a>()
<a name="l00335"></a>00335   {
<a name="l00336"></a>00336     <span class="keywordflow">return</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>().<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a1ed9e191242fea3805a7b8b7036c0a8a">dashOffset</a>;
<a name="l00337"></a>00337   }
<a name="l00338"></a>00338   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aff3c9e1ed3922912552d65e381a05a7a">SetMozDashOffset</a>(<span class="keywordtype">double</span> mozDashOffset);
<a name="l00339"></a>00339 
<a name="l00340"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#afe00a5f3540ff1e601b47b10763c0282">00340</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#afe00a5f3540ff1e601b47b10763c0282">GetMozTextStyle</a>(nsAString&amp; mozTextStyle)
<a name="l00341"></a>00341   {
<a name="l00342"></a>00342     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ac28f9958261dfc4542567fd173c50d25">GetFont</a>(mozTextStyle);
<a name="l00343"></a>00343   }
<a name="l00344"></a>00344 
<a name="l00345"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a4aade123fea62a9ff2c512a1ee6b7a74">00345</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a4aade123fea62a9ff2c512a1ee6b7a74">SetMozTextStyle</a>(<span class="keyword">const</span> nsAString&amp; mozTextStyle,
<a name="l00346"></a>00346                        <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>)
<a name="l00347"></a>00347   {
<a name="l00348"></a>00348     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a09031d3e0250bc3fbabff8386d9cedae">SetFont</a>(mozTextStyle, error);
<a name="l00349"></a>00349   }
<a name="l00350"></a>00350 
<a name="l00351"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab699f5702d8224c815190532a9d9247e">00351</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab699f5702d8224c815190532a9d9247e">ImageSmoothingEnabled</a>()
<a name="l00352"></a>00352   {
<a name="l00353"></a>00353     <span class="keywordflow">return</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>().<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a13aa163c59c368f9e07f4bd1a7147df6">imageSmoothingEnabled</a>;
<a name="l00354"></a>00354   }
<a name="l00355"></a>00355 
<a name="l00356"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a92f73dcd862f55bfdaf508d46bf190e6">00356</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a92f73dcd862f55bfdaf508d46bf190e6">SetImageSmoothingEnabled</a>(<span class="keywordtype">bool</span> imageSmoothingEnabled)
<a name="l00357"></a>00357   {
<a name="l00358"></a>00358     <span class="keywordflow">if</span> (imageSmoothingEnabled != <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>().imageSmoothingEnabled) {
<a name="l00359"></a>00359       <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>().<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a13aa163c59c368f9e07f4bd1a7147df6">imageSmoothingEnabled</a> = imageSmoothingEnabled;
<a name="l00360"></a>00360     }
<a name="l00361"></a>00361   }
<a name="l00362"></a>00362 
<a name="l00363"></a>00363   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab9cd4093c22d90ee74346a2677666119">DrawWindow</a>(<a class="code" href="../../de/dd4/interfacens_i_d_o_m_window.html">nsIDOMWindow</a>* <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>, <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> w, <span class="keywordtype">double</span> h,
<a name="l00364"></a>00364                   <span class="keyword">const</span> nsAString&amp; bgColor, uint32_t <a class="code" href="../../da/d32/prio_8h.html#aa2585d779da0ab21273a8d92de9a0ebe">flags</a>,
<a name="l00365"></a>00365                   <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00366"></a>00366   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#acff1fec55faab41c52c96820c345753e">AsyncDrawXULElement</a>(nsXULElement&amp; elem, <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> w,
<a name="l00367"></a>00367                            <span class="keywordtype">double</span> h, <span class="keyword">const</span> nsAString&amp; bgColor, uint32_t <a class="code" href="../../da/d32/prio_8h.html#aa2585d779da0ab21273a8d92de9a0ebe">flags</a>,
<a name="l00368"></a>00368                            <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00369"></a>00369 
<a name="l00370"></a>00370   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a35c0ee65635bc081264faddcdce7c4f7">Redraw</a>();
<a name="l00371"></a>00371 
<a name="l00372"></a>00372   <span class="comment">// nsICanvasRenderingContextInternal</span>
<a name="l00373"></a>00373   <a class="code" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a6504c9569dda67b21de45c731747e374">SetDimensions</a>(int32_t <a class="code" href="../../d4/d8c/viewphoto_8js.html#adb90f9ed3668a895cc5b90a19bcdee13">width</a>, int32_t <a class="code" href="../../d4/d8c/viewphoto_8js.html#a06f7a63ceb91351a4c31800c9a7af42f">height</a>) MOZ_OVERRIDE;
<a name="l00374"></a>00374   <a class="code" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a393162e5097cb9d8257b30b5e2e4a162">InitializeWithSurface</a>(<a class="code" href="../../db/da5/interfacens_i_doc_shell.html">nsIDocShell</a> *shell, <a class="code" href="../../d4/d14/classgfx_a_surface.html">gfxASurface</a> *surface, int32_t <a class="code" href="../../d4/d8c/viewphoto_8js.html#adb90f9ed3668a895cc5b90a19bcdee13">width</a>, int32_t <a class="code" href="../../d4/d8c/viewphoto_8js.html#a06f7a63ceb91351a4c31800c9a7af42f">height</a>) MOZ_OVERRIDE;
<a name="l00375"></a>00375 
<a name="l00376"></a>00376   <a class="code" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a25ec1be6df915922023cd5b95903bc57">Render</a>(<a class="code" href="../../d5/dc9/classgfx_context.html">gfxContext</a> *ctx,
<a name="l00377"></a>00377                     <a class="code" href="../../d6/d5c/classgfx_pattern.html#abc4006a4150dca486a10ed95a03c05fb">gfxPattern::GraphicsFilter</a> aFilter,
<a name="l00378"></a>00378                     uint32_t aFlags = <a class="code" href="../../d8/d7b/classns_i_canvas_rendering_context_internal.html#a81a36a068ed8a06ced17be47c9aa6970a04df7d0d609e7a0b3dbcc95843049a27">RenderFlagPremultAlpha</a>) MOZ_OVERRIDE;
<a name="l00379"></a>00379   <a class="code" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a03deaf44992a26b4e5765f80babfa4b7">GetInputStream</a>(<a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <span class="keywordtype">char</span>* aMimeType,
<a name="l00380"></a>00380                             <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> PRUnichar* aEncoderOptions,
<a name="l00381"></a>00381                             <a class="code" href="../../da/d78/interfacens_i_input_stream.html">nsIInputStream</a> **aStream) MOZ_OVERRIDE;
<a name="l00382"></a>00382   <a class="code" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a98503d3cb724a0c7369b37f6d18cd7b5">GetThebesSurface</a>(<a class="code" href="../../d4/d14/classgfx_a_surface.html">gfxASurface</a> **surface) MOZ_OVERRIDE;
<a name="l00383"></a>00383 
<a name="l00384"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#af1ddcaa71e6df8229f5eb53e709806b9">00384</a>   mozilla::<a class="code" href="../../dd/d63/classmozilla_1_1_temporary_ref.html">TemporaryRef</a>&lt;mozilla::gfx::SourceSurface&gt; <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#af1ddcaa71e6df8229f5eb53e709806b9">GetSurfaceSnapshot</a>() MOZ_OVERRIDE
<a name="l00385"></a>00385   { <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1fafb5ed67e5361d7f6771abd166a843">EnsureTarget</a>(); <span class="keywordflow">return</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a52eaeb3bb77681cd2fdd07cd92013c6f">mTarget</a>-&gt;<a class="code" href="../../d2/d07/classmozilla_1_1gfx_1_1_draw_target.html#a935fabc3bf0d1dd20665a2f417adf924">Snapshot</a>(); }
<a name="l00386"></a>00386 
<a name="l00387"></a>00387   <a class="code" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#afd207169b3097832ed7211e0c3af9b97">SetIsOpaque</a>(<span class="keywordtype">bool</span> isOpaque) MOZ_OVERRIDE;
<a name="l00388"></a>00388   <a class="code" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a193bb925b2184543fba3562ffeb1fdde">Reset</a>() MOZ_OVERRIDE;
<a name="l00389"></a>00389   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed</a>&lt;<a class="code" href="../../d8/d7b/classns_i_canvas_rendering_context_internal.html#aa5ba091a42d8a8afdec00fd0db01f71b">CanvasLayer</a>&gt; <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a7a4ed443c2dbc7bab28193d9791a720c">GetCanvasLayer</a>(<a class="code" href="../../df/da5/classns_display_list_builder.html">nsDisplayListBuilder</a>* aBuilder,
<a name="l00390"></a>00390                                                <a class="code" href="../../d8/d7b/classns_i_canvas_rendering_context_internal.html#aa5ba091a42d8a8afdec00fd0db01f71b">CanvasLayer</a> *aOldLayer,
<a name="l00391"></a>00391                                                <a class="code" href="../../d8/d7b/classns_i_canvas_rendering_context_internal.html#a5734d8321c7452e290ebebbab25806e6">LayerManager</a> *aManager) MOZ_OVERRIDE;
<a name="l00392"></a>00392   virtual <span class="keywordtype">bool</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a99513e81eb9d6a6ebd90199ddfaec66d">ShouldForceInactiveLayer</a>(<a class="code" href="../../d8/d7b/classns_i_canvas_rendering_context_internal.html#a5734d8321c7452e290ebebbab25806e6">LayerManager</a> *aManager) MOZ_OVERRIDE;
<a name="l00393"></a>00393   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a2df70be5ac69e09dfc5d4ddafb38db4d">MarkContextClean</a>() MOZ_OVERRIDE;
<a name="l00394"></a>00394   <a class="code" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aa67d9c5f14fc9fed9689e93e4a9bd091">SetIsIPC</a>(<span class="keywordtype">bool</span> isIPC) MOZ_OVERRIDE;
<a name="l00395"></a>00395   <span class="comment">// this rect is in canvas device space</span>
<a name="l00396"></a>00396   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a35c0ee65635bc081264faddcdce7c4f7">Redraw</a>(<a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> mozilla::gfx::<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#abe5516d3550341970ae0ebe217c21ef3">Rect</a> &amp;r);
<a name="l00397"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#af8692cc1c38332eaa2f9342ce8c6925b">00397</a>   <a class="code" href="../../d3/dd8/nscore_8h.html#abbc6d740d4f54ed1c90bbed28dcef65a">NS_IMETHOD</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a35c0ee65635bc081264faddcdce7c4f7">Redraw</a>(<a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="code" href="../../de/d69/structgfx_rect.html">gfxRect</a> &amp;r) MOZ_OVERRIDE { <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#af8692cc1c38332eaa2f9342ce8c6925b">Redraw</a>(<a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a0b70301d64963eae5caafa0ffe210eca">ToRect</a>(r)); <span class="keywordflow">return</span> <a class="code" href="../../d7/dda/_error_list_c_defines_8h.html#a03a7f9e8069d114c0495679caefca965">NS_OK</a>; }
<a name="l00398"></a>00398 
<a name="l00399"></a>00399   <span class="comment">// this rect is in mTarget&#39;s current user space</span>
<a name="l00400"></a>00400   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#afebdb0a260b9febb02748c8efe9f1c31">RedrawUser</a>(<span class="keyword">const</span> <a class="code" href="../../de/d69/structgfx_rect.html">gfxRect</a> &amp;r);
<a name="l00401"></a>00401 
<a name="l00402"></a>00402   <span class="comment">// nsISupports interface + CC</span>
<a name="l00403"></a>00403   <a class="code" href="../../d0/d5a/ns_i_supports_impl_8h.html#ab396d595c983350cd489cccf23b555c5">NS_DECL_CYCLE_COLLECTING_ISUPPORTS</a>
<a name="l00404"></a>00404 
<a name="l00405"></a>00405   <a class="code" href="../../d2/d4f/ns_cycle_collection_participant_8h.html#a3fea808d418d3d3548740b9b57328324">NS_DECL_CYCLE_COLLECTION_SKIPPABLE_SCRIPT_HOLDER_CLASS</a>(<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html">CanvasRenderingContext2D</a>)
<a name="l00406"></a>00406 
<a name="l00407"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a622d2f26276b75c96c9461dec3a85454">00407</a>   <a class="code" href="../../db/dc1/namespacexpt.html#a17cff18a1a6441f4466f5bd1eb6c9515">enum</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a622d2f26276b75c96c9461dec3a85454">CanvasMultiGetterType</a> {
<a name="l00408"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a622d2f26276b75c96c9461dec3a85454ad4189f6774cacc25df8f4954adad2b21">00408</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a622d2f26276b75c96c9461dec3a85454ad4189f6774cacc25df8f4954adad2b21">CMG_STYLE_STRING</a> = 0,
<a name="l00409"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a622d2f26276b75c96c9461dec3a85454ad6881a0f744e8639c983d2a4d40b6ed3">00409</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a622d2f26276b75c96c9461dec3a85454ad6881a0f744e8639c983d2a4d40b6ed3">CMG_STYLE_PATTERN</a> = 1,
<a name="l00410"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a622d2f26276b75c96c9461dec3a85454af6feba959bac5dec6f5c09b8bd8dac19">00410</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a622d2f26276b75c96c9461dec3a85454af6feba959bac5dec6f5c09b8bd8dac19">CMG_STYLE_GRADIENT</a> = 2
<a name="l00411"></a>00411   };
<a name="l00412"></a>00412 
<a name="l00413"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7ec">00413</a>   <span class="keyword">enum</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7ec">Style</a> {
<a name="l00414"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7eca922ffe9ea487dde8adce31e423825654">00414</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7eca922ffe9ea487dde8adce31e423825654">STYLE_STROKE</a> = 0,
<a name="l00415"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7eca8294e92bd618c748dbf5f720b0163f01">00415</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7eca8294e92bd618c748dbf5f720b0163f01">STYLE_FILL</a>,
<a name="l00416"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7ecacf31b5e40faa389319e0ef44c5e1d816">00416</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7ecacf31b5e40faa389319e0ef44c5e1d816">STYLE_MAX</a>
<a name="l00417"></a>00417   };
<a name="l00418"></a>00418 
<a name="l00419"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a33a0e20b83ab354023efd4255456bb8a">00419</a>   <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a33a0e20b83ab354023efd4255456bb8a">GetParentObject</a>()
<a name="l00420"></a>00420   {
<a name="l00421"></a>00421     <span class="keywordflow">return</span> <a class="code" href="../../d8/d7b/classns_i_canvas_rendering_context_internal.html#ae41827573c364cb0dd34223318186753">mCanvasElement</a>;
<a name="l00422"></a>00422   }
<a name="l00423"></a>00423 
<a name="l00424"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab1c349c193f9d7c9b62ee50305ab37e1">00424</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a9708e24dbb55b739be1faf05d4b91c46">LineTo</a>(<span class="keyword">const</span> <a class="code" href="../../de/d80/structmozilla_1_1gfx_1_1_point_typed.html">mozilla::gfx::Point</a>&amp; aPoint)
<a name="l00425"></a>00425   {
<a name="l00426"></a>00426     <span class="keywordflow">if</span> (<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1c13679383233ce32b80217a6a1ae123">mPathBuilder</a>) {
<a name="l00427"></a>00427       <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1c13679383233ce32b80217a6a1ae123">mPathBuilder</a>-&gt;<a class="code" href="../../d5/d0f/classmozilla_1_1gfx_1_1_path_sink.html#a53db433a3e79391f393835e04ec4c1ff">LineTo</a>(aPoint);
<a name="l00428"></a>00428     } <span class="keywordflow">else</span> {
<a name="l00429"></a>00429       <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab7fc0074f36ebfb1ba988a5979fa2022">mDSPathBuilder</a>-&gt;<a class="code" href="../../d5/d0f/classmozilla_1_1gfx_1_1_path_sink.html#a53db433a3e79391f393835e04ec4c1ff">LineTo</a>(<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a52eaeb3bb77681cd2fdd07cd92013c6f">mTarget</a>-&gt;<a class="code" href="../../d2/d07/classmozilla_1_1gfx_1_1_draw_target.html#ab9dfb479185957eea5d1eb7d6e871d98">GetTransform</a>() * aPoint);
<a name="l00430"></a>00430     }
<a name="l00431"></a>00431   }
<a name="l00432"></a>00432 
<a name="l00433"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#af4b4d894358ea3aa11c9f3defb46251d">00433</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#af4b4d894358ea3aa11c9f3defb46251d">BezierTo</a>(<span class="keyword">const</span> <a class="code" href="../../de/d80/structmozilla_1_1gfx_1_1_point_typed.html">mozilla::gfx::Point</a>&amp; aCP1,
<a name="l00434"></a>00434                 <span class="keyword">const</span> <a class="code" href="../../de/d80/structmozilla_1_1gfx_1_1_point_typed.html">mozilla::gfx::Point</a>&amp; aCP2,
<a name="l00435"></a>00435                 <span class="keyword">const</span> <a class="code" href="../../de/d80/structmozilla_1_1gfx_1_1_point_typed.html">mozilla::gfx::Point</a>&amp; aCP3)
<a name="l00436"></a>00436   {
<a name="l00437"></a>00437     <span class="keywordflow">if</span> (<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1c13679383233ce32b80217a6a1ae123">mPathBuilder</a>) {
<a name="l00438"></a>00438       <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1c13679383233ce32b80217a6a1ae123">mPathBuilder</a>-&gt;<a class="code" href="../../d5/d0f/classmozilla_1_1gfx_1_1_path_sink.html#adb49055b438431f96a1608cbb29abd2f">BezierTo</a>(aCP1, aCP2, aCP3);
<a name="l00439"></a>00439     } <span class="keywordflow">else</span> {
<a name="l00440"></a>00440       <a class="code" href="../../d2/db0/classmozilla_1_1gfx_1_1_matrix.html">mozilla::gfx::Matrix</a> <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a16f1a2d59c558394e62fa83237fbd076">transform</a> = <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a52eaeb3bb77681cd2fdd07cd92013c6f">mTarget</a>-&gt;<a class="code" href="../../d2/d07/classmozilla_1_1gfx_1_1_draw_target.html#ab9dfb479185957eea5d1eb7d6e871d98">GetTransform</a>();
<a name="l00441"></a>00441       <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab7fc0074f36ebfb1ba988a5979fa2022">mDSPathBuilder</a>-&gt;<a class="code" href="../../d5/d0f/classmozilla_1_1gfx_1_1_path_sink.html#adb49055b438431f96a1608cbb29abd2f">BezierTo</a>(transform * aCP1,
<a name="l00442"></a>00442                                 transform * aCP2,
<a name="l00443"></a>00443                                 transform * aCP3);
<a name="l00444"></a>00444     }
<a name="l00445"></a>00445   }
<a name="l00446"></a>00446 
<a name="l00447"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a33c3a7ce8afdd68757ccdd2fd27d5270">00447</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a33c3a7ce8afdd68757ccdd2fd27d5270">CanvasRenderingContext2DUserData</a>;
<a name="l00448"></a>00448 
<a name="l00449"></a>00449 <span class="keyword">protected</span>:
<a name="l00450"></a>00450   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1666ee0e841ed910454c01c65a83fbd4">GetImageDataArray</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>* aCx, int32_t aX, int32_t aY,
<a name="l00451"></a>00451                              uint32_t aWidth, uint32_t aHeight,
<a name="l00452"></a>00452                              JSObject** aRetval);
<a name="l00453"></a>00453 
<a name="l00454"></a>00454   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#abf08e9bc28a58d7832fb53a7a4c34b32">PutImageData_explicit</a>(int32_t x, int32_t y, uint32_t w, uint32_t h,
<a name="l00455"></a>00455                                  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="../../d6/d1d/ns_x_p_c_o_m_strings_8h.html#a580e3d1c78551e30e0c97ab45dc8a3b5">aData</a>, uint32_t aDataLen,
<a name="l00456"></a>00456                                  <span class="keywordtype">bool</span> hasDirtyRect, int32_t dirtyX, int32_t dirtyY,
<a name="l00457"></a>00457                                  int32_t dirtyWidth, int32_t dirtyHeight);
<a name="l00458"></a>00458 
<a name="l00462"></a>00462   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#afb8db5b8a818e7202dd2ae8d04ad5ba4">Initialize</a>(int32_t <a class="code" href="../../d4/d8c/viewphoto_8js.html#adb90f9ed3668a895cc5b90a19bcdee13">width</a>, int32_t <a class="code" href="../../d4/d8c/viewphoto_8js.html#a06f7a63ceb91351a4c31800c9a7af42f">height</a>);
<a name="l00463"></a>00463 
<a name="l00464"></a>00464   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aa02925e4b5e7ed1eef137345fe8c3dcd">InitializeWithTarget</a>(<a class="code" href="../../d2/d07/classmozilla_1_1gfx_1_1_draw_target.html">mozilla::gfx::DrawTarget</a> *surface,
<a name="l00465"></a>00465                                 int32_t <a class="code" href="../../d4/d8c/viewphoto_8js.html#adb90f9ed3668a895cc5b90a19bcdee13">width</a>, int32_t <a class="code" href="../../d4/d8c/viewphoto_8js.html#a06f7a63ceb91351a4c31800c9a7af42f">height</a>);
<a name="l00466"></a>00466 
<a name="l00471"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#acbfc7e457d54459e2cb8ce7deb766a9f">00471</a>   <span class="keyword">static</span> uint32_t <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#acbfc7e457d54459e2cb8ce7deb766a9f">sNumLivingContexts</a>;
<a name="l00472"></a>00472 
<a name="l00476"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8ed7f28ebf24181f3145fa74ec21ab76">00476</a>   <span class="keyword">static</span> uint8_t (*<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8ed7f28ebf24181f3145fa74ec21ab76">sUnpremultiplyTable</a>)[256];
<a name="l00477"></a>00477 
<a name="l00481"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a808abadba2a0eae428d9ccdec77da1d9">00481</a>   <span class="keyword">static</span> uint8_t (*<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a808abadba2a0eae428d9ccdec77da1d9">sPremultiplyTable</a>)[256];
<a name="l00482"></a>00482 
<a name="l00483"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#afd67aa8f620ac13f4560ca94e5fbf3ed">00483</a>   <span class="keyword">static</span> <a class="code" href="../../d2/d07/classmozilla_1_1gfx_1_1_draw_target.html">mozilla::gfx::DrawTarget</a>* <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#afd67aa8f620ac13f4560ca94e5fbf3ed">sErrorTarget</a>;
<a name="l00484"></a>00484 
<a name="l00485"></a>00485   <span class="comment">// Some helpers.  Doesn&#39;t modify a color on failure.</span>
<a name="l00486"></a>00486   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a06cc932164fc41537f5adcc0b19a54cf">SetStyleFromUnion</a>(<span class="keyword">const</span> <a class="code" href="../../da/de4/classmozilla_1_1dom_1_1_string_or_canvas_gradient_or_canvas_pattern.html">StringOrCanvasGradientOrCanvasPattern</a>&amp; <a class="code" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>,
<a name="l00487"></a>00487                          <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7ec">Style</a> whichStyle);
<a name="l00488"></a>00488   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a273d6bea606de0dd0975fd9e4741456c">SetStyleFromString</a>(<span class="keyword">const</span> nsAString&amp; <a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>, <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7ec">Style</a> whichStyle);
<a name="l00489"></a>00489 
<a name="l00490"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a4cd8dfb362a642b465070c5e8e20e94b">00490</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a4cd8dfb362a642b465070c5e8e20e94b">SetStyleFromGradient</a>(<a class="code" href="../../de/d7b/classmozilla_1_1dom_1_1_canvas_gradient.html">CanvasGradient</a>&amp; gradient, <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7ec">Style</a> whichStyle)
<a name="l00491"></a>00491   {
<a name="l00492"></a>00492     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>().<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#af2715ef03acf89da8e279a2816976832">SetGradientStyle</a>(whichStyle, &amp;gradient);
<a name="l00493"></a>00493   }
<a name="l00494"></a>00494 
<a name="l00495"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ad4fab91982aed6a5400809de553aeae0">00495</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ad4fab91982aed6a5400809de553aeae0">SetStyleFromPattern</a>(<a class="code" href="../../d0/dfb/namespacemozilla_1_1dom_1_1prototypes_1_1id.html#addcec93baff9084aadf2519231ea4a28a499a14e3b7d9faf48d29d6e97fc33d11">CanvasPattern</a>&amp; <a class="code" href="../../dd/dc2/plarenas_8h.html#a621f01fe882bc5e2bc28ab9358543f18">pattern</a>, <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7ec">Style</a> whichStyle)
<a name="l00496"></a>00496   {
<a name="l00497"></a>00497     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>().<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a9c61559f1d116dd927b1ee3cc6a1258d">SetPatternStyle</a>(whichStyle, &amp;pattern);
<a name="l00498"></a>00498   }
<a name="l00499"></a>00499 
<a name="l00500"></a>00500   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aa89cda7c2e09d4e647edfd7c2d235125">GetStyleAsUnion</a>(<a class="code" href="../../d5/d1e/classmozilla_1_1dom_1_1_string_or_canvas_gradient_or_canvas_pattern_return_value.html">StringOrCanvasGradientOrCanvasPatternReturnValue</a>&amp; aValue,
<a name="l00501"></a>00501                        <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7ec">Style</a> aWhichStyle);
<a name="l00502"></a>00502 
<a name="l00503"></a>00503   <span class="comment">// Returns whether a color was successfully parsed.</span>
<a name="l00504"></a>00504   <span class="keywordtype">bool</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#af7bf92bb69f474160f70b55447e16440">ParseColor</a>(<span class="keyword">const</span> nsAString&amp; aString, <a class="code" href="../../d9/d6a/ns_color_8h.html#abee756dec22b05b8b36337fea5612041">nscolor</a>* aColor);
<a name="l00505"></a>00505 
<a name="l00506"></a>00506   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a3a741bfc7589ac59b6422bb1d78e9e27">StyleColorToString</a>(<span class="keyword">const</span> <a class="code" href="../../d9/d6a/ns_color_8h.html#abee756dec22b05b8b36337fea5612041">nscolor</a>&amp; aColor, nsAString&amp; aStr);
<a name="l00507"></a>00507 
<a name="l00511"></a>00511   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a127d1491120fd12f9203e98e14fa7e16">EnsureErrorTarget</a>();
<a name="l00512"></a>00512 
<a name="l00513"></a>00513   <span class="comment">/* This function ensures there is a writable pathbuilder available, this</span>
<a name="l00514"></a>00514 <span class="comment">   * pathbuilder may be working in user space or in device space or</span>
<a name="l00515"></a>00515 <span class="comment">   * device space.</span>
<a name="l00516"></a>00516 <span class="comment">   * After calling this function mPathTransformWillUpdate will be false</span>
<a name="l00517"></a>00517 <span class="comment">   */</span>
<a name="l00518"></a>00518   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1e4eb4a3080bd6546f96f9d3529f7910">EnsureWritablePath</a>();
<a name="l00519"></a>00519 
<a name="l00520"></a>00520   <span class="comment">// Ensures a path in UserSpace is available.</span>
<a name="l00521"></a>00521   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a30d7378146a24a40273139c502a21286">EnsureUserSpacePath</a>(<span class="keyword">const</span> CanvasWindingRule&amp; winding = <a class="code" href="../../d7/d4b/namespacemozilla_1_1dom.html#a7ffa0770979fd064e5839bd81aa4f6d8">CanvasWindingRule::Nonzero</a>);
<a name="l00522"></a>00522 
<a name="l00527"></a>00527   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a987a80c0fa7c20cac49b8ae958ab6b73">TransformWillUpdate</a>();
<a name="l00528"></a>00528 
<a name="l00529"></a>00529   <span class="comment">// Report the fillRule has changed.</span>
<a name="l00530"></a>00530   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ac954f3fb014f4421012fa52cf6fd5a45">FillRuleChanged</a>();
<a name="l00531"></a>00531 
<a name="l00538"></a>00538   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1fafb5ed67e5361d7f6771abd166a843">EnsureTarget</a>();
<a name="l00539"></a>00539 
<a name="l00540"></a>00540   <span class="comment">/*</span>
<a name="l00541"></a>00541 <span class="comment">   * Disposes an old target and prepares to lazily create a new target.</span>
<a name="l00542"></a>00542 <span class="comment">   */</span>
<a name="l00543"></a>00543   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a6c9e122349769e5cae4f3a6dda82f0a4">ClearTarget</a>();
<a name="l00544"></a>00544 
<a name="l00548"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a22e54409eda663f46a300a9c487ca822">00548</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a22e54409eda663f46a300a9c487ca822">IsTargetValid</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a52eaeb3bb77681cd2fdd07cd92013c6f">mTarget</a> != <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#afd67aa8f620ac13f4560ca94e5fbf3ed">sErrorTarget</a> &amp;&amp; <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a52eaeb3bb77681cd2fdd07cd92013c6f">mTarget</a> != <span class="keyword">nullptr</span>; }
<a name="l00549"></a>00549 
<a name="l00554"></a>00554   <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a8ad07eb68c5f5eab704c5a0934a5331f">mozilla::gfx::SurfaceFormat</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a36bd09a5f24d71745c4ed6a7954fff84">GetSurfaceFormat</a>() <span class="keyword">const</span>;
<a name="l00555"></a>00555 
<a name="l00556"></a>00556   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ad5bf8b6d77f4f8d85bb654a9e747dd52">DrawImage</a>(<span class="keyword">const</span> HTMLImageOrCanvasOrVideoElement &amp;imgElt,
<a name="l00557"></a>00557                  <span class="keywordtype">double</span> sx, <span class="keywordtype">double</span> sy, <span class="keywordtype">double</span> sw, <span class="keywordtype">double</span> sh,
<a name="l00558"></a>00558                  <span class="keywordtype">double</span> dx, <span class="keywordtype">double</span> dy, <span class="keywordtype">double</span> dw, <span class="keywordtype">double</span> dh, 
<a name="l00559"></a>00559                  uint8_t optional_argc, <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
<a name="l00560"></a>00560 
<a name="l00561"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ac28f9958261dfc4542567fd173c50d25">00561</a>   nsString&amp; <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ac28f9958261dfc4542567fd173c50d25">GetFont</a>()
<a name="l00562"></a>00562   {
<a name="l00563"></a>00563     <span class="comment">/* will initilize the value if not set, else does nothing */</span>
<a name="l00564"></a>00564     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a145956ce59367d248ded3595dadc7a71">GetCurrentFontStyle</a>();
<a name="l00565"></a>00565 
<a name="l00566"></a>00566     <span class="keywordflow">return</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>().<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a01716f5dbece077db99b5f3f1e766f38">font</a>;
<a name="l00567"></a>00567   }
<a name="l00568"></a>00568 
<a name="l00569"></a>00569 <span class="preprocessor">#if USE_SKIA_GPU</span>
<a name="l00570"></a>00570 <span class="preprocessor"></span>
<a name="l00571"></a>00571   <span class="comment">// Recreate the DrawTarget in software mode</span>
<a name="l00572"></a>00572   <span class="keywordtype">void</span> Demote();
<a name="l00573"></a>00573 
<a name="l00574"></a>00574   <span class="keyword">static</span> std::vector&lt;CanvasRenderingContext2D*&gt;&amp; DemotableContexts();
<a name="l00575"></a>00575   <span class="keyword">static</span> <span class="keywordtype">void</span> DemoteOldestContextIfNecessary();
<a name="l00576"></a>00576   <span class="keyword">static</span> <span class="keywordtype">void</span> AddDemotableContext(<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html">CanvasRenderingContext2D</a>* <a class="code" href="../../d9/d04/expat_8h.html#afe0934df1732463fe5378d8c8724edc6">context</a>);
<a name="l00577"></a>00577 
<a name="l00578"></a>00578   <span class="comment">// Do not use GL</span>
<a name="l00579"></a>00579   <span class="keywordtype">bool</span> mForceSoftware;
<a name="l00580"></a>00580 <span class="preprocessor">#endif</span>
<a name="l00581"></a>00581 <span class="preprocessor"></span>
<a name="l00582"></a>00582   <span class="comment">// Member vars</span>
<a name="l00583"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a9471c00ff00053a398c6bc8260f0364b">00583</a>   int32_t <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a9471c00ff00053a398c6bc8260f0364b">mWidth</a>, <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a5ec13bd388025e007030f4a3f2f10971">mHeight</a>;
<a name="l00584"></a>00584 
<a name="l00585"></a>00585   <span class="comment">// This is true when the canvas is valid, but of zero size, this requires</span>
<a name="l00586"></a>00586   <span class="comment">// specific behavior on some operations.</span>
<a name="l00587"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a3761f5f7e52de60242e33eb556149114">00587</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a3761f5f7e52de60242e33eb556149114">mZero</a>;
<a name="l00588"></a>00588 
<a name="l00589"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a7d9220af3bd1b15cef3cbdcd42892928">00589</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a7d9220af3bd1b15cef3cbdcd42892928">mOpaque</a>;
<a name="l00590"></a>00590 
<a name="l00591"></a>00591   <span class="comment">// This is true when the next time our layer is retrieved we need to</span>
<a name="l00592"></a>00592   <span class="comment">// recreate it (i.e. our backing surface changed)</span>
<a name="l00593"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a2955ef4b088f8f9102b3d565d97714ce">00593</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a2955ef4b088f8f9102b3d565d97714ce">mResetLayer</a>;
<a name="l00594"></a>00594   <span class="comment">// This is needed for drawing in drawAsyncXULElement</span>
<a name="l00595"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#afd2b0521b255f6ac7376571f6185ea90">00595</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#afd2b0521b255f6ac7376571f6185ea90">mIPC</a>;
<a name="l00596"></a>00596 
<a name="l00597"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aa24124206c3c293878155009f78d7738">00597</a>   <a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;CanvasRenderingContext2DUserData*&gt;</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aa24124206c3c293878155009f78d7738">mUserDatas</a>;
<a name="l00598"></a>00598 
<a name="l00599"></a>00599   <span class="comment">// If mCanvasElement is not provided, then a docshell is</span>
<a name="l00600"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a164ec4710f0f7ade40cd8b97da0a0365">00600</a>   nsCOMPtr&lt;nsIDocShell&gt; <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a164ec4710f0f7ade40cd8b97da0a0365">mDocShell</a>;
<a name="l00601"></a>00601 
<a name="l00602"></a>00602   <span class="comment">// This is created lazily so it is necessary to call EnsureTarget before</span>
<a name="l00603"></a>00603   <span class="comment">// accessing it. In the event of an error it will be equal to</span>
<a name="l00604"></a>00604   <span class="comment">// sErrorTarget.</span>
<a name="l00605"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a52eaeb3bb77681cd2fdd07cd92013c6f">00605</a>   <a class="code" href="../../d9/dc3/classmozilla_1_1_ref_ptr.html">mozilla::RefPtr&lt;mozilla::gfx::DrawTarget&gt;</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a52eaeb3bb77681cd2fdd07cd92013c6f">mTarget</a>;
<a name="l00606"></a>00606 
<a name="l00611"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a5f76681c9149d483abffa43e6073b26e">00611</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a5f76681c9149d483abffa43e6073b26e">mIsEntireFrameInvalid</a>;
<a name="l00617"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae4517b0b65c349f5b673a7a878868bf3">00617</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae4517b0b65c349f5b673a7a878868bf3">mPredictManyRedrawCalls</a>;
<a name="l00618"></a>00618 
<a name="l00619"></a>00619   <span class="comment">// This is stored after GetThebesSurface has been called once to avoid</span>
<a name="l00620"></a>00620   <span class="comment">// excessive ThebesSurface initialization overhead.</span>
<a name="l00621"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a5f493f2dbf7bd4a234d02f925016608c">00621</a>   <a class="code" href="../../d0/d01/classns_ref_ptr.html">nsRefPtr&lt;gfxASurface&gt;</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a5f493f2dbf7bd4a234d02f925016608c">mThebesSurface</a>;
<a name="l00622"></a>00622 
<a name="l00647"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a05f2052d2b8df8832f2952d1b35de465">00647</a>   <a class="code" href="../../d9/dc3/classmozilla_1_1_ref_ptr.html">mozilla::RefPtr&lt;mozilla::gfx::Path&gt;</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a05f2052d2b8df8832f2952d1b35de465">mPath</a>;
<a name="l00648"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab7fc0074f36ebfb1ba988a5979fa2022">00648</a>   <a class="code" href="../../d9/dc3/classmozilla_1_1_ref_ptr.html">mozilla::RefPtr&lt;mozilla::gfx::PathBuilder&gt;</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab7fc0074f36ebfb1ba988a5979fa2022">mDSPathBuilder</a>;
<a name="l00649"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1c13679383233ce32b80217a6a1ae123">00649</a>   <a class="code" href="../../d9/dc3/classmozilla_1_1_ref_ptr.html">mozilla::RefPtr&lt;mozilla::gfx::PathBuilder&gt;</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1c13679383233ce32b80217a6a1ae123">mPathBuilder</a>;
<a name="l00650"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a4b39c9f0e6b5e221fd2dbc20aa6f137d">00650</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a4b39c9f0e6b5e221fd2dbc20aa6f137d">mPathTransformWillUpdate</a>;
<a name="l00651"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ad850a022e02032d1bd1809d7818230c6">00651</a>   <a class="code" href="../../d2/db0/classmozilla_1_1gfx_1_1_matrix.html">mozilla::gfx::Matrix</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ad850a022e02032d1bd1809d7818230c6">mPathToDS</a>;
<a name="l00652"></a>00652 
<a name="l00656"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3a737a5c05b183143470d6a8a40458c">00656</a>   uint32_t <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae3a737a5c05b183143470d6a8a40458c">mInvalidateCount</a>;
<a name="l00657"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae6e4814d02b565a0faaa4a9bf6a40ada">00657</a>   <span class="keyword">static</span> <span class="keyword">const</span> uint32_t <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ae6e4814d02b565a0faaa4a9bf6a40ada">kCanvasMaxInvalidateCount</a> = 100;
<a name="l00658"></a>00658 
<a name="l00663"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8b95dfbd7ea002b475f36b2a2a58f8b0">00663</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8b95dfbd7ea002b475f36b2a2a58f8b0">NeedToDrawShadow</a>()
<a name="l00664"></a>00664   {
<a name="l00665"></a>00665     <span class="keyword">const</span> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html">ContextState</a>&amp; <a class="code" href="../../d2/d7d/jsapi_8h.html#afa45f986123242ddd418c959eb87e242">state</a> = <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>();
<a name="l00666"></a>00666 
<a name="l00667"></a>00667     <span class="comment">// The spec says we should not draw shadows if the operator is OVER.</span>
<a name="l00668"></a>00668     <span class="comment">// If it&#39;s over and the alpha value is zero, nothing needs to be drawn.</span>
<a name="l00669"></a>00669     <span class="keywordflow">return</span> <a class="code" href="../../d9/d6a/ns_color_8h.html#adaf60173b6f8706bb68cbea868ac4cff">NS_GET_A</a>(state.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#aec5a513b838ef4d439897a6817dba5ff">shadowColor</a>) != 0 &amp;&amp; 
<a name="l00670"></a>00670       (state.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a1f273e21d182e5a667dfbe592f424f6e">shadowBlur</a> != 0 || state.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a3f2be1e255a8ebfc7bc4e08f4b546279">shadowOffset</a>.<a class="code" href="../../d2/dfb/structmozilla_1_1gfx_1_1_base_point.html#a5576f8edcd7f6ad67dfc54e8d7bc47f3">x</a> != 0 || state.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a3f2be1e255a8ebfc7bc4e08f4b546279">shadowOffset</a>.<a class="code" href="../../d2/dfb/structmozilla_1_1gfx_1_1_base_point.html#a6fd3bcff5bc3dc56019016d97262b5a2">y</a> != 0);
<a name="l00671"></a>00671   }
<a name="l00672"></a>00672 
<a name="l00673"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a07186e55f7c7497e6cebd5bb7d27e4b6">00673</a>   <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a9e5bf5e10068d80977bd157c23d3b9ad">mozilla::gfx::CompositionOp</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a07186e55f7c7497e6cebd5bb7d27e4b6">UsedOperation</a>()
<a name="l00674"></a>00674   {
<a name="l00675"></a>00675     <span class="keywordflow">if</span> (<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8b95dfbd7ea002b475f36b2a2a58f8b0">NeedToDrawShadow</a>()) {
<a name="l00676"></a>00676       <span class="comment">// In this case the shadow rendering will use the operator.</span>
<a name="l00677"></a>00677       <span class="keywordflow">return</span> <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a9e5bf5e10068d80977bd157c23d3b9adae0aaa09512ef834b88d7b607de3fb80a">mozilla::gfx::OP_OVER</a>;
<a name="l00678"></a>00678     }
<a name="l00679"></a>00679 
<a name="l00680"></a>00680     <span class="keywordflow">return</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>().<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a92136d08b72d6e47fa7afc2709650b16">op</a>;
<a name="l00681"></a>00681   }
<a name="l00682"></a>00682 
<a name="l00686"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#af7bc5f4396e3e218eaae4a826569cfde">00686</a>   <a class="code" href="../../d3/d8f/classns_i_pres_shell.html">nsIPresShell</a> *<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#af7bc5f4396e3e218eaae4a826569cfde">GetPresShell</a>() {
<a name="l00687"></a>00687     <span class="keywordflow">if</span> (<a class="code" href="../../d8/d7b/classns_i_canvas_rendering_context_internal.html#ae41827573c364cb0dd34223318186753">mCanvasElement</a>) {
<a name="l00688"></a>00688       <span class="keywordflow">return</span> <a class="code" href="../../d8/d7b/classns_i_canvas_rendering_context_internal.html#ae41827573c364cb0dd34223318186753">mCanvasElement</a>-&gt;OwnerDoc()-&gt;GetShell();
<a name="l00689"></a>00689     }
<a name="l00690"></a>00690     <span class="keywordflow">if</span> (<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a164ec4710f0f7ade40cd8b97da0a0365">mDocShell</a>) {
<a name="l00691"></a>00691       <span class="keywordflow">return</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a164ec4710f0f7ade40cd8b97da0a0365">mDocShell</a>-&gt;GetPresShell();
<a name="l00692"></a>00692     }
<a name="l00693"></a>00693     <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;
<a name="l00694"></a>00694   }
<a name="l00695"></a>00695 
<a name="l00696"></a>00696   <span class="comment">// text</span>
<a name="l00697"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a81c0677f394498cf5e65f8c12e38aea7">00697</a>   <span class="keyword">enum</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a81c0677f394498cf5e65f8c12e38aea7">TextAlign</a> {
<a name="l00698"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a81c0677f394498cf5e65f8c12e38aea7a9ea8c76a9b28cf400ea501a72e5b8795">00698</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a81c0677f394498cf5e65f8c12e38aea7a9ea8c76a9b28cf400ea501a72e5b8795">TEXT_ALIGN_START</a>,
<a name="l00699"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a81c0677f394498cf5e65f8c12e38aea7ac2c5c68cdf3f0d8a2c9d45edbdbfd1d7">00699</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a81c0677f394498cf5e65f8c12e38aea7ac2c5c68cdf3f0d8a2c9d45edbdbfd1d7">TEXT_ALIGN_END</a>,
<a name="l00700"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a81c0677f394498cf5e65f8c12e38aea7a7a90799c5bb73b434ba06f9a9800bd53">00700</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a81c0677f394498cf5e65f8c12e38aea7a7a90799c5bb73b434ba06f9a9800bd53">TEXT_ALIGN_LEFT</a>,
<a name="l00701"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a81c0677f394498cf5e65f8c12e38aea7a2437dd1d8c86de8743163c675e7113fd">00701</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a81c0677f394498cf5e65f8c12e38aea7a2437dd1d8c86de8743163c675e7113fd">TEXT_ALIGN_RIGHT</a>,
<a name="l00702"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a81c0677f394498cf5e65f8c12e38aea7a04be0e2b187592599a73079a35ca8ef7">00702</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a81c0677f394498cf5e65f8c12e38aea7a04be0e2b187592599a73079a35ca8ef7">TEXT_ALIGN_CENTER</a>
<a name="l00703"></a>00703   };
<a name="l00704"></a>00704 
<a name="l00705"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aba592f14d94f93c297cf833f7a441a76">00705</a>   <span class="keyword">enum</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aba592f14d94f93c297cf833f7a441a76">TextBaseline</a> {
<a name="l00706"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aba592f14d94f93c297cf833f7a441a76a5bc7569a7d72600281cd632890fbfb4c">00706</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aba592f14d94f93c297cf833f7a441a76a5bc7569a7d72600281cd632890fbfb4c">TEXT_BASELINE_TOP</a>,
<a name="l00707"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aba592f14d94f93c297cf833f7a441a76a589e11be5f6cfd1cd9cd02a2337cce9a">00707</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aba592f14d94f93c297cf833f7a441a76a589e11be5f6cfd1cd9cd02a2337cce9a">TEXT_BASELINE_HANGING</a>,
<a name="l00708"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aba592f14d94f93c297cf833f7a441a76ac04f254e5600c09b2f2b794fed792a68">00708</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aba592f14d94f93c297cf833f7a441a76ac04f254e5600c09b2f2b794fed792a68">TEXT_BASELINE_MIDDLE</a>,
<a name="l00709"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aba592f14d94f93c297cf833f7a441a76ab2a379e2c6f93bfa0aa7642be96f018c">00709</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aba592f14d94f93c297cf833f7a441a76ab2a379e2c6f93bfa0aa7642be96f018c">TEXT_BASELINE_ALPHABETIC</a>,
<a name="l00710"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aba592f14d94f93c297cf833f7a441a76a9ef0a31ff23bc62acab451a3556354f9">00710</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aba592f14d94f93c297cf833f7a441a76a9ef0a31ff23bc62acab451a3556354f9">TEXT_BASELINE_IDEOGRAPHIC</a>,
<a name="l00711"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aba592f14d94f93c297cf833f7a441a76a1bb08dbf1f29f5e8052220d6c4180b8b">00711</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aba592f14d94f93c297cf833f7a441a76a1bb08dbf1f29f5e8052220d6c4180b8b">TEXT_BASELINE_BOTTOM</a>
<a name="l00712"></a>00712   };
<a name="l00713"></a>00713 
<a name="l00714"></a>00714   <a class="code" href="../../dd/d7c/classgfx_font_group.html">gfxFontGroup</a> *<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a145956ce59367d248ded3595dadc7a71">GetCurrentFontStyle</a>();
<a name="l00715"></a>00715 
<a name="l00716"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab790d0fb20b931a1b3d96bf3736a92c0">00716</a>   <span class="keyword">enum</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab790d0fb20b931a1b3d96bf3736a92c0">TextDrawOperation</a> {
<a name="l00717"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab790d0fb20b931a1b3d96bf3736a92c0a1ac785cef7dcb22bbc60aae666c8d0c9">00717</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab790d0fb20b931a1b3d96bf3736a92c0a1ac785cef7dcb22bbc60aae666c8d0c9">TEXT_DRAW_OPERATION_FILL</a>,
<a name="l00718"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab790d0fb20b931a1b3d96bf3736a92c0a701a1266ac9aababba876589c1c5bff7">00718</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab790d0fb20b931a1b3d96bf3736a92c0a701a1266ac9aababba876589c1c5bff7">TEXT_DRAW_OPERATION_STROKE</a>,
<a name="l00719"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab790d0fb20b931a1b3d96bf3736a92c0a9ab8fee21a199512b6058c3d7d44d871">00719</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab790d0fb20b931a1b3d96bf3736a92c0a9ab8fee21a199512b6058c3d7d44d871">TEXT_DRAW_OPERATION_MEASURE</a>
<a name="l00720"></a>00720   };
<a name="l00721"></a>00721 
<a name="l00722"></a>00722   <span class="comment">/*</span>
<a name="l00723"></a>00723 <span class="comment">    * Implementation of the fillText, strokeText, and measure functions with</span>
<a name="l00724"></a>00724 <span class="comment">    * the operation abstracted to a flag.</span>
<a name="l00725"></a>00725 <span class="comment">    */</span>
<a name="l00726"></a>00726   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a81739e3d6dc3305a5e98a75772bace10">DrawOrMeasureText</a>(<span class="keyword">const</span> nsAString&amp; <a class="code" href="../../dd/dfa/classtext.html">text</a>,
<a name="l00727"></a>00727                              <span class="keywordtype">float</span> x,
<a name="l00728"></a>00728                              <span class="keywordtype">float</span> y,
<a name="l00729"></a>00729                              <span class="keyword">const</span> <a class="code" href="../../d2/d77/classmozilla_1_1dom_1_1_optional.html">Optional&lt;double&gt;</a>&amp; maxWidth,
<a name="l00730"></a>00730                              <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#ab790d0fb20b931a1b3d96bf3736a92c0">TextDrawOperation</a> op,
<a name="l00731"></a>00731                              <span class="keywordtype">float</span>* aWidth);
<a name="l00732"></a>00732 
<a name="l00733"></a>00733   <span class="comment">// state stack handling</span>
<a name="l00734"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html">00734</a>   <span class="keyword">class </span><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html">ContextState</a> {
<a name="l00735"></a>00735   <span class="keyword">public</span>:
<a name="l00736"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#af35300d66c5cd0c510beb1498cfb75d1">00736</a>     <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#af35300d66c5cd0c510beb1498cfb75d1">ContextState</a>() : <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#aaaf6365a782335de14dd28cd034718ee">textAlign</a>(<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a81c0677f394498cf5e65f8c12e38aea7a9ea8c76a9b28cf400ea501a72e5b8795">TEXT_ALIGN_START</a>),
<a name="l00737"></a>00737                      <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ab9806d5cf4e27071ceaff2f9e0a7f2d1">textBaseline</a>(<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aba592f14d94f93c297cf833f7a441a76ab2a379e2c6f93bfa0aa7642be96f018c">TEXT_BASELINE_ALPHABETIC</a>),
<a name="l00738"></a>00738                      <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a5a0bb9c06134e4e0bd1f9a5ddf81cca0">lineWidth</a>(1.0<a class="code" href="../../d3/d4b/lockscreen_8js.html#a9cf09a2972472098a4c689fd988f4dfc">f</a>),
<a name="l00739"></a>00739                      <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a57f1e7ef07a0e2271595140d818c7bd7">miterLimit</a>(10.0<a class="code" href="../../d3/d4b/lockscreen_8js.html#a9cf09a2972472098a4c689fd988f4dfc">f</a>),
<a name="l00740"></a>00740                      <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a73f0ee515e81c01ca90f280da475b6c1">globalAlpha</a>(1.0<a class="code" href="../../d3/d4b/lockscreen_8js.html#a9cf09a2972472098a4c689fd988f4dfc">f</a>),
<a name="l00741"></a>00741                      <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a1f273e21d182e5a667dfbe592f424f6e">shadowBlur</a>(0.0),
<a name="l00742"></a>00742                      <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a1ed9e191242fea3805a7b8b7036c0a8a">dashOffset</a>(0.0<a class="code" href="../../d3/d4b/lockscreen_8js.html#a9cf09a2972472098a4c689fd988f4dfc">f</a>),
<a name="l00743"></a>00743                      <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a92136d08b72d6e47fa7afc2709650b16">op</a>(mozilla::gfx::<a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a9e5bf5e10068d80977bd157c23d3b9adae0aaa09512ef834b88d7b607de3fb80a">OP_OVER</a>),
<a name="l00744"></a>00744                      <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a9d837c3afe56a8f1f89fd0e4acfdca35">fillRule</a>(mozilla::gfx::<a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#aff6f6804846a117f7be2696dd7c9e84ba968f8301087b95b7bd70c5f86169bb33">FILL_WINDING</a>),
<a name="l00745"></a>00745                      <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a5369e3ee0ff31ccfc317a3149f288f47">lineCap</a>(mozilla::gfx::<a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#ad24ccf9c3ad8e32f93e0875704470e99a4e2b93461b42e4b79c52881217864798">CAP_BUTT</a>),
<a name="l00746"></a>00746                      <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ae093a2719d58eb06fa2bd030a29d208f">lineJoin</a>(mozilla::gfx::<a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a022b537dba820e86696de76d0b6389beae64453f782c178aec2f66f4170ed8d95">JOIN_MITER_OR_BEVEL</a>),
<a name="l00747"></a>00747                      <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a13aa163c59c368f9e07f4bd1a7147df6">imageSmoothingEnabled</a>(<a class="code" href="../../d7/dd2/qcmstypes_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>)
<a name="l00748"></a>00748     { }
<a name="l00749"></a>00749 
<a name="l00750"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ab0767588e26d668b3dd1f584ce11e4eb">00750</a>     <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#af35300d66c5cd0c510beb1498cfb75d1">ContextState</a>(<span class="keyword">const</span> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html">ContextState</a>&amp; other)
<a name="l00751"></a>00751         : <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ab4434aaf51e4180713273711b2bc42dd">fontGroup</a>(other.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ab4434aaf51e4180713273711b2bc42dd">fontGroup</a>),
<a name="l00752"></a>00752           <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a01716f5dbece077db99b5f3f1e766f38">font</a>(other.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a01716f5dbece077db99b5f3f1e766f38">font</a>),
<a name="l00753"></a>00753           <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#aaaf6365a782335de14dd28cd034718ee">textAlign</a>(other.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#aaaf6365a782335de14dd28cd034718ee">textAlign</a>),
<a name="l00754"></a>00754           <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ab9806d5cf4e27071ceaff2f9e0a7f2d1">textBaseline</a>(other.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ab9806d5cf4e27071ceaff2f9e0a7f2d1">textBaseline</a>),
<a name="l00755"></a>00755           <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#aec5a513b838ef4d439897a6817dba5ff">shadowColor</a>(other.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#aec5a513b838ef4d439897a6817dba5ff">shadowColor</a>),
<a name="l00756"></a>00756           <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a339bb9a84a83b673013fb6a8ea8f9a4b">transform</a>(other.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a339bb9a84a83b673013fb6a8ea8f9a4b">transform</a>),
<a name="l00757"></a>00757           <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a3f2be1e255a8ebfc7bc4e08f4b546279">shadowOffset</a>(other.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a3f2be1e255a8ebfc7bc4e08f4b546279">shadowOffset</a>),
<a name="l00758"></a>00758           <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a5a0bb9c06134e4e0bd1f9a5ddf81cca0">lineWidth</a>(other.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a5a0bb9c06134e4e0bd1f9a5ddf81cca0">lineWidth</a>),
<a name="l00759"></a>00759           <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a57f1e7ef07a0e2271595140d818c7bd7">miterLimit</a>(other.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a57f1e7ef07a0e2271595140d818c7bd7">miterLimit</a>),
<a name="l00760"></a>00760           <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a73f0ee515e81c01ca90f280da475b6c1">globalAlpha</a>(other.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a73f0ee515e81c01ca90f280da475b6c1">globalAlpha</a>),
<a name="l00761"></a>00761           <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a1f273e21d182e5a667dfbe592f424f6e">shadowBlur</a>(other.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a1f273e21d182e5a667dfbe592f424f6e">shadowBlur</a>),
<a name="l00762"></a>00762           <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a013c092fcfd3bea816229ddaf2ac29c9">dash</a>(other.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a013c092fcfd3bea816229ddaf2ac29c9">dash</a>),
<a name="l00763"></a>00763           <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a1ed9e191242fea3805a7b8b7036c0a8a">dashOffset</a>(other.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a1ed9e191242fea3805a7b8b7036c0a8a">dashOffset</a>),
<a name="l00764"></a>00764           <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a92136d08b72d6e47fa7afc2709650b16">op</a>(other.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a92136d08b72d6e47fa7afc2709650b16">op</a>),
<a name="l00765"></a>00765           <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a9d837c3afe56a8f1f89fd0e4acfdca35">fillRule</a>(other.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a9d837c3afe56a8f1f89fd0e4acfdca35">fillRule</a>),
<a name="l00766"></a>00766           <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a5369e3ee0ff31ccfc317a3149f288f47">lineCap</a>(other.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a5369e3ee0ff31ccfc317a3149f288f47">lineCap</a>),
<a name="l00767"></a>00767           <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ae093a2719d58eb06fa2bd030a29d208f">lineJoin</a>(other.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ae093a2719d58eb06fa2bd030a29d208f">lineJoin</a>),
<a name="l00768"></a>00768           <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a13aa163c59c368f9e07f4bd1a7147df6">imageSmoothingEnabled</a>(other.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a13aa163c59c368f9e07f4bd1a7147df6">imageSmoothingEnabled</a>)
<a name="l00769"></a>00769     {
<a name="l00770"></a>00770       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7ecacf31b5e40faa389319e0ef44c5e1d816">STYLE_MAX</a>; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++) {
<a name="l00771"></a>00771         <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a752068e917b0742a045af59028cde714">colorStyles</a>[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>] = other.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a752068e917b0742a045af59028cde714">colorStyles</a>[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>];
<a name="l00772"></a>00772         <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#afa2de1032c70b518eec0fb13fe264b05">gradientStyles</a>[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>] = other.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#afa2de1032c70b518eec0fb13fe264b05">gradientStyles</a>[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>];
<a name="l00773"></a>00773         <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ace747a242227e9d6cd7e675efeca1f6a">patternStyles</a>[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>] = other.<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ace747a242227e9d6cd7e675efeca1f6a">patternStyles</a>[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>];
<a name="l00774"></a>00774       }
<a name="l00775"></a>00775     }
<a name="l00776"></a>00776 
<a name="l00777"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a7136c6621df71494847406093cdda2b8">00777</a>     <span class="keywordtype">void</span> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a7136c6621df71494847406093cdda2b8">SetColorStyle</a>(<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7ec">Style</a> whichStyle, <a class="code" href="../../d9/d6a/ns_color_8h.html#abee756dec22b05b8b36337fea5612041">nscolor</a> <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>)
<a name="l00778"></a>00778     {
<a name="l00779"></a>00779       <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a752068e917b0742a045af59028cde714">colorStyles</a>[whichStyle] = <a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#aacb3a46fbd7c29fc555a0260d22f938c">color</a>;
<a name="l00780"></a>00780       <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#afa2de1032c70b518eec0fb13fe264b05">gradientStyles</a>[whichStyle] = <span class="keyword">nullptr</span>;
<a name="l00781"></a>00781       <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ace747a242227e9d6cd7e675efeca1f6a">patternStyles</a>[whichStyle] = <span class="keyword">nullptr</span>;
<a name="l00782"></a>00782     }
<a name="l00783"></a>00783 
<a name="l00784"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a9c61559f1d116dd927b1ee3cc6a1258d">00784</a>     <span class="keywordtype">void</span> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a9c61559f1d116dd927b1ee3cc6a1258d">SetPatternStyle</a>(<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7ec">Style</a> whichStyle, <a class="code" href="../../d0/dfb/namespacemozilla_1_1dom_1_1prototypes_1_1id.html#addcec93baff9084aadf2519231ea4a28a499a14e3b7d9faf48d29d6e97fc33d11">CanvasPattern</a>* pat)
<a name="l00785"></a>00785     {
<a name="l00786"></a>00786       <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#afa2de1032c70b518eec0fb13fe264b05">gradientStyles</a>[whichStyle] = <span class="keyword">nullptr</span>;
<a name="l00787"></a>00787       <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ace747a242227e9d6cd7e675efeca1f6a">patternStyles</a>[whichStyle] = pat;
<a name="l00788"></a>00788     }
<a name="l00789"></a>00789 
<a name="l00790"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#af2715ef03acf89da8e279a2816976832">00790</a>     <span class="keywordtype">void</span> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#af2715ef03acf89da8e279a2816976832">SetGradientStyle</a>(<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7ec">Style</a> whichStyle, <a class="code" href="../../de/d7b/classmozilla_1_1dom_1_1_canvas_gradient.html">CanvasGradient</a>* grad)
<a name="l00791"></a>00791     {
<a name="l00792"></a>00792       <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#afa2de1032c70b518eec0fb13fe264b05">gradientStyles</a>[whichStyle] = grad;
<a name="l00793"></a>00793       <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ace747a242227e9d6cd7e675efeca1f6a">patternStyles</a>[whichStyle] = <span class="keyword">nullptr</span>;
<a name="l00794"></a>00794     }
<a name="l00795"></a>00795 
<a name="l00799"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a23ef76d67b2a53faef56a8e09d2d387a">00799</a>     <span class="keywordtype">bool</span> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a23ef76d67b2a53faef56a8e09d2d387a">StyleIsColor</a>(<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7ec">Style</a> whichStyle)<span class="keyword"> const</span>
<a name="l00800"></a>00800 <span class="keyword">    </span>{
<a name="l00801"></a>00801       <span class="keywordflow">return</span> !(<a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ace747a242227e9d6cd7e675efeca1f6a">patternStyles</a>[whichStyle] || <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#afa2de1032c70b518eec0fb13fe264b05">gradientStyles</a>[whichStyle]);
<a name="l00802"></a>00802     }
<a name="l00803"></a>00803 
<a name="l00804"></a>00804 
<a name="l00805"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a56975fc3bf4c3fb18779e9401cd2b2fd">00805</a>     std::vector&lt;mozilla::RefPtr&lt;mozilla::gfx::Path&gt; &gt; <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a56975fc3bf4c3fb18779e9401cd2b2fd">clipsPushed</a>;
<a name="l00806"></a>00806 
<a name="l00807"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ab4434aaf51e4180713273711b2bc42dd">00807</a>     <a class="code" href="../../d0/d01/classns_ref_ptr.html">nsRefPtr&lt;gfxFontGroup&gt;</a> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ab4434aaf51e4180713273711b2bc42dd">fontGroup</a>;
<a name="l00808"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#afa2de1032c70b518eec0fb13fe264b05">00808</a>     <a class="code" href="../../d0/d01/classns_ref_ptr.html">nsRefPtr&lt;CanvasGradient&gt;</a> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#afa2de1032c70b518eec0fb13fe264b05">gradientStyles</a>[<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7ecacf31b5e40faa389319e0ef44c5e1d816">STYLE_MAX</a>];
<a name="l00809"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ace747a242227e9d6cd7e675efeca1f6a">00809</a>     <a class="code" href="../../d0/d01/classns_ref_ptr.html">nsRefPtr&lt;CanvasPattern&gt;</a> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ace747a242227e9d6cd7e675efeca1f6a">patternStyles</a>[<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7ecacf31b5e40faa389319e0ef44c5e1d816">STYLE_MAX</a>];
<a name="l00810"></a>00810 
<a name="l00811"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a01716f5dbece077db99b5f3f1e766f38">00811</a>     nsString <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a01716f5dbece077db99b5f3f1e766f38">font</a>;
<a name="l00812"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#aaaf6365a782335de14dd28cd034718ee">00812</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a81c0677f394498cf5e65f8c12e38aea7">TextAlign</a> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#aaaf6365a782335de14dd28cd034718ee">textAlign</a>;
<a name="l00813"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ab9806d5cf4e27071ceaff2f9e0a7f2d1">00813</a>     <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#aba592f14d94f93c297cf833f7a441a76">TextBaseline</a> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ab9806d5cf4e27071ceaff2f9e0a7f2d1">textBaseline</a>;
<a name="l00814"></a>00814 
<a name="l00815"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a752068e917b0742a045af59028cde714">00815</a>     <a class="code" href="../../d9/d6a/ns_color_8h.html#abee756dec22b05b8b36337fea5612041">nscolor</a> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a752068e917b0742a045af59028cde714">colorStyles</a>[<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a17714819b05e71a927526398972ab7ecacf31b5e40faa389319e0ef44c5e1d816">STYLE_MAX</a>];
<a name="l00816"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#aec5a513b838ef4d439897a6817dba5ff">00816</a>     <a class="code" href="../../d9/d6a/ns_color_8h.html#abee756dec22b05b8b36337fea5612041">nscolor</a> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#aec5a513b838ef4d439897a6817dba5ff">shadowColor</a>;
<a name="l00817"></a>00817 
<a name="l00818"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a339bb9a84a83b673013fb6a8ea8f9a4b">00818</a>     <a class="code" href="../../d2/db0/classmozilla_1_1gfx_1_1_matrix.html">mozilla::gfx::Matrix</a> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a339bb9a84a83b673013fb6a8ea8f9a4b">transform</a>;
<a name="l00819"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a3f2be1e255a8ebfc7bc4e08f4b546279">00819</a>     <a class="code" href="../../de/d80/structmozilla_1_1gfx_1_1_point_typed.html">mozilla::gfx::Point</a> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a3f2be1e255a8ebfc7bc4e08f4b546279">shadowOffset</a>;
<a name="l00820"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a5a0bb9c06134e4e0bd1f9a5ddf81cca0">00820</a>     <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a89ee4741e9b0dde3c6bf62a0fa7d4b70">mozilla::gfx::Float</a> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a5a0bb9c06134e4e0bd1f9a5ddf81cca0">lineWidth</a>;
<a name="l00821"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a57f1e7ef07a0e2271595140d818c7bd7">00821</a>     <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a89ee4741e9b0dde3c6bf62a0fa7d4b70">mozilla::gfx::Float</a> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a57f1e7ef07a0e2271595140d818c7bd7">miterLimit</a>;
<a name="l00822"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a73f0ee515e81c01ca90f280da475b6c1">00822</a>     <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a89ee4741e9b0dde3c6bf62a0fa7d4b70">mozilla::gfx::Float</a> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a73f0ee515e81c01ca90f280da475b6c1">globalAlpha</a>;
<a name="l00823"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a1f273e21d182e5a667dfbe592f424f6e">00823</a>     <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a89ee4741e9b0dde3c6bf62a0fa7d4b70">mozilla::gfx::Float</a> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a1f273e21d182e5a667dfbe592f424f6e">shadowBlur</a>;
<a name="l00824"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a013c092fcfd3bea816229ddaf2ac29c9">00824</a>     <a class="code" href="../../d3/d8f/class_fallible_t_array.html">FallibleTArray&lt;mozilla::gfx::Float&gt;</a> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a013c092fcfd3bea816229ddaf2ac29c9">dash</a>;
<a name="l00825"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a1ed9e191242fea3805a7b8b7036c0a8a">00825</a>     <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a89ee4741e9b0dde3c6bf62a0fa7d4b70">mozilla::gfx::Float</a> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a1ed9e191242fea3805a7b8b7036c0a8a">dashOffset</a>;
<a name="l00826"></a>00826 
<a name="l00827"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a92136d08b72d6e47fa7afc2709650b16">00827</a>     <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a9e5bf5e10068d80977bd157c23d3b9ad">mozilla::gfx::CompositionOp</a> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a92136d08b72d6e47fa7afc2709650b16">op</a>;
<a name="l00828"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a9d837c3afe56a8f1f89fd0e4acfdca35">00828</a>     <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#aff6f6804846a117f7be2696dd7c9e84b">mozilla::gfx::FillRule</a> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a9d837c3afe56a8f1f89fd0e4acfdca35">fillRule</a>;
<a name="l00829"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a5369e3ee0ff31ccfc317a3149f288f47">00829</a>     <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#ad24ccf9c3ad8e32f93e0875704470e99">mozilla::gfx::CapStyle</a> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a5369e3ee0ff31ccfc317a3149f288f47">lineCap</a>;
<a name="l00830"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ae093a2719d58eb06fa2bd030a29d208f">00830</a>     <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a022b537dba820e86696de76d0b6389be">mozilla::gfx::JoinStyle</a> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#ae093a2719d58eb06fa2bd030a29d208f">lineJoin</a>;
<a name="l00831"></a>00831 
<a name="l00832"></a><a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a13aa163c59c368f9e07f4bd1a7147df6">00832</a>     <span class="keywordtype">bool</span> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html#a13aa163c59c368f9e07f4bd1a7147df6">imageSmoothingEnabled</a>;
<a name="l00833"></a>00833   };
<a name="l00834"></a>00834 
<a name="l00835"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a41b2b81a9d1861c7a9486659ddc456a3">00835</a>   <a class="code" href="../../d2/dcf/classns_auto_t_array.html">nsAutoTArray&lt;ContextState, 3&gt;</a> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a41b2b81a9d1861c7a9486659ddc456a3">mStyleStack</a>;
<a name="l00836"></a>00836 
<a name="l00837"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">00837</a>   <span class="keyword">inline</span> <a class="code" href="../../d2/ddb/classmozilla_1_1dom_1_1_canvas_rendering_context2_d_1_1_context_state.html">ContextState</a>&amp; <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a8c873517b3818ca9d2da2bb5ac83d313">CurrentState</a>() {
<a name="l00838"></a>00838     <span class="keywordflow">return</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a41b2b81a9d1861c7a9486659ddc456a3">mStyleStack</a>[<a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a41b2b81a9d1861c7a9486659ddc456a3">mStyleStack</a>.<a class="code" href="../../db/d9f/classns_t_array__base.html#a9ff8fa91fb766d44982e50ac82558141">Length</a>() - 1];
<a name="l00839"></a>00839   }
<a name="l00840"></a>00840 
<a name="l00841"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1d2f67423d1d1968957cc9bd955e7ff3">00841</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a1d2f67423d1d1968957cc9bd955e7ff3">CanvasGeneralPattern</a>;
<a name="l00842"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a034a9422f030c730ba55731e01d6d131">00842</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a034a9422f030c730ba55731e01d6d131">AdjustedTarget</a>;
<a name="l00843"></a>00843 
<a name="l00844"></a>00844   <span class="comment">// other helpers</span>
<a name="l00845"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a31ba2462d30539dab1b5d485b250cf78">00845</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a31ba2462d30539dab1b5d485b250cf78">GetAppUnitsValues</a>(int32_t *perDevPixel, int32_t *perCSSPixel)
<a name="l00846"></a>00846   {
<a name="l00847"></a>00847     <span class="comment">// If we don&#39;t have a canvas element, we just return something generic.</span>
<a name="l00848"></a>00848     int32_t devPixel = 60;
<a name="l00849"></a>00849     int32_t cssPixel = 60;
<a name="l00850"></a>00850 
<a name="l00851"></a>00851     <a class="code" href="../../d3/d8f/classns_i_pres_shell.html">nsIPresShell</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a6fc7f348c3be37a49ff6696e5bd87777">ps</a> = <a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#af7bc5f4396e3e218eaae4a826569cfde">GetPresShell</a>();
<a name="l00852"></a>00852     <a class="code" href="../../d0/d65/classns_pres_context.html">nsPresContext</a> *<a class="code" href="../../de/deb/jsdbgapi_8h.html#a8771985c525e6da4ec7acbc045daa845">pc</a>;
<a name="l00853"></a>00853 
<a name="l00854"></a>00854     <span class="keywordflow">if</span> (!ps) <span class="keywordflow">goto</span> FINISH;
<a name="l00855"></a>00855     pc = ps-&gt;<a class="code" href="../../d3/d8f/classns_i_pres_shell.html#a066aae16d1254b2ebe7c834b43682492">GetPresContext</a>();
<a name="l00856"></a>00856     <span class="keywordflow">if</span> (!pc) <span class="keywordflow">goto</span> FINISH;
<a name="l00857"></a>00857     devPixel = pc-&gt;<a class="code" href="../../d0/d65/classns_pres_context.html#aacda1f9b7afd8862681d814ec1a36dad">AppUnitsPerDevPixel</a>();
<a name="l00858"></a>00858     cssPixel = pc-&gt;<a class="code" href="../../d0/d65/classns_pres_context.html#aa14eee47158abab8de8c3ff3d5a7da74">AppUnitsPerCSSPixel</a>();
<a name="l00859"></a>00859 
<a name="l00860"></a>00860   FINISH:
<a name="l00861"></a>00861     <span class="keywordflow">if</span> (perDevPixel)
<a name="l00862"></a>00862       *perDevPixel = devPixel;
<a name="l00863"></a>00863     <span class="keywordflow">if</span> (perCSSPixel)
<a name="l00864"></a>00864       *perCSSPixel = cssPixel;
<a name="l00865"></a>00865   }
<a name="l00866"></a>00866 
<a name="l00867"></a><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a112344403380c622bc5ee886b00dcd91">00867</a>   <span class="keyword">friend</span> <span class="keyword">struct </span><a class="code" href="../../d7/d68/classmozilla_1_1dom_1_1_canvas_rendering_context2_d.html#a112344403380c622bc5ee886b00dcd91">CanvasBidiProcessor</a>;
<a name="l00868"></a>00868 };
<a name="l00869"></a>00869 
<a name="l00870"></a>00870 }
<a name="l00871"></a>00871 }
<a name="l00872"></a>00872 
<a name="l00873"></a>00873 <span class="preprocessor">#endif </span><span class="comment">/* CanvasRenderingContext2D_h */</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../df/d7b/_canvas_rendering_context2_d_8h.html">CanvasRenderingContext2D.h</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 00:51:11に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
