<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: metadata_scripts.js</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li class="current"><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>ファイル一覧</span></a></li>
      <li><a href="../../globals.html"><span>グローバル</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('df/dcd/apps_2gallery_2js_2metadata__scripts_8js.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">関数</a> &#124;
<a href="#var-members">変数</a>  </div>
  <div class="headertitle">
<div class="title">metadata_scripts.js</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js_source.html">ソースコードを見る。</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
関数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js.html#a4eeaa6fdf7f599d76cfc1264f51f3bb0">parseJPEGMetadata</a> (<a class="el" href="../../db/d6e/prlog_8h.html#af0baa3ccdd9d2a6adf03b72e2bea5789">file</a>, metadataCallback, metadataError)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js.html#ab788b9d95bc35ef077f98db5199435ab">getVideoRotation</a> (blob, rotationCallback)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js.html#ad40357a4536a7741c5de5d0ad22d297a">getImageSize</a> (blob, <a class="el" href="../../de/dc5/jsfriendapi_8h.html#ae9494ad8646a84b50bd3446d72433e82">callback</a>, <a class="el" href="../../db/df4/geoloc_8js.html#ac3dbd5af3a73f4aa69249dd1c6b9c980">error</a>)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d1b/test-agent-server_8js.html#aab71dcc804ca4aa3ed2bf7ba887635db">use</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js.html#ae2475e10618961c050dcba04e8c42331">strict</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js.html#a2406e02040a596ecb02b16dd1daf98c6">BlobView</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js.html#a1663d790c01d578b4d59cfe354e836ef">metadataParser</a></td></tr>
</table>
<hr/><h2>関数</h2>
<a class="anchor" id="ad40357a4536a7741c5de5d0ad22d297a"></a><!-- doxytag: member="apps/gallery/js/metadata_scripts.js::getImageSize" ref="ad40357a4536a7741c5de5d0ad22d297a" args="(blob, callback, error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> <a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js.html#ad40357a4536a7741c5de5d0ad22d297a">getImageSize</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js_source.html">apps/gallery/js/metadata_scripts.js</a> の <a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js_source.html#l00932">932</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js_source.html#l00003">BlobView</a>, <a class="el" href="../../df/d44/permission__manager_8js_source.html#l00186">callback</a>, <a class="el" href="../../d1/d04/app__install__manager_8js_source.html#l00508">e</a>, <a class="el" href="../../db/df4/geoloc_8js_source.html#l00041">error()</a>, <a class="el" href="../../d4/d8c/viewphoto_8js_source.html#l00007">height</a>, <a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js_source.html#l00434">parseJPEGMetadata()</a>, <a class="el" href="../../df/d44/permission__manager_8js_source.html#l00145">type</a>, と <a class="el" href="../../d4/d8c/viewphoto_8js_source.html#l00006">width</a>.</p>
<div class="fragment"><pre class="fragment">                                             {
  <a class="code" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js.html#a2406e02040a596ecb02b16dd1daf98c6">BlobView</a>.get(blob, 0, Math.min(1024, blob.size), <span class="keyword">function</span>(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>) {
    <span class="comment">// Make sure we are at least 8 bytes long before reading the first 8 bytes</span>
    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.byteLength &lt;= 8) {
      <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>(<span class="stringliteral">&#39;corrupt image file&#39;</span>);
      <span class="keywordflow">return</span>;
    }
    var magic = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getASCIIText(0, 8);
    <span class="keywordflow">if</span> (magic.substring(0, 4) === <span class="stringliteral">&#39;GIF8&#39;</span>) {
      <span class="keywordflow">try</span> {
        <a class="code" href="../../df/d44/permission__manager_8js.html#ab95eebdb2a4acb8510417bf0bdabc3c5">callback</a>({
          <a class="code" href="../../df/d44/permission__manager_8js.html#a5996578fe734dff3d2912807ee458e83">type</a>: <span class="stringliteral">&#39;gif&#39;</span>,
          <a class="code" href="../../d4/d8c/viewphoto_8js.html#adb90f9ed3668a895cc5b90a19bcdee13">width</a>: <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint16(6, <span class="keyword">true</span>),
          <a class="code" href="../../d4/d8c/viewphoto_8js.html#a06f7a63ceb91351a4c31800c9a7af42f">height</a>: <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint16(8, <span class="keyword">true</span>)
        });
      }
      <span class="keywordflow">catch</span> (<a class="code" href="../../d1/d04/app__install__manager_8js.html#ab5902775854a8b8440bcd25e0fe1c120">e</a>) {
        <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>(<a class="code" href="../../d1/d04/app__install__manager_8js.html#ab5902775854a8b8440bcd25e0fe1c120">e</a>.toString());
      }
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (magic.substring(0, 8) === <span class="stringliteral">&#39;\x89PNG\r\n\x1A\n&#39;</span>) {
      <span class="keywordflow">try</span> {
        <a class="code" href="../../df/d44/permission__manager_8js.html#ab95eebdb2a4acb8510417bf0bdabc3c5">callback</a>({
          <a class="code" href="../../df/d44/permission__manager_8js.html#a5996578fe734dff3d2912807ee458e83">type</a>: <span class="stringliteral">&#39;png&#39;</span>,
          <a class="code" href="../../d4/d8c/viewphoto_8js.html#adb90f9ed3668a895cc5b90a19bcdee13">width</a>: <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint32(16, <span class="keyword">false</span>),
          <a class="code" href="../../d4/d8c/viewphoto_8js.html#a06f7a63ceb91351a4c31800c9a7af42f">height</a>: <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint32(20, <span class="keyword">false</span>)
        });
      }
      <span class="keywordflow">catch</span> (<a class="code" href="../../d1/d04/app__install__manager_8js.html#ab5902775854a8b8440bcd25e0fe1c120">e</a>) {
        <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>(<a class="code" href="../../d1/d04/app__install__manager_8js.html#ab5902775854a8b8440bcd25e0fe1c120">e</a>.toString());
      }
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (magic.substring(0, 2) === <span class="stringliteral">&#39;\xFF\xD8&#39;</span>) {
      <a class="code" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js.html#a4eeaa6fdf7f599d76cfc1264f51f3bb0">parseJPEGMetadata</a>(blob,
                        <span class="keyword">function</span>(metadata) {
                          metadata.type = <span class="stringliteral">&#39;jpeg&#39;</span>;
                          <a class="code" href="../../df/d44/permission__manager_8js.html#ab95eebdb2a4acb8510417bf0bdabc3c5">callback</a>(metadata);
                        },
                        <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>);
    }
    <span class="keywordflow">else</span> {
      <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>(<span class="stringliteral">&#39;unknown image type&#39;</span>);
    }
  });
}
</pre></div>
<p><div class="dynheader">
関数の呼び出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js_ad40357a4536a7741c5de5d0ad22d297a_cgraph.svg" width="414" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab788b9d95bc35ef077f98db5199435ab"></a><!-- doxytag: member="apps/gallery/js/metadata_scripts.js::getVideoRotation" ref="ab788b9d95bc35ef077f98db5199435ab" args="(blob, rotationCallback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> <a class="el" href="../../d5/d6a/shared_2js_2media_2get__video__rotation_8js.html#ab788b9d95bc35ef077f98db5199435ab">getVideoRotation</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rotationCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js_source.html">apps/gallery/js/metadata_scripts.js</a> の <a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js_source.html#l00785">785</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js_source.html#l00003">BlobView</a>, <a class="el" href="../../db/df4/geoloc_8js_source.html#l00041">error()</a>, <a class="el" href="../../de/deb/jsdbgapi_8h_source.html#l00106">handler</a>, <a class="el" href="../../da/d32/prio_8h_source.html#l00938">offset</a>, <a class="el" href="../../d5/dbd/camera_2js_2camera_8js_source.html#l01423">size</a>, <a class="el" href="../../df/d44/permission__manager_8js_source.html#l00145">type</a>, と <a class="el" href="../../d1/d22/ical_8js.html#a6053319846c80bf9561a1958bb817380">typeof()</a>.</p>

<p>参照元 <a class="el" href="../../d8/d50/apps_2video_2js_2metadata_8js_source.html#l00140">getMetadata()</a>.</p>
<div class="fragment"><pre class="fragment">                                                  {

  <span class="comment">// A utility for traversing the tree of atoms in an MP4 file</span>
  <span class="keyword">function</span> MP4Parser(blob, handlers) {
    <span class="comment">// Start off with a 1024 chunk from the start of the blob.</span>
    <a class="code" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js.html#a2406e02040a596ecb02b16dd1daf98c6">BlobView</a>.get(blob, 0, Math.min(1024, blob.size), <span class="keyword">function</span>(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>, <a class="code" href="../../d0/de6/fake-oncall-desktop_8js.html#a6efd5e1eedff09b640ec574dc6dd2879">error</a>) {
      <span class="comment">// Make sure that the blob is, in fact, some kind of MP4 file</span>
      <span class="keywordflow">if</span> (<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.byteLength &lt;= 8 || <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getASCIIText(4, 4) !== <span class="stringliteral">&#39;ftyp&#39;</span>) {
        handlers.errorHandler(<span class="stringliteral">&#39;not an MP4 file&#39;</span>);
        <span class="keywordflow">return</span>;
      }
      parseAtom(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>);
    });

    <span class="comment">// Call this with a BlobView object that includes the first 16 bytes of</span>
    <span class="comment">// an atom. It doesn&#39;t matter whether the body of the atom is included.</span>
    <span class="keyword">function</span> parseAtom(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>) {
      var <a class="code" href="../../da/d32/prio_8h.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.sliceOffset + <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.viewOffset; <span class="comment">// atom position in blob</span>
      var <a class="code" href="../../d5/dbd/camera_2js_2camera_8js.html#a6d7e27eaec1e5f6600e65858be43c18b">size</a> = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.readUnsignedInt();               <span class="comment">// atom length</span>
      var <a class="code" href="../../df/d44/permission__manager_8js.html#a5996578fe734dff3d2912807ee458e83">type</a> = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.readASCIIText(4);                <span class="comment">// atom type</span>
      var contentOffset = 8;                           <span class="comment">// position of content</span>

      <span class="keywordflow">if</span> (size === 0) {
        <span class="comment">// Zero size means the rest of the file</span>
        size = blob.size - <a class="code" href="../../da/d32/prio_8h.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a>;
      }
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (size === 1) {
        <span class="comment">// A size of 1 means the size is in bytes 8-15</span>
        size = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.readUnsignedInt() * 4294967296 + <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.readUnsignedInt();
        contentOffset = 16;
      }

      var <a class="code" href="../../de/deb/jsdbgapi_8h.html#a309e0bc04bd5e2de367147b08241aa6b">handler</a> = handlers[<a class="code" href="../../df/d44/permission__manager_8js.html#a5996578fe734dff3d2912807ee458e83">type</a>] || handlers.defaultHandler;
      <span class="keywordflow">if</span> (<a class="code" href="../../d1/d22/ical_8js.html#a6053319846c80bf9561a1958bb817380">typeof</a> handler === <span class="stringliteral">&#39;function&#39;</span>) {
        <span class="comment">// If the handler is a function, pass that function a</span>
        <span class="comment">// DataView object that contains the entire atom</span>
        <span class="comment">// including size and type.  Then use the return value</span>
        <span class="comment">// of the function as instructions on what to do next.</span>
        <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getMore(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.sliceOffset + <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.viewOffset, size, <span class="keyword">function</span>(atom) {
          <span class="comment">// Pass the entire atom to the handler function</span>
          var rv = handler(atom);

          <span class="comment">// If the return value is &#39;done&#39;, stop parsing.</span>
          <span class="comment">// Otherwise, continue with the next atom.</span>
          <span class="comment">// XXX: For more general parsing we need a way to pop some</span>
          <span class="comment">// stack levels.  A return value that is an atom name should mean</span>
          <span class="comment">// pop back up to this atom type and go on to the next atom</span>
          <span class="comment">// after that.</span>
          <span class="keywordflow">if</span> (rv !== <span class="stringliteral">&#39;done&#39;</span>) {
            parseAtomAt(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>, offset + size);
          }
        });
      }
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (handler === <span class="stringliteral">&#39;children&#39;</span>) {
        <span class="comment">// If the handler is this string, then assume that the atom is</span>
        <span class="comment">// a container atom and do its next child atom next</span>
        var skip = (type === <span class="stringliteral">&#39;meta&#39;</span>) ? 4 : 0; <span class="comment">// special case for meta atoms</span>
        parseAtomAt(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>, offset + contentOffset + skip);
      }
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (handler === <span class="stringliteral">&#39;skip&#39;</span> || !handler) {
        <span class="comment">// Skip the atom entirely and go on to the next one.</span>
        <span class="comment">// If there is no next one, call the eofHandler or just return</span>
        parseAtomAt(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>, offset + size);
      }
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (handler === <span class="stringliteral">&#39;done&#39;</span>) {
        <span class="comment">// Stop parsing</span>
        <span class="keywordflow">return</span>;
      }
    }

    <span class="keyword">function</span> parseAtomAt(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>, offset) {
      <span class="keywordflow">if</span> (offset &gt;= blob.size) {
        <span class="keywordflow">if</span> (handlers.eofHandler)
          handlers.eofHandler();
        <span class="keywordflow">return</span>;
      }
      <span class="keywordflow">else</span> {
        <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getMore(offset, 16, parseAtom);
      }
    }
  }

  <span class="comment">// We want to loop through the top-level atoms until we find the &#39;moov&#39;</span>
  <span class="comment">// atom. Then, within this atom, there are one or more &#39;trak&#39; atoms.</span>
  <span class="comment">// Each &#39;trak&#39; should begin with a &#39;tkhd&#39; atom. The tkhd atom has</span>
  <span class="comment">// a transformation matrix at byte 48.  The matrix is 9 32 bit integers.</span>
  <span class="comment">// We&#39;ll interpret those numbers as a rotation of 0, 90, 180 or 270.</span>
  <span class="comment">// If the video has more than one track, we expect all of them to have</span>
  <span class="comment">// the same rotation, so we&#39;ll only look at the first &#39;trak&#39; atom that</span>
  <span class="comment">// we find.</span>
  MP4Parser(blob, {
    errorHandler: <span class="keyword">function</span>(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa32988dd09d5a9481dfadbb89d1426ab">msg</a>) { rotationCallback(<a class="code" href="../../d1/d04/app__install__manager_8js.html#aa32988dd09d5a9481dfadbb89d1426ab">msg</a>); },
    eofHandler: <span class="keyword">function</span>() { rotationCallback(<a class="code" href="../../d1/d04/app__install__manager_8js.html#a66d98f9009f0502b9a5ce70e907f8f27">null</a>); },
    defaultHandler: <span class="stringliteral">&#39;skip&#39;</span>,  <span class="comment">// Skip all atoms other than those listed below</span>
    moov: <span class="stringliteral">&#39;children&#39;</span>,        <span class="comment">// Enumerate children of the moov atom</span>
    trak: <span class="stringliteral">&#39;children&#39;</span>,        <span class="comment">// Enumerate children of the trak atom</span>
    tkhd: <span class="keyword">function</span>(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>) {   <span class="comment">// Pass the tkhd atom to this function</span>
      <span class="comment">// The matrix begins at byte 48</span>
      <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.advance(48);

      var <a class="code" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.readUnsignedInt();
      var <a class="code" href="../../da/ded/jpegint_8h.html#af320905358fa78701e4cc60b6135601f">b</a> = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.readUnsignedInt();
      <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.advance(4); <span class="comment">// we don&#39;t care about this number</span>
      var <a class="code" href="../../d2/d7d/jsapi_8h.html#a348d5281ca0f01adebb262bee8baf788">c</a> = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.readUnsignedInt();
      var d = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.readUnsignedInt();

      <span class="keywordflow">if</span> (a === 0 &amp;&amp; d === 0) { <span class="comment">// 90 or 270 degrees</span>
        <span class="keywordflow">if</span> (b === 0x00010000 &amp;&amp; c === 0xFFFF0000)
          rotationCallback(90);
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (b === 0xFFFF0000 &amp;&amp; c === 0x00010000)
          rotationCallback(270);
        <span class="keywordflow">else</span>
          rotationCallback(<span class="stringliteral">&#39;unexpected rotation matrix&#39;</span>);
      }
      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (b === 0 &amp;&amp; c === 0) { <span class="comment">// 0 or 180 degrees</span>
        <span class="keywordflow">if</span> (a === 0x00010000 &amp;&amp; d === 0x00010000)
          rotationCallback(0);
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a === 0xFFFF0000 &amp;&amp; d === 0xFFFF0000)
          rotationCallback(180);
        <span class="keywordflow">else</span>
          rotationCallback(<span class="stringliteral">&#39;unexpected rotation matrix&#39;</span>);
      }
      <span class="keywordflow">else</span> {
        rotationCallback(<span class="stringliteral">&#39;unexpected rotation matrix&#39;</span>);
      }
      <span class="keywordflow">return</span> <span class="stringliteral">&#39;done&#39;</span>;
    }
  });
}
</pre></div>
<p><div class="dynheader">
関数の呼び出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js_ab788b9d95bc35ef077f98db5199435ab_cgraph.svg" width="336" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
呼出しグラフ:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js_ab788b9d95bc35ef077f98db5199435ab_icgraph.svg" width="100%" height="344"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4eeaa6fdf7f599d76cfc1264f51f3bb0"></a><!-- doxytag: member="apps/gallery/js/metadata_scripts.js::parseJPEGMetadata" ref="a4eeaa6fdf7f599d76cfc1264f51f3bb0" args="(file, metadataCallback, metadataError)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> <a class="el" href="../../d9/da5/shared_2js_2media_2jpeg__metadata__parser_8js.html#a4eeaa6fdf7f599d76cfc1264f51f3bb0">parseJPEGMetadata</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>metadataCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>metadataError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js_source.html">apps/gallery/js/metadata_scripts.js</a> の <a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js_source.html#l00434">434</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js_source.html#l00003">BlobView</a>, <a class="el" href="../../df/d44/permission__manager_8js_source.html#l00186">callback</a>, <a class="el" href="../../de/deb/jsdbgapi_8h_source.html#l00154">count</a>, <a class="el" href="../../d1/d04/app__install__manager_8js_source.html#l00508">e</a>, <a class="el" href="../../d8/d64/ns_u_r_l_helper_8h_source.html#l00152">end</a>, <a class="el" href="../../dc/d06/calendar_2js_2error_8js_source.html#l00001">Error</a>, <a class="el" href="../../db/d2a/_utility_8h_source.html#l00069">file</a>, <a class="el" href="../../da/d64/header_8py_source.html#l00123">header::header</a>, <a class="el" href="../../da/d7d/sylvester_8js_source.html#l00308">i</a>, <a class="el" href="../../d3/d91/j3d_8js_source.html#l00019">length</a>, <a class="el" href="../../d1/d04/app__install__manager_8js_source.html#l00420">null</a>, <a class="el" href="../../da/d32/prio_8h_source.html#l00938">offset</a>, <a class="el" href="../../d5/dbd/camera_2js_2camera_8js_source.html#l01423">size</a>, <a class="el" href="../../d7/dbf/build__stage_2email_2shared_2js_2media_2remote__controls_8js_source.html#l00123">start</a>, <a class="el" href="../../da/ddf/ns_i_d_o_m_progress_event_8idl_source.html#l00031">total</a>, と <a class="el" href="../../df/d44/permission__manager_8js_source.html#l00145">type</a>.</p>

<p>参照元 <a class="el" href="../../d4/d76/camera_2js_2filmstrip_8js_source.html#l00260">addImage()</a>, と <a class="el" href="../../de/dd3/imagesize_8js_source.html#l00019">getImageSize()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                  {
  <span class="comment">// This is the object we&#39;ll pass to metadataCallback</span>
  var metadata = {};

  <span class="comment">// Start off reading a 16kb slice of the JPEG file.</span>
  <span class="comment">// Hopefully, this will be all we need and everything else will</span>
  <span class="comment">// be synchronous</span>
  <a class="code" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js.html#a2406e02040a596ecb02b16dd1daf98c6">BlobView</a>.get(<a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a>, 0, Math.min(16 * 1024, <a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a>.size), <span class="keyword">function</span>(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>) {
    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.byteLength &lt; 2 ||
        <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint8(0) !== 0xFF ||
        <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint8(1) !== 0xD8) {
      metadataError(<span class="stringliteral">&#39;Not a JPEG file&#39;</span>);
      <span class="keywordflow">return</span>;
    }

    <span class="comment">// Now start reading JPEG segments</span>
    <span class="comment">// getSegment() and segmentHandler() are defined below.</span>
    getSegment(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>, 2, segmentHandler);
  });

  <span class="comment">// Read the JPEG segment at the specified offset and</span>
  <span class="comment">// pass it to the callback function.</span>
  <span class="comment">// Offset is relative to the current data offsets.</span>
  <span class="comment">// We assume that data has enough data in it that we can</span>
  <span class="comment">// can determine the size of the segment, and we guarantee that</span>
  <span class="comment">// we read extra bytes so the next call works</span>
  <span class="keyword">function</span> getSegment(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>, <a class="code" href="../../da/d32/prio_8h.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a>, <a class="code" href="../../df/d44/permission__manager_8js.html#ab95eebdb2a4acb8510417bf0bdabc3c5">callback</a>) {
    <span class="keywordflow">try</span> {
      var <a class="code" href="../../d8/dbd/namespaceheader.html#aa5b53e6fddfb0e2e76fa4f5cf837317b">header</a> = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint8(<a class="code" href="../../da/d32/prio_8h.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a>);
      <span class="keywordflow">if</span> (header !== 0xFF) {
        metadataError(<span class="stringliteral">&#39;Malformed JPEG file: bad segment header&#39;</span>);
        <span class="keywordflow">return</span>;
      }

      var <a class="code" href="../../df/d44/permission__manager_8js.html#a5996578fe734dff3d2912807ee458e83">type</a> = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint8(<a class="code" href="../../da/d32/prio_8h.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> + 1);
      var <a class="code" href="../../d5/dbd/camera_2js_2camera_8js.html#a6d7e27eaec1e5f6600e65858be43c18b">size</a> = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint16(<a class="code" href="../../da/d32/prio_8h.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> + 2) + 2;

      <span class="comment">// the absolute position of the segment</span>
      var <a class="code" href="../../d7/dbf/build__stage_2email_2shared_2js_2media_2remote__controls_8js.html#afea9dd5375e7783397a6e3911cc64e28">start</a> = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.sliceOffset + <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.viewOffset + <a class="code" href="../../da/d32/prio_8h.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a>;
      <span class="comment">// If this isn&#39;t the last segment in the file, add 4 bytes</span>
      <span class="comment">// so we can read the size of the next segment</span>
      var isLast = (start + size &gt;= <a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a>.size);
      var <a class="code" href="../../d3/d91/j3d_8js.html#a3f87557d7488bfe7545844c394baa854">length</a> = isLast ? size : size + 4;

      <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getMore(start, length,
                   <span class="keyword">function</span>(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>) {
                     <a class="code" href="../../df/d44/permission__manager_8js.html#ab95eebdb2a4acb8510417bf0bdabc3c5">callback</a>(type, size, <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>, isLast);
                   });
    }
    <span class="keywordflow">catch</span> (<a class="code" href="../../d1/d04/app__install__manager_8js.html#ab5902775854a8b8440bcd25e0fe1c120">e</a>) {
      metadataError(<a class="code" href="../../d1/d04/app__install__manager_8js.html#ab5902775854a8b8440bcd25e0fe1c120">e</a>.toString() + <span class="charliteral">&#39;\n&#39;</span> + <a class="code" href="../../d1/d04/app__install__manager_8js.html#ab5902775854a8b8440bcd25e0fe1c120">e</a>.stack);
    }
  }

  <span class="comment">// This is a callback function for getNextSegment that handles the</span>
  <span class="comment">// various types of segments we expect to see in a jpeg file</span>
  <span class="keyword">function</span> segmentHandler(type, size, <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>, isLastSegment) {
    <span class="keywordflow">try</span> {
      <span class="keywordflow">switch</span> (type) {
      <span class="keywordflow">case</span> 0xC0:  <span class="comment">// Some actual image data, including image dimensions</span>
      <span class="keywordflow">case</span> 0xC1:
      <span class="keywordflow">case</span> 0xC2:
      <span class="keywordflow">case</span> 0xC3:
        <span class="comment">// Get image dimensions</span>
        metadata.height = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint16(5);
        metadata.width = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint16(7);

        <span class="comment">// We&#39;re done. All the EXIF data will come before this segment</span>
        <span class="comment">// So call the callback</span>
        metadataCallback(metadata);
        <span class="keywordflow">break</span>;

      <span class="keywordflow">case</span> 0xE1:  <span class="comment">// APP1 segment. Probably holds EXIF metadata</span>
        parseAPP1(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>);
        <span class="comment">/* fallthrough */</span>

      <span class="keywordflow">default</span>:
        <span class="comment">// A segment we don&#39;t care about, so just go on and read the next one</span>
        <span class="keywordflow">if</span> (isLastSegment) {
          metadataError(<span class="stringliteral">&#39;unexpected end of JPEG file&#39;</span>);
          <span class="keywordflow">return</span>;
        }
        getSegment(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>, size, segmentHandler);
      }
    }
    <span class="keywordflow">catch</span> (<a class="code" href="../../d1/d04/app__install__manager_8js.html#ab5902775854a8b8440bcd25e0fe1c120">e</a>) {
      metadataError(<a class="code" href="../../d1/d04/app__install__manager_8js.html#ab5902775854a8b8440bcd25e0fe1c120">e</a>.toString() + <span class="charliteral">&#39;\n&#39;</span> + <a class="code" href="../../d1/d04/app__install__manager_8js.html#ab5902775854a8b8440bcd25e0fe1c120">e</a>.stack);
    }
  }

  <span class="keyword">function</span> parseAPP1(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>) {
    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint32(4, <span class="keyword">false</span>) === 0x45786966) { <span class="comment">// &quot;Exif&quot;</span>
      var exif = parseEXIFData(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>);

      <span class="keywordflow">if</span> (exif.THUMBNAIL &amp;&amp; exif.THUMBNAILLENGTH) {
        var start = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.sliceOffset + <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.viewOffset + 10 + exif.THUMBNAIL;
        metadata.preview = {
          start: <a class="code" href="../../d7/dbf/build__stage_2email_2shared_2js_2media_2remote__controls_8js.html#afea9dd5375e7783397a6e3911cc64e28">start</a>,
          <a class="code" href="../../d8/d64/ns_u_r_l_helper_8h.html#abe43fe84431eb0cabf3c21ccc94bd756">end</a>: start + exif.THUMBNAILLENGTH
        };
      }

      <span class="comment">// map exif orientation flags for easy transforms</span>
      <span class="keywordflow">switch</span> (exif.ORIENTATION) {
        <span class="keywordflow">case</span> undefined:
        <span class="keywordflow">case</span> 1:
          metadata.rotation = 0;
          metadata.mirrored = <span class="keyword">false</span>;
          <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> 2:
          metadata.rotation = 0;
          metadata.mirrored = <span class="keyword">true</span>;
          <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> 3:
          metadata.rotation = 180;
          metadata.mirrored = <span class="keyword">false</span>;
          <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> 4:
          metadata.rotation = 180;
          metadata.mirrored = <span class="keyword">true</span>;
          <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> 5:
          metadata.rotation = 90;
          metadata.mirrored = <span class="keyword">true</span>;
          <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> 6:
          metadata.rotation = 90;
          metadata.mirrored = <span class="keyword">false</span>;
          <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> 7:
          metadata.rotation = 270;
          metadata.mirrored = <span class="keyword">true</span>;
          <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> 8:
          metadata.rotation = 270;
          metadata.mirrored = <span class="keyword">false</span>;
          <span class="keywordflow">break</span>;
        <span class="keywordflow">default</span>:
          <span class="keywordflow">throw</span> <a class="code" href="../../dc/d06/calendar_2js_2error_8js.html#abd05c43175d3c93c6889542cefc822f3">Error</a>(<span class="stringliteral">&#39;Unknown Exif code for orientation&#39;</span>);
      }
    }
  }

  <span class="comment">// Parse an EXIF segment from a JPEG file and return an object</span>
  <span class="comment">// of metadata attributes. The argument must be a DataView object</span>
  <span class="keyword">function</span> parseEXIFData(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>) {
    var exif = {};

    var byteorder = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint8(10);
    <span class="keywordflow">if</span> (byteorder === 0x4D) {  <span class="comment">// big endian</span>
      byteorder = <span class="keyword">false</span>;
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (byteorder === 0x49) {  <span class="comment">// little endian</span>
      byteorder = <span class="keyword">true</span>;
    } <span class="keywordflow">else</span> {
      <span class="keywordflow">throw</span> <a class="code" href="../../dc/d06/calendar_2js_2error_8js.html#abd05c43175d3c93c6889542cefc822f3">Error</a>(<span class="stringliteral">&#39;invalid byteorder in EXIF segment&#39;</span>);
    }

    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint16(12, byteorder) !== 42) { <span class="comment">// magic number</span>
      <span class="keywordflow">throw</span> <a class="code" href="../../dc/d06/calendar_2js_2error_8js.html#abd05c43175d3c93c6889542cefc822f3">Error</a>(<span class="stringliteral">&#39;bad magic number in EXIF segment&#39;</span>);
    }

    var <a class="code" href="../../da/d32/prio_8h.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a> = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint32(14, byteorder);

     <span class="comment">// This is how we would parse all EXIF metadata more generally.</span>
     <span class="comment">// Especially need for iamge orientation</span>
    parseIFD(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>, offset + 10, byteorder, exif, <span class="keyword">true</span>);

    <span class="comment">// I&#39;m leaving this code in as a comment in case we need other EXIF</span>
    <span class="comment">// data in the future.</span>
    <span class="comment">// if (exif.EXIFIFD) {</span>
    <span class="comment">//   parseIFD(data, exif.EXIFIFD + 10, byteorder, exif);</span>
    <span class="comment">//   delete exif.EXIFIFD;</span>
    <span class="comment">// }</span>

    <span class="comment">// if (exif.GPSIFD) {</span>
    <span class="comment">//   parseIFD(data, exif.GPSIFD + 10, byteorder, exif);</span>
    <span class="comment">//   delete exif.GPSIFD;</span>
    <span class="comment">// }</span>

    <span class="comment">// Instead of a general purpose EXIF parse, we&#39;re going to drill</span>
    <span class="comment">// down directly to the thumbnail image.</span>
    <span class="comment">// We&#39;re in IFD0 here. We want the offset of IFD1</span>
    var ifd0entries = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint16(offset + 10, byteorder);
    var ifd1 = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint32(offset + 12 + 12 * ifd0entries, byteorder);
    <span class="comment">// If there is an offset for IFD1, parse that</span>
    <span class="keywordflow">if</span> (ifd1 !== 0)
      parseIFD(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>, ifd1 + 10, byteorder, exif, <span class="keyword">true</span>);

    <span class="keywordflow">return</span> exif;
  }

  <span class="keyword">function</span> parseIFD(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>, offset, byteorder, exif, onlyParseOne) {
    var numentries = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint16(offset, byteorder);
    <span class="keywordflow">for</span> (var <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; numentries; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++) {
      parseEntry(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>, offset + 2 + 12 * <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>, byteorder, exif);
    }

    <span class="keywordflow">if</span> (onlyParseOne)
      <span class="keywordflow">return</span>;

    var next = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint32(offset + 2 + 12 * numentries, byteorder);
    <span class="keywordflow">if</span> (next !== 0 &amp;&amp; next &lt; <a class="code" href="../../db/d2a/_utility_8h.html#a5f21914f6755df23fc8ddbf42503beca">file</a>.size) {
      parseIFD(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>, next + 10, byteorder, exif);
    }
  }

  <span class="comment">// size, in bytes, of each TIFF data type</span>
  var typesize = [
    0,   <span class="comment">// Unused</span>
    1,   <span class="comment">// BYTE</span>
    1,   <span class="comment">// ASCII</span>
    2,   <span class="comment">// SHORT</span>
    4,   <span class="comment">// LONG</span>
    8,   <span class="comment">// RATIONAL</span>
    1,   <span class="comment">// SBYTE</span>
    1,   <span class="comment">// UNDEFINED</span>
    2,   <span class="comment">// SSHORT</span>
    4,   <span class="comment">// SLONG</span>
    8,   <span class="comment">// SRATIONAL</span>
    4,   <span class="comment">// FLOAT</span>
    8    <span class="comment">// DOUBLE</span>
  ];

  <span class="comment">// This object maps EXIF tag numbers to their names.</span>
  <span class="comment">// Only list the ones we want to bother parsing and returning.</span>
  <span class="comment">// All others will be ignored.</span>
  var tagnames = {
    <span class="comment">/*</span>
<span class="comment">     * We don&#39;t currently use any of these EXIF tags for anything.</span>
<span class="comment">     *</span>
<span class="comment">     *</span>
<span class="comment">     &#39;256&#39;: &#39;ImageWidth&#39;,</span>
<span class="comment">     &#39;257&#39;: &#39;ImageHeight&#39;,</span>
<span class="comment">     &#39;40962&#39;: &#39;PixelXDimension&#39;,</span>
<span class="comment">     &#39;40963&#39;: &#39;PixelYDimension&#39;,</span>
<span class="comment">     &#39;306&#39;: &#39;DateTime&#39;,</span>
<span class="comment">     &#39;315&#39;: &#39;Artist&#39;,</span>
<span class="comment">     &#39;33432&#39;: &#39;Copyright&#39;,</span>
<span class="comment">     &#39;36867&#39;: &#39;DateTimeOriginal&#39;,</span>
<span class="comment">     &#39;33434&#39;: &#39;ExposureTime&#39;,</span>
<span class="comment">     &#39;33437&#39;: &#39;FNumber&#39;,</span>
<span class="comment">     &#39;34850&#39;: &#39;ExposureProgram&#39;,</span>
<span class="comment">     &#39;34867&#39;: &#39;ISOSpeed&#39;,</span>
<span class="comment">     &#39;37377&#39;: &#39;ShutterSpeedValue&#39;,</span>
<span class="comment">     &#39;37378&#39;: &#39;ApertureValue&#39;,</span>
<span class="comment">     &#39;37379&#39;: &#39;BrightnessValue&#39;,</span>
<span class="comment">     &#39;37380&#39;: &#39;ExposureBiasValue&#39;,</span>
<span class="comment">     &#39;37382&#39;: &#39;SubjectDistance&#39;,</span>
<span class="comment">     &#39;37383&#39;: &#39;MeteringMode&#39;,</span>
<span class="comment">     &#39;37384&#39;: &#39;LightSource&#39;,</span>
<span class="comment">     &#39;37385&#39;: &#39;Flash&#39;,</span>
<span class="comment">     &#39;37386&#39;: &#39;FocalLength&#39;,</span>
<span class="comment">     &#39;41986&#39;: &#39;ExposureMode&#39;,</span>
<span class="comment">     &#39;41987&#39;: &#39;WhiteBalance&#39;,</span>
<span class="comment">     &#39;41991&#39;: &#39;GainControl&#39;,</span>
<span class="comment">     &#39;41992&#39;: &#39;Contrast&#39;,</span>
<span class="comment">     &#39;41993&#39;: &#39;Saturation&#39;,</span>
<span class="comment">     &#39;41994&#39;: &#39;Sharpness&#39;,</span>
<span class="comment">    // These are special tags that we handle internally</span>
<span class="comment">     &#39;34665&#39;: &#39;EXIFIFD&#39;,         // Offset of EXIF data</span>
<span class="comment">     &#39;34853&#39;: &#39;GPSIFD&#39;,          // Offset of GPS data</span>
<span class="comment">    */</span>
    <span class="stringliteral">&#39;274&#39;</span> : <span class="stringliteral">&#39;ORIENTATION&#39;</span>,
    <span class="stringliteral">&#39;513&#39;</span>: <span class="stringliteral">&#39;THUMBNAIL&#39;</span>,         <span class="comment">// Offset of thumbnail</span>
    <span class="stringliteral">&#39;514&#39;</span>: <span class="stringliteral">&#39;THUMBNAILLENGTH&#39;</span>    <span class="comment">// Length of thumbnail</span>
  };

  <span class="keyword">function</span> parseEntry(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>, offset, byteorder, exif) {
    var tag = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint16(offset, byteorder);
    var tagname = tagnames[tag];

    <span class="comment">// If we don&#39;t know about this tag type or already processed it, skip it</span>
    <span class="keywordflow">if</span> (!tagname || exif[tagname])
      <span class="keywordflow">return</span>;

    var type = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint16(offset + 2, byteorder);
    var <a class="code" href="../../de/deb/jsdbgapi_8h.html#af811e5c0ef06b777b160f87806b7285e">count</a> = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint32(offset + 4, byteorder);

    var <a class="code" href="../../da/ddf/ns_i_d_o_m_progress_event_8idl.html#ac3db248c35e11a75b4e99f0087d77c90">total</a> = count * typesize[<a class="code" href="../../df/d44/permission__manager_8js.html#a5996578fe734dff3d2912807ee458e83">type</a>];
    var valueOffset = total &lt;= 4 ? offset + 8 :
      <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint32(offset + 8, byteorder);
    exif[tagname] = parseValue(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>, valueOffset, type, count, byteorder);
  }

  <span class="keyword">function</span> parseValue(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>, offset, type, count, byteorder) {
    <span class="keywordflow">if</span> (type === 2) { <span class="comment">// ASCII string</span>
      var codes = [];
      <span class="keywordflow">for</span> (var <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; count - 1; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++) {
        codes[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>] = <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint8(offset + <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>);
      }
      <span class="keywordflow">return</span> String.fromCharCode.apply(String, codes);
    } <span class="keywordflow">else</span> {
      <span class="keywordflow">if</span> (count == 1) {
        <span class="keywordflow">return</span> parseOneValue(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>, offset, type, byteorder);
      } <span class="keywordflow">else</span> {
        var values = [];
        var size = typesize[<a class="code" href="../../df/d44/permission__manager_8js.html#a5996578fe734dff3d2912807ee458e83">type</a>];
        <span class="keywordflow">for</span> (var <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; <a class="code" href="../../de/deb/jsdbgapi_8h.html#af811e5c0ef06b777b160f87806b7285e">count</a>; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++) {
          values[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>] = parseOneValue(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>, offset + size * <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>, type, byteorder);
        }
        <span class="keywordflow">return</span> values;
      }
    }
  }

  <span class="keyword">function</span> parseOneValue(<a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>, offset, type, byteorder) {
    <span class="keywordflow">switch</span> (type) {
    <span class="keywordflow">case</span> 1: <span class="comment">// BYTE</span>
    <span class="keywordflow">case</span> 7: <span class="comment">// UNDEFINED</span>
      <span class="keywordflow">return</span> <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint8(offset);
    <span class="keywordflow">case</span> 2: <span class="comment">// ASCII</span>
      <span class="comment">// This case is handed in parseValue</span>
      <span class="keywordflow">return</span> <a class="code" href="../../d1/d04/app__install__manager_8js.html#a66d98f9009f0502b9a5ce70e907f8f27">null</a>;
    <span class="keywordflow">case</span> 3: <span class="comment">// SHORT</span>
      <span class="keywordflow">return</span> <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint16(offset, byteorder);
    <span class="keywordflow">case</span> 4: <span class="comment">// LONG</span>
      <span class="keywordflow">return</span> <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint32(offset, byteorder);
    <span class="keywordflow">case</span> 5: <span class="comment">// RATIONAL</span>
      <span class="keywordflow">return</span> <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint32(offset, byteorder) /
        <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getUint32(offset + 4, byteorder);
    <span class="keywordflow">case</span> 6: <span class="comment">// SBYTE</span>
      <span class="keywordflow">return</span> <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getInt8(offset);
    <span class="keywordflow">case</span> 8: <span class="comment">// SSHORT</span>
      <span class="keywordflow">return</span> <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getInt16(offset, byteorder);
    <span class="keywordflow">case</span> 9: <span class="comment">// SLONG</span>
      <span class="keywordflow">return</span> <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getInt32(offset, byteorder);
    <span class="keywordflow">case</span> 10: <span class="comment">// SRATIONAL</span>
      <span class="keywordflow">return</span> <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getInt32(offset, byteorder) /
        <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getInt32(offset + 4, byteorder);
    <span class="keywordflow">case</span> 11: <span class="comment">// FLOAT</span>
      <span class="keywordflow">return</span> <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getFloat32(offset, byteorder);
    <span class="keywordflow">case</span> 12: <span class="comment">// DOUBLE</span>
      <span class="keywordflow">return</span> <a class="code" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>.getFloat64(offset, byteorder);
    }
    <span class="keywordflow">return</span> <a class="code" href="../../d1/d04/app__install__manager_8js.html#a66d98f9009f0502b9a5ce70e907f8f27">null</a>;
  }
}
</pre></div>
<p><div class="dynheader">
呼出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js_a4eeaa6fdf7f599d76cfc1264f51f3bb0_icgraph.svg" width="307" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a2406e02040a596ecb02b16dd1daf98c6"></a><!-- doxytag: member="apps/gallery/js/metadata_scripts.js::BlobView" ref="a2406e02040a596ecb02b16dd1daf98c6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">var <a class="el" href="../../d1/da7/test__apps_2music2_2js_2metadata__scripts_8js.html#a2406e02040a596ecb02b16dd1daf98c6">BlobView</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js_source.html">apps/gallery/js/metadata_scripts.js</a> の <a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js_source.html#l00003">3</a> 行で定義されています。</p>

<p>参照元 <a class="el" href="../../de/dd3/imagesize_8js_source.html#l00019">getImageSize()</a>, <a class="el" href="../../d8/d19/build__stage_2email_2shared_2js_2media_2get__video__rotation_8js_source.html#l00015">getVideoRotation()</a>, <a class="el" href="../../d1/ddd/apps_2music_2js_2metadata_8js_source.html#l00005">parseAudioMetadata()</a>, と <a class="el" href="../../db/dfa/build__stage_2email_2shared_2js_2media_2jpeg__metadata__parser_8js_source.html#l00017">parseJPEGMetadata()</a>.</p>

</div>
</div>
<a class="anchor" id="a1663d790c01d578b4d59cfe354e836ef"></a><!-- doxytag: member="apps/gallery/js/metadata_scripts.js::metadataParser" ref="a1663d790c01d578b4d59cfe354e836ef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">var <a class="el" href="../../d6/daa/_metadata_parser_8js.html#a1663d790c01d578b4d59cfe354e836ef">metadataParser</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js_source.html">apps/gallery/js/metadata_scripts.js</a> の <a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js_source.html#l00986">986</a> 行で定義されています。</p>

<p>参照元 <a class="el" href="../../d0/da2/gallery_8js_source.html#l00210">initDB()</a>.</p>

</div>
</div>
<a class="anchor" id="ae2475e10618961c050dcba04e8c42331"></a><!-- doxytag: member="apps/gallery/js/metadata_scripts.js::strict" ref="ae2475e10618961c050dcba04e8c42331" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d1b/test-agent-server_8js.html#aab71dcc804ca4aa3ed2bf7ba887635db">use</a> <a class="el" href="../../de/dc5/jsfriendapi_8h.html#a8cddd7ed2617ebace48da2e8e44f267c">strict</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js_source.html">apps/gallery/js/metadata_scripts.js</a> の <a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js_source.html#l00001">1</a> 行で定義されています。</p>

</div>
</div>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../df/dcd/apps_2gallery_2js_2metadata__scripts_8js.html">metadata_scripts.js</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 00:56:17に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
