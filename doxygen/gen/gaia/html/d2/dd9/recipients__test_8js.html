<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: recipients_test.js</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li class="current"><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>ファイル一覧</span></a></li>
      <li><a href="../../globals.html"><span>グローバル</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d2/dd9/recipients__test_8js.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">関数</a> &#124;
<a href="#var-members">変数</a>  </div>
  <div class="headertitle">
<div class="title">recipients_test.js</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="../../d2/dd9/recipients__test_8js_source.html">ソースコードを見る。</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
関数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd9/recipients__test_8js.html#ab908269f261348face55e7951d2e3cfc">requireApp</a> ('system/<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>/unit/mock_gesture_detector.js')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/dd9/recipients__test_8js.html#a1cafbfeadc4fd2c97077c4ff515751f9">mocksHelperForRecipients</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd9/recipients__test_8js.html#a3fcaaf99839152aed58a9fa920c8fcea">init</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd9/recipients__test_8js.html#a60b7256b387c2b2ef96885f07464b95b">suite</a> ('Recipients', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var recipients;var fixture;var <a class="el" href="../../d9/d7f/compose__test_8js.html#a0febeec624e264448191b704321c7df1">mocksHelper</a>=<a class="el" href="../../d2/dd9/recipients__test_8js.html#a1cafbfeadc4fd2c97077c4ff515751f9">mocksHelperForRecipients</a>;var <a class="el" href="../../dc/db8/system_2test_2unit_2action__menu__test_8js.html#a2aabcf5791ac4e05eb7c34d450848ae5">realL10n</a>;suiteSetup(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){mocksHelper.suiteSetup();<a class="el" href="../../dc/db8/system_2test_2unit_2action__menu__test_8js.html#a2aabcf5791ac4e05eb7c34d450848ae5">realL10n</a>=<a class="el" href="../../df/dc7/viewer_8js.html#abf8c988c23b2b2f5ec3f1149b44bd820">navigator.mozL10n</a>;<a class="el" href="../../df/dc7/viewer_8js.html#abf8c988c23b2b2f5ec3f1149b44bd820">navigator.mozL10n</a>=<a class="el" href="../../dd/daf/system_2test_2unit_2mock__l10n_8js.html#af9a9d6d42b9a7f8153f63783711f14c3">MockL10n</a>;});suiteTeardown(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){mocksHelper.suiteTeardown();<a class="el" href="../../df/dc7/viewer_8js.html#abf8c988c23b2b2f5ec3f1149b44bd820">navigator.mozL10n</a>=<a class="el" href="../../dc/db8/system_2test_2unit_2action__menu__test_8js.html#a2aabcf5791ac4e05eb7c34d450848ae5">realL10n</a>;<a class="el" href="../../dc/db8/system_2test_2unit_2action__menu__test_8js.html#a2aabcf5791ac4e05eb7c34d450848ae5">realL10n</a>=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;});<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> isValid(candidate, <a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>){<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">candidate.name</a>===<a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>||candidate.number===<a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>);}<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){loadBodyHTML('/index.html');<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">mocksHelper.setup</a>();this.sinon.spy(<a class="el" href="../../d6/dec/mocha-bin_8js.html#a240a06b4dda3a9e2e025ed5792cd5f4e">Recipients.prototype</a>, '<a class="el" href="../../d3/d91/j3d_8js.html#ae7817194480cfc900873938c8e7dd602">render</a>');this.sinon.spy(<a class="el" href="../../d6/dec/mocha-bin_8js.html#a240a06b4dda3a9e2e025ed5792cd5f4e">Recipients.View.prototype</a>, '<a class="el" href="../../d3/d91/j3d_8js.html#ae7817194480cfc900873938c8e7dd602">render</a>');this.sinon.spy(<a class="el" href="../../d6/dec/mocha-bin_8js.html#a240a06b4dda3a9e2e025ed5792cd5f4e">Recipients.View.prototype</a>, '<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a6d342aea8f30c5f641ed5ff6e0f4de13">visible</a>');this.sinon.spy(<a class="el" href="../../d6/dec/mocha-bin_8js.html#a240a06b4dda3a9e2e025ed5792cd5f4e">Element.prototype</a>, '<a class="el" href="../../df/dc7/viewer_8js.html#a3282f5483ef3747cd693b790b87d0ae3">scrollIntoView</a>');this.sinon.spy(<a class="el" href="../../d6/dec/mocha-bin_8js.html#a240a06b4dda3a9e2e025ed5792cd5f4e">HTMLElement.prototype</a>, '<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a872ddc88b9ec9139cb46823219ad16c8">focus</a>');recipients=new Recipients({outer: 'messages-<a class="el" href="../../da/d32/prio_8h.html#a5d467a63df9ff99d33d6749038f6f421">to</a>-field', inner: 'messages-recipients-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>', template:new <a class="el" href="../../dd/d78/shared_2js_2template_8js.html#a81d0729fc921367758f63c5ace0d54a6">Template</a>('messages-recipient-tmpl')});fixture={name: 'foo', number: '999', email: '<a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> @b.com', source: 'none', editable: '<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>', type: '<a class="el" href="../../d3/d0f/ns_display_item_types_8h.html#a1d1cfd8ffb84e947f82999c682b666a7">Type</a>', separator: '| ', carrier: '<a class="el" href="../../d7/d9e/carrier_8js.html#ae5b1fb0994f0c3ff40532c5677a84bb5">Carrier</a>'};});teardown(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){mocksHelper.teardown();recipients=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;fixture=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('<a class="el" href="../../d7/d8a/list_8js.html#a8a1a2034843b0ebcea5dbc6450eaf356">List</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('Recipients', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(Recipients);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">Recipients.prototype.add</a>);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(<a class="el" href="../../dd/d6d/mock__spinner_8js.html#ab10b009b0da48f61217a18daf8e20cd8">Recipients.prototype.update</a>);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">Recipients.prototype.remove</a>);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(<a class="el" href="../../d3/d91/j3d_8js.html#ae7817194480cfc900873938c8e7dd602">Recipients.prototype.render</a>);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">Recipients.prototype.on</a>);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a8f93e3d7a5d6496d4ad3a9c2efd07229">Recipients.prototype.off</a>);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#a77912f28da5efe73d20f6c0c487bac9f">Recipients.prototype.emit</a>);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>() 1 ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var recipient;<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);recipient=<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">recipients.list</a>[0];assert.deepEqual(recipient, fixture);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>() 2 ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>({number: '999'});<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>({number: '777'});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.length</a>, 2);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(isValid(<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">recipients.list</a>[0], '999'));<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(isValid(<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">recipients.list</a>[1], '777'));});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>() allows dups ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>({number: '999'});<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>({number: '999'});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.length</a>, 2);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(isValid(<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">recipients.list</a>[0], '999'));<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(isValid(<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">recipients.list</a>[1], '999'));});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>()[invalid] &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){try{<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>({});<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(<a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>);}<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#af39c2275c702dbe367eb69898156da2a">catch</a>(<a class="el" href="../../d1/d03/locales_2_r_e_a_d_m_e_8md.html#abfc48c566ed05b3908825f01ea7462a4">e</a>){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d2/d7d/jsapi_8h.html#a254bf0858da09c96a48daf64404eb4f8">e.message</a>, 'recipient entry missing number');}});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">recipients.remove</a>(recipient) ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var recipient;<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);recipient=<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">recipients.list</a>[0];assert.deepEqual(recipient, fixture);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(isValid(recipient, '999'));<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">recipients.remove</a>(recipient);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.length</a>, 0);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(recipients.render.calledTwice);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">recipients.remove</a>(nonexistant) ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var recipient;<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">recipients.remove</a>(<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.length</a>, 1);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(recipients.render.calledOnce);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">recipients.remove</a>(<a class="el" href="../../d2/d7d/jsapi_8h.html#aafd95f8c7a99b9189ede7cdf0871ebe8">index</a>) ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var recipient;<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.length</a>, 1);<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">recipients.remove</a>(0);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.length</a>, 0);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../dd/d6d/mock__spinner_8js.html#ab10b009b0da48f61217a18daf8e20cd8">recipients.update</a>(recipient, entry) ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var recipient;<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);recipient=<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">recipients.list</a>[0];<a class="el" href="../../dd/d6d/mock__spinner_8js.html#ab10b009b0da48f61217a18daf8e20cd8">recipients.update</a>(recipient,{number:555});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">recipients.list</a>[0].number, '555');});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../dd/d6d/mock__spinner_8js.html#ab10b009b0da48f61217a18daf8e20cd8">recipients.update</a>(<a class="el" href="../../d2/d7d/jsapi_8h.html#aafd95f8c7a99b9189ede7cdf0871ebe8">index</a>, entry) ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var recipient;<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);recipient=<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">recipients.list</a>[0];<a class="el" href="../../dd/d6d/mock__spinner_8js.html#ab10b009b0da48f61217a18daf8e20cd8">recipients.update</a>(0,{number:555});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">recipients.list</a>[0].number, '555');});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.length</a>(accessor, <a class="el" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#a18697261a961b9d0efde405b5a2b244f">get</a>) ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.length</a>, 1);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.length</a>(accessor, <a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#a7d50e9587913d4f6634c0b0c8de693c7">set</a>/truncate) ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.length</a>=0;<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.length</a>, 0);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../d3/d4b/lockscreen_8js.html#a938b32fda407cb72475eb58a9d387c8b">recipients.numbers</a>(accessor, <a class="el" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#a18697261a961b9d0efde405b5a2b244f">get</a>) ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.numbers.length</a>, 1);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d3/d4b/lockscreen_8js.html#a938b32fda407cb72475eb58a9d387c8b">recipients.numbers</a>[0], '999');});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../d3/d4b/lockscreen_8js.html#a938b32fda407cb72475eb58a9d387c8b">recipients.numbers</a>(accessor, <a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#a7d50e9587913d4f6634c0b0c8de693c7">set</a>/no-op) ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.numbers.length</a>, 1);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d3/d4b/lockscreen_8js.html#a938b32fda407cb72475eb58a9d387c8b">recipients.numbers</a>[0], '999');<a class="el" href="../../d3/d4b/lockscreen_8js.html#a938b32fda407cb72475eb58a9d387c8b">recipients.numbers</a>[0]= '***';<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d3/d4b/lockscreen_8js.html#a938b32fda407cb72475eb58a9d387c8b">recipients.numbers</a>[0], '999');});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../d3/d4b/lockscreen_8js.html#a938b32fda407cb72475eb58a9d387c8b">recipients.numbers</a> is <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> <a class="el" href="../../d1/dce/utils_81_83_8js.html#abe7469c62444710f8109c4516f711ace">unique</a> <a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a> ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.numbers.length</a>, 1);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d3/d4b/lockscreen_8js.html#a938b32fda407cb72475eb58a9d387c8b">recipients.numbers</a>[0], '999');});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">recipients.on</a>(<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">add</a>,...)', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(<a class="el" href="../../de/dc7/share-receiver_8js.html#af9c6eaaef1f3af067f5ea1aff90ff861">done</a>){<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">recipients.on</a>('<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">add</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(<a class="el" href="../../de/d8f/jsdebug_8h.html#af0b029640ba74e8a63ae0af6f51680ca">count</a>){<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.numbers.length</a>, 1);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d3/d4b/lockscreen_8js.html#a938b32fda407cb72475eb58a9d387c8b">recipients.numbers</a>[0], '999');<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d8f/jsdebug_8h.html#af0b029640ba74e8a63ae0af6f51680ca">count</a>, 1);<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a8f93e3d7a5d6496d4ad3a9c2efd07229">recipients.off</a>('<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">add</a>');<a class="el" href="../../de/dc7/share-receiver_8js.html#af9c6eaaef1f3af067f5ea1aff90ff861">done</a>();});<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">recipients.on</a>(<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">remove</a>,...)', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(<a class="el" href="../../de/dc7/share-receiver_8js.html#af9c6eaaef1f3af067f5ea1aff90ff861">done</a>){<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">recipients.on</a>('<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">remove</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(<a class="el" href="../../de/d8f/jsdebug_8h.html#af0b029640ba74e8a63ae0af6f51680ca">count</a>){<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.numbers.length</a>, 0);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d8f/jsdebug_8h.html#af0b029640ba74e8a63ae0af6f51680ca">count</a>, 0);<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a8f93e3d7a5d6496d4ad3a9c2efd07229">recipients.off</a>('<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">remove</a>');<a class="el" href="../../de/dc7/share-receiver_8js.html#af9c6eaaef1f3af067f5ea1aff90ff861">done</a>();});<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">recipients.remove</a>(<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">recipients.list</a>[0]);});});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('Recipients.View', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> getStyles(elem, prop){var styles=window.getComputedStyle(elem, <a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>);<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> <a class="el" href="../../d7/d9f/thread_8js.html#aa8dea74882346c7746113d234836bb3a">typeof</a> prop!== 'undefined'?styles[prop]:styles;}var <a class="el" href="../../db/d80/download_8js.html#acc4e419f5bedc9e697af56e25c615638">view</a>={inner:null};var is={corresponding:function(recipient, avatar, <a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>){<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> is.recipient(recipient, <a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>)&amp;&amp;is.avatar(avatar, <a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>);}, recipient:function(candidate, <a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>){<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">candidate.name</a>===<a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>||candidate.number===<a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>);}, avatar:function(candidate, <a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>){return!is.placeholder(candidate)&amp;&amp;!is.editable(candidate)&amp;&amp;<a class="el" href="../../d1/dce/utils_81_83_8js.html#a73823092f50a5f0d8c04a043d0996430">candidate.textContent.trim</a>()===<a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>;}, placeholder:function(candidate, opts){opts=opts||{isEmpty:true};<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> candidate.isPlaceholder &amp;&amp;((opts.isEmpty &amp;&amp;<a class="el" href="../../d1/dce/utils_81_83_8js.html#a73823092f50a5f0d8c04a043d0996430">candidate.textContent.trim</a>()=== '')||<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>);}, editable:function(candidate){<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> candidate.contentEditable===<a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>;}, narrow:function(elem){<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> elem.offsetWidth===0;}, wide:function(elem){<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> elem.offsetWidth &gt; 0;}};<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('Recipients.View ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(Recipients.View);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(<a class="el" href="../../da/dab/system_2camera_2js_2filmstrip_8js.html#a30a5f1efdb2e5f6d5981b81ea3205a55">Recipients.View.prototype.clear</a>);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(<a class="el" href="../../df/d12/latin__test_8js.html#aa01b7cbc60d07525859f73a229026697">Recipients.View.prototype.reset</a>);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(<a class="el" href="../../d3/d91/j3d_8js.html#ae7817194480cfc900873938c8e7dd602">Recipients.View.prototype.render</a>);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a872ddc88b9ec9139cb46823219ad16c8">Recipients.View.prototype.focus</a>);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ac6a12d37a530b7cf73589f08f0fbf311">Recipients.View.prototype.handleEvent</a>);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('initialization creates placeholder ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var <a class="el" href="../../db/d80/download_8js.html#acc4e419f5bedc9e697af56e25c615638">view</a>=<a class="el" href="../../d4/d8c/viewphoto_8js.html#a6d08c5d82e2ca7c6042afb9f8ae078c1">document.getElementById</a>('messages-recipients-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>');<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.placeholder(view.firstElementChild));<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.narrow(view.firstElementChild));});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('editable placeholder expands ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var <a class="el" href="../../db/d80/download_8js.html#acc4e419f5bedc9e697af56e25c615638">view</a>=<a class="el" href="../../d4/d8c/viewphoto_8js.html#a6d08c5d82e2ca7c6042afb9f8ae078c1">document.getElementById</a>('messages-recipients-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>');view.firstElementChild.click();<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">view.firstElementChild.textContent</a>= 'foo';<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.wide(view.firstElementChild));});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('editable placeholder contracts ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var <a class="el" href="../../db/d80/download_8js.html#acc4e419f5bedc9e697af56e25c615638">view</a>=<a class="el" href="../../d4/d8c/viewphoto_8js.html#a6d08c5d82e2ca7c6042afb9f8ae078c1">document.getElementById</a>('messages-recipients-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>');view.firstElementChild.click();<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">view.firstElementChild.textContent</a>= 'foo';<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.wide(view.firstElementChild));<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">view.firstElementChild.textContent</a>= '';view.firstElementChild.blur();<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.narrow(view.firstElementChild));});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>() 1, displays 1 recipient', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var <a class="el" href="../../db/d80/download_8js.html#acc4e419f5bedc9e697af56e25c615638">view</a>=<a class="el" href="../../d4/d8c/viewphoto_8js.html#a6d08c5d82e2ca7c6042afb9f8ae078c1">document.getElementById</a>('messages-recipients-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>');<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">view.children.length</a>, 2);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.corresponding(<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">recipients.list</a>[0], view.firstElementChild, 'foo'));<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.placeholder(view.lastElementChild));});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>() 2, displays 2 recipients ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var <a class="el" href="../../db/d80/download_8js.html#acc4e419f5bedc9e697af56e25c615638">view</a>=<a class="el" href="../../d4/d8c/viewphoto_8js.html#a6d08c5d82e2ca7c6042afb9f8ae078c1">document.getElementById</a>('messages-recipients-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>');<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>({number: '999'});<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>({number: '777'});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">view.children.length</a>, 3);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.corresponding(<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">recipients.list</a>[0], view.children[0], '999'));<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.corresponding(<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">recipients.list</a>[1], view.children[1], '777'));<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.placeholder(view.lastElementChild));});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>() allows dups, displays correctly ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var <a class="el" href="../../db/d80/download_8js.html#acc4e419f5bedc9e697af56e25c615638">view</a>=<a class="el" href="../../d4/d8c/viewphoto_8js.html#a6d08c5d82e2ca7c6042afb9f8ae078c1">document.getElementById</a>('messages-recipients-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>');<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>({number: '999'});<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>({number: '999'});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.length</a>, 2);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">view.children.length</a>, 3);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.corresponding(<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">recipients.list</a>[0], view.children[0], '999'));<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.corresponding(<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">recipients.list</a>[1], view.children[1], '999'));<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.placeholder(view.lastElementChild));});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">recipients.remove</a>(recipient), displays correctly ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var <a class="el" href="../../db/d80/download_8js.html#acc4e419f5bedc9e697af56e25c615638">view</a>=<a class="el" href="../../d4/d8c/viewphoto_8js.html#a6d08c5d82e2ca7c6042afb9f8ae078c1">document.getElementById</a>('messages-recipients-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>');var recipient;<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);recipient=<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">recipients.list</a>[0];<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.corresponding(recipient, view.children[0], 'foo'));<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.placeholder(view.lastElementChild));<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">recipients.remove</a>(recipient);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.placeholder(view.firstElementChild));<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.placeholder(view.lastElementChild));<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(view.firstElementChild, view.lastElementChild);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../dd/d6d/mock__spinner_8js.html#ab10b009b0da48f61217a18daf8e20cd8">recipients.update</a>(recipient, entry) ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var <a class="el" href="../../db/d80/download_8js.html#acc4e419f5bedc9e697af56e25c615638">view</a>=<a class="el" href="../../d4/d8c/viewphoto_8js.html#a6d08c5d82e2ca7c6042afb9f8ae078c1">document.getElementById</a>('messages-recipients-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>');var recipient;<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);recipient=<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">recipients.list</a>[0];<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.corresponding(recipient, view.children[0], 'foo'));<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.placeholder(view.lastElementChild));<a class="el" href="../../dd/d6d/mock__spinner_8js.html#ab10b009b0da48f61217a18daf8e20cd8">recipients.update</a>(recipient,{name: 'bar'});<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.corresponding(recipient, view.children[0], 'bar'));<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.placeholder(view.lastElementChild));});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.length</a>(accessor, <a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#a7d50e9587913d4f6634c0b0c8de693c7">set</a>/truncate) ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var <a class="el" href="../../db/d80/download_8js.html#acc4e419f5bedc9e697af56e25c615638">view</a>=<a class="el" href="../../d4/d8c/viewphoto_8js.html#a6d08c5d82e2ca7c6042afb9f8ae078c1">document.getElementById</a>('messages-recipients-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>');var recipient;<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);recipient=<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">recipients.list</a>[0];<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.corresponding(recipient, view.children[0], 'foo'));<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.placeholder(view.lastElementChild));<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.length</a>=0;<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.placeholder(view.firstElementChild));<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(is.placeholder(view.lastElementChild));<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(view.firstElementChild, view.lastElementChild);});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('Interaction', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('Clicks <a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">on</a> accepted recipients', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../d3/d4b/lockscreen_8js.html#a5ad25e705333134dd79a0ba0e766f6bc">while</a> manually entering <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> recipient ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var <a class="el" href="../../db/d80/download_8js.html#acc4e419f5bedc9e697af56e25c615638">view</a>=<a class="el" href="../../d4/d8c/viewphoto_8js.html#a6d08c5d82e2ca7c6042afb9f8ae078c1">document.getElementById</a>('messages-recipients-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>');fixture.source= '<a class="el" href="../../db/dc0/mock__fb_8js.html#ab4e0a0de9f997ed3c1fa160c13f7d67f">contacts</a>';<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture).<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a872ddc88b9ec9139cb46823219ad16c8">focus</a>();<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.length</a>, 1);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">view.children.length</a>, 2);<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">view.lastElementChild.textContent</a>= '999';view.firstElementChild.click();<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.length</a>, 2);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">view.children.length</a>, 3);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('with only accepted recipients ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var <a class="el" href="../../db/d80/download_8js.html#acc4e419f5bedc9e697af56e25c615638">view</a>=<a class="el" href="../../d4/d8c/viewphoto_8js.html#a6d08c5d82e2ca7c6042afb9f8ae078c1">document.getElementById</a>('messages-recipients-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>');fixture.source= '<a class="el" href="../../db/dc0/mock__fb_8js.html#ab4e0a0de9f997ed3c1fa160c13f7d67f">contacts</a>';<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture).<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a872ddc88b9ec9139cb46823219ad16c8">focus</a>();<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.length</a>, 1);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">view.children.length</a>, 2);view.firstElementChild.click();<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.length</a>, 1);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">view.children.length</a>, 2);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('with no placeholder at <a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#abe43fe84431eb0cabf3c21ccc94bd756">end</a> of <a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a> ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var <a class="el" href="../../db/d80/download_8js.html#acc4e419f5bedc9e697af56e25c615638">view</a>=<a class="el" href="../../d4/d8c/viewphoto_8js.html#a6d08c5d82e2ca7c6042afb9f8ae078c1">document.getElementById</a>('messages-recipients-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>');fixture.source= '<a class="el" href="../../db/dc0/mock__fb_8js.html#ab4e0a0de9f997ed3c1fa160c13f7d67f">contacts</a>';<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture).<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a872ddc88b9ec9139cb46823219ad16c8">focus</a>();<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.length</a>, 1);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">view.children.length</a>, 2);<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5ebdda199bee63b9cb8dc969a17d4a9e">view.removeChild</a>(view.lastElementChild);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">view.children.length</a>, 1);view.firstElementChild.click();<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">recipients.length</a>, 1);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">view.children.length</a>, 1);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('focusing with no placeholder at the <a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#abe43fe84431eb0cabf3c21ccc94bd756">end</a> <a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">add</a> one', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var <a class="el" href="../../db/d80/download_8js.html#acc4e419f5bedc9e697af56e25c615638">view</a>=<a class="el" href="../../d4/d8c/viewphoto_8js.html#a6d08c5d82e2ca7c6042afb9f8ae078c1">document.getElementById</a>('messages-recipients-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>');fixture.source= '<a class="el" href="../../db/dc0/mock__fb_8js.html#ab4e0a0de9f997ed3c1fa160c13f7d67f">contacts</a>';<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture).<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a872ddc88b9ec9139cb46823219ad16c8">focus</a>();<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5ebdda199bee63b9cb8dc969a17d4a9e">view.removeChild</a>(view.lastElementChild);view.click();<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">view.children.length</a>, 2);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ac3f85391e7b9d85d3879b84b90623375">assert.isTrue</a>(view.lastElementChild.isPlaceholder);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(view.lastElementChild.contentEditable, '<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>');});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('deleting sole recipient ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var <a class="el" href="../../db/d80/download_8js.html#acc4e419f5bedc9e697af56e25c615638">view</a>=<a class="el" href="../../d4/d8c/viewphoto_8js.html#a6d08c5d82e2ca7c6042afb9f8ae078c1">document.getElementById</a>('messages-recipients-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>');var <a class="el" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>;fixture.source= 'manual';<a class="el" href="../../df/d12/latin__test_8js.html#aa01b7cbc60d07525859f73a229026697">HTMLElement.prototype.focus.reset</a>();<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture).<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a872ddc88b9ec9139cb46823219ad16c8">focus</a>();<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ac3f85391e7b9d85d3879b84b90623375">assert.isTrue</a>(view.firstElementChild.focus.called);<a class="el" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>=new CustomEvent('keyup',{bubbles:true});event.keyCode=KeyEvent.DOM_VK_BACK_SPACE;event.DOM_VK_BACK_SPACE=KeyEvent.DOM_VK_BACK_SPACE;<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">view.firstElementChild.textContent</a>= '';<a class="el" href="../../df/d12/latin__test_8js.html#aa01b7cbc60d07525859f73a229026697">HTMLElement.prototype.focus.reset</a>();<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5e67712f1e4602312c66bda052a6f6c4">view.firstElementChild.dispatchEvent</a>(<a class="el" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ac3f85391e7b9d85d3879b84b90623375">assert.isTrue</a>(view.firstElementChild.focus.called);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('deleting recipient ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var <a class="el" href="../../db/d80/download_8js.html#acc4e419f5bedc9e697af56e25c615638">view</a>=<a class="el" href="../../d4/d8c/viewphoto_8js.html#a6d08c5d82e2ca7c6042afb9f8ae078c1">document.getElementById</a>('messages-recipients-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>');var <a class="el" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>;fixture.source= 'manual';<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);<a class="el" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>=new CustomEvent('keyup',{bubbles:true});event.keyCode=KeyEvent.DOM_VK_BACK_SPACE;event.DOM_VK_BACK_SPACE=KeyEvent.DOM_VK_BACK_SPACE;<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">view.firstElementChild.textContent</a>= '';<a class="el" href="../../df/d12/latin__test_8js.html#aa01b7cbc60d07525859f73a229026697">HTMLElement.prototype.focus.reset</a>();<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5e67712f1e4602312c66bda052a6f6c4">view.lastElementChild.dispatchEvent</a>(<a class="el" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ac3f85391e7b9d85d3879b84b90623375">assert.isTrue</a>(view.lastElementChild.focus.called);});});});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('Prompts', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('Recipients.View.prompts ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(Recipients.View.prompts);});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">Recipients.View.prompts.remove</a> ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var recipient;<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){recipient={display: 'Mobile|Telco, 101', editable: '<a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>', email: '', name: 'Alan Turing', number: '101', source: '<a class="el" href="../../db/dc0/mock__fb_8js.html#ab4e0a0de9f997ed3c1fa160c13f7d67f">contacts</a>'};});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">Recipients.View.prompts.remove</a> ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">Recipients.View.prompts.remove</a>);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a> ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(<a class="el" href="../../de/dc7/share-receiver_8js.html#af9c6eaaef1f3af067f5ea1aff90ff861">done</a>){<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">Recipients.View.prompts.remove</a>(recipient, <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(response){<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(MockDialog.triggers.cancel.called);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#a8e4d922ae3532f8bdfcadccef0881707">assert.isFalse</a>(MockDialog.triggers.confirm.called);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#a8e4d922ae3532f8bdfcadccef0881707">assert.isFalse</a>(response.isConfirmed);<a class="el" href="../../de/dc7/share-receiver_8js.html#af9c6eaaef1f3af067f5ea1aff90ff861">done</a>();});<a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">MockDialog.triggers.cancel</a>();});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">remove</a> ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(<a class="el" href="../../de/dc7/share-receiver_8js.html#af9c6eaaef1f3af067f5ea1aff90ff861">done</a>){<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">Recipients.View.prompts.remove</a>(recipient, <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(response){<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(MockDialog.triggers.confirm.called);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#a8e4d922ae3532f8bdfcadccef0881707">assert.isFalse</a>(MockDialog.triggers.cancel.called);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(response.isConfirmed);<a class="el" href="../../de/dc7/share-receiver_8js.html#af9c6eaaef1f3af067f5ea1aff90ff861">done</a>();});<a class="el" href="../../d9/d13/shared_2style_2_r_e_a_d_m_e_8md.html#ab77aa8c2fa705d45d7ff1db3a11306ae">MockDialog.triggers.confirm</a>();});});});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('<a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#acaa6416652a2e6a11d46566d756f6937">Visibility</a> Modes', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var outer, inner, <a class="el" href="../../d9/d04/expat_8h.html#acfcb72e11f425a604663d645d2a4ea80">target</a>, <a class="el" href="../../d3/d4a/mock__recipients_8js.html#a6d342aea8f30c5f641ed5ff6e0f4de13">visible</a>;<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){location.hash= '#new';outer=<a class="el" href="../../d4/d8c/viewphoto_8js.html#a6d08c5d82e2ca7c6042afb9f8ae078c1">document.getElementById</a>('messages-recipients-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a88e6efb757b9907baa46a5755484f2bd">container</a>');inner=<a class="el" href="../../d4/d8c/viewphoto_8js.html#a6d08c5d82e2ca7c6042afb9f8ae078c1">document.getElementById</a>('messages-recipients-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>');<a class="el" href="../../d9/d04/expat_8h.html#acfcb72e11f425a604663d645d2a4ea80">target</a>=document.createElement('<a class="el" href="../../d2/d7d/jsapi_8h.html#a8908b6d42ac95ee6387e73b7ac543dae">input</a>');<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a6d342aea8f30c5f641ed5ff6e0f4de13">visible</a>=<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a6d342aea8f30c5f641ed5ff6e0f4de13">Recipients.View.prototype.visible</a>;});teardown(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){location.hash= '';});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('<a class="el" href="../../da/d32/prio_8h.html#a5d467a63df9ff99d33d6749038f6f421">to</a> singleline ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a6d342aea8f30c5f641ed5ff6e0f4de13">recipients.visible</a>('<a class="el" href="../../d2/d7d/jsapi_8h.html#aebc616e1da11b5bb8ea5f54fe0a7957e">multiline</a>');outer.className= '<a class="el" href="../../d2/d7d/jsapi_8h.html#aebc616e1da11b5bb8ea5f54fe0a7957e">multiline</a>';});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('singleline ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d2/d7d/jsapi_8h.html#a52c9936fee3329d49b2cdede9b0fd7c8">visible.args</a>[0][0], '<a class="el" href="../../d2/d7d/jsapi_8h.html#aebc616e1da11b5bb8ea5f54fe0a7957e">multiline</a>');<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a6d342aea8f30c5f641ed5ff6e0f4de13">recipients.visible</a>('singleline');<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(visible.called);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d2/d7d/jsapi_8h.html#a52c9936fee3329d49b2cdede9b0fd7c8">visible.args</a>[1][0], 'singleline');});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('singleline+refocus(with recipients) ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var startedAt=Date.now();<a class="el" href="../../df/d12/latin__test_8js.html#aa01b7cbc60d07525859f73a229026697">target.focus.reset</a>();<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">recipients.add</a>(fixture);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d2/d7d/jsapi_8h.html#a52c9936fee3329d49b2cdede9b0fd7c8">visible.args</a>[0][0], '<a class="el" href="../../d2/d7d/jsapi_8h.html#aebc616e1da11b5bb8ea5f54fe0a7957e">multiline</a>');<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a6d342aea8f30c5f641ed5ff6e0f4de13">recipients.visible</a>('singleline',{refocus:target});<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5e67712f1e4602312c66bda052a6f6c4">outer.dispatchEvent</a>(new CustomEvent('<a class="el" href="../../d3/d4b/lockscreen_8js.html#aae2729b0c5f5af6ba028b7d59f550e47">transitionend</a>'));var last=inner.lastElementChild;<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(target.focus.called);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(visible.called);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d2/d7d/jsapi_8h.html#a52c9936fee3329d49b2cdede9b0fd7c8">visible.args</a>[1][0], 'singleline');assert.deepEqual(<a class="el" href="../../d2/d7d/jsapi_8h.html#a52c9936fee3329d49b2cdede9b0fd7c8">visible.args</a>[1][1],{refocus:target});<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(last.scrollIntoView.called);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('singleline+refocus(no recipients) ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var startedAt=Date.now();<a class="el" href="../../df/d12/latin__test_8js.html#aa01b7cbc60d07525859f73a229026697">target.focus.reset</a>();<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d2/d7d/jsapi_8h.html#a52c9936fee3329d49b2cdede9b0fd7c8">visible.args</a>[0][0], '<a class="el" href="../../d2/d7d/jsapi_8h.html#aebc616e1da11b5bb8ea5f54fe0a7957e">multiline</a>');<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a6d342aea8f30c5f641ed5ff6e0f4de13">recipients.visible</a>('singleline',{refocus:target});<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5e67712f1e4602312c66bda052a6f6c4">outer.dispatchEvent</a>(new CustomEvent('<a class="el" href="../../d3/d4b/lockscreen_8js.html#aae2729b0c5f5af6ba028b7d59f550e47">transitionend</a>'));<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(target.focus.called);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(visible.called);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d2/d7d/jsapi_8h.html#a52c9936fee3329d49b2cdede9b0fd7c8">visible.args</a>[1][0], 'singleline');assert.deepEqual(<a class="el" href="../../d2/d7d/jsapi_8h.html#a52c9936fee3329d49b2cdede9b0fd7c8">visible.args</a>[1][1],{refocus:target});});});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('<a class="el" href="../../da/d32/prio_8h.html#a5d467a63df9ff99d33d6749038f6f421">to</a> <a class="el" href="../../d2/d7d/jsapi_8h.html#aebc616e1da11b5bb8ea5f54fe0a7957e">multiline</a> ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a6d342aea8f30c5f641ed5ff6e0f4de13">recipients.visible</a>('singleline');});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../d2/d7d/jsapi_8h.html#aebc616e1da11b5bb8ea5f54fe0a7957e">multiline</a> ', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d2/d7d/jsapi_8h.html#a52c9936fee3329d49b2cdede9b0fd7c8">visible.args</a>[0][0], 'singleline');<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a6d342aea8f30c5f641ed5ff6e0f4de13">recipients.visible</a>('<a class="el" href="../../d2/d7d/jsapi_8h.html#aebc616e1da11b5bb8ea5f54fe0a7957e">multiline</a>');<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(visible.called);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d2/d7d/jsapi_8h.html#a52c9936fee3329d49b2cdede9b0fd7c8">visible.args</a>[1][0], '<a class="el" href="../../d2/d7d/jsapi_8h.html#aebc616e1da11b5bb8ea5f54fe0a7957e">multiline</a>');});});});});})</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d1b/test-agent-server_8js.html#aab71dcc804ca4aa3ed2bf7ba887635db">use</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd9/recipients__test_8js.html#ae2475e10618961c050dcba04e8c42331">strict</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd9/recipients__test_8js.html#a1cafbfeadc4fd2c97077c4ff515751f9">mocksHelperForRecipients</a></td></tr>
</table>
<hr/><h2>関数</h2>
<a class="anchor" id="a3fcaaf99839152aed58a9fa920c8fcea"></a><!-- doxytag: member="recipients_test.js::init" ref="a3fcaaf99839152aed58a9fa920c8fcea" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dd9/recipients__test_8js.html#a1cafbfeadc4fd2c97077c4ff515751f9">mocksHelperForRecipients</a> <a class="el" href="../../d5/d0d/pay_8js.html#af619d0ad365b66772212901ccd40466c">init</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../dc/da7/fm_8js_source.html">fm.js</a> の <a class="el" href="../../dc/da7/fm_8js_source.html#l00690">690</a> 行で定義されています。</p>
<div class="fragment"><pre class="fragment">                {
  <a class="code" href="../../dc/da7/fm_8js.html#a60e4f46ea1c84167188f3df600a7a79b">frequencyDialer</a>.init();

  var seeking = <span class="keyword">false</span>;
  <span class="keyword">function</span> onclick_seekbutton(<a class="code" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>) {
    var seekButton = <span class="keyword">this</span>;
    var powerSwitch = $(<span class="stringliteral">&#39;power-switch&#39;</span>);
    var seeking = !!powerSwitch.getAttribute(<span class="stringliteral">&#39;data-seeking&#39;</span>);
    var <a class="code" href="../../dc/d5e/apps_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#a841de671beddc9eb985cf068237fbff7">up</a> = seekButton.id == <span class="stringliteral">&#39;frequency-op-seekup&#39;</span>;

    <span class="keyword">function</span> seek() {
      powerSwitch.dataset.seeking = <span class="keyword">true</span>;

      var <a class="code" href="../../df/d44/permission__manager_8js.html#ad9abb423164fcb98d6ad9333893e4682">request</a> = up ? mozFMRadio.seekUp() : mozFMRadio.seekDown();

      request.onsuccess = <span class="keyword">function</span> seek_onsuccess() {
        powerSwitch.removeAttribute(<span class="stringliteral">&#39;data-seeking&#39;</span>);
      };

      request.onerror = <span class="keyword">function</span> seek_onerror() {
        powerSwitch.removeAttribute(<span class="stringliteral">&#39;data-seeking&#39;</span>);
      };
    }

    <span class="comment">// If the FM radio is seeking channel currently, cancel it and seek again.</span>
    <span class="keywordflow">if</span> (seeking) {
      var request = mozFMRadio.cancelSeek();
      request.onsuccess = seek;
      request.onerror = seek;
    } <span class="keywordflow">else</span> {
      seek();
    }
  }

  $(<span class="stringliteral">&#39;frequency-op-seekdown&#39;</span>).<a class="code" href="../../d8/d0d/transfer_8js.html#abd169909fbdd66534e2d19bf20938d8b">addEventListener</a>(<span class="stringliteral">&#39;click&#39;</span>,
                                   onclick_seekbutton, <span class="keyword">false</span>);
  $(<span class="stringliteral">&#39;frequency-op-seekup&#39;</span>).<a class="code" href="../../d8/d0d/transfer_8js.html#abd169909fbdd66534e2d19bf20938d8b">addEventListener</a>(<span class="stringliteral">&#39;click&#39;</span>,
                                   onclick_seekbutton, <span class="keyword">false</span>);

  $(<span class="stringliteral">&#39;power-switch&#39;</span>).<a class="code" href="../../d8/d0d/transfer_8js.html#abd169909fbdd66534e2d19bf20938d8b">addEventListener</a>(<span class="stringliteral">&#39;click&#39;</span>, <span class="keyword">function</span> toggle_fm() {
    <span class="keywordflow">if</span> (mozFMRadio.enabled) {
      mozFMRadio.disable();
    } <span class="keywordflow">else</span> {
      <a class="code" href="../../dc/da7/fm_8js.html#aaea60f6ff93b242ef2e1bcb693f60b46">enableFMRadio</a>(<a class="code" href="../../dc/da7/fm_8js.html#a60e4f46ea1c84167188f3df600a7a79b">frequencyDialer</a>.getFrequency());
    }
  }, <span class="keyword">false</span>);

  $(<span class="stringliteral">&#39;bookmark-button&#39;</span>).<a class="code" href="../../d8/d0d/transfer_8js.html#abd169909fbdd66534e2d19bf20938d8b">addEventListener</a>(<span class="stringliteral">&#39;click&#39;</span>, <span class="keyword">function</span> toggle_bookmark() {
    var frequency = <a class="code" href="../../dc/da7/fm_8js.html#a60e4f46ea1c84167188f3df600a7a79b">frequencyDialer</a>.getFrequency();
    <span class="keywordflow">if</span> (<a class="code" href="../../dc/da7/fm_8js.html#a7ce5ddc42ed7c10be56a3d710cef37da">favoritesList</a>.contains(frequency)) {
      <a class="code" href="../../dc/da7/fm_8js.html#a7ce5ddc42ed7c10be56a3d710cef37da">favoritesList</a>.remove(frequency);
    } <span class="keywordflow">else</span> {
      <a class="code" href="../../dc/da7/fm_8js.html#a7ce5ddc42ed7c10be56a3d710cef37da">favoritesList</a>.add(frequency);
    }
    <a class="code" href="../../dc/da7/fm_8js.html#a3114033e9d3da48efda5f8ad2bbf16cb">updateFreqUI</a>();
  }, <span class="keyword">false</span>);

  mozFMRadio.onfrequencychange = <a class="code" href="../../dc/da7/fm_8js.html#a3114033e9d3da48efda5f8ad2bbf16cb">updateFreqUI</a>;
  mozFMRadio.onenabled = <span class="keyword">function</span>() {
    <a class="code" href="../../dc/da7/fm_8js.html#a6129e1ab3f60334c7125678489fe6081">updateEnablingState</a>(<span class="keyword">false</span>);
  };
  mozFMRadio.ondisabled = <span class="keyword">function</span>() {
    <a class="code" href="../../dc/da7/fm_8js.html#a6129e1ab3f60334c7125678489fe6081">updateEnablingState</a>(<span class="keyword">false</span>);
  };

  mozFMRadio.onantennaavailablechange = <span class="keyword">function</span> onAntennaChange() {
    <a class="code" href="../../dc/da7/fm_8js.html#a39ce8abc435fa64a09de68bb0d02fe81">updateAntennaUI</a>();
    <span class="keywordflow">if</span> (mozFMRadio.antennaAvailable) {
      <span class="comment">// If the FM radio is enabled or enabling when the antenna is unplugged,</span>
      <span class="comment">// turn the FM radio on again.</span>
      <span class="keywordflow">if</span> (!!<a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>._previousFMRadioState || !!<a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>._previousEnablingState) {
        <a class="code" href="../../dc/da7/fm_8js.html#aaea60f6ff93b242ef2e1bcb693f60b46">enableFMRadio</a>(<a class="code" href="../../dc/da7/fm_8js.html#a60e4f46ea1c84167188f3df600a7a79b">frequencyDialer</a>.getFrequency());
      }
    } <span class="keywordflow">else</span> {
      <span class="comment">// Remember the current state of the FM radio</span>
      <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>._previousFMRadioState = mozFMRadio.enabled;
      <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>._previousEnablingState = <a class="code" href="../../dc/da7/fm_8js.html#a8e06555c6c04c92164d95983e52b4ebb">enabling</a>;
      mozFMRadio.disable();
    }
  };

  <span class="comment">// Disable the power button and the fav list when the airplane mode is on.</span>
  <a class="code" href="../../dc/da7/fm_8js.html#a6f29f687e5ab929b6edbb6a1863a95cc">updateAirplaneModeUI</a>();
  <a class="code" href="../../dc/da7/fm_8js.html#a46efbc9e28313d5603af4022d6352293">mozSettings</a>.addObserver(<span class="stringliteral">&#39;ril.radio.disabled&#39;</span>, <span class="keyword">function</span>(<a class="code" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>) {
    <a class="code" href="../../dc/da7/fm_8js.html#add986777b62020d3900e280a0e1744e0">rilDisabled</a> = <span class="keyword">event</span>.settingValue;
    <a class="code" href="../../dc/da7/fm_8js.html#a6f29f687e5ab929b6edbb6a1863a95cc">updateAirplaneModeUI</a>();
  });

  <a class="code" href="../../dc/da7/fm_8js.html#adabc57e23d23bd862b1db39761c35328">historyList</a>.init(<span class="keyword">function</span> hl_ready() {
    <span class="keywordflow">if</span> (mozFMRadio.antennaAvailable) {
      <span class="comment">// Enable FM immediately</span>
      <a class="code" href="../../d6/d52/js_2browser_8js.html#a7321fd84345f4f9455f25996b932b8fd">if</a> (<a class="code" href="../../dc/da7/fm_8js.html#adabc57e23d23bd862b1db39761c35328">historyList</a>.last() &amp;&amp; <a class="code" href="../../dc/da7/fm_8js.html#adabc57e23d23bd862b1db39761c35328">historyList</a>.last().frequency)
        <a class="code" href="../../dc/da7/fm_8js.html#aaea60f6ff93b242ef2e1bcb693f60b46">enableFMRadio</a>(<a class="code" href="../../dc/da7/fm_8js.html#adabc57e23d23bd862b1db39761c35328">historyList</a>.last().frequency);
      <span class="keywordflow">else</span>
        <a class="code" href="../../dc/da7/fm_8js.html#aaea60f6ff93b242ef2e1bcb693f60b46">enableFMRadio</a>(mozFMRadio.frequencyLowerBound);

      <a class="code" href="../../dc/da7/fm_8js.html#a7ce5ddc42ed7c10be56a3d710cef37da">favoritesList</a>.init(<a class="code" href="../../dc/da7/fm_8js.html#a3114033e9d3da48efda5f8ad2bbf16cb">updateFreqUI</a>);
    } <span class="keywordflow">else</span> {
      <span class="comment">// Mark the previous state as True,</span>
      <span class="comment">// so the FM radio be enabled automatically</span>
      <span class="comment">// when the headset is plugged.</span>
      <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>._previousFMRadioState = <span class="keyword">true</span>;
      <a class="code" href="../../dc/da7/fm_8js.html#a39ce8abc435fa64a09de68bb0d02fe81">updateAntennaUI</a>();
      <a class="code" href="../../dc/da7/fm_8js.html#a7ce5ddc42ed7c10be56a3d710cef37da">favoritesList</a>.init();
    }
    <a class="code" href="../../dc/da7/fm_8js.html#a8a385995e6ff4caf76e4938d5721a5be">updatePowerUI</a>();
  });
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab908269f261348face55e7951d2e3cfc"></a><!-- doxytag: member="recipients_test.js::requireApp" ref="ab908269f261348face55e7951d2e3cfc" args="('system/test/unit/mock_gesture_detector.js')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d16/shared_2test_2unit_2mocks_2mock__settings__listener_8js.html#ada5f8f0f77028802cd46c92cb1ce8fce">requireApp</a> </td>
          <td>(</td>
          <td class="paramtype">'system/<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>/unit/mock_gesture_detector.js'&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a60b7256b387c2b2ef96885f07464b95b"></a><!-- doxytag: member="recipients_test.js::suite" ref="a60b7256b387c2b2ef96885f07464b95b" args="('Recipients', function(){var recipients;var fixture;var mocksHelper=mocksHelperForRecipients;var realL10n;suiteSetup(function(){mocksHelper.suiteSetup();realL10n=navigator.mozL10n;navigator.mozL10n=MockL10n;});suiteTeardown(function(){mocksHelper.suiteTeardown();navigator.mozL10n=realL10n;realL10n=null;});function isValid(candidate, value){return(candidate.name===value||candidate.number===value);}setup(function(){loadBodyHTML('/index.html');mocksHelper.setup();this.sinon.spy(Recipients.prototype, 'render');this.sinon.spy(Recipients.View.prototype, 'render');this.sinon.spy(Recipients.View.prototype, 'visible');this.sinon.spy(Element.prototype, 'scrollIntoView');this.sinon.spy(HTMLElement.prototype, 'focus');recipients=new Recipients({outer: 'messages&#45;to&#45;field', inner: 'messages&#45;recipients&#45;list', template:new Template('messages&#45;recipient&#45;tmpl')});fixture={name: 'foo', number: '999', email: 'a @b.com', source: 'none', editable: 'true', type: 'Type', separator: '| ', carrier: 'Carrier'};});teardown(function(){mocksHelper.teardown();recipients=null;fixture=null;});suite('List', function(){test('Recipients', function(){assert.ok(Recipients);assert.ok(Recipients.prototype.add);assert.ok(Recipients.prototype.update);assert.ok(Recipients.prototype.remove);assert.ok(Recipients.prototype.render);assert.ok(Recipients.prototype.on);assert.ok(Recipients.prototype.off);assert.ok(Recipients.prototype.emit);});test('recipients.add() 1 ', function(){var recipient;recipients.add(fixture);recipient=recipients.list[0];assert.deepEqual(recipient, fixture);});test('recipients.add() 2 ', function(){recipients.add({number: '999'});recipients.add({number: '777'});assert.equal(recipients.length, 2);assert.ok(isValid(recipients.list[0], '999'));assert.ok(isValid(recipients.list[1], '777'));});test('recipients.add() allows dups ', function(){recipients.add({number: '999'});recipients.add({number: '999'});assert.equal(recipients.length, 2);assert.ok(isValid(recipients.list[0], '999'));assert.ok(isValid(recipients.list[1], '999'));});test('recipients.add()[invalid] &gt;', function(){try{recipients.add({});assert.ok(false);}catch(e){assert.equal(e.message, 'recipient entry missing number');}});test('recipients.remove(recipient) ', function(){var recipient;recipients.add(fixture);recipient=recipients.list[0];assert.deepEqual(recipient, fixture);assert.ok(isValid(recipient, '999'));recipients.remove(recipient);assert.equal(recipients.length, 0);assert.ok(recipients.render.calledTwice);});test('recipients.remove(nonexistant) ', function(){var recipient;recipients.add(fixture);recipients.remove(null);assert.equal(recipients.length, 1);assert.ok(recipients.render.calledOnce);});test('recipients.remove(index) ', function(){var recipient;recipients.add(fixture);assert.equal(recipients.length, 1);recipients.remove(0);assert.equal(recipients.length, 0);});test('recipients.update(recipient, entry) ', function(){var recipient;recipients.add(fixture);recipient=recipients.list[0];recipients.update(recipient,{number:555});assert.equal(recipients.list[0].number, '555');});test('recipients.update(index, entry) ', function(){var recipient;recipients.add(fixture);recipient=recipients.list[0];recipients.update(0,{number:555});assert.equal(recipients.list[0].number, '555');});test('recipients.length(accessor, get) ', function(){recipients.add(fixture);assert.equal(recipients.length, 1);});test('recipients.length(accessor, set/truncate) ', function(){recipients.add(fixture);recipients.length=0;assert.equal(recipients.length, 0);});test('recipients.numbers(accessor, get) ', function(){recipients.add(fixture);assert.equal(recipients.numbers.length, 1);assert.equal(recipients.numbers[0], '999');});test('recipients.numbers(accessor, set/no&#45;op) ', function(){recipients.add(fixture);assert.equal(recipients.numbers.length, 1);assert.equal(recipients.numbers[0], '999');recipients.numbers[0]= '***';assert.equal(recipients.numbers[0], '999');});test('recipients.numbers is a unique list ', function(){recipients.add(fixture);recipients.add(fixture);recipients.add(fixture);assert.equal(recipients.numbers.length, 1);assert.equal(recipients.numbers[0], '999');});test('recipients.on(add,...)', function(done){recipients.on('add', function(count){assert.ok(true);assert.equal(recipients.numbers.length, 1);assert.equal(recipients.numbers[0], '999');assert.equal(count, 1);recipients.off('add');done();});recipients.add(fixture);});test('recipients.on(remove,...)', function(done){recipients.on('remove', function(count){assert.ok(true);assert.equal(recipients.numbers.length, 0);assert.equal(count, 0);recipients.off('remove');done();});recipients.add(fixture);recipients.remove(recipients.list[0]);});});suite('Recipients.View', function(){function getStyles(elem, prop){var styles=window.getComputedStyle(elem, null);return typeof prop!== 'undefined'?styles[prop]:styles;}var view={inner:null};var is={corresponding:function(recipient, avatar, value){return is.recipient(recipient, value)&amp;&amp;is.avatar(avatar, value);}, recipient:function(candidate, value){return(candidate.name===value||candidate.number===value);}, avatar:function(candidate, value){return!is.placeholder(candidate)&amp;&amp;!is.editable(candidate)&amp;&amp;candidate.textContent.trim()===value;}, placeholder:function(candidate, opts){opts=opts||{isEmpty:true};return candidate.isPlaceholder &amp;&amp;((opts.isEmpty &amp;&amp;candidate.textContent.trim()=== '')||true);}, editable:function(candidate){return candidate.contentEditable===false;}, narrow:function(elem){return elem.offsetWidth===0;}, wide:function(elem){return elem.offsetWidth &gt; 0;}};test('Recipients.View ', function(){assert.ok(Recipients.View);assert.ok(Recipients.View.prototype.clear);assert.ok(Recipients.View.prototype.reset);assert.ok(Recipients.View.prototype.render);assert.ok(Recipients.View.prototype.focus);assert.ok(Recipients.View.prototype.handleEvent);});test('initialization creates placeholder ', function(){var view=document.getElementById('messages&#45;recipients&#45;list');assert.ok(is.placeholder(view.firstElementChild));assert.ok(is.narrow(view.firstElementChild));});test('editable placeholder expands ', function(){var view=document.getElementById('messages&#45;recipients&#45;list');view.firstElementChild.click();view.firstElementChild.textContent= 'foo';assert.ok(is.wide(view.firstElementChild));});test('editable placeholder contracts ', function(){var view=document.getElementById('messages&#45;recipients&#45;list');view.firstElementChild.click();view.firstElementChild.textContent= 'foo';assert.ok(is.wide(view.firstElementChild));view.firstElementChild.textContent= '';view.firstElementChild.blur();assert.ok(is.narrow(view.firstElementChild));});test('recipients.add() 1, displays 1 recipient', function(){var view=document.getElementById('messages&#45;recipients&#45;list');recipients.add(fixture);assert.equal(view.children.length, 2);assert.ok(is.corresponding(recipients.list[0], view.firstElementChild, 'foo'));assert.ok(is.placeholder(view.lastElementChild));});test('recipients.add() 2, displays 2 recipients ', function(){var view=document.getElementById('messages&#45;recipients&#45;list');recipients.add({number: '999'});recipients.add({number: '777'});assert.equal(view.children.length, 3);assert.ok(is.corresponding(recipients.list[0], view.children[0], '999'));assert.ok(is.corresponding(recipients.list[1], view.children[1], '777'));assert.ok(is.placeholder(view.lastElementChild));});test('recipients.add() allows dups, displays correctly ', function(){var view=document.getElementById('messages&#45;recipients&#45;list');recipients.add({number: '999'});recipients.add({number: '999'});assert.equal(recipients.length, 2);assert.equal(view.children.length, 3);assert.ok(is.corresponding(recipients.list[0], view.children[0], '999'));assert.ok(is.corresponding(recipients.list[1], view.children[1], '999'));assert.ok(is.placeholder(view.lastElementChild));});test('recipients.remove(recipient), displays correctly ', function(){var view=document.getElementById('messages&#45;recipients&#45;list');var recipient;recipients.add(fixture);recipient=recipients.list[0];assert.ok(is.corresponding(recipient, view.children[0], 'foo'));assert.ok(is.placeholder(view.lastElementChild));recipients.remove(recipient);assert.ok(is.placeholder(view.firstElementChild));assert.ok(is.placeholder(view.lastElementChild));assert.equal(view.firstElementChild, view.lastElementChild);});test('recipients.update(recipient, entry) ', function(){var view=document.getElementById('messages&#45;recipients&#45;list');var recipient;recipients.add(fixture);recipient=recipients.list[0];assert.ok(is.corresponding(recipient, view.children[0], 'foo'));assert.ok(is.placeholder(view.lastElementChild));recipients.update(recipient,{name: 'bar'});assert.ok(is.corresponding(recipient, view.children[0], 'bar'));assert.ok(is.placeholder(view.lastElementChild));});test('recipients.length(accessor, set/truncate) ', function(){var view=document.getElementById('messages&#45;recipients&#45;list');var recipient;recipients.add(fixture);recipients.add(fixture);recipient=recipients.list[0];assert.ok(is.corresponding(recipient, view.children[0], 'foo'));assert.ok(is.placeholder(view.lastElementChild));recipients.length=0;assert.ok(is.placeholder(view.firstElementChild));assert.ok(is.placeholder(view.lastElementChild));assert.equal(view.firstElementChild, view.lastElementChild);});suite('Interaction', function(){suite('Clicks on accepted recipients', function(){test('while manually entering a recipient ', function(){var view=document.getElementById('messages&#45;recipients&#45;list');fixture.source= 'contacts';recipients.add(fixture).focus();assert.equal(recipients.length, 1);assert.equal(view.children.length, 2);view.lastElementChild.textContent= '999';view.firstElementChild.click();assert.equal(recipients.length, 2);assert.equal(view.children.length, 3);});test('with only accepted recipients ', function(){var view=document.getElementById('messages&#45;recipients&#45;list');fixture.source= 'contacts';recipients.add(fixture).focus();assert.equal(recipients.length, 1);assert.equal(view.children.length, 2);view.firstElementChild.click();assert.equal(recipients.length, 1);assert.equal(view.children.length, 2);});test('with no placeholder at end of list ', function(){var view=document.getElementById('messages&#45;recipients&#45;list');fixture.source= 'contacts';recipients.add(fixture).focus();assert.equal(recipients.length, 1);assert.equal(view.children.length, 2);view.removeChild(view.lastElementChild);assert.equal(view.children.length, 1);view.firstElementChild.click();assert.equal(recipients.length, 1);assert.equal(view.children.length, 1);});test('focusing with no placeholder at the end add one', function(){var view=document.getElementById('messages&#45;recipients&#45;list');fixture.source= 'contacts';recipients.add(fixture).focus();view.removeChild(view.lastElementChild);view.click();assert.equal(view.children.length, 2);assert.isTrue(view.lastElementChild.isPlaceholder);assert.equal(view.lastElementChild.contentEditable, 'true');});test('deleting sole recipient ', function(){var view=document.getElementById('messages&#45;recipients&#45;list');var event;fixture.source= 'manual';HTMLElement.prototype.focus.reset();recipients.add(fixture).focus();assert.isTrue(view.firstElementChild.focus.called);event=new CustomEvent('keyup',{bubbles:true});event.keyCode=KeyEvent.DOM_VK_BACK_SPACE;event.DOM_VK_BACK_SPACE=KeyEvent.DOM_VK_BACK_SPACE;view.firstElementChild.textContent= '';HTMLElement.prototype.focus.reset();view.firstElementChild.dispatchEvent(event);assert.isTrue(view.firstElementChild.focus.called);});test('deleting recipient ', function(){var view=document.getElementById('messages&#45;recipients&#45;list');var event;fixture.source= 'manual';recipients.add(fixture);recipients.add(fixture);event=new CustomEvent('keyup',{bubbles:true});event.keyCode=KeyEvent.DOM_VK_BACK_SPACE;event.DOM_VK_BACK_SPACE=KeyEvent.DOM_VK_BACK_SPACE;view.firstElementChild.textContent= '';HTMLElement.prototype.focus.reset();view.lastElementChild.dispatchEvent(event);assert.isTrue(view.lastElementChild.focus.called);});});});suite('Prompts', function(){test('Recipients.View.prompts ', function(){assert.ok(Recipients.View.prompts);});suite('Recipients.View.prompts.remove ', function(){var recipient;setup(function(){recipient={display: 'Mobile|Telco, 101', editable: 'false', email: '', name: 'Alan Turing', number: '101', source: 'contacts'};});test('Recipients.View.prompts.remove ', function(){assert.ok(Recipients.View.prompts.remove);});test('cancel ', function(done){Recipients.View.prompts.remove(recipient, function(response){assert.ok(MockDialog.triggers.cancel.called);assert.isFalse(MockDialog.triggers.confirm.called);assert.isFalse(response.isConfirmed);done();});MockDialog.triggers.cancel();});test('remove ', function(done){Recipients.View.prompts.remove(recipient, function(response){assert.ok(MockDialog.triggers.confirm.called);assert.isFalse(MockDialog.triggers.cancel.called);assert.ok(response.isConfirmed);done();});MockDialog.triggers.confirm();});});});suite('Visibility Modes', function(){var outer, inner, target, visible;setup(function(){location.hash= '#new';outer=document.getElementById('messages&#45;recipients&#45;list&#45;container');inner=document.getElementById('messages&#45;recipients&#45;list');target=document.createElement('input');visible=Recipients.View.prototype.visible;});teardown(function(){location.hash= '';});suite('to singleline ', function(){setup(function(){recipients.visible('multiline');outer.className= 'multiline';});test('singleline ', function(){assert.equal(visible.args[0][0], 'multiline');recipients.visible('singleline');assert.ok(visible.called);assert.equal(visible.args[1][0], 'singleline');});test('singleline+refocus(with recipients) ', function(){var startedAt=Date.now();target.focus.reset();recipients.add(fixture);assert.equal(visible.args[0][0], 'multiline');recipients.visible('singleline',{refocus:target});outer.dispatchEvent(new CustomEvent('transitionend'));var last=inner.lastElementChild;assert.ok(target.focus.called);assert.ok(visible.called);assert.equal(visible.args[1][0], 'singleline');assert.deepEqual(visible.args[1][1],{refocus:target});assert.ok(last.scrollIntoView.called);});test('singleline+refocus(no recipients) ', function(){var startedAt=Date.now();target.focus.reset();assert.equal(visible.args[0][0], 'multiline');recipients.visible('singleline',{refocus:target});outer.dispatchEvent(new CustomEvent('transitionend'));assert.ok(target.focus.called);assert.ok(visible.called);assert.equal(visible.args[1][0], 'singleline');assert.deepEqual(visible.args[1][1],{refocus:target});});});suite('to multiline ', function(){setup(function(){recipients.visible('singleline');});test('multiline ', function(){assert.equal(visible.args[0][0], 'singleline');recipients.visible('multiline');assert.ok(visible.called);assert.equal(visible.args[1][0], 'multiline');});});});});})" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a> </td>
          <td>(</td>
          <td class="paramtype">'Recipients'&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="a1cafbfeadc4fd2c97077c4ff515751f9"></a><!-- doxytag: member="recipients_test.js::mocksHelperForRecipients" ref="a1cafbfeadc4fd2c97077c4ff515751f9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">var <a class="el" href="../../d2/dd9/recipients__test_8js.html#a1cafbfeadc4fd2c97077c4ff515751f9">mocksHelperForRecipients</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>初期値:</b><div class="fragment"><pre class="fragment"> <span class="keyword">new</span> <a class="code" href="../../d1/d67/apps_2communications_2test_2unit_2mocks__helper_8js.html#ac677357b5a0ce4a59a54e9a0a861f480">MocksHelper</a>([
  <span class="stringliteral">&#39;Dialog&#39;</span>,
  <span class="stringliteral">&#39;GestureDetector&#39;</span>,
  <span class="stringliteral">&#39;Utils&#39;</span>
])
</pre></div>
<p> <a class="el" href="../../d2/dd9/recipients__test_8js_source.html">recipients_test.js</a> の <a class="el" href="../../d2/dd9/recipients__test_8js_source.html#l00012">12</a> 行で定義されています。</p>

</div>
</div>
<a class="anchor" id="ae2475e10618961c050dcba04e8c42331"></a><!-- doxytag: member="recipients_test.js::strict" ref="ae2475e10618961c050dcba04e8c42331" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d1b/test-agent-server_8js.html#aab71dcc804ca4aa3ed2bf7ba887635db">use</a> <a class="el" href="../../de/dc5/jsfriendapi_8h.html#a8cddd7ed2617ebace48da2e8e44f267c">strict</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../d2/dd9/recipients__test_8js_source.html">recipients_test.js</a> の <a class="el" href="../../d2/dd9/recipients__test_8js_source.html#l00001">1</a> 行で定義されています。</p>

</div>
</div>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d2/dd9/recipients__test_8js.html">recipients_test.js</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 00:57:49に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
