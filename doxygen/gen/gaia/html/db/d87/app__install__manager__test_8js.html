<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: app_install_manager_test.js</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li class="current"><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>ファイル一覧</span></a></li>
      <li><a href="../../globals.html"><span>グローバル</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('db/d87/app__install__manager__test_8js.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">関数</a> &#124;
<a href="#var-members">変数</a>  </div>
  <div class="headertitle">
<div class="title">app_install_manager_test.js</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="../../db/d87/app__install__manager__test_8js_source.html">ソースコードを見る。</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
関数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d87/app__install__manager__test_8js.html#a141ab3d779cc45dc65fc07ce0ab68929">requireApp</a> ('system/<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>/unit/mock_app.js')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d87/app__install__manager__test_8js.html#a5184734bbc386d6cc1b5e3707b1503a6">suite</a> ('system/<a class="el" href="../../d1/d04/app__install__manager_8js.html#ac0fdcb99ef3110d754ce4b2b6f9a50a8">AppInstallManager</a> &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var <a class="el" href="../../dc/db8/system_2test_2unit_2action__menu__test_8js.html#a2aabcf5791ac4e05eb7c34d450848ae5">realL10n</a>;var realDispatchResponse;var realRequestWakeLock;var realTemplate;var fakeDialog, fakeNotif;var fakeInstallCancelDialog, fakeDownloadCancelDialog;var fakeSetupDialog, fakeImeListDialog, fakeImeListTemplate;var lastL10nParams=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;var lastDispatchedResponse=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;<a class="el" href="../../d9/db5/variant__test_8js.html#acb4b592588f242b9d11075d725257bc8">mocksForAppInstallManager.attachTestHelpers</a>();suiteSetup(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../dc/db8/system_2test_2unit_2action__menu__test_8js.html#a2aabcf5791ac4e05eb7c34d450848ae5">realL10n</a>=<a class="el" href="../../df/dc7/viewer_8js.html#abf8c988c23b2b2f5ec3f1149b44bd820">navigator.mozL10n</a>;<a class="el" href="../../df/dc7/viewer_8js.html#abf8c988c23b2b2f5ec3f1149b44bd820">navigator.mozL10n</a>={get:function <a class="el" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#a18697261a961b9d0efde405b5a2b244f">get</a>(<a class="el" href="../../d2/d7d/jsapi_8h.html#a02d8cbd1392e102198d5bb521715f608">key</a>, <a class="el" href="../../d8/d28/prtime_8h.html#a4ad646d0ee2fc69a53b50783ca7465dc">params</a>){lastL10nParams=<a class="el" href="../../d8/d28/prtime_8h.html#a4ad646d0ee2fc69a53b50783ca7465dc">params</a>;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../d8/d28/prtime_8h.html#a4ad646d0ee2fc69a53b50783ca7465dc">params</a>){<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> <a class="el" href="../../d2/d7d/jsapi_8h.html#a02d8cbd1392e102198d5bb521715f608">key</a>+<a class="el" href="../../d1/d22/ical_8js.html#a8076921037776baf4e4838660048f802">JSON.stringify</a>(<a class="el" href="../../d8/d28/prtime_8h.html#a4ad646d0ee2fc69a53b50783ca7465dc">params</a>);}<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> <a class="el" href="../../d2/d7d/jsapi_8h.html#a02d8cbd1392e102198d5bb521715f608">key</a>;}};realDispatchResponse=<a class="el" href="../../df/d44/permission__manager_8js.html#ac0d26daf63f4539ad2aa27a7a448e87a">AppInstallManager.dispatchResponse</a>;<a class="el" href="../../df/d44/permission__manager_8js.html#ac0d26daf63f4539ad2aa27a7a448e87a">AppInstallManager.dispatchResponse</a>=<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> fakeDispatch(<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>, <a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a>){lastDispatchedResponse={id:id, type:type};};realRequestWakeLock=navigator.requestWakeLock;navigator.requestWakeLock=MockNavigatorWakeLock.requestWakeLock;});suiteTeardown(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">AppInstallManager.dialog</a>=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;<a class="el" href="../../d5/dde/plerror_8h.html#a2c3cb87d009c003069b9a90f020f8a9f">AppInstallManager.msg</a>=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;<a class="el" href="../../d0/da8/prrng_8h.html#a5c72e4e1ff78177bac89e7f0ddadda92">AppInstallManager.size</a>=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;AppInstallManager.authorName=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;AppInstallManager.authorUrl=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;AppInstallManager.installButton=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;AppInstallManager.cancelButton=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5d8178dad412fb58e2dac9124dc5aaa9">AppInstallManager.installCallback</a>=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;AppInstallManager.cancelCallback=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;<a class="el" href="../../df/dc7/viewer_8js.html#abf8c988c23b2b2f5ec3f1149b44bd820">navigator.mozL10n</a>=<a class="el" href="../../dc/db8/system_2test_2unit_2action__menu__test_8js.html#a2aabcf5791ac4e05eb7c34d450848ae5">realL10n</a>;<a class="el" href="../../df/d44/permission__manager_8js.html#ac0d26daf63f4539ad2aa27a7a448e87a">AppInstallManager.dispatchResponse</a>=realDispatchResponse;navigator.requestWakeLock=realRequestWakeLock;realRequestWakeLock=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;});<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){fakeDialog=document.createElement('form');<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">fakeDialog.id</a>= '<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a>';<a class="el" href="../../d1/d04/app__install__manager_8js.html#acd145aedb51101ac15a526f73673b0b9">fakeDialog.innerHTML</a>=[ '&lt; <a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a1df8504e63545f2e6c93c0cde966c060">section</a> &gt;', '&lt; h1 <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;app-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d2/d7d/jsapi_8h.html#a254bf0858da09c96a48daf64404eb4f8">message</a>&quot;&gt;&lt;/h1 &gt;', '&lt; <a class="el" href="../../d3/d82/prlink_8h.html#aae95f41aa336f8375a3415100cf9ffd4">table</a> &gt;', '&lt; tr &gt;', '&lt; th <a class="el" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>-l10n-<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;size&quot;&gt;Size&lt;/th &gt;', '&lt; td <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;app-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d0/da8/prrng_8h.html#a5c72e4e1ff78177bac89e7f0ddadda92">size</a>&quot;&gt;&lt;/td &gt;', '&lt;/tr &gt;', '&lt; tr &gt;', '&lt; th <a class="el" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>-l10n-<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;author&quot;&gt;Author&lt;/th &gt;', '&lt; td &gt;', '&lt; span <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;app-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-author-<a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>&quot;&gt;&lt;/span &gt;', '&lt; br/&gt;&lt; span <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;app-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-author-<a class="el" href="../../de/d8f/jsdebug_8h.html#a39bb9861b2cb39f94badb5db778de746">url</a>&quot;&gt;&lt;/span &gt;', '&lt;/td &gt;', '&lt;/tr &gt;', '&lt;/<a class="el" href="../../d3/d82/prlink_8h.html#aae95f41aa336f8375a3415100cf9ffd4">table</a> &gt;', '&lt; menu &gt;', '&lt; <a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a> <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;app-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a>-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a>&quot;type=&quot;reset&quot;'+ 'data-l10n-<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;cancel&quot;&gt;Cancel&lt;/<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a> &gt;', '&lt; <a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a> <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;app-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a>&quot;type=&quot;submit&quot;'+ 'data-l10n-<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;install&quot;&gt;Install&lt;/<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a> &gt;', '&lt;/menu &gt;', '&lt;/<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a1df8504e63545f2e6c93c0cde966c060">section</a> &gt;'].<a class="el" href="../../de/d11/path_8js.html#a9c4b06c29cf28f47c4f54ed4e30c85b3">join</a>('');fakeInstallCancelDialog=document.createElement('form');<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">fakeInstallCancelDialog.id</a>= '<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a>-<a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a>';<a class="el" href="../../d1/d04/app__install__manager_8js.html#acd145aedb51101ac15a526f73673b0b9">fakeInstallCancelDialog.innerHTML</a>=[ '&lt; <a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a1df8504e63545f2e6c93c0cde966c060">section</a> &gt;', '&lt; h1 <a class="el" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>-l10n-<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;cancel-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>&quot;&gt;Cancel Install&lt;/h1 &gt;', '&lt; <a class="el" href="../../dd/dc2/plarenas_8h.html#a117104b82864d3b23ec174af6d392709">p</a> &gt;', '&lt; small <a class="el" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>-l10n-<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;cancelling-will-not-refund&quot;&gt;Cancelling '+ 'will not refund <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> purchase.Refunds <a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a> paid <a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a4a1b5640b674da15d6f1b87899e53789">content</a> are '+ 'provided by the original seller.&lt;/small &gt;', '&lt; small <a class="el" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>-l10n-<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;apps-can-be-installed-later&quot;&gt;Apps can be '+ 'installed later from the original installation source.&lt;/small &gt;', '&lt;/<a class="el" href="../../dd/dc2/plarenas_8h.html#a117104b82864d3b23ec174af6d392709">p</a> &gt;', '&lt; <a class="el" href="../../dd/dc2/plarenas_8h.html#a117104b82864d3b23ec174af6d392709">p</a> <a class="el" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>-l10n-<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;are-you-sure-you-want-<a class="el" href="../../da/d32/prio_8h.html#a5d467a63df9ff99d33d6749038f6f421">to</a>-<a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a>&quot;&gt;'+ 'Are you sure you want <a class="el" href="../../da/d32/prio_8h.html#a5d467a63df9ff99d33d6749038f6f421">to</a> <a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a> <a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#af23f5f9187c304ed6a90a2c49a64fa48">this</a> <a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>?&lt;/<a class="el" href="../../dd/dc2/plarenas_8h.html#a117104b82864d3b23ec174af6d392709">p</a> &gt;', '&lt; menu &gt;', '&lt; <a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a> <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;app-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d9/d13/shared_2style_2_r_e_a_d_m_e_8md.html#ab77aa8c2fa705d45d7ff1db3a11306ae">confirm</a>-<a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a>-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a>&quot;type=&quot;reset&quot; '+ 'data-l10n-<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;cancel-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>&quot;&gt;Cancel Install&lt;/<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a> &gt;', '&lt; <a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a> <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;app-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-resume-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a>&quot;type=&quot;submit&quot; '+ 'data-l10n-<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;resume&quot;&gt;Resume&lt;/<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a> &gt;', '&lt;/menu &gt;', '&lt;/<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a1df8504e63545f2e6c93c0cde966c060">section</a> &gt;'].<a class="el" href="../../de/d11/path_8js.html#a9c4b06c29cf28f47c4f54ed4e30c85b3">join</a>('');fakeDownloadCancelDialog=document.createElement('form');<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">fakeDownloadCancelDialog.id</a>= '<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d7/d13/mock__updatable_8js.html#ab9b84e146e6d762e377175efdca01924">download</a>-<a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a>-<a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a>';<a class="el" href="../../d1/d04/app__install__manager_8js.html#acd145aedb51101ac15a526f73673b0b9">fakeDownloadCancelDialog.innerHTML</a>=[ '&lt; <a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a1df8504e63545f2e6c93c0cde966c060">section</a> &gt;', '&lt; h1 &gt;&lt;/h1 &gt;', '&lt; <a class="el" href="../../dd/dc2/plarenas_8h.html#a117104b82864d3b23ec174af6d392709">p</a> <a class="el" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>-l10n-<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;app-<a class="el" href="../../d7/d13/mock__updatable_8js.html#ab9b84e146e6d762e377175efdca01924">download</a>-can-be-restarted&quot;&gt;'+ 'The <a class="el" href="../../d7/d13/mock__updatable_8js.html#ab9b84e146e6d762e377175efdca01924">download</a> can be restarted later.&lt;/<a class="el" href="../../dd/dc2/plarenas_8h.html#a117104b82864d3b23ec174af6d392709">p</a> &gt;', '&lt; menu &gt;', '&lt; <a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a> <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;app-<a class="el" href="../../d7/d13/mock__updatable_8js.html#ab9b84e146e6d762e377175efdca01924">download</a>-stop-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a>&quot;class=&quot;danger <a class="el" href="../../d9/d13/shared_2style_2_r_e_a_d_m_e_8md.html#ab77aa8c2fa705d45d7ff1db3a11306ae">confirm</a>&quot; ', 'data-l10n-<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;app-<a class="el" href="../../d7/d13/mock__updatable_8js.html#ab9b84e146e6d762e377175efdca01924">download</a>-stop-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a>&quot;&gt;Stop Download&lt;/<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a> &gt;', '&lt; <a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a> <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;app-<a class="el" href="../../d7/d13/mock__updatable_8js.html#ab9b84e146e6d762e377175efdca01924">download</a>-continue-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a>&quot;class=&quot;cancel&quot; ', 'type=&quot;reset&quot;data-l10n-<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;continue&quot;&gt;Continue&lt;/<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a> &gt;', '&lt;/menu &gt;', '&lt;/<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a1df8504e63545f2e6c93c0cde966c060">section</a> &gt;'].<a class="el" href="../../de/d11/path_8js.html#a9c4b06c29cf28f47c4f54ed4e30c85b3">join</a>('');fakeNotif=document.createElement('div');<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">fakeNotif.id</a>= '<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-manager-notification-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a88e6efb757b9907baa46a5755484f2bd">container</a>';fakeSetupDialog=document.createElement('form');<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">fakeSetupDialog.id</a>= '<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>-installed-<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a>';<a class="el" href="../../d1/d04/app__install__manager_8js.html#acd145aedb51101ac15a526f73673b0b9">fakeSetupDialog.innerHTML</a>=[ '&lt; <a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a1df8504e63545f2e6c93c0cde966c060">section</a> &gt;', '&lt; h1 <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;setup-<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>&quot;&gt;&lt;/h1 &gt;', '&lt; <a class="el" href="../../dd/dc2/plarenas_8h.html#a117104b82864d3b23ec174af6d392709">p</a> <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;setup-<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-description&quot;&gt;&lt;/p &gt;', '&lt; menu &gt;', '&lt; <a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a> <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;setup-<a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a>-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a>&quot;type=&quot;button&quot; '+ 'data-l10n-<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;later&quot;&gt;Later&lt;/<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a> &gt;', '&lt; <a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a> <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;setup-<a class="el" href="../../d9/d13/shared_2style_2_r_e_a_d_m_e_8md.html#ab77aa8c2fa705d45d7ff1db3a11306ae">confirm</a>-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a>&quot;type=&quot;button&quot; '+ 'data-l10n-<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;setup&quot;&gt;Setup&lt;/<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a> &gt;', '&lt;/menu &gt;', '&lt;/<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a1df8504e63545f2e6c93c0cde966c060">section</a> &gt;'].<a class="el" href="../../de/d11/path_8js.html#a9c4b06c29cf28f47c4f54ed4e30c85b3">join</a>('');fakeImeListDialog=document.createElement('form');<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">fakeImeListDialog.id</a>= 'ime-layout-<a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a>';<a class="el" href="../../d1/d04/app__install__manager_8js.html#acd145aedb51101ac15a526f73673b0b9">fakeImeListDialog.innerHTML</a>=[ '&lt; <a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a1df8504e63545f2e6c93c0cde966c060">section</a> &gt;', '&lt; h1 <a class="el" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>-l10n-<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;ime-addkeyboards&quot;&gt;Add <a class="el" href="../../d1/d04/app__install__manager_8js.html#a46ec18bfbcc6f8198bef7d7d9a6148a3">keyboards</a>&lt;/h1 &gt;', '&lt; ul <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;ime-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>&quot;&gt;', '&lt;/ul &gt;', '&lt; menu &gt;', '&lt; <a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a> <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;ime-<a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a>-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a>&quot;type=&quot;button&quot; '+ 'data-l10n-<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;cancel&quot;&gt;Cancel&lt;/<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a> &gt;', '&lt; <a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a> <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;ime-<a class="el" href="../../d9/d13/shared_2style_2_r_e_a_d_m_e_8md.html#ab77aa8c2fa705d45d7ff1db3a11306ae">confirm</a>-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a>&quot;type=&quot;button&quot; '+ 'data-l10n-<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;confirm&quot;&gt;Confirm&lt;/<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a> &gt;', '&lt;/menu &gt;', '&lt;/<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a1df8504e63545f2e6c93c0cde966c060">section</a> &gt;'].<a class="el" href="../../de/d11/path_8js.html#a9c4b06c29cf28f47c4f54ed4e30c85b3">join</a>('');fakeImeListTemplate=document.createElement('div');<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">fakeImeListTemplate.id</a>= 'ime-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>-template';<a class="el" href="../../d1/d04/app__install__manager_8js.html#acd145aedb51101ac15a526f73673b0b9">fakeImeListTemplate.innerHTML</a>=[ '&lt; div <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>=&quot;ime-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>-template&quot;&gt;', '&lt;!--', '&lt; li &gt;', '&lt; <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> &gt; ${displayName}&lt;/<a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> &gt;', '&lt; label class=&quot;pack-checkbox ime&quot;&gt;', '&lt; input <a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a>=&quot;checkbox&quot;name=&quot;keyboards&quot;value=&quot;${imeName}&quot;&gt;', '&lt; span &gt;&lt;/span &gt;', '&lt;/label &gt;', '&lt;/li &gt;', '--&gt;', '&lt;/div &gt;'].<a class="el" href="../../de/d11/path_8js.html#a9c4b06c29cf28f47c4f54ed4e30c85b3">join</a>('');document.body.appendChild(fakeDialog);document.body.appendChild(fakeInstallCancelDialog);document.body.appendChild(fakeDownloadCancelDialog);document.body.appendChild(fakeNotif);document.body.appendChild(fakeSetupDialog);document.body.appendChild(fakeImeListDialog);document.body.appendChild(fakeImeListTemplate);<a class="el" href="../../d5/d0d/pay_8js.html#af619d0ad365b66772212901ccd40466c">AppInstallManager.init</a>();});teardown(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5ebdda199bee63b9cb8dc969a17d4a9e">fakeDialog.parentNode.removeChild</a>(fakeDialog);<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5ebdda199bee63b9cb8dc969a17d4a9e">fakeInstallCancelDialog.parentNode.removeChild</a>(fakeInstallCancelDialog);<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5ebdda199bee63b9cb8dc969a17d4a9e">fakeDownloadCancelDialog.parentNode.removeChild</a>(fakeDownloadCancelDialog);<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5ebdda199bee63b9cb8dc969a17d4a9e">fakeNotif.parentNode.removeChild</a>(fakeNotif);<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5ebdda199bee63b9cb8dc969a17d4a9e">fakeSetupDialog.parentNode.removeChild</a>(fakeSetupDialog);<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5ebdda199bee63b9cb8dc969a17d4a9e">fakeImeListDialog.parentNode.removeChild</a>(fakeImeListDialog);<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5ebdda199bee63b9cb8dc969a17d4a9e">fakeImeListTemplate.parentNode.removeChild</a>(fakeImeListTemplate);lastDispatchedResponse=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;lastL10nParams=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;<a class="el" href="../../d7/d13/mock__updatable_8js.html#a3d0fcb481c5d651d1f7a83fa7896504d">MockNavigatorWakeLock.mTeardown</a>();});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('<a class="el" href="../../d5/d0d/pay_8js.html#af619d0ad365b66772212901ccd40466c">init</a> &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../d3/d91/j3d_8js.html#a1ad2f17c038f79ef240a44e21a46ef14">bind</a> <a class="el" href="../../dd/d85/video_8js.html#a017102f866db15b37d9657454efde4ff">dom</a> elements', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a>', <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">AppInstallManager.dialog.id</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d2/d7d/jsapi_8h.html#a254bf0858da09c96a48daf64404eb4f8">message</a>', <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">AppInstallManager.msg.id</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d0/da8/prrng_8h.html#a5c72e4e1ff78177bac89e7f0ddadda92">size</a>', <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">AppInstallManager.size.id</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-author-<a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>', <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">AppInstallManager.authorName.id</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-author-<a class="el" href="../../de/d8f/jsdebug_8h.html#a39bb9861b2cb39f94badb5db778de746">url</a>', <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">AppInstallManager.authorUrl.id</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a>', <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">AppInstallManager.installButton.id</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a>-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a>', <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">AppInstallManager.cancelButton.id</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a>-<a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a>', <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">AppInstallManager.installCancelDialog.id</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d9/d13/shared_2style_2_r_e_a_d_m_e_8md.html#ab77aa8c2fa705d45d7ff1db3a11306ae">confirm</a>-<a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a>-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a>', <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">AppInstallManager.confirmCancelButton.id</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-resume-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a>', <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">AppInstallManager.resumeButton.id</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('ime-layout-<a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a>', <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">AppInstallManager.imeLayoutDialog.id</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('ime-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>-template', <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">AppInstallManager.imeListTemplate.id</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('ime-<a class="el" href="../../d3/d87/mock__contact_8js.html#ad08d759db77b6861afcb4729fc620b95">list</a>', <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">AppInstallManager.imeList.id</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('ime-<a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a>-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a>', <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">AppInstallManager.imeCancelButton.id</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('ime-<a class="el" href="../../d9/d13/shared_2style_2_r_e_a_d_m_e_8md.html#ab77aa8c2fa705d45d7ff1db3a11306ae">confirm</a>-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a>', <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">AppInstallManager.imeConfirmButton.id</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>-<a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a>-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a>', <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">AppInstallManager.setupCancelButton.id</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>-<a class="el" href="../../d9/d13/shared_2style_2_r_e_a_d_m_e_8md.html#ab77aa8c2fa705d45d7ff1db3a11306ae">confirm</a>-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a>', <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">AppInstallManager.setupConfirmButton.id</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>-installed-<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a>', <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">AppInstallManager.setupInstalledAppDialog.id</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>-<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>', <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">AppInstallManager.setupAppName.id</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>-<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-description', <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">AppInstallManager.setupAppDescription.id</a>);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../d3/d91/j3d_8js.html#a1ad2f17c038f79ef240a44e21a46ef14">bind</a> <a class="el" href="../../da/d32/prio_8h.html#a5d467a63df9ff99d33d6749038f6f421">to</a> the click <a class="el" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">AppInstallManager.handleInstall.name</a>, <a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">AppInstallManager.installButton.onclick.name</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">AppInstallManager.showInstallCancelDialog.name</a>, <a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">AppInstallManager.cancelButton.onclick.name</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">AppInstallManager.handleInstallCancel.name</a>, <a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">AppInstallManager.confirmCancelButton.onclick.name</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">AppInstallManager.hideInstallCancelDialog.name</a>, <a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">AppInstallManager.resumeButton.onclick.name</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">AppInstallManager.handleSetupCancelAction.name</a>, <a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">AppInstallManager.setupCancelButton.onclick.name</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">AppInstallManager.handleSetupConfirmAction.name</a>, <a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">AppInstallManager.setupConfirmButton.onclick.name</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">AppInstallManager.hideIMEList.name</a>, <a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">AppInstallManager.imeCancelButton.onclick.name</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">AppInstallManager.handleImeConfirmAction.name</a>, <a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">AppInstallManager.imeConfirmButton.onclick.name</a>);});});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('events &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('webapps-ask-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a> &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var evt=new <a class="el" href="../../d5/d3f/mock__chrome__event_8js.html#aacec9cd066c78ab4937d83ed9378f460">MockChromeEvent</a>({type: 'webapps-ask-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>', id:42, app:{manifest:{name: 'Fake <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>', size:5245678, developer:{name: 'Fake dev', url: 'http:}}}});AppInstallManager.handleAppInstallPrompt(evt.detail);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should display the <a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a6d342aea8f30c5f641ed5ff6e0f4de13">visible</a>', AppInstallManager.dialog.className);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should fill the <a class="el" href="../../d2/d7d/jsapi_8h.html#a254bf0858da09c96a48daf64404eb4f8">message</a> with <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a> <a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">AppInstallManager.msg.textContent</a>, '<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>{&quot;name&quot;:&quot;Fake <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>&quot;}');});test('should <a class="el" href="../../d7/d1b/test-agent-server_8js.html#aab71dcc804ca4aa3ed2bf7ba887635db">use</a> the mini <a class="el" href="../../d1/d04/app__install__manager_8js.html#a3c65d07fe933acaaf1205d12ce79b115">manifest</a> <a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a> no <a class="el" href="../../d1/d04/app__install__manager_8js.html#a3c65d07fe933acaaf1205d12ce79b115">manifest</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var evt=new <a class="el" href="../../d5/d3f/mock__chrome__event_8js.html#aacec9cd066c78ab4937d83ed9378f460">MockChromeEvent</a>({type: 'webapps-ask-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>', id:42, app:{updateManifest:{name: 'Fake <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>', size:5245678, developer:{name: 'Fake dev', url: 'http:}}}});AppInstallManager.handleAppInstallPrompt(evt.detail);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">AppInstallManager.msg.textContent</a>, '<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>{&quot;name&quot;:&quot;Fake <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>&quot;}');});suite('developer infos &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should fill the developer infos', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('Fake dev', <a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">AppInstallManager.authorName.textContent</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">http:AppInstallManager.authorUrl.textContent</a>);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should tell <a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a> the developer is unknown', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var evt=new <a class="el" href="../../d5/d3f/mock__chrome__event_8js.html#aacec9cd066c78ab4937d83ed9378f460">MockChromeEvent</a>({type: 'webapps-ask-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>', id:42, app:{updateManifest:{name: 'Fake <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>', size:5245678}}});AppInstallManager.handleAppInstallPrompt(evt.detail);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('author-unknown', <a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">AppInstallManager.authorName.textContent</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('', <a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">AppInstallManager.authorUrl.textContent</a>);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../d3/d4b/lockscreen_8js.html#af91fa9dd7bcc99f1ac5d9727c6cdc8cc">handle</a> empty developer <a class="el" href="../../d9/d13/shared_2style_2_r_e_a_d_m_e_8md.html#a3324c12c8fd4a56057ace952fd0d4bc5">object</a> properly', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var evt=new <a class="el" href="../../d5/d3f/mock__chrome__event_8js.html#aacec9cd066c78ab4937d83ed9378f460">MockChromeEvent</a>({type: 'webapps-ask-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>', id:42, app:{updateManifest:{name: 'Fake <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>', size:5245678, developer:{}}}});AppInstallManager.handleAppInstallPrompt(evt.detail);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('author-unknown', <a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">AppInstallManager.authorName.textContent</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('', <a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">AppInstallManager.authorUrl.textContent</a>);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should tell <a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a> the developer <a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a> is unknown', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var evt=new <a class="el" href="../../d5/d3f/mock__chrome__event_8js.html#aacec9cd066c78ab4937d83ed9378f460">MockChromeEvent</a>({type: 'webapps-ask-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>', id:42, app:{updateManifest:{name: 'Fake <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>', size:5245678, developer:{url: 'http:}}}});AppInstallManager.handleAppInstallPrompt(evt.detail);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('author-unknown', <a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">AppInstallManager.authorName.textContent</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">http:AppInstallManager.authorUrl.textContent</a>);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('the developer <a class="el" href="../../de/d8f/jsdebug_8h.html#a39bb9861b2cb39f94badb5db778de746">url</a> should default <a class="el" href="../../da/d32/prio_8h.html#a5d467a63df9ff99d33d6749038f6f421">to</a> blank', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var evt=new <a class="el" href="../../d5/d3f/mock__chrome__event_8js.html#aacec9cd066c78ab4937d83ed9378f460">MockChromeEvent</a>({type: 'webapps-ask-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>', id:42, app:{updateManifest:{name: 'Fake <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>', size:5245678, developer:{name: 'Fake dev'}}}});AppInstallManager.handleAppInstallPrompt(evt.detail);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('Fake dev', <a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">AppInstallManager.authorName.textContent</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('', <a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">AppInstallManager.authorUrl.textContent</a>);});});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a> <a class="el" href="../../d0/da8/prrng_8h.html#a5c72e4e1ff78177bac89e7f0ddadda92">size</a> &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should display the package <a class="el" href="../../d0/da8/prrng_8h.html#a5c72e4e1ff78177bac89e7f0ddadda92">size</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('5.00 MB', <a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">AppInstallManager.size.textContent</a>);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should tell <a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a> the <a class="el" href="../../d0/da8/prrng_8h.html#a5c72e4e1ff78177bac89e7f0ddadda92">size</a> is unknown', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var evt=new <a class="el" href="../../d5/d3f/mock__chrome__event_8js.html#aacec9cd066c78ab4937d83ed9378f460">MockChromeEvent</a>({type: 'webapps-ask-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>', id:42, app:{manifest:{name: 'Fake <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>', developer:{name: 'Fake dev', url: 'http:}}}});AppInstallManager.handleAppInstallPrompt(evt.detail);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('<a class="el" href="../../d0/da8/prrng_8h.html#a5c72e4e1ff78177bac89e7f0ddadda92">size</a>-unknown', <a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">AppInstallManager.size.textContent</a>);});});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('<a class="el" href="../../de/d8f/jsdebug_8h.html#a442278b4d6dcd36ba4337e6b3a20b608">callbacks</a> &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a> &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var defaultPrevented=<a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>;<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d1/d04/app__install__manager_8js.html#a2b9043c9efbb6b8d1481ffc011ebd051">AppInstallManager.handleInstall</a>({preventDefault:function(){defaultPrevented=<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>;}});});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should dispatch <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> webapps-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-granted with the <a class="el" href="../../d2/d7d/jsapi_8h.html#a06a61119547d88fbcdf5e877c6c9057e">right</a> <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(42, <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">lastDispatchedResponse.id</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('webapps-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-granted', <a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">lastDispatchedResponse.type</a>);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should prevent the default <a class="el" href="../../da/d32/prio_8h.html#a5d467a63df9ff99d33d6749038f6f421">to</a> avoid form submission', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ac3f85391e7b9d85d3879b84b90623375">assert.isTrue</a>(defaultPrevented);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../db/df4/geoloc_8js.html#abb32d825b52ef528b86b799b6247e79a">hide</a> the <a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('', AppInstallManager.dialog.className);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">remove</a> the <a class="el" href="../../de/dc5/jsfriendapi_8h.html#ae9494ad8646a84b50bd3446d72433e82">callback</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>, <a class="el" href="../../d1/d04/app__install__manager_8js.html#a5d8178dad412fb58e2dac9124dc5aaa9">AppInstallManager.installCallback</a>);});});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('<a class="el" href="../../db/df4/geoloc_8js.html#a34b2bb38da6ac84e5708382e03478900">show</a> <a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a> <a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a> &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){AppInstallManager.showInstallCancelDialog();});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../db/df4/geoloc_8js.html#a34b2bb38da6ac84e5708382e03478900">show</a> <a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a> <a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a> and <a class="el" href="../../db/df4/geoloc_8js.html#abb32d825b52ef528b86b799b6247e79a">hide</a> <a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a6d342aea8f30c5f641ed5ff6e0f4de13">visible</a>', AppInstallManager.installCancelDialog.className);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('', AppInstallManager.dialog.className);});});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('<a class="el" href="../../db/df4/geoloc_8js.html#abb32d825b52ef528b86b799b6247e79a">hide</a> <a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a> <a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a> &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){AppInstallManager.hideInstallCancelDialog();});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../db/df4/geoloc_8js.html#abb32d825b52ef528b86b799b6247e79a">hide</a> <a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a> <a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a> and <a class="el" href="../../db/df4/geoloc_8js.html#a34b2bb38da6ac84e5708382e03478900">show</a> <a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('', AppInstallManager.installCancelDialog.className);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a6d342aea8f30c5f641ed5ff6e0f4de13">visible</a>', AppInstallManager.dialog.className);});});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('<a class="el" href="../../d9/d13/shared_2style_2_r_e_a_d_m_e_8md.html#ab77aa8c2fa705d45d7ff1db3a11306ae">confirm</a> <a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a> &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){AppInstallManager.handleInstallCancel();});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should dispatch <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> webapps-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-denied', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(42, <a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">lastDispatchedResponse.id</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('webapps-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-denied', <a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">lastDispatchedResponse.type</a>);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../db/df4/geoloc_8js.html#abb32d825b52ef528b86b799b6247e79a">hide</a> the <a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('', AppInstallManager.installCancelDialog.className);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">remove</a> the <a class="el" href="../../de/dc5/jsfriendapi_8h.html#ae9494ad8646a84b50bd3446d72433e82">callback</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>, <a class="el" href="../../d1/d04/app__install__manager_8js.html#aa2587de403e7b7582aa310cc75ce35b0">AppInstallManager.installCancelCallback</a>);});});});});});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('duringInstall &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var mockApp, mockAppName;<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> <a class="el" href="../../d1/d04/app__install__manager_8js.html#a5e67712f1e4602312c66bda052a6f6c4">dispatchEvent</a>(<a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>, <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>){<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>=<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>||mockApp;var <a class="el" href="../../d1/d03/locales_2_r_e_a_d_m_e_8md.html#abfc48c566ed05b3908825f01ea7462a4">e</a>=new CustomEvent(<a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>,{detail:{application:app}});<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5e67712f1e4602312c66bda052a6f6c4">window.dispatchEvent</a>(<a class="el" href="../../d1/d03/locales_2_r_e_a_d_m_e_8md.html#abfc48c566ed05b3908825f01ea7462a4">e</a>);}var dispatchInstallEvent=<a class="el" href="../../d3/d91/j3d_8js.html#a1ad2f17c038f79ef240a44e21a46ef14">dispatchEvent.bind</a>(<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>, 'applicationinstall');<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> dispatchUninstallEvent(){var evtName= 'applicationuninstall';var partialApp={<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5983b6d50c2fbf95ffe3907399e83a3c">manifestURL:mockApp.manifestURL</a>, origin:mockApp.origin};<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5e67712f1e4602312c66bda052a6f6c4">dispatchEvent</a>(evtName, partialApp);}<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('hosted <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a> without <a class="el" href="../../df/dc7/viewer_8js.html#a521016aa0ca9ff38bfba60ab069cb34b">cache</a> &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){mockAppName= 'Fake hosted <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>';mockApp=new <a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a1421952544f7eb7f0a1e8b18d7317125">MockApp</a>({manifest:{name:mockAppName, developer:{name: 'Fake dev', url: 'http:}}, updateManifest:null, installState: 'installed'});<a class="el" href="../../d7/d13/mock__updatable_8js.html#a3d0fcb481c5d651d1f7a83fa7896504d">MockSystemBanner.mTeardown</a>();dispatchInstallEvent();});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should not <a class="el" href="../../db/df4/geoloc_8js.html#a34b2bb38da6ac84e5708382e03478900">show</a> the icon', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){assert.isUndefined(MockStatusBar.wasMethodCalled['incSystemDownloads']);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should not <a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">add</a> <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> notification', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(fakeNotif.childElementCount, 0);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should display <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> confirmation', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(MockSystemBanner.mMessage, '<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../db/df4/geoloc_8js.html#a15b4f92b0ef49ac05f43437f3d85ae46">success</a>{&quot;appName&quot;:&quot;' + mockAppName + '&quot;}');});});function beforeFirstProgressSuite(){<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('before <a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#aab9764d7f9e519400127ef5189844ed3">first</a> progress &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should not <a class="el" href="../../db/df4/geoloc_8js.html#a34b2bb38da6ac84e5708382e03478900">show</a> the icon', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var method= 'incSystemDownloads';assert.isUndefined(MockStatusBar.wasMethodCalled[method]);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should not <a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">add</a> <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> notification', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(fakeNotif.childElementCount, 0);});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">on</a> downloadsuccess &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d7/d13/mock__updatable_8js.html#a3d0fcb481c5d651d1f7a83fa7896504d">MockNotificationScreen.mTeardown</a>();<a class="el" href="../../d7/d13/mock__updatable_8js.html#a3d0fcb481c5d651d1f7a83fa7896504d">MockStatusBar.mTeardown</a>();<a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a27dcfd4ace52f9a51cdd9408d1e3ec9c">mockApp.mTriggerDownloadSuccess</a>();});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should not <a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">remove</a> <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> notification', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var method= '<a class="el" href="../../d1/d04/app__install__manager_8js.html#aacaeb84d68d8dc58526c48dde5cea636">decExternalNotifications</a>';assert.isUndefined(MockNotificationScreen.wasMethodCalled[method]);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should not <a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">remove</a> the <a class="el" href="../../d7/d13/mock__updatable_8js.html#ab9b84e146e6d762e377175efdca01924">download</a> icon', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var method= 'decSystemDownloads';assert.isUndefined(MockStatusBar.wasMethodCalled[method]);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should display <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> confirmation', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(MockSystemBanner.mMessage, '<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../db/df4/geoloc_8js.html#a15b4f92b0ef49ac05f43437f3d85ae46">success</a>{&quot;appName&quot;:&quot;' + mockAppName + '&quot;}');});});suite('<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">on</a> downloaderror &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d7/d13/mock__updatable_8js.html#a3d0fcb481c5d651d1f7a83fa7896504d">MockNotificationScreen.mTeardown</a>();<a class="el" href="../../d7/d13/mock__updatable_8js.html#a3d0fcb481c5d651d1f7a83fa7896504d">MockStatusBar.mTeardown</a>();<a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#ad457c59e401446b6bd2393f6e8b638ca">mockApp.mTriggerDownloadError</a>();});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should not <a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">remove</a> <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> notification', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var method= '<a class="el" href="../../d1/d04/app__install__manager_8js.html#aacaeb84d68d8dc58526c48dde5cea636">decExternalNotifications</a>';assert.isUndefined(MockNotificationScreen.wasMethodCalled[method]);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should not <a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">remove</a> the <a class="el" href="../../d7/d13/mock__updatable_8js.html#ab9b84e146e6d762e377175efdca01924">download</a> icon', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var method= 'decSystemDownloads';assert.isUndefined(MockStatusBar.wasMethodCalled[method]);});});});}<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> downloadErrorSuite(downloadEventsSuite){<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">on</a> downloadError &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d7/d13/mock__updatable_8js.html#a3d0fcb481c5d651d1f7a83fa7896504d">MockStatusBar.mTeardown</a>();<a class="el" href="../../d7/d13/mock__updatable_8js.html#a3d0fcb481c5d651d1f7a83fa7896504d">MockSystemBanner.mTeardown</a>();<a class="el" href="../../d7/d13/mock__updatable_8js.html#a3d0fcb481c5d651d1f7a83fa7896504d">MockModalDialog.mTeardown</a>();});<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> downloadErrorTests(<a class="el" href="../../d1/d04/app__install__manager_8js.html#ab4b2a299eb3988169558a8cf1da08232">errorName</a>){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should display an <a class="el" href="../../db/df4/geoloc_8js.html#ac3dbd5af3a73f4aa69249dd1c6b9c980">error</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var expectedErrorMsg=knownErrors[<a class="el" href="../../d1/d04/app__install__manager_8js.html#ab4b2a299eb3988169558a8cf1da08232">errorName</a>]+ '{&quot;appName&quot;:&quot;' + mockAppName + '&quot;}';assert.equal(MockSystemBanner.mMessage, expectedErrorMsg);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should not display the <a class="el" href="../../db/df4/geoloc_8js.html#ac3dbd5af3a73f4aa69249dd1c6b9c980">error</a> <a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#a8e4d922ae3532f8bdfcadccef0881707">assert.isFalse</a>(MockModalDialog.alert.mWasCalled);});}<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> specificDownloadErrorSuite(<a class="el" href="../../d1/d04/app__install__manager_8js.html#ab4b2a299eb3988169558a8cf1da08232">errorName</a>){<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>(<a class="el" href="../../d1/d04/app__install__manager_8js.html#ab4b2a299eb3988169558a8cf1da08232">errorName</a>+ ' &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#ad457c59e401446b6bd2393f6e8b638ca">mockApp.mTriggerDownloadError</a>(<a class="el" href="../../d1/d04/app__install__manager_8js.html#ab4b2a299eb3988169558a8cf1da08232">errorName</a>);});downloadErrorTests(<a class="el" href="../../d1/d04/app__install__manager_8js.html#ab4b2a299eb3988169558a8cf1da08232">errorName</a>);});}var knownErrors={ 'FALLBACK_ERROR': '<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-generic-<a class="el" href="../../db/df4/geoloc_8js.html#ac3dbd5af3a73f4aa69249dd1c6b9c980">error</a>', 'NETWORK_ERROR': '<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d7/d13/mock__updatable_8js.html#ab9b84e146e6d762e377175efdca01924">download</a>-failed', '<a class="el" href="../../de/dd0/fl_2js_2constants_8js.html#ad79f348abb60db8f3dbd6badf4cfcfc6">DOWNLOAD_ERROR</a>': '<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d7/d13/mock__updatable_8js.html#ab9b84e146e6d762e377175efdca01924">download</a>-failed', 'MISSING_MANIFEST': '<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-failed', 'INVALID_MANIFEST': '<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-failed', 'INSTALL_FROM_DENIED': '<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-failed', 'INVALID_SECURITY_LEVEL': '<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-failed', 'INVALID_PACKAGE': '<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-failed', 'APP_CACHE_DOWNLOAD_ERROR': '<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../d7/d13/mock__updatable_8js.html#ab9b84e146e6d762e377175efdca01924">download</a>-failed'};Object.keys(knownErrors).<a class="el" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#aae3803cf3819ae1182550b783e1ea692">forEach</a>(specificDownloadErrorSuite);<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('GENERIC_ERROR &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#ad457c59e401446b6bd2393f6e8b638ca">mockApp.mTriggerDownloadError</a>('GENERIC_ERROR');});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">remove</a> the notif', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(fakeNotif.childElementCount, 0);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">remove</a> the icon', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var method= 'decSystemDownloads';<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(MockStatusBar.wasMethodCalled[method]);});beforeFirstProgressSuite();downloadEventsSuite(<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>);});});}<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('hosted <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a> with <a class="el" href="../../df/dc7/viewer_8js.html#a521016aa0ca9ff38bfba60ab069cb34b">cache</a> &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){mockAppName= 'Fake hosted <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a> with <a class="el" href="../../df/dc7/viewer_8js.html#a521016aa0ca9ff38bfba60ab069cb34b">cache</a>';mockApp=new <a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a1421952544f7eb7f0a1e8b18d7317125">MockApp</a>({manifest:{name:mockAppName, developer:{name: 'Fake dev', url: 'http:}}, updateManifest:null, installState: 'pending'});<a class="el" href="../../d7/d13/mock__updatable_8js.html#a3d0fcb481c5d651d1f7a83fa7896504d">MockSystemBanner.mTeardown</a>();dispatchInstallEvent();});<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> downloadEventsSuite(afterError){var suiteName= '<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">on</a> <a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#aab9764d7f9e519400127ef5189844ed3">first</a> progress';<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(afterError){suiteName+= 'after <a class="el" href="../../db/df4/geoloc_8js.html#ac3dbd5af3a73f4aa69249dd1c6b9c980">error</a>';}suiteName+= ' &gt;';<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>(suiteName, <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d7/d13/mock__updatable_8js.html#a3d0fcb481c5d651d1f7a83fa7896504d">MockNotificationScreen.mTeardown</a>();<a class="el" href="../../d7/d13/mock__updatable_8js.html#a3d0fcb481c5d651d1f7a83fa7896504d">MockStatusBar.mTeardown</a>();<a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a05d70e3d8b130c4ca590847dbe709b75">mockApp.mTriggerDownloadProgress</a>(NaN);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">add</a> <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> notification', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var method= '<a class="el" href="../../d1/d04/app__install__manager_8js.html#a0d63fdff81f28acf6c6d745c96960c92">incExternalNotifications</a>';<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(fakeNotif.childElementCount, 1);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(MockNotificationScreen.wasMethodCalled[method]);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('notification should have <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> <a class="el" href="../../d2/d7d/jsapi_8h.html#a254bf0858da09c96a48daf64404eb4f8">message</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('.<a class="el" href="../../d2/d7d/jsapi_8h.html#a254bf0858da09c96a48daf64404eb4f8">message</a>').<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">textContent</a>, 'downloadingAppMessage{&quot;appName&quot;:&quot;Fake hosted <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a> with <a class="el" href="../../df/dc7/viewer_8js.html#a521016aa0ca9ff38bfba60ab069cb34b">cache</a>&quot;}');assert.equal(<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('progress').<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">textContent</a>, 'downloadingAppProgressIndeterminate');});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('notification progress should be indeterminate', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('progress').<a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#acd1cdae9d6d8493a6f34d308f8259f55">position</a>,-1);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../df/d44/permission__manager_8js.html#ad9abb423164fcb98d6ad9333893e4682">request</a> wifi wake <a class="el" href="../../df/d6d/prpdce_8h.html#a3a0acaef79170339a71bc1c4c54ad225">lock</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('wifi', MockNavigatorWakeLock.mLastWakeLock.topic);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#a8e4d922ae3532f8bdfcadccef0881707">assert.isFalse</a>(MockNavigatorWakeLock.mLastWakeLock.released);});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">on</a> downloadsuccess &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a27dcfd4ace52f9a51cdd9408d1e3ec9c">mockApp.mTriggerDownloadSuccess</a>();});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">remove</a> the notif', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var method= '<a class="el" href="../../d1/d04/app__install__manager_8js.html#aacaeb84d68d8dc58526c48dde5cea636">decExternalNotifications</a>';<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(fakeNotif.childElementCount, 0);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(MockNotificationScreen.wasMethodCalled[method]);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a170fe99e732335290145d391f9ca24dd">release</a> the wifi wake <a class="el" href="../../df/d6d/prpdce_8h.html#a3a0acaef79170339a71bc1c4c54ad225">lock</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('wifi', MockNavigatorWakeLock.mLastWakeLock.topic);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ac3f85391e7b9d85d3879b84b90623375">assert.isTrue</a>(MockNavigatorWakeLock.mLastWakeLock.released);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should display <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> confirmation', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(MockSystemBanner.mMessage, '<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../db/df4/geoloc_8js.html#a15b4f92b0ef49ac05f43437f3d85ae46">success</a>{&quot;appName&quot;:&quot;' + mockAppName + '&quot;}');});});test('<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">on</a> downloadsuccess &gt; should <a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">remove</a> only its progress <a class="el" href="../../de/deb/jsdbgapi_8h.html#a309e0bc04bd5e2de367147b08241aa6b">handler</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var onprogressCalled=<a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>;<a class="el" href="../../d1/d04/app__install__manager_8js.html#a287ef4df227a3ceb44fea5838f75a88e">mockApp.onprogress</a>=<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){onprogressCalled=<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>;};<a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a27dcfd4ace52f9a51cdd9408d1e3ec9c">mockApp.mTriggerDownloadSuccess</a>();<a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a05d70e3d8b130c4ca590847dbe709b75">mockApp.mTriggerDownloadProgress</a>(10);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ac3f85391e7b9d85d3879b84b90623375">assert.isTrue</a>(onprogressCalled);});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">on</a> indeterminate progress &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a05d70e3d8b130c4ca590847dbe709b75">mockApp.mTriggerDownloadProgress</a>(NaN);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../db/df4/geoloc_8js.html#af2466db6613b121fa92f40e15d832813">keep</a> the progress indeterminate', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var <a class="el" href="../../d1/d04/app__install__manager_8js.html#a1a69e49d95a0e53bbbf029affe5f557b">progressNode</a>=<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('progress');<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#acd1cdae9d6d8493a6f34d308f8259f55">progressNode.position</a>,-1);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">progressNode.textContent</a>, 'downloadingAppProgressIndeterminate');});});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">on</a> quantified progress &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a05d70e3d8b130c4ca590847dbe709b75">mockApp.mTriggerDownloadProgress</a>(10);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should have <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> quantified progress', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var <a class="el" href="../../d1/d04/app__install__manager_8js.html#a1a69e49d95a0e53bbbf029affe5f557b">progressNode</a>=<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('progress');<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#acd1cdae9d6d8493a6f34d308f8259f55">progressNode.position</a>,-1);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">progressNode.textContent</a>, 'downloadingAppProgressNoMax{&quot;progress&quot;:&quot;10.00 <a class="el" href="../../de/d81/xpt__struct_8h.html#adcc78999fdbb41052741a6e30b16fab5">bytes</a>&quot;}');});});suite('<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">on</a> <a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a7d65343d044ec164e6ea4a726b5adce5">uninstall</a> &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){dispatchUninstallEvent();});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">remove</a> the notif', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var method= '<a class="el" href="../../d1/d04/app__install__manager_8js.html#aacaeb84d68d8dc58526c48dde5cea636">decExternalNotifications</a>';<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(fakeNotif.childElementCount, 0);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(MockNotificationScreen.wasMethodCalled[method]);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a170fe99e732335290145d391f9ca24dd">release</a> the wifi wake <a class="el" href="../../df/d6d/prpdce_8h.html#a3a0acaef79170339a71bc1c4c54ad225">lock</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('wifi', MockNavigatorWakeLock.mLastWakeLock.topic);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ac3f85391e7b9d85d3879b84b90623375">assert.isTrue</a>(MockNavigatorWakeLock.mLastWakeLock.released);});});<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!afterError){downloadErrorSuite(downloadEventsSuite);}});}beforeFirstProgressSuite();downloadEventsSuite(<a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>);});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('reinstalled packaged <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a> &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){mockAppName= 'Fake packaged <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>';mockApp=new <a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a1421952544f7eb7f0a1e8b18d7317125">MockApp</a>({manifest:{name:mockAppName, developer:{name: 'Fake dev', url: 'http:}}, updateManifest:{name:mockAppName, size:5245678, developer:{name: 'Fake dev', url: 'http:}}, installState: 'pending'});dispatchInstallEvent();});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">on</a> <a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#aab9764d7f9e519400127ef5189844ed3">first</a> progress &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var newprogress=5;<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d7/d13/mock__updatable_8js.html#a3d0fcb481c5d651d1f7a83fa7896504d">MockNotificationScreen.mTeardown</a>();<a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a05d70e3d8b130c4ca590847dbe709b75">mockApp.mTriggerDownloadProgress</a>(newprogress);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">add</a> <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> notification', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var method= '<a class="el" href="../../d1/d04/app__install__manager_8js.html#a0d63fdff81f28acf6c6d745c96960c92">incExternalNotifications</a>';<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(fakeNotif.childElementCount, 1);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(MockNotificationScreen.wasMethodCalled[method]);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('notification should have <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> <a class="el" href="../../d2/d7d/jsapi_8h.html#a254bf0858da09c96a48daf64404eb4f8">message</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var expectedText= 'downloadingAppMessage{&quot;appName&quot;:&quot;' +
            mockAppName + '&quot;}';assert.equal(<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('.<a class="el" href="../../d2/d7d/jsapi_8h.html#a254bf0858da09c96a48daf64404eb4f8">message</a>').<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">textContent</a>, expectedText);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('notification progress should have <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> <a class="el" href="../../db/d13/ns_i_d_o_m_device_proximity_event_8idl.html#a0b0ede69e8156eb97acc579b88e883de">max</a> and <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> <a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('progress').<a class="el" href="../../db/d13/ns_i_d_o_m_device_proximity_event_8idl.html#a0b0ede69e8156eb97acc579b88e883de">max</a>, <a class="el" href="../../d0/da8/prrng_8h.html#a5c72e4e1ff78177bac89e7f0ddadda92">mockApp.updateManifest.size</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('progress').<a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>, newprogress);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('notification progress should not be indeterminate', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){assert.notEqual(<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('progress').<a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#acd1cdae9d6d8493a6f34d308f8259f55">position</a>,-1);});});});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('packaged <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a> &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){mockAppName= 'Fake packaged <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>';mockApp=new <a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a1421952544f7eb7f0a1e8b18d7317125">MockApp</a>({manifest:null, updateManifest:{name:mockAppName, size:5245678, developer:{name: 'Fake dev', url: 'http:}}, installState: 'pending'});dispatchInstallEvent();});<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> downloadEventsSuite(afterError){var suiteName= '<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">on</a> <a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#aab9764d7f9e519400127ef5189844ed3">first</a> progress';<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(afterError){suiteName+= 'after <a class="el" href="../../db/df4/geoloc_8js.html#ac3dbd5af3a73f4aa69249dd1c6b9c980">error</a>';}suiteName+= ' &gt;';<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>(suiteName, <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var newprogress=5;<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d7/d13/mock__updatable_8js.html#a3d0fcb481c5d651d1f7a83fa7896504d">MockNotificationScreen.mTeardown</a>();<a class="el" href="../../d7/d13/mock__updatable_8js.html#a3d0fcb481c5d651d1f7a83fa7896504d">MockSystemBanner.mTeardown</a>();<a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a05d70e3d8b130c4ca590847dbe709b75">mockApp.mTriggerDownloadProgress</a>(newprogress);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">add</a> <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> notification', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var method= '<a class="el" href="../../d1/d04/app__install__manager_8js.html#a0d63fdff81f28acf6c6d745c96960c92">incExternalNotifications</a>';<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(fakeNotif.childElementCount, 1);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(MockNotificationScreen.wasMethodCalled[method]);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('notification should have <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> <a class="el" href="../../d2/d7d/jsapi_8h.html#a254bf0858da09c96a48daf64404eb4f8">message</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var expectedText= 'downloadingAppMessage{&quot;appName&quot;:&quot;' +
              mockAppName + '&quot;}';assert.equal(<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('.<a class="el" href="../../d2/d7d/jsapi_8h.html#a254bf0858da09c96a48daf64404eb4f8">message</a>').<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">textContent</a>, expectedText);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('notification progress should have <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> <a class="el" href="../../db/d13/ns_i_d_o_m_device_proximity_event_8idl.html#a0b0ede69e8156eb97acc579b88e883de">max</a> and <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> <a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('progress').<a class="el" href="../../db/d13/ns_i_d_o_m_device_proximity_event_8idl.html#a0b0ede69e8156eb97acc579b88e883de">max</a>, <a class="el" href="../../d0/da8/prrng_8h.html#a5c72e4e1ff78177bac89e7f0ddadda92">mockApp.updateManifest.size</a>);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('progress').<a class="el" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>, newprogress);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('notification progress should not be indeterminate', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){assert.notEqual(<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('progress').<a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#acd1cdae9d6d8493a6f34d308f8259f55">position</a>,-1);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../df/d44/permission__manager_8js.html#ad9abb423164fcb98d6ad9333893e4682">request</a> wifi wake <a class="el" href="../../df/d6d/prpdce_8h.html#a3a0acaef79170339a71bc1c4c54ad225">lock</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('wifi', MockNavigatorWakeLock.mLastWakeLock.topic);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#a8e4d922ae3532f8bdfcadccef0881707">assert.isFalse</a>(MockNavigatorWakeLock.mLastWakeLock.released);});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">on</a> downloadsuccess &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a27dcfd4ace52f9a51cdd9408d1e3ec9c">mockApp.mTriggerDownloadSuccess</a>();});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">remove</a> the notif', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var method= '<a class="el" href="../../d1/d04/app__install__manager_8js.html#aacaeb84d68d8dc58526c48dde5cea636">decExternalNotifications</a>';<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(fakeNotif.childElementCount, 0);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(MockNotificationScreen.wasMethodCalled[method]);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a170fe99e732335290145d391f9ca24dd">release</a> the wifi wake <a class="el" href="../../df/d6d/prpdce_8h.html#a3a0acaef79170339a71bc1c4c54ad225">lock</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('wifi', MockNavigatorWakeLock.mLastWakeLock.topic);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ac3f85391e7b9d85d3879b84b90623375">assert.isTrue</a>(MockNavigatorWakeLock.mLastWakeLock.released);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should display <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> confirmation', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(MockSystemBanner.mMessage, '<a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>-<a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a62c0c990db107f65eb2faf422eaea2c1">install</a>-<a class="el" href="../../db/df4/geoloc_8js.html#a15b4f92b0ef49ac05f43437f3d85ae46">success</a>{&quot;appName&quot;:&quot;' + mockAppName + '&quot;}');});});test('<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">on</a> downloadsuccess &gt; '+ 'should not <a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a> <a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a> wifi <a class="el" href="../../d3/d4b/lockscreen_8js.html#a5fcc87d72af0776c43f03559fd828d16">unlock</a> throws an exception', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){MockNavigatorWakeLock.mThrowAtNextUnlock();<a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a27dcfd4ace52f9a51cdd9408d1e3ec9c">mockApp.mTriggerDownloadSuccess</a>();<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">on</a> indeterminate progress &gt; '+ 'should <a class="el" href="../../dd/d6d/mock__spinner_8js.html#ab10b009b0da48f61217a18daf8e20cd8">update</a> the progress <a class="el" href="../../dd/dfa/classtext.html">text</a> <a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a4a1b5640b674da15d6f1b87899e53789">content</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a05d70e3d8b130c4ca590847dbe709b75">mockApp.mTriggerDownloadProgress</a>(NaN);var <a class="el" href="../../d1/d04/app__install__manager_8js.html#a1a69e49d95a0e53bbbf029affe5f557b">progressNode</a>=<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('progress');<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">progressNode.textContent</a>, 'downloadingAppProgressIndeterminate');});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">on</a> progress &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var <a class="el" href="../../d0/da8/prrng_8h.html#a5c72e4e1ff78177bac89e7f0ddadda92">size</a>, ratio;var newprogress=10;<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d0/da8/prrng_8h.html#a5c72e4e1ff78177bac89e7f0ddadda92">size</a>=<a class="el" href="../../d0/da8/prrng_8h.html#a5c72e4e1ff78177bac89e7f0ddadda92">mockApp.updateManifest.size</a>;ratio=newprogress/<a class="el" href="../../d0/da8/prrng_8h.html#a5c72e4e1ff78177bac89e7f0ddadda92">size</a>;<a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a05d70e3d8b130c4ca590847dbe709b75">mockApp.mTriggerDownloadProgress</a>(newprogress);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../dd/d6d/mock__spinner_8js.html#ab10b009b0da48f61217a18daf8e20cd8">update</a> the progress notification', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var <a class="el" href="../../d1/d04/app__install__manager_8js.html#a1a69e49d95a0e53bbbf029affe5f557b">progressNode</a>=<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('progress');<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#acd1cdae9d6d8493a6f34d308f8259f55">progressNode.position</a>, ratio);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">progressNode.textContent</a>, 'downloadingAppProgress{&quot;progress&quot;:&quot;10.00 <a class="el" href="../../de/d81/xpt__struct_8h.html#adcc78999fdbb41052741a6e30b16fab5">bytes</a>&quot;,'+ '&quot;<a class="el" href="../../db/d13/ns_i_d_o_m_device_proximity_event_8idl.html#a0b0ede69e8156eb97acc579b88e883de">max</a>&quot;:&quot;5.00 MB&quot;}');});});suite('<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">on</a> <a class="el" href="../../d0/dda/tools_2extensions_2httpd_2bootstrap_8js.html#a7d65343d044ec164e6ea4a726b5adce5">uninstall</a> &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){dispatchUninstallEvent();});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">remove</a> the notif', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var method= '<a class="el" href="../../d1/d04/app__install__manager_8js.html#aacaeb84d68d8dc58526c48dde5cea636">decExternalNotifications</a>';<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(fakeNotif.childElementCount, 0);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(MockNotificationScreen.wasMethodCalled[method]);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a170fe99e732335290145d391f9ca24dd">release</a> the wifi wake <a class="el" href="../../df/d6d/prpdce_8h.html#a3a0acaef79170339a71bc1c4c54ad225">lock</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('wifi', MockNavigatorWakeLock.mLastWakeLock.topic);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ac3f85391e7b9d85d3879b84b90623375">assert.isTrue</a>(MockNavigatorWakeLock.mLastWakeLock.released);});});<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!afterError){downloadErrorSuite(downloadEventsSuite);}});}beforeFirstProgressSuite();downloadEventsSuite(<a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>);<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">on</a> INSUFFICIENT_STORAGE downloaderror &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should display an <a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a91dfa6843538cd55b524a76b1afc329c">alert</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#ad457c59e401446b6bd2393f6e8b638ca">mockApp.mTriggerDownloadError</a>('INSUFFICIENT_STORAGE');assert.isNull(MockSystemBanner.mMessage);<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ac3f85391e7b9d85d3879b84b90623375">assert.isTrue</a>(MockModalDialog.alert.mWasCalled);var <a class="el" href="../../d2/d7d/jsapi_8h.html#a52c9936fee3329d49b2cdede9b0fd7c8">args</a>=MockModalDialog.alert.mArgs;<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d2/d7d/jsapi_8h.html#a52c9936fee3329d49b2cdede9b0fd7c8">args</a>[0], 'not-enough-space');<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d2/d7d/jsapi_8h.html#a52c9936fee3329d49b2cdede9b0fd7c8">args</a>[1], 'not-enough-space-<a class="el" href="../../d2/d7d/jsapi_8h.html#a254bf0858da09c96a48daf64404eb4f8">message</a>');assert.deepEqual(<a class="el" href="../../d2/d7d/jsapi_8h.html#a52c9936fee3329d49b2cdede9b0fd7c8">args</a>[2],{title: '<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">ok</a>'});});beforeFirstProgressSuite();downloadEventsSuite(<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>);});});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('cancelling <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> <a class="el" href="../../d7/d13/mock__updatable_8js.html#ab9b84e146e6d762e377175efdca01924">download</a> &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){mockApp=new <a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a1421952544f7eb7f0a1e8b18d7317125">MockApp</a>({installState: 'pending'});MockApplications.mRegisterMockApp(mockApp);dispatchInstallEvent();<a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a05d70e3d8b130c4ca590847dbe709b75">mockApp.mTriggerDownloadProgress</a>(10);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('tapping the notification should display the <a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('.fake-notification').click();<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ac3f85391e7b9d85d3879b84b90623375">assert.isTrue</a>(fakeDownloadCancelDialog.classList.contains('<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a6d342aea8f30c5f641ed5ff6e0f4de13">visible</a>'));});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('tapping the <a class="el" href="../../d3/d4b/lockscreen_8js.html#a88e6efb757b9907baa46a5755484f2bd">container</a> should not display the <a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){fakeNotif.click();<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#a8e4d922ae3532f8bdfcadccef0881707">assert.isFalse</a>(fakeDownloadCancelDialog.classList.contains('<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a6d342aea8f30c5f641ed5ff6e0f4de13">visible</a>'));});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#a7d50e9587913d4f6634c0b0c8de693c7">set</a> the <a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a051e403214cb6872ad3fe4e50302a6ee">title</a> with the <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a> <a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('.fake-notification').click();var <a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a051e403214cb6872ad3fe4e50302a6ee">title</a>=<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeDownloadCancelDialog.querySelector</a>('h1');<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">title.textContent</a>, 'stopDownloading{&quot;app&quot;:&quot;Mock <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>&quot;}');});test('should <a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">add</a> the <a class="el" href="../../d1/d04/app__install__manager_8js.html#a3c65d07fe933acaaf1205d12ce79b115">manifest</a> <a class="el" href="../../de/d8f/jsdebug_8h.html#a39bb9861b2cb39f94badb5db778de746">url</a> in <a class="el" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a> <a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#a7d50e9587913d4f6634c0b0c8de693c7">set</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('.fake-notification').click();<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(<a class="el" href="../../d1/d04/app__install__manager_8js.html#a3c65d07fe933acaaf1205d12ce79b115">fakeDownloadCancelDialog.dataset.manifest</a>, <a class="el" href="../../d1/d04/app__install__manager_8js.html#a5983b6d50c2fbf95ffe3907399e83a3c">mockApp.manifestURL</a>);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../db/df4/geoloc_8js.html#abb32d825b52ef528b86b799b6247e79a">hide</a> the notification tray', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('.fake-notification').click();<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#a8e4d922ae3532f8bdfcadccef0881707">assert.isFalse</a>(MockUtilityTray.mShown);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('cancelling should <a class="el" href="../../db/df4/geoloc_8js.html#abb32d825b52ef528b86b799b6247e79a">hide</a> the <a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a> only', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('.fake-notification').click();<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeDownloadCancelDialog.querySelector</a>('.<a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a>').click();<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#a8e4d922ae3532f8bdfcadccef0881707">assert.isFalse</a>(fakeDownloadCancelDialog.classList.contains('<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a6d342aea8f30c5f641ed5ff6e0f4de13">visible</a>'));<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#a8e4d922ae3532f8bdfcadccef0881707">assert.isFalse</a>(mockApp.mCancelCalled);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('accepting should <a class="el" href="../../db/df4/geoloc_8js.html#abb32d825b52ef528b86b799b6247e79a">hide</a> the <a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a> and <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7345f7c14b7ddbcc9efdc293d79bf303">call</a> <a class="el" href="../../d7/d13/mock__updatable_8js.html#ae4ffdf458c89bf681f32585d99947d8c">cancelDownload</a> <a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#ac00bf23adf7cb4c5253268889722ca05">on</a> <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('.fake-notification').click();<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeDownloadCancelDialog.querySelector</a>('.<a class="el" href="../../d9/d13/shared_2style_2_r_e_a_d_m_e_8md.html#ab77aa8c2fa705d45d7ff1db3a11306ae">confirm</a>').click();<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#a8e4d922ae3532f8bdfcadccef0881707">assert.isFalse</a>(fakeDownloadCancelDialog.classList.contains('<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a6d342aea8f30c5f641ed5ff6e0f4de13">visible</a>'));<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(mockApp.mCancelCalled);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('accepting should <a class="el" href="../../db/df4/geoloc_8js.html#abb32d825b52ef528b86b799b6247e79a">hide</a> the <a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a> but not <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7345f7c14b7ddbcc9efdc293d79bf303">call</a> <a class="el" href="../../d7/d13/mock__updatable_8js.html#ae4ffdf458c89bf681f32585d99947d8c">cancelDownload</a> '+ '<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a> <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a> is uninstalled', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeNotif.querySelector</a>('.fake-notification').click();MockApplications.mUnregisterMockApp(mockApp);<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">fakeDownloadCancelDialog.querySelector</a>('.<a class="el" href="../../d9/d13/shared_2style_2_r_e_a_d_m_e_8md.html#ab77aa8c2fa705d45d7ff1db3a11306ae">confirm</a>').click();<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#a8e4d922ae3532f8bdfcadccef0881707">assert.isFalse</a>(fakeDownloadCancelDialog.classList.contains('<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a6d342aea8f30c5f641ed5ff6e0f4de13">visible</a>'));<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#a8e4d922ae3532f8bdfcadccef0881707">assert.isFalse</a>(mockApp.mCancelCalled);});});});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('restarting after reboot &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var mockApp, installedMockApp;<a class="el" href="../../da/db6/ime__test_8js.html#a499aeb7e1826da3a383e443025bfc846">setup</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){mockApp=new <a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a1421952544f7eb7f0a1e8b18d7317125">MockApp</a>({updateManifest:null, installState: 'pending'});installedMockApp=new <a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a1421952544f7eb7f0a1e8b18d7317125">MockApp</a>({updateManifest:null, installState: 'installed'});var <a class="el" href="../../d1/d03/locales_2_r_e_a_d_m_e_8md.html#abfc48c566ed05b3908825f01ea7462a4">e</a>=new CustomEvent('applicationready',{detail:{applications:{}}});e.detail.applications[<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5983b6d50c2fbf95ffe3907399e83a3c">mockApp.manifestURL</a>]=mockApp;e.detail.applications[<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5983b6d50c2fbf95ffe3907399e83a3c">installedMockApp.manifestURL</a>]=installedMockApp;<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5e67712f1e4602312c66bda052a6f6c4">window.dispatchEvent</a>(<a class="el" href="../../d1/d03/locales_2_r_e_a_d_m_e_8md.html#abfc48c566ed05b3908825f01ea7462a4">e</a>);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">add</a> <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> notification <a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a> the pending <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a05d70e3d8b130c4ca590847dbe709b75">mockApp.mTriggerDownloadProgress</a>(50);var method= '<a class="el" href="../../d1/d04/app__install__manager_8js.html#a0d63fdff81f28acf6c6d745c96960c92">incExternalNotifications</a>';<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(fakeNotif.childElementCount, 1);<a class="el" href="../../da/ded/ds-test_8js.html#a96c639e17949eb5b6031072207d80575">assert.ok</a>(MockNotificationScreen.wasMethodCalled[method]);});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should not <a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">add</a> <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> notification <a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a> the installed <a class="el" href="../../d1/d04/app__install__manager_8js.html#a7b225fcb720e4d5ed2bbf60e28a25e6d">app</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../de/d66/system_2test_2unit_2mock__app_8js.html#a05d70e3d8b130c4ca590847dbe709b75">installedMockApp.mTriggerDownloadProgress</a>(50);var method= '<a class="el" href="../../d1/d04/app__install__manager_8js.html#a0d63fdff81f28acf6c6d745c96960c92">incExternalNotifications</a>';<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>(fakeNotif.childElementCount, 0);assert.isUndefined(MockNotificationScreen.wasMethodCalled[method]);});});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('humanizeSize &gt;', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../d3/d4b/lockscreen_8js.html#af91fa9dd7bcc99f1ac5d9727c6cdc8cc">handle</a> <a class="el" href="../../de/d81/xpt__struct_8h.html#adcc78999fdbb41052741a6e30b16fab5">bytes</a> <a class="el" href="../../d0/da8/prrng_8h.html#a5c72e4e1ff78177bac89e7f0ddadda92">size</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('42.00 <a class="el" href="../../de/d81/xpt__struct_8h.html#adcc78999fdbb41052741a6e30b16fab5">bytes</a>', AppInstallManager.humanizeSize(42));});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../d3/d4b/lockscreen_8js.html#af91fa9dd7bcc99f1ac5d9727c6cdc8cc">handle</a> kilobytes <a class="el" href="../../d0/da8/prrng_8h.html#a5c72e4e1ff78177bac89e7f0ddadda92">size</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('1.00 kB', AppInstallManager.humanizeSize(1024));});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../d3/d4b/lockscreen_8js.html#af91fa9dd7bcc99f1ac5d9727c6cdc8cc">handle</a> megabytes <a class="el" href="../../d0/da8/prrng_8h.html#a5c72e4e1ff78177bac89e7f0ddadda92">size</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('4.67 MB', AppInstallManager.humanizeSize(4901024));});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../d3/d4b/lockscreen_8js.html#af91fa9dd7bcc99f1ac5d9727c6cdc8cc">handle</a> gigabytes <a class="el" href="../../d0/da8/prrng_8h.html#a5c72e4e1ff78177bac89e7f0ddadda92">size</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('3.73 GB', AppInstallManager.humanizeSize(4000901024));});<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>('should <a class="el" href="../../d3/d4b/lockscreen_8js.html#af91fa9dd7bcc99f1ac5d9727c6cdc8cc">handle</a> 0', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#adc6ce99d08573e59428ba38ac0a50479">assert.equal</a>('0.00 <a class="el" href="../../de/d81/xpt__struct_8h.html#adcc78999fdbb41052741a6e30b16fab5">bytes</a>', AppInstallManager.humanizeSize(0));});});<a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a>('3rd-party IME app flow &gt;', function(){var mockApp, mockAppTwo, mockAppName, mockAppTwoName;setup(function(){AppInstallManager.init();navigator.mozL10n=MockL10n;mockAppName= 'Fake keyboard app';mockApp=new MockApp({manifest:{name:mockAppName, role: 'keyboard', developer:{name: 'Fake dev', url: 'http:}, entry_points:{ 'english':{launch_path: '/index.html#en', name: 'english', description: 'English layout', types:['text', 'url', 'number']}, 'number':{launch_path: '/index.html#nm', name: 'number', description: 'number layout', types:['number']}, 'spanish':{launch_path: '/index.html#spanish', name: 'spanish', description: 'spanish layout', types:['text', 'url', 'number']}}}});mockAppTwoName= 'Fake keyboard app Two';mockAppTwo=new MockApp({manifest:{name:mockAppTwoName, role: 'keyboard', developer:{name: 'Fake dev', url: 'http:}, entry_points:{ 'english':{launch_path: '/index.html#en', name: 'english', description: 'English layout', types:['text', 'url', 'number']}, 'number':{launch_path: '/index.html#nm', name: 'number', description: 'number layout', types:['number']}}}});});test('should show setup dialog', function(){AppInstallManager.handleInstallSuccess(mockApp);assert.isTrue(AppInstallManager.setupInstalledAppDialog.classList.contains('visible'));});test('should empty setup dialog', function(){AppInstallManager.handleInstallSuccess(mockApp);AppInstallManager.setupCancelButton.click();assert.isFalse(AppInstallManager.setupInstalledAppDialog.classList.contains('visible'));assert.equal(AppInstallManager.setupAppName.textContent, '');assert.equal(AppInstallManager.setupAppDescription.textContent, '');});test('should not show setup dialog and wait in setupQueue', function(){this.sinon.spy(AppInstallManager, 'showSetupDialog');AppInstallManager.handleInstallSuccess(mockApp);assert.isTrue(AppInstallManager.setupInstalledAppDialog.classList.contains('visible'));AppInstallManager.handleInstallSuccess(mockAppTwo);assert.isTrue(AppInstallManager.showSetupDialog.calledOnce);assert.equal(AppInstallManager.setupAppName.textContent, 'app-install-success{&quot;appName&quot;:&quot;' + mockAppName + '&quot;}');});test('should show setupInstalledAppDialog two times', function(){this.sinon.spy(AppInstallManager, 'showSetupDialog');AppInstallManager.handleInstallSuccess(mockApp);assert.equal(AppInstallManager.setupAppName.textContent, 'app-install-success{&quot;appName&quot;:&quot;' + mockAppName + '&quot;}');AppInstallManager.setupCancelButton.click();AppInstallManager.handleInstallSuccess(mockAppTwo);assert.equal(AppInstallManager.setupAppName.textContent, 'app-install-success{&quot;appName&quot;:&quot;' + mockAppTwoName + '&quot;}');});test('should show ime list', function(){this.sinon.spy(Template.prototype, 'interpolate');AppInstallManager.handleInstallSuccess(mockAppTwo);AppInstallManager.setupConfirmButton.click();assert.isTrue(AppInstallManager.imeLayoutDialog.classList.contains('visible'));assert.isTrue(Template.prototype.interpolate.calledTwice);});test('should not show list', function(){var badKeyboardApp=new MockApp({manifest:{name:mockAppName, role: 'keyboard', developer:{name: 'Fake dev', url: 'http:}}});AppInstallManager.handleInstallSuccess(badKeyboardApp);AppInstallManager.setupConfirmButton.click();assert.equal(0, AppInstallManager.setupQueue.length);assert.isFalse(AppInstallManager.imeLayoutDialog.classList.contains('visible'));});});})</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d1b/test-agent-server_8js.html#aab71dcc804ca4aa3ed2bf7ba887635db">use</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d87/app__install__manager__test_8js.html#ae2475e10618961c050dcba04e8c42331">strict</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d87/app__install__manager__test_8js.html#ade68692cb51d6c2d46f82163537bebaa">mocksForAppInstallManager</a></td></tr>
</table>
<hr/><h2>関数</h2>
<a class="anchor" id="a141ab3d779cc45dc65fc07ce0ab68929"></a><!-- doxytag: member="app_install_manager_test.js::requireApp" ref="a141ab3d779cc45dc65fc07ce0ab68929" args="('system/test/unit/mock_app.js')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d16/shared_2test_2unit_2mocks_2mock__settings__listener_8js.html#ada5f8f0f77028802cd46c92cb1ce8fce">requireApp</a> </td>
          <td>(</td>
          <td class="paramtype">'system/<a class="el" href="../../d2/dc5/homescreen__launcher__test_8js.html#ae39af8ac48077b957ecb9fe16f678936">test</a>/unit/mock_app.js'&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a5184734bbc386d6cc1b5e3707b1503a6"></a><!-- doxytag: member="app_install_manager_test.js::suite" ref="a5184734bbc386d6cc1b5e3707b1503a6" args="('system/AppInstallManager &gt;', function(){var realL10n;var realDispatchResponse;var realRequestWakeLock;var realTemplate;var fakeDialog, fakeNotif;var fakeInstallCancelDialog, fakeDownloadCancelDialog;var fakeSetupDialog, fakeImeListDialog, fakeImeListTemplate;var lastL10nParams=null;var lastDispatchedResponse=null;mocksForAppInstallManager.attachTestHelpers();suiteSetup(function(){realL10n=navigator.mozL10n;navigator.mozL10n={get:function get(key, params){lastL10nParams=params;if(params){return key+JSON.stringify(params);}return key;}};realDispatchResponse=AppInstallManager.dispatchResponse;AppInstallManager.dispatchResponse=function fakeDispatch(id, type){lastDispatchedResponse={id:id, type:type};};realRequestWakeLock=navigator.requestWakeLock;navigator.requestWakeLock=MockNavigatorWakeLock.requestWakeLock;});suiteTeardown(function(){AppInstallManager.dialog=null;AppInstallManager.msg=null;AppInstallManager.size=null;AppInstallManager.authorName=null;AppInstallManager.authorUrl=null;AppInstallManager.installButton=null;AppInstallManager.cancelButton=null;AppInstallManager.installCallback=null;AppInstallManager.cancelCallback=null;navigator.mozL10n=realL10n;AppInstallManager.dispatchResponse=realDispatchResponse;navigator.requestWakeLock=realRequestWakeLock;realRequestWakeLock=null;});setup(function(){fakeDialog=document.createElement('form');fakeDialog.id= 'app&#45;install&#45;dialog';fakeDialog.innerHTML=[ '&lt; section &gt;', '&lt; h1 id=&quot;app&#45;install&#45;message&quot;&gt;&lt;/h1 &gt;', '&lt; table &gt;', '&lt; tr &gt;', '&lt; th data&#45;l10n&#45;id=&quot;size&quot;&gt;Size&lt;/th &gt;', '&lt; td id=&quot;app&#45;install&#45;size&quot;&gt;&lt;/td &gt;', '&lt;/tr &gt;', '&lt; tr &gt;', '&lt; th data&#45;l10n&#45;id=&quot;author&quot;&gt;Author&lt;/th &gt;', '&lt; td &gt;', '&lt; span id=&quot;app&#45;install&#45;author&#45;name&quot;&gt;&lt;/span &gt;', '&lt; br/&gt;&lt; span id=&quot;app&#45;install&#45;author&#45;url&quot;&gt;&lt;/span &gt;', '&lt;/td &gt;', '&lt;/tr &gt;', '&lt;/table &gt;', '&lt; menu &gt;', '&lt; button id=&quot;app&#45;install&#45;cancel&#45;button&quot;type=&quot;reset&quot;'+ 'data&#45;l10n&#45;id=&quot;cancel&quot;&gt;Cancel&lt;/button &gt;', '&lt; button id=&quot;app&#45;install&#45;install&#45;button&quot;type=&quot;submit&quot;'+ 'data&#45;l10n&#45;id=&quot;install&quot;&gt;Install&lt;/button &gt;', '&lt;/menu &gt;', '&lt;/section &gt;'].join('');fakeInstallCancelDialog=document.createElement('form');fakeInstallCancelDialog.id= 'app&#45;install&#45;cancel&#45;dialog';fakeInstallCancelDialog.innerHTML=[ '&lt; section &gt;', '&lt; h1 data&#45;l10n&#45;id=&quot;cancel&#45;install&quot;&gt;Cancel Install&lt;/h1 &gt;', '&lt; p &gt;', '&lt; small data&#45;l10n&#45;id=&quot;cancelling&#45;will&#45;not&#45;refund&quot;&gt;Cancelling '+ 'will not refund a purchase.Refunds for paid content are '+ 'provided by the original seller.&lt;/small &gt;', '&lt; small data&#45;l10n&#45;id=&quot;apps&#45;can&#45;be&#45;installed&#45;later&quot;&gt;Apps can be '+ 'installed later from the original installation source.&lt;/small &gt;', '&lt;/p &gt;', '&lt; p data&#45;l10n&#45;id=&quot;are&#45;you&#45;sure&#45;you&#45;want&#45;to&#45;cancel&quot;&gt;'+ 'Are you sure you want to cancel this install?&lt;/p &gt;', '&lt; menu &gt;', '&lt; button id=&quot;app&#45;install&#45;confirm&#45;cancel&#45;button&quot;type=&quot;reset&quot; '+ 'data&#45;l10n&#45;id=&quot;cancel&#45;install&quot;&gt;Cancel Install&lt;/button &gt;', '&lt; button id=&quot;app&#45;install&#45;resume&#45;button&quot;type=&quot;submit&quot; '+ 'data&#45;l10n&#45;id=&quot;resume&quot;&gt;Resume&lt;/button &gt;', '&lt;/menu &gt;', '&lt;/section &gt;'].join('');fakeDownloadCancelDialog=document.createElement('form');fakeDownloadCancelDialog.id= 'app&#45;download&#45;cancel&#45;dialog';fakeDownloadCancelDialog.innerHTML=[ '&lt; section &gt;', '&lt; h1 &gt;&lt;/h1 &gt;', '&lt; p data&#45;l10n&#45;id=&quot;app&#45;download&#45;can&#45;be&#45;restarted&quot;&gt;'+ 'The download can be restarted later.&lt;/p &gt;', '&lt; menu &gt;', '&lt; button id=&quot;app&#45;download&#45;stop&#45;button&quot;class=&quot;danger confirm&quot; ', 'data&#45;l10n&#45;id=&quot;app&#45;download&#45;stop&#45;button&quot;&gt;Stop Download&lt;/button &gt;', '&lt; button id=&quot;app&#45;download&#45;continue&#45;button&quot;class=&quot;cancel&quot; ', 'type=&quot;reset&quot;data&#45;l10n&#45;id=&quot;continue&quot;&gt;Continue&lt;/button &gt;', '&lt;/menu &gt;', '&lt;/section &gt;'].join('');fakeNotif=document.createElement('div');fakeNotif.id= 'install&#45;manager&#45;notification&#45;container';fakeSetupDialog=document.createElement('form');fakeSetupDialog.id= 'setup&#45;installed&#45;app&#45;dialog';fakeSetupDialog.innerHTML=[ '&lt; section &gt;', '&lt; h1 id=&quot;setup&#45;app&#45;name&quot;&gt;&lt;/h1 &gt;', '&lt; p id=&quot;setup&#45;app&#45;description&quot;&gt;&lt;/p &gt;', '&lt; menu &gt;', '&lt; button id=&quot;setup&#45;cancel&#45;button&quot;type=&quot;button&quot; '+ 'data&#45;l10n&#45;id=&quot;later&quot;&gt;Later&lt;/button &gt;', '&lt; button id=&quot;setup&#45;confirm&#45;button&quot;type=&quot;button&quot; '+ 'data&#45;l10n&#45;id=&quot;setup&quot;&gt;Setup&lt;/button &gt;', '&lt;/menu &gt;', '&lt;/section &gt;'].join('');fakeImeListDialog=document.createElement('form');fakeImeListDialog.id= 'ime&#45;layout&#45;dialog';fakeImeListDialog.innerHTML=[ '&lt; section &gt;', '&lt; h1 data&#45;l10n&#45;id=&quot;ime&#45;addkeyboards&quot;&gt;Add keyboards&lt;/h1 &gt;', '&lt; ul id=&quot;ime&#45;list&quot;&gt;', '&lt;/ul &gt;', '&lt; menu &gt;', '&lt; button id=&quot;ime&#45;cancel&#45;button&quot;type=&quot;button&quot; '+ 'data&#45;l10n&#45;id=&quot;cancel&quot;&gt;Cancel&lt;/button &gt;', '&lt; button id=&quot;ime&#45;confirm&#45;button&quot;type=&quot;button&quot; '+ 'data&#45;l10n&#45;id=&quot;confirm&quot;&gt;Confirm&lt;/button &gt;', '&lt;/menu &gt;', '&lt;/section &gt;'].join('');fakeImeListTemplate=document.createElement('div');fakeImeListTemplate.id= 'ime&#45;list&#45;template';fakeImeListTemplate.innerHTML=[ '&lt; div id=&quot;ime&#45;list&#45;template&quot;&gt;', '&lt;!&#45;&#45;', '&lt; li &gt;', '&lt; a &gt; ${displayName}&lt;/a &gt;', '&lt; label class=&quot;pack&#45;checkbox ime&quot;&gt;', '&lt; input type=&quot;checkbox&quot;name=&quot;keyboards&quot;value=&quot;${imeName}&quot;&gt;', '&lt; span &gt;&lt;/span &gt;', '&lt;/label &gt;', '&lt;/li &gt;', '&#45;&#45;&gt;', '&lt;/div &gt;'].join('');document.body.appendChild(fakeDialog);document.body.appendChild(fakeInstallCancelDialog);document.body.appendChild(fakeDownloadCancelDialog);document.body.appendChild(fakeNotif);document.body.appendChild(fakeSetupDialog);document.body.appendChild(fakeImeListDialog);document.body.appendChild(fakeImeListTemplate);AppInstallManager.init();});teardown(function(){fakeDialog.parentNode.removeChild(fakeDialog);fakeInstallCancelDialog.parentNode.removeChild(fakeInstallCancelDialog);fakeDownloadCancelDialog.parentNode.removeChild(fakeDownloadCancelDialog);fakeNotif.parentNode.removeChild(fakeNotif);fakeSetupDialog.parentNode.removeChild(fakeSetupDialog);fakeImeListDialog.parentNode.removeChild(fakeImeListDialog);fakeImeListTemplate.parentNode.removeChild(fakeImeListTemplate);lastDispatchedResponse=null;lastL10nParams=null;MockNavigatorWakeLock.mTeardown();});suite('init &gt;', function(){test('should bind dom elements', function(){assert.equal('app&#45;install&#45;dialog', AppInstallManager.dialog.id);assert.equal('app&#45;install&#45;message', AppInstallManager.msg.id);assert.equal('app&#45;install&#45;size', AppInstallManager.size.id);assert.equal('app&#45;install&#45;author&#45;name', AppInstallManager.authorName.id);assert.equal('app&#45;install&#45;author&#45;url', AppInstallManager.authorUrl.id);assert.equal('app&#45;install&#45;install&#45;button', AppInstallManager.installButton.id);assert.equal('app&#45;install&#45;cancel&#45;button', AppInstallManager.cancelButton.id);assert.equal('app&#45;install&#45;cancel&#45;dialog', AppInstallManager.installCancelDialog.id);assert.equal('app&#45;install&#45;confirm&#45;cancel&#45;button', AppInstallManager.confirmCancelButton.id);assert.equal('app&#45;install&#45;resume&#45;button', AppInstallManager.resumeButton.id);assert.equal('ime&#45;layout&#45;dialog', AppInstallManager.imeLayoutDialog.id);assert.equal('ime&#45;list&#45;template', AppInstallManager.imeListTemplate.id);assert.equal('ime&#45;list', AppInstallManager.imeList.id);assert.equal('ime&#45;cancel&#45;button', AppInstallManager.imeCancelButton.id);assert.equal('ime&#45;confirm&#45;button', AppInstallManager.imeConfirmButton.id);assert.equal('setup&#45;cancel&#45;button', AppInstallManager.setupCancelButton.id);assert.equal('setup&#45;confirm&#45;button', AppInstallManager.setupConfirmButton.id);assert.equal('setup&#45;installed&#45;app&#45;dialog', AppInstallManager.setupInstalledAppDialog.id);assert.equal('setup&#45;app&#45;name', AppInstallManager.setupAppName.id);assert.equal('setup&#45;app&#45;description', AppInstallManager.setupAppDescription.id);});test('should bind to the click event', function(){assert.equal(AppInstallManager.handleInstall.name, AppInstallManager.installButton.onclick.name);assert.equal(AppInstallManager.showInstallCancelDialog.name, AppInstallManager.cancelButton.onclick.name);assert.equal(AppInstallManager.handleInstallCancel.name, AppInstallManager.confirmCancelButton.onclick.name);assert.equal(AppInstallManager.hideInstallCancelDialog.name, AppInstallManager.resumeButton.onclick.name);assert.equal(AppInstallManager.handleSetupCancelAction.name, AppInstallManager.setupCancelButton.onclick.name);assert.equal(AppInstallManager.handleSetupConfirmAction.name, AppInstallManager.setupConfirmButton.onclick.name);assert.equal(AppInstallManager.hideIMEList.name, AppInstallManager.imeCancelButton.onclick.name);assert.equal(AppInstallManager.handleImeConfirmAction.name, AppInstallManager.imeConfirmButton.onclick.name);});});suite('events &gt;', function(){suite('webapps&#45;ask&#45;install &gt;', function(){setup(function(){var evt=new MockChromeEvent({type: 'webapps&#45;ask&#45;install', id:42, app:{manifest:{name: 'Fake app', size:5245678, developer:{name: 'Fake dev', url: 'http:}}}});AppInstallManager.handleAppInstallPrompt(evt.detail);});test('should display the dialog', function(){assert.equal('visible', AppInstallManager.dialog.className);});test('should fill the message with app name', function(){assert.equal(AppInstallManager.msg.textContent, 'install&#45;app{&quot;name&quot;:&quot;Fake app&quot;}');});test('should use the mini manifest if no manifest', function(){var evt=new MockChromeEvent({type: 'webapps&#45;ask&#45;install', id:42, app:{updateManifest:{name: 'Fake app', size:5245678, developer:{name: 'Fake dev', url: 'http:}}}});AppInstallManager.handleAppInstallPrompt(evt.detail);assert.equal(AppInstallManager.msg.textContent, 'install&#45;app{&quot;name&quot;:&quot;Fake app&quot;}');});suite('developer infos &gt;', function(){test('should fill the developer infos', function(){assert.equal('Fake dev', AppInstallManager.authorName.textContent);assert.equal('http:AppInstallManager.authorUrl.textContent);});test('should tell if the developer is unknown', function(){var evt=new MockChromeEvent({type: 'webapps&#45;ask&#45;install', id:42, app:{updateManifest:{name: 'Fake app', size:5245678}}});AppInstallManager.handleAppInstallPrompt(evt.detail);assert.equal('author&#45;unknown', AppInstallManager.authorName.textContent);assert.equal('', AppInstallManager.authorUrl.textContent);});test('should handle empty developer object properly', function(){var evt=new MockChromeEvent({type: 'webapps&#45;ask&#45;install', id:42, app:{updateManifest:{name: 'Fake app', size:5245678, developer:{}}}});AppInstallManager.handleAppInstallPrompt(evt.detail);assert.equal('author&#45;unknown', AppInstallManager.authorName.textContent);assert.equal('', AppInstallManager.authorUrl.textContent);});test('should tell if the developer name is unknown', function(){var evt=new MockChromeEvent({type: 'webapps&#45;ask&#45;install', id:42, app:{updateManifest:{name: 'Fake app', size:5245678, developer:{url: 'http:}}}});AppInstallManager.handleAppInstallPrompt(evt.detail);assert.equal('author&#45;unknown', AppInstallManager.authorName.textContent);assert.equal('http:AppInstallManager.authorUrl.textContent);});test('the developer url should default to blank', function(){var evt=new MockChromeEvent({type: 'webapps&#45;ask&#45;install', id:42, app:{updateManifest:{name: 'Fake app', size:5245678, developer:{name: 'Fake dev'}}}});AppInstallManager.handleAppInstallPrompt(evt.detail);assert.equal('Fake dev', AppInstallManager.authorName.textContent);assert.equal('', AppInstallManager.authorUrl.textContent);});});suite('install size &gt;', function(){test('should display the package size', function(){assert.equal('5.00 MB', AppInstallManager.size.textContent);});test('should tell if the size is unknown', function(){var evt=new MockChromeEvent({type: 'webapps&#45;ask&#45;install', id:42, app:{manifest:{name: 'Fake app', developer:{name: 'Fake dev', url: 'http:}}}});AppInstallManager.handleAppInstallPrompt(evt.detail);assert.equal('size&#45;unknown', AppInstallManager.size.textContent);});});suite('callbacks &gt;', function(){suite('install &gt;', function(){var defaultPrevented=false;setup(function(){AppInstallManager.handleInstall({preventDefault:function(){defaultPrevented=true;}});});test('should dispatch a webapps&#45;install&#45;granted with the right id', function(){assert.equal(42, lastDispatchedResponse.id);assert.equal('webapps&#45;install&#45;granted', lastDispatchedResponse.type);});test('should prevent the default to avoid form submission', function(){assert.isTrue(defaultPrevented);});test('should hide the dialog', function(){assert.equal('', AppInstallManager.dialog.className);});test('should remove the callback', function(){assert.equal(null, AppInstallManager.installCallback);});});suite('show cancel dialog &gt;', function(){setup(function(){AppInstallManager.showInstallCancelDialog();});test('should show cancel dialog and hide dialog', function(){assert.equal('visible', AppInstallManager.installCancelDialog.className);assert.equal('', AppInstallManager.dialog.className);});});suite('hide cancel dialog &gt;', function(){setup(function(){AppInstallManager.hideInstallCancelDialog();});test('should hide cancel dialog and show dialog', function(){assert.equal('', AppInstallManager.installCancelDialog.className);assert.equal('visible', AppInstallManager.dialog.className);});});suite('confirm cancel &gt;', function(){setup(function(){AppInstallManager.handleInstallCancel();});test('should dispatch a webapps&#45;install&#45;denied', function(){assert.equal(42, lastDispatchedResponse.id);assert.equal('webapps&#45;install&#45;denied', lastDispatchedResponse.type);});test('should hide the dialog', function(){assert.equal('', AppInstallManager.installCancelDialog.className);});test('should remove the callback', function(){assert.equal(null, AppInstallManager.installCancelCallback);});});});});});suite('duringInstall &gt;', function(){var mockApp, mockAppName;function dispatchEvent(name, app){app=app||mockApp;var e=new CustomEvent(name,{detail:{application:app}});window.dispatchEvent(e);}var dispatchInstallEvent=dispatchEvent.bind(null, 'applicationinstall');function dispatchUninstallEvent(){var evtName= 'applicationuninstall';var partialApp={manifestURL:mockApp.manifestURL, origin:mockApp.origin};dispatchEvent(evtName, partialApp);}suite('hosted app without cache &gt;', function(){setup(function(){mockAppName= 'Fake hosted app';mockApp=new MockApp({manifest:{name:mockAppName, developer:{name: 'Fake dev', url: 'http:}}, updateManifest:null, installState: 'installed'});MockSystemBanner.mTeardown();dispatchInstallEvent();});test('should not show the icon', function(){assert.isUndefined(MockStatusBar.wasMethodCalled['incSystemDownloads']);});test('should not add a notification', function(){assert.equal(fakeNotif.childElementCount, 0);});test('should display a confirmation', function(){assert.equal(MockSystemBanner.mMessage, 'app&#45;install&#45;success{&quot;appName&quot;:&quot;' + mockAppName + '&quot;}');});});function beforeFirstProgressSuite(){suite('before first progress &gt;', function(){test('should not show the icon', function(){var method= 'incSystemDownloads';assert.isUndefined(MockStatusBar.wasMethodCalled[method]);});test('should not add a notification', function(){assert.equal(fakeNotif.childElementCount, 0);});suite('on downloadsuccess &gt;', function(){setup(function(){MockNotificationScreen.mTeardown();MockStatusBar.mTeardown();mockApp.mTriggerDownloadSuccess();});test('should not remove a notification', function(){var method= 'decExternalNotifications';assert.isUndefined(MockNotificationScreen.wasMethodCalled[method]);});test('should not remove the download icon', function(){var method= 'decSystemDownloads';assert.isUndefined(MockStatusBar.wasMethodCalled[method]);});test('should display a confirmation', function(){assert.equal(MockSystemBanner.mMessage, 'app&#45;install&#45;success{&quot;appName&quot;:&quot;' + mockAppName + '&quot;}');});});suite('on downloaderror &gt;', function(){setup(function(){MockNotificationScreen.mTeardown();MockStatusBar.mTeardown();mockApp.mTriggerDownloadError();});test('should not remove a notification', function(){var method= 'decExternalNotifications';assert.isUndefined(MockNotificationScreen.wasMethodCalled[method]);});test('should not remove the download icon', function(){var method= 'decSystemDownloads';assert.isUndefined(MockStatusBar.wasMethodCalled[method]);});});});}function downloadErrorSuite(downloadEventsSuite){suite('on downloadError &gt;', function(){setup(function(){MockStatusBar.mTeardown();MockSystemBanner.mTeardown();MockModalDialog.mTeardown();});function downloadErrorTests(errorName){test('should display an error', function(){var expectedErrorMsg=knownErrors[errorName]+ '{&quot;appName&quot;:&quot;' + mockAppName + '&quot;}';assert.equal(MockSystemBanner.mMessage, expectedErrorMsg);});test('should not display the error dialog', function(){assert.isFalse(MockModalDialog.alert.mWasCalled);});}function specificDownloadErrorSuite(errorName){suite(errorName+ ' &gt;', function(){setup(function(){mockApp.mTriggerDownloadError(errorName);});downloadErrorTests(errorName);});}var knownErrors={ 'FALLBACK_ERROR': 'app&#45;install&#45;generic&#45;error', 'NETWORK_ERROR': 'app&#45;install&#45;download&#45;failed', 'DOWNLOAD_ERROR': 'app&#45;install&#45;download&#45;failed', 'MISSING_MANIFEST': 'app&#45;install&#45;install&#45;failed', 'INVALID_MANIFEST': 'app&#45;install&#45;install&#45;failed', 'INSTALL_FROM_DENIED': 'app&#45;install&#45;install&#45;failed', 'INVALID_SECURITY_LEVEL': 'app&#45;install&#45;install&#45;failed', 'INVALID_PACKAGE': 'app&#45;install&#45;install&#45;failed', 'APP_CACHE_DOWNLOAD_ERROR': 'app&#45;install&#45;download&#45;failed'};Object.keys(knownErrors).forEach(specificDownloadErrorSuite);suite('GENERIC_ERROR &gt;', function(){setup(function(){mockApp.mTriggerDownloadError('GENERIC_ERROR');});test('should remove the notif', function(){assert.equal(fakeNotif.childElementCount, 0);});test('should remove the icon', function(){var method= 'decSystemDownloads';assert.ok(MockStatusBar.wasMethodCalled[method]);});beforeFirstProgressSuite();downloadEventsSuite(true);});});}suite('hosted app with cache &gt;', function(){setup(function(){mockAppName= 'Fake hosted app with cache';mockApp=new MockApp({manifest:{name:mockAppName, developer:{name: 'Fake dev', url: 'http:}}, updateManifest:null, installState: 'pending'});MockSystemBanner.mTeardown();dispatchInstallEvent();});function downloadEventsSuite(afterError){var suiteName= 'on first progress';if(afterError){suiteName+= 'after error';}suiteName+= ' &gt;';suite(suiteName, function(){setup(function(){MockNotificationScreen.mTeardown();MockStatusBar.mTeardown();mockApp.mTriggerDownloadProgress(NaN);});test('should add a notification', function(){var method= 'incExternalNotifications';assert.equal(fakeNotif.childElementCount, 1);assert.ok(MockNotificationScreen.wasMethodCalled[method]);});test('notification should have a message', function(){assert.equal(fakeNotif.querySelector('.message').textContent, 'downloadingAppMessage{&quot;appName&quot;:&quot;Fake hosted app with cache&quot;}');assert.equal(fakeNotif.querySelector('progress').textContent, 'downloadingAppProgressIndeterminate');});test('notification progress should be indeterminate', function(){assert.equal(fakeNotif.querySelector('progress').position,&#45;1);});test('should request wifi wake lock', function(){assert.equal('wifi', MockNavigatorWakeLock.mLastWakeLock.topic);assert.isFalse(MockNavigatorWakeLock.mLastWakeLock.released);});suite('on downloadsuccess &gt;', function(){setup(function(){mockApp.mTriggerDownloadSuccess();});test('should remove the notif', function(){var method= 'decExternalNotifications';assert.equal(fakeNotif.childElementCount, 0);assert.ok(MockNotificationScreen.wasMethodCalled[method]);});test('should release the wifi wake lock', function(){assert.equal('wifi', MockNavigatorWakeLock.mLastWakeLock.topic);assert.isTrue(MockNavigatorWakeLock.mLastWakeLock.released);});test('should display a confirmation', function(){assert.equal(MockSystemBanner.mMessage, 'app&#45;install&#45;success{&quot;appName&quot;:&quot;' + mockAppName + '&quot;}');});});test('on downloadsuccess &gt; should remove only its progress handler', function(){var onprogressCalled=false;mockApp.onprogress=function(){onprogressCalled=true;};mockApp.mTriggerDownloadSuccess();mockApp.mTriggerDownloadProgress(10);assert.isTrue(onprogressCalled);});suite('on indeterminate progress &gt;', function(){setup(function(){mockApp.mTriggerDownloadProgress(NaN);});test('should keep the progress indeterminate', function(){var progressNode=fakeNotif.querySelector('progress');assert.equal(progressNode.position,&#45;1);assert.equal(progressNode.textContent, 'downloadingAppProgressIndeterminate');});});suite('on quantified progress &gt;', function(){setup(function(){mockApp.mTriggerDownloadProgress(10);});test('should have a quantified progress', function(){var progressNode=fakeNotif.querySelector('progress');assert.equal(progressNode.position,&#45;1);assert.equal(progressNode.textContent, 'downloadingAppProgressNoMax{&quot;progress&quot;:&quot;10.00 bytes&quot;}');});});suite('on uninstall &gt;', function(){setup(function(){dispatchUninstallEvent();});test('should remove the notif', function(){var method= 'decExternalNotifications';assert.equal(fakeNotif.childElementCount, 0);assert.ok(MockNotificationScreen.wasMethodCalled[method]);});test('should release the wifi wake lock', function(){assert.equal('wifi', MockNavigatorWakeLock.mLastWakeLock.topic);assert.isTrue(MockNavigatorWakeLock.mLastWakeLock.released);});});if(!afterError){downloadErrorSuite(downloadEventsSuite);}});}beforeFirstProgressSuite();downloadEventsSuite(false);});suite('reinstalled packaged app &gt;', function(){setup(function(){mockAppName= 'Fake packaged app';mockApp=new MockApp({manifest:{name:mockAppName, developer:{name: 'Fake dev', url: 'http:}}, updateManifest:{name:mockAppName, size:5245678, developer:{name: 'Fake dev', url: 'http:}}, installState: 'pending'});dispatchInstallEvent();});suite('on first progress &gt;', function(){var newprogress=5;setup(function(){MockNotificationScreen.mTeardown();mockApp.mTriggerDownloadProgress(newprogress);});test('should add a notification', function(){var method= 'incExternalNotifications';assert.equal(fakeNotif.childElementCount, 1);assert.ok(MockNotificationScreen.wasMethodCalled[method]);});test('notification should have a message', function(){var expectedText= 'downloadingAppMessage{&quot;appName&quot;:&quot;' +
            mockAppName + '&quot;}';assert.equal(fakeNotif.querySelector('.message').textContent, expectedText);});test('notification progress should have a max and a value', function(){assert.equal(fakeNotif.querySelector('progress').max, mockApp.updateManifest.size);assert.equal(fakeNotif.querySelector('progress').value, newprogress);});test('notification progress should not be indeterminate', function(){assert.notEqual(fakeNotif.querySelector('progress').position,&#45;1);});});});suite('packaged app &gt;', function(){setup(function(){mockAppName= 'Fake packaged app';mockApp=new MockApp({manifest:null, updateManifest:{name:mockAppName, size:5245678, developer:{name: 'Fake dev', url: 'http:}}, installState: 'pending'});dispatchInstallEvent();});function downloadEventsSuite(afterError){var suiteName= 'on first progress';if(afterError){suiteName+= 'after error';}suiteName+= ' &gt;';suite(suiteName, function(){var newprogress=5;setup(function(){MockNotificationScreen.mTeardown();MockSystemBanner.mTeardown();mockApp.mTriggerDownloadProgress(newprogress);});test('should add a notification', function(){var method= 'incExternalNotifications';assert.equal(fakeNotif.childElementCount, 1);assert.ok(MockNotificationScreen.wasMethodCalled[method]);});test('notification should have a message', function(){var expectedText= 'downloadingAppMessage{&quot;appName&quot;:&quot;' +
              mockAppName + '&quot;}';assert.equal(fakeNotif.querySelector('.message').textContent, expectedText);});test('notification progress should have a max and a value', function(){assert.equal(fakeNotif.querySelector('progress').max, mockApp.updateManifest.size);assert.equal(fakeNotif.querySelector('progress').value, newprogress);});test('notification progress should not be indeterminate', function(){assert.notEqual(fakeNotif.querySelector('progress').position,&#45;1);});test('should request wifi wake lock', function(){assert.equal('wifi', MockNavigatorWakeLock.mLastWakeLock.topic);assert.isFalse(MockNavigatorWakeLock.mLastWakeLock.released);});suite('on downloadsuccess &gt;', function(){setup(function(){mockApp.mTriggerDownloadSuccess();});test('should remove the notif', function(){var method= 'decExternalNotifications';assert.equal(fakeNotif.childElementCount, 0);assert.ok(MockNotificationScreen.wasMethodCalled[method]);});test('should release the wifi wake lock', function(){assert.equal('wifi', MockNavigatorWakeLock.mLastWakeLock.topic);assert.isTrue(MockNavigatorWakeLock.mLastWakeLock.released);});test('should display a confirmation', function(){assert.equal(MockSystemBanner.mMessage, 'app&#45;install&#45;success{&quot;appName&quot;:&quot;' + mockAppName + '&quot;}');});});test('on downloadsuccess &gt; '+ 'should not break if wifi unlock throws an exception', function(){MockNavigatorWakeLock.mThrowAtNextUnlock();mockApp.mTriggerDownloadSuccess();assert.ok(true);});test('on indeterminate progress &gt; '+ 'should update the progress text content', function(){mockApp.mTriggerDownloadProgress(NaN);var progressNode=fakeNotif.querySelector('progress');assert.equal(progressNode.textContent, 'downloadingAppProgressIndeterminate');});suite('on progress &gt;', function(){var size, ratio;var newprogress=10;setup(function(){size=mockApp.updateManifest.size;ratio=newprogress/size;mockApp.mTriggerDownloadProgress(newprogress);});test('should update the progress notification', function(){var progressNode=fakeNotif.querySelector('progress');assert.equal(progressNode.position, ratio);assert.equal(progressNode.textContent, 'downloadingAppProgress{&quot;progress&quot;:&quot;10.00 bytes&quot;,'+ '&quot;max&quot;:&quot;5.00 MB&quot;}');});});suite('on uninstall &gt;', function(){setup(function(){dispatchUninstallEvent();});test('should remove the notif', function(){var method= 'decExternalNotifications';assert.equal(fakeNotif.childElementCount, 0);assert.ok(MockNotificationScreen.wasMethodCalled[method]);});test('should release the wifi wake lock', function(){assert.equal('wifi', MockNavigatorWakeLock.mLastWakeLock.topic);assert.isTrue(MockNavigatorWakeLock.mLastWakeLock.released);});});if(!afterError){downloadErrorSuite(downloadEventsSuite);}});}beforeFirstProgressSuite();downloadEventsSuite(false);suite('on INSUFFICIENT_STORAGE downloaderror &gt;', function(){test('should display an alert', function(){mockApp.mTriggerDownloadError('INSUFFICIENT_STORAGE');assert.isNull(MockSystemBanner.mMessage);assert.isTrue(MockModalDialog.alert.mWasCalled);var args=MockModalDialog.alert.mArgs;assert.equal(args[0], 'not&#45;enough&#45;space');assert.equal(args[1], 'not&#45;enough&#45;space&#45;message');assert.deepEqual(args[2],{title: 'ok'});});beforeFirstProgressSuite();downloadEventsSuite(true);});});suite('cancelling a download &gt;', function(){setup(function(){mockApp=new MockApp({installState: 'pending'});MockApplications.mRegisterMockApp(mockApp);dispatchInstallEvent();mockApp.mTriggerDownloadProgress(10);});test('tapping the notification should display the dialog', function(){fakeNotif.querySelector('.fake&#45;notification').click();assert.isTrue(fakeDownloadCancelDialog.classList.contains('visible'));});test('tapping the container should not display the dialog', function(){fakeNotif.click();assert.isFalse(fakeDownloadCancelDialog.classList.contains('visible'));});test('should set the title with the app name', function(){fakeNotif.querySelector('.fake&#45;notification').click();var title=fakeDownloadCancelDialog.querySelector('h1');assert.equal(title.textContent, 'stopDownloading{&quot;app&quot;:&quot;Mock app&quot;}');});test('should add the manifest url in data set', function(){fakeNotif.querySelector('.fake&#45;notification').click();assert.equal(fakeDownloadCancelDialog.dataset.manifest, mockApp.manifestURL);});test('should hide the notification tray', function(){fakeNotif.querySelector('.fake&#45;notification').click();assert.isFalse(MockUtilityTray.mShown);});test('cancelling should hide the dialog only', function(){fakeNotif.querySelector('.fake&#45;notification').click();fakeDownloadCancelDialog.querySelector('.cancel').click();assert.isFalse(fakeDownloadCancelDialog.classList.contains('visible'));assert.isFalse(mockApp.mCancelCalled);});test('accepting should hide the dialog and call cancelDownload on app', function(){fakeNotif.querySelector('.fake&#45;notification').click();fakeDownloadCancelDialog.querySelector('.confirm').click();assert.isFalse(fakeDownloadCancelDialog.classList.contains('visible'));assert.ok(mockApp.mCancelCalled);});test('accepting should hide the dialog but not call cancelDownload '+ 'if app is uninstalled', function(){fakeNotif.querySelector('.fake&#45;notification').click();MockApplications.mUnregisterMockApp(mockApp);fakeDownloadCancelDialog.querySelector('.confirm').click();assert.isFalse(fakeDownloadCancelDialog.classList.contains('visible'));assert.isFalse(mockApp.mCancelCalled);});});});suite('restarting after reboot &gt;', function(){var mockApp, installedMockApp;setup(function(){mockApp=new MockApp({updateManifest:null, installState: 'pending'});installedMockApp=new MockApp({updateManifest:null, installState: 'installed'});var e=new CustomEvent('applicationready',{detail:{applications:{}}});e.detail.applications[mockApp.manifestURL]=mockApp;e.detail.applications[installedMockApp.manifestURL]=installedMockApp;window.dispatchEvent(e);});test('should add a notification for the pending app', function(){mockApp.mTriggerDownloadProgress(50);var method= 'incExternalNotifications';assert.equal(fakeNotif.childElementCount, 1);assert.ok(MockNotificationScreen.wasMethodCalled[method]);});test('should not add a notification for the installed app', function(){installedMockApp.mTriggerDownloadProgress(50);var method= 'incExternalNotifications';assert.equal(fakeNotif.childElementCount, 0);assert.isUndefined(MockNotificationScreen.wasMethodCalled[method]);});});suite('humanizeSize &gt;', function(){test('should handle bytes size', function(){assert.equal('42.00 bytes', AppInstallManager.humanizeSize(42));});test('should handle kilobytes size', function(){assert.equal('1.00 kB', AppInstallManager.humanizeSize(1024));});test('should handle megabytes size', function(){assert.equal('4.67 MB', AppInstallManager.humanizeSize(4901024));});test('should handle gigabytes size', function(){assert.equal('3.73 GB', AppInstallManager.humanizeSize(4000901024));});test('should handle 0', function(){assert.equal('0.00 bytes', AppInstallManager.humanizeSize(0));});});suite('3rd&#45;party IME app flow &gt;', function(){var mockApp, mockAppTwo, mockAppName, mockAppTwoName;setup(function(){AppInstallManager.init();navigator.mozL10n=MockL10n;mockAppName= 'Fake keyboard app';mockApp=new MockApp({manifest:{name:mockAppName, role: 'keyboard', developer:{name: 'Fake dev', url: 'http:}, entry_points:{ 'english':{launch_path: '/index.html#en', name: 'english', description: 'English layout', types:['text', 'url', 'number']}, 'number':{launch_path: '/index.html#nm', name: 'number', description: 'number layout', types:['number']}, 'spanish':{launch_path: '/index.html#spanish', name: 'spanish', description: 'spanish layout', types:['text', 'url', 'number']}}}});mockAppTwoName= 'Fake keyboard app Two';mockAppTwo=new MockApp({manifest:{name:mockAppTwoName, role: 'keyboard', developer:{name: 'Fake dev', url: 'http:}, entry_points:{ 'english':{launch_path: '/index.html#en', name: 'english', description: 'English layout', types:['text', 'url', 'number']}, 'number':{launch_path: '/index.html#nm', name: 'number', description: 'number layout', types:['number']}}}});});test('should show setup dialog', function(){AppInstallManager.handleInstallSuccess(mockApp);assert.isTrue(AppInstallManager.setupInstalledAppDialog.classList.contains('visible'));});test('should empty setup dialog', function(){AppInstallManager.handleInstallSuccess(mockApp);AppInstallManager.setupCancelButton.click();assert.isFalse(AppInstallManager.setupInstalledAppDialog.classList.contains('visible'));assert.equal(AppInstallManager.setupAppName.textContent, '');assert.equal(AppInstallManager.setupAppDescription.textContent, '');});test('should not show setup dialog and wait in setupQueue', function(){this.sinon.spy(AppInstallManager, 'showSetupDialog');AppInstallManager.handleInstallSuccess(mockApp);assert.isTrue(AppInstallManager.setupInstalledAppDialog.classList.contains('visible'));AppInstallManager.handleInstallSuccess(mockAppTwo);assert.isTrue(AppInstallManager.showSetupDialog.calledOnce);assert.equal(AppInstallManager.setupAppName.textContent, 'app&#45;install&#45;success{&quot;appName&quot;:&quot;' + mockAppName + '&quot;}');});test('should show setupInstalledAppDialog two times', function(){this.sinon.spy(AppInstallManager, 'showSetupDialog');AppInstallManager.handleInstallSuccess(mockApp);assert.equal(AppInstallManager.setupAppName.textContent, 'app&#45;install&#45;success{&quot;appName&quot;:&quot;' + mockAppName + '&quot;}');AppInstallManager.setupCancelButton.click();AppInstallManager.handleInstallSuccess(mockAppTwo);assert.equal(AppInstallManager.setupAppName.textContent, 'app&#45;install&#45;success{&quot;appName&quot;:&quot;' + mockAppTwoName + '&quot;}');});test('should show ime list', function(){this.sinon.spy(Template.prototype, 'interpolate');AppInstallManager.handleInstallSuccess(mockAppTwo);AppInstallManager.setupConfirmButton.click();assert.isTrue(AppInstallManager.imeLayoutDialog.classList.contains('visible'));assert.isTrue(Template.prototype.interpolate.calledTwice);});test('should not show list', function(){var badKeyboardApp=new MockApp({manifest:{name:mockAppName, role: 'keyboard', developer:{name: 'Fake dev', url: 'http:}}});AppInstallManager.handleInstallSuccess(badKeyboardApp);AppInstallManager.setupConfirmButton.click();assert.equal(0, AppInstallManager.setupQueue.length);assert.isFalse(AppInstallManager.imeLayoutDialog.classList.contains('visible'));});});})" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d0f/startup__events__test_8js.html#adac6c636af235a329cc774937d75601b">suite</a> </td>
          <td>(</td>
          <td class="paramtype">'system/&#160;</td>
          <td class="paramname"><em>AppInstallManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">'&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="ade68692cb51d6c2d46f82163537bebaa"></a><!-- doxytag: member="app_install_manager_test.js::mocksForAppInstallManager" ref="ade68692cb51d6c2d46f82163537bebaa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">var <a class="el" href="../../db/d87/app__install__manager__test_8js.html#ade68692cb51d6c2d46f82163537bebaa">mocksForAppInstallManager</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>初期値:</b><div class="fragment"><pre class="fragment"> <span class="keyword">new</span> <a class="code" href="../../d1/d67/apps_2communications_2test_2unit_2mocks__helper_8js.html#ac677357b5a0ce4a59a54e9a0a861f480">MocksHelper</a>([
  <span class="stringliteral">&#39;StatusBar&#39;</span>,
  <span class="stringliteral">&#39;SystemBanner&#39;</span>,
  <span class="stringliteral">&#39;NotificationScreen&#39;</span>,
  <span class="stringliteral">&#39;Applications&#39;</span>,
  <span class="stringliteral">&#39;UtilityTray&#39;</span>,
  <span class="stringliteral">&#39;ModalDialog&#39;</span>,
  <span class="stringliteral">&#39;ManifestHelper&#39;</span>,
  <span class="stringliteral">&#39;LazyLoader&#39;</span>,
  <span class="stringliteral">&#39;Template&#39;</span>
]).init()
</pre></div>
<p> <a class="el" href="../../db/d87/app__install__manager__test_8js_source.html">app_install_manager_test.js</a> の <a class="el" href="../../db/d87/app__install__manager__test_8js_source.html#l00019">19</a> 行で定義されています。</p>

</div>
</div>
<a class="anchor" id="ae2475e10618961c050dcba04e8c42331"></a><!-- doxytag: member="app_install_manager_test.js::strict" ref="ae2475e10618961c050dcba04e8c42331" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d1b/test-agent-server_8js.html#aab71dcc804ca4aa3ed2bf7ba887635db">use</a> <a class="el" href="../../de/dc5/jsfriendapi_8h.html#a8cddd7ed2617ebace48da2e8e44f267c">strict</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../db/d87/app__install__manager__test_8js_source.html">app_install_manager_test.js</a> の <a class="el" href="../../db/d87/app__install__manager__test_8js_source.html#l00001">1</a> 行で定義されています。</p>

</div>
</div>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../db/d87/app__install__manager__test_8js.html">app_install_manager_test.js</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 00:55:43に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
