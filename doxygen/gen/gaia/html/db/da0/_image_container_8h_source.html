<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: ImageContainer.h ソースファイル</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li class="current"><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>ファイル一覧</span></a></li>
      <li><a href="../../globals.html"><span>グローバル</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('db/da0/_image_container_8h.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">ImageContainer.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../db/da0/_image_container_8h.html">説明を見る。</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* -*- Mode: C++; tab-width: 20; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a name="l00002"></a>00002 <span class="comment"> * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a name="l00003"></a>00003 <span class="comment"> * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a name="l00004"></a>00004 <span class="comment"> * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="preprocessor">#ifndef GFX_IMAGECONTAINER_H</span>
<a name="l00007"></a>00007 <span class="preprocessor"></span><span class="preprocessor">#define GFX_IMAGECONTAINER_H</span>
<a name="l00008"></a>00008 <span class="preprocessor"></span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &quot;<a class="code" href="../../da/d78/_mutex_8h.html">mozilla/Mutex.h</a>&quot;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;<a class="code" href="../../d6/d51/_reentrant_monitor_8h.html">mozilla/ReentrantMonitor.h</a>&quot;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &quot;<a class="code" href="../../d2/dca/gfx_a_surface_8h.html">gfxASurface.h</a>&quot;</span> <span class="comment">// for gfxImageFormat</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &quot;<a class="code" href="../../d3/d16/_layers_types_8h.html">mozilla/layers/LayersTypes.h</a>&quot;</span> <span class="comment">// for LayersBackend</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &quot;<a class="code" href="../../d1/d77/_time_stamp_8h.html">mozilla/TimeStamp.h</a>&quot;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &quot;<a class="code" href="../../df/d64/_image_types_8h.html">ImageTypes.h</a>&quot;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &quot;<a class="code" href="../../d1/db9/ns_t_array_8h.html">nsTArray.h</a>&quot;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &quot;<a class="code" href="../../da/d25/pratom_8h.html">pratom.h</a>&quot;</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="preprocessor">#ifdef XP_WIN</span>
<a name="l00019"></a>00019 <span class="preprocessor"></span><span class="keyword">struct </span>ID3D10Texture2D;
<a name="l00020"></a>00020 <span class="keyword">struct </span>ID3D10Device;
<a name="l00021"></a>00021 <span class="keyword">struct </span>ID3D10ShaderResourceView;
<a name="l00022"></a>00022 <span class="preprocessor">#endif</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span>
<a name="l00024"></a><a class="code" href="../../db/da0/_image_container_8h.html#aa8c0374618b33785ccb02f74bcfebc46">00024</a> <span class="keyword">typedef</span> <span class="keywordtype">void</span>* <a class="code" href="../../db/da0/_image_container_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>;
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 <span class="keyword">namespace </span>mozilla {
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="keyword">class </span>CrossProcessMutex;
<a name="l00029"></a><a class="code" href="../../df/d8a/namespacemozilla_1_1ipc.html">00029</a> <span class="keyword">namespace </span>ipc {
<a name="l00030"></a>00030 <span class="keyword">class </span>Shmem;
<a name="l00031"></a>00031 }
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="keyword">namespace </span>layers {
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="keyword">class </span>ImageClient;
<a name="l00036"></a>00036 <span class="keyword">class </span>SharedPlanarYCbCrImage;
<a name="l00037"></a>00037 <span class="keyword">class </span>DeprecatedSharedPlanarYCbCrImage;
<a name="l00038"></a>00038 <span class="keyword">class </span>TextureClient;
<a name="l00039"></a>00039 <span class="keyword">class </span>SurfaceDescriptor;
<a name="l00040"></a>00040 
<a name="l00041"></a><a class="code" href="../../dd/d02/structmozilla_1_1layers_1_1_image_backend_data.html">00041</a> <span class="keyword">struct </span><a class="code" href="../../dd/d02/structmozilla_1_1layers_1_1_image_backend_data.html">ImageBackendData</a>
<a name="l00042"></a>00042 {
<a name="l00043"></a><a class="code" href="../../dd/d02/structmozilla_1_1layers_1_1_image_backend_data.html#a19337b8d958e17c3e79900268315b3ef">00043</a>   <span class="keyword">virtual</span> <a class="code" href="../../dd/d02/structmozilla_1_1layers_1_1_image_backend_data.html#a19337b8d958e17c3e79900268315b3ef">~ImageBackendData</a>() {}
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 <span class="keyword">protected</span>:
<a name="l00046"></a><a class="code" href="../../dd/d02/structmozilla_1_1layers_1_1_image_backend_data.html#a689419110990f53388a8ce668f8e9717">00046</a>   <a class="code" href="../../dd/d02/structmozilla_1_1layers_1_1_image_backend_data.html#a689419110990f53388a8ce668f8e9717">ImageBackendData</a>() {}
<a name="l00047"></a>00047 };
<a name="l00048"></a>00048 
<a name="l00049"></a>00049 <span class="comment">// sadly we&#39;ll need this until we get rid of Deprected image classes</span>
<a name="l00050"></a><a class="code" href="../../d9/dfc/classmozilla_1_1layers_1_1_i_shared_image.html">00050</a> <span class="keyword">class </span><a class="code" href="../../d9/dfc/classmozilla_1_1layers_1_1_i_shared_image.html">ISharedImage</a> {
<a name="l00051"></a>00051 <span class="keyword">public</span>:
<a name="l00052"></a>00052     <span class="keyword">virtual</span> uint8_t* <a class="code" href="../../d9/dfc/classmozilla_1_1layers_1_1_i_shared_image.html#a965ca8f9355f1e89a66928874ac633c7">GetBuffer</a>() = 0;
<a name="l00053"></a>00053 
<a name="l00058"></a>00058     <span class="keyword">virtual</span> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html">TextureClient</a>* <a class="code" href="../../d9/dfc/classmozilla_1_1layers_1_1_i_shared_image.html#aee724ee6382680794b5c2b55168e3df5">GetTextureClient</a>() = 0;
<a name="l00059"></a>00059 };
<a name="l00060"></a>00060 
<a name="l00075"></a><a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html">00075</a> <span class="keyword">class </span><a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html">Image</a> {
<a name="l00076"></a>00076   <a class="code" href="../../d0/d5a/ns_i_supports_impl_8h.html#ac4bdc476a7f9eddfb535c3ff08591209">NS_INLINE_DECL_THREADSAFE_REFCOUNTING</a>(<a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html">Image</a>)
<a name="l00077"></a>00077 
<a name="l00078"></a>00078 <span class="keyword">public</span>:
<a name="l00079"></a><a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a45bd09b9735a0278180a0752d3bac186">00079</a>   <span class="keyword">virtual</span> <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a45bd09b9735a0278180a0752d3bac186">~Image</a>() {}
<a name="l00080"></a>00080 
<a name="l00081"></a><a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a643adbb61b5afd4f5b1fdfbfe5bfb7e4">00081</a>   <span class="keyword">virtual</span> <a class="code" href="../../d9/dfc/classmozilla_1_1layers_1_1_i_shared_image.html">ISharedImage</a>* <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a643adbb61b5afd4f5b1fdfbfe5bfb7e4">AsSharedImage</a>() { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }
<a name="l00082"></a>00082 
<a name="l00083"></a><a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#aaef5abae05da0568fe357803b9d5ba11">00083</a>   <a class="code" href="../../d2/d93/namespacemozilla.html#ae90905cbb321fa33932522c00c1499e1">ImageFormat</a> <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#aaef5abae05da0568fe357803b9d5ba11">GetFormat</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a51fa3fae6857532196ad36615a7c3057">mFormat</a>; }
<a name="l00084"></a><a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a5c83d1aa449e3e8e2e639e96450d717a">00084</a>   <span class="keywordtype">void</span>* <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a5c83d1aa449e3e8e2e639e96450d717a">GetImplData</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#aec9bcfe7eb5d932b18e5a47ba399b0d4">mImplData</a>; }
<a name="l00085"></a>00085 
<a name="l00086"></a>00086   <span class="keyword">virtual</span> <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;gfxASurface&gt;</a> <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#aeb5b72d1e9c88baa99a4ba67951d8ce0">GetAsSurface</a>() = 0;
<a name="l00087"></a>00087   <span class="keyword">virtual</span> <a class="code" href="../../dc/d43/structns_int_size.html">gfxIntSize</a> <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#ada0db0c9277dcfbc45b3e129e103ec50">GetSize</a>() = 0;
<a name="l00088"></a><a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a77c1c3e5f0fdccfe5285b8473f184e5a">00088</a>   <span class="keyword">virtual</span> <a class="code" href="../../d7/dc7/structns_int_rect.html">nsIntRect</a> <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a77c1c3e5f0fdccfe5285b8473f184e5a">GetPictureRect</a>()
<a name="l00089"></a>00089   {
<a name="l00090"></a>00090     <span class="keywordflow">return</span> <a class="code" href="../../d5/d28/img_i_container_8idl.html#aac4feaada42a7f28dc29d53e7a774de9">nsIntRect</a>(0, 0, <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#ada0db0c9277dcfbc45b3e129e103ec50">GetSize</a>().<a class="code" href="../../d4/d8c/viewphoto_8js.html#adb90f9ed3668a895cc5b90a19bcdee13">width</a>, <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#ada0db0c9277dcfbc45b3e129e103ec50">GetSize</a>().<a class="code" href="../../d4/d8c/viewphoto_8js.html#a06f7a63ceb91351a4c31800c9a7af42f">height</a>);
<a name="l00091"></a>00091   }
<a name="l00092"></a>00092 
<a name="l00093"></a><a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#af12915aa0922a35afa523408a7ebb883">00093</a>   <a class="code" href="../../dd/d02/structmozilla_1_1layers_1_1_image_backend_data.html">ImageBackendData</a>* <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#af12915aa0922a35afa523408a7ebb883">GetBackendData</a>(<a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a608a5d3baaee467cd6c5f194d7f79410">LayersBackend</a> aBackend)
<a name="l00094"></a>00094   { <span class="keywordflow">return</span> <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a64a4c5247cbde80b8a7cba49ed0a3823">mBackendData</a>[aBackend]; }
<a name="l00095"></a><a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a85b159966e0ca776f78a0b53f15aaa3b">00095</a>   <span class="keywordtype">void</span> <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a85b159966e0ca776f78a0b53f15aaa3b">SetBackendData</a>(<a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a608a5d3baaee467cd6c5f194d7f79410">LayersBackend</a> aBackend, <a class="code" href="../../dd/d02/structmozilla_1_1layers_1_1_image_backend_data.html">ImageBackendData</a>* <a class="code" href="../../d6/d1d/ns_x_p_c_o_m_strings_8h.html#a580e3d1c78551e30e0c97ab45dc8a3b5">aData</a>)
<a name="l00096"></a>00096   { <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a64a4c5247cbde80b8a7cba49ed0a3823">mBackendData</a>[aBackend] = <a class="code" href="../../d6/d1d/ns_x_p_c_o_m_strings_8h.html#a580e3d1c78551e30e0c97ab45dc8a3b5">aData</a>; }
<a name="l00097"></a>00097 
<a name="l00098"></a><a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a216f04bb1e6cadc15b1afe54c17be5cd">00098</a>   int32_t <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a216f04bb1e6cadc15b1afe54c17be5cd">GetSerial</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#ad3c8bf4f4a12a1a71fdb2051b2017cd9">mSerial</a>; }
<a name="l00099"></a>00099 
<a name="l00100"></a><a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a2131e402940ee72d9429f98dbe95d6e7">00100</a>   <span class="keywordtype">void</span> <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a2131e402940ee72d9429f98dbe95d6e7">MarkSent</a>() { <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a4356ea89f607b2127adff89ebf90b9ab">mSent</a> = <span class="keyword">true</span>; }
<a name="l00101"></a><a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#abbe4b42a4d2144ba8b258b3fabc9445d">00101</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#abbe4b42a4d2144ba8b258b3fabc9445d">IsSentToCompositor</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a4356ea89f607b2127adff89ebf90b9ab">mSent</a>; }
<a name="l00102"></a>00102 
<a name="l00103"></a>00103 <span class="keyword">protected</span>:
<a name="l00104"></a><a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a122406cdbb9894bb9247184b701fa989">00104</a>   <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a122406cdbb9894bb9247184b701fa989">Image</a>(<span class="keywordtype">void</span>* aImplData, <a class="code" href="../../d2/d93/namespacemozilla.html#ae90905cbb321fa33932522c00c1499e1">ImageFormat</a> aFormat) :
<a name="l00105"></a>00105     <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#aec9bcfe7eb5d932b18e5a47ba399b0d4">mImplData</a>(aImplData),
<a name="l00106"></a>00106     <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#ad3c8bf4f4a12a1a71fdb2051b2017cd9">mSerial</a>(<a class="code" href="../../da/d25/pratom_8h.html#a08e49d2a454da4aa29be02da5a9565cc">PR_ATOMIC_INCREMENT</a>(&amp;<a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a06aaf03d43ef880003ba7928737513dd">sSerialCounter</a>)),
<a name="l00107"></a>00107     <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a51fa3fae6857532196ad36615a7c3057">mFormat</a>(aFormat),
<a name="l00108"></a>00108     <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a4356ea89f607b2127adff89ebf90b9ab">mSent</a>(<a class="code" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>)
<a name="l00109"></a>00109   {}
<a name="l00110"></a>00110 
<a name="l00111"></a><a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a64a4c5247cbde80b8a7cba49ed0a3823">00111</a>   <a class="code" href="../../d1/d89/classns_auto_ptr.html">nsAutoPtr&lt;ImageBackendData&gt;</a> <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a64a4c5247cbde80b8a7cba49ed0a3823">mBackendData</a>[<a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a608a5d3baaee467cd6c5f194d7f79410a85e4c8c5413acf1731729c4aa33ac962">mozilla::layers::LAYERS_LAST</a>];
<a name="l00112"></a>00112 
<a name="l00113"></a><a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#aec9bcfe7eb5d932b18e5a47ba399b0d4">00113</a>   <span class="keywordtype">void</span>* <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#aec9bcfe7eb5d932b18e5a47ba399b0d4">mImplData</a>;
<a name="l00114"></a><a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#ad3c8bf4f4a12a1a71fdb2051b2017cd9">00114</a>   int32_t <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#ad3c8bf4f4a12a1a71fdb2051b2017cd9">mSerial</a>;
<a name="l00115"></a><a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a51fa3fae6857532196ad36615a7c3057">00115</a>   <a class="code" href="../../d2/d93/namespacemozilla.html#ae90905cbb321fa33932522c00c1499e1">ImageFormat</a> <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a51fa3fae6857532196ad36615a7c3057">mFormat</a>;
<a name="l00116"></a><a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a06aaf03d43ef880003ba7928737513dd">00116</a>   <span class="keyword">static</span> int32_t <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a06aaf03d43ef880003ba7928737513dd">sSerialCounter</a>;
<a name="l00117"></a><a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a4356ea89f607b2127adff89ebf90b9ab">00117</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html#a4356ea89f607b2127adff89ebf90b9ab">mSent</a>;
<a name="l00118"></a>00118 };
<a name="l00119"></a>00119 
<a name="l00127"></a><a class="code" href="../../d0/d58/classmozilla_1_1layers_1_1_buffer_recycle_bin.html">00127</a> <span class="keyword">class </span><a class="code" href="../../d0/d58/classmozilla_1_1layers_1_1_buffer_recycle_bin.html">BufferRecycleBin</a> {
<a name="l00128"></a>00128   <a class="code" href="../../d0/d5a/ns_i_supports_impl_8h.html#ac4bdc476a7f9eddfb535c3ff08591209">NS_INLINE_DECL_THREADSAFE_REFCOUNTING</a>(RecycleBin)
<a name="l00129"></a>00129 
<a name="l00130"></a>00130   <span class="comment">//typedef mozilla::gl::GLContext GLContext;</span>
<a name="l00131"></a>00131 
<a name="l00132"></a>00132 <span class="keyword">public</span>:
<a name="l00133"></a>00133   <a class="code" href="../../d0/d58/classmozilla_1_1layers_1_1_buffer_recycle_bin.html#a9eea23d5898542a67d84360ec94f9e65">BufferRecycleBin</a>();
<a name="l00134"></a>00134 
<a name="l00135"></a>00135   <span class="keywordtype">void</span> <a class="code" href="../../d0/d58/classmozilla_1_1layers_1_1_buffer_recycle_bin.html#a875e4bb5aee456f9d517bf8a04f8a487">RecycleBuffer</a>(uint8_t* aBuffer, uint32_t aSize);
<a name="l00136"></a>00136   <span class="comment">// Returns a recycled buffer of the right size, or allocates a new buffer.</span>
<a name="l00137"></a>00137   uint8_t* <a class="code" href="../../d0/d58/classmozilla_1_1layers_1_1_buffer_recycle_bin.html#ab2924b444f9fa8bc6c44effa3b88d333">GetBuffer</a>(uint32_t aSize);
<a name="l00138"></a>00138 
<a name="l00139"></a>00139 <span class="keyword">private</span>:
<a name="l00140"></a>00140   <span class="keyword">typedef</span> <a class="code" href="../../d9/d12/classmozilla_1_1_mutex.html">mozilla::Mutex</a> <a class="code" href="../../d9/d12/classmozilla_1_1_mutex.html">Mutex</a>;
<a name="l00141"></a>00141 
<a name="l00142"></a>00142   <span class="comment">// This protects mRecycledBuffers, mRecycledBufferSize, mRecycledTextures</span>
<a name="l00143"></a>00143   <span class="comment">// and mRecycledTextureSizes</span>
<a name="l00144"></a>00144   <a class="code" href="../../d9/d12/classmozilla_1_1_mutex.html">Mutex</a> mLock;
<a name="l00145"></a>00145 
<a name="l00146"></a>00146   <span class="comment">// We should probably do something to prune this list on a timer so we don&#39;t</span>
<a name="l00147"></a>00147   <span class="comment">// eat excess memory while video is paused...</span>
<a name="l00148"></a>00148   <a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;nsAutoArrayPtr&lt;uint8_t&gt;</a> &gt; mRecycledBuffers;
<a name="l00149"></a>00149   <span class="comment">// This is only valid if mRecycledBuffers is non-empty</span>
<a name="l00150"></a>00150   uint32_t mRecycledBufferSize;
<a name="l00151"></a>00151 };
<a name="l00152"></a>00152 
<a name="l00156"></a>00156 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span>
<a name="l00157"></a>00157 FormatInList(<span class="keyword">const</span> <a class="code" href="../../d2/d93/namespacemozilla.html#ae90905cbb321fa33932522c00c1499e1">ImageFormat</a>* aFormats, uint32_t aNumFormats,
<a name="l00158"></a>00158              <a class="code" href="../../d2/d93/namespacemozilla.html#ae90905cbb321fa33932522c00c1499e1">ImageFormat</a> aFormat)
<a name="l00159"></a>00159 {
<a name="l00160"></a>00160   <span class="keywordflow">for</span> (uint32_t <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> = 0; <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a> &lt; aNumFormats; ++<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>) {
<a name="l00161"></a>00161     <span class="keywordflow">if</span> (aFormats[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>] == aFormat) {
<a name="l00162"></a>00162       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00163"></a>00163     }
<a name="l00164"></a>00164   }
<a name="l00165"></a>00165   <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00166"></a>00166 }
<a name="l00167"></a>00167 
<a name="l00168"></a><a class="code" href="../../d3/d5e/classmozilla_1_1layers_1_1_composition_notify_sink.html">00168</a> <span class="keyword">class </span><a class="code" href="../../d3/d5e/classmozilla_1_1layers_1_1_composition_notify_sink.html">CompositionNotifySink</a>
<a name="l00169"></a>00169 {
<a name="l00170"></a>00170 <span class="keyword">public</span>:
<a name="l00171"></a>00171   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d3/d5e/classmozilla_1_1layers_1_1_composition_notify_sink.html#a40424b1d34ffdc403034353fe9d06cda">DidComposite</a>() = 0;
<a name="l00172"></a><a class="code" href="../../d3/d5e/classmozilla_1_1layers_1_1_composition_notify_sink.html#abf5a1f79676edb745886d4640c2105f8">00172</a>   <span class="keyword">virtual</span> <a class="code" href="../../d3/d5e/classmozilla_1_1layers_1_1_composition_notify_sink.html#abf5a1f79676edb745886d4640c2105f8">~CompositionNotifySink</a>() {}
<a name="l00173"></a>00173 };
<a name="l00174"></a>00174 
<a name="l00191"></a><a class="code" href="../../d6/d9f/classmozilla_1_1layers_1_1_image_factory.html">00191</a> <span class="keyword">class </span><a class="code" href="../../d6/d9f/classmozilla_1_1layers_1_1_image_factory.html">ImageFactory</a>
<a name="l00192"></a>00192 {
<a name="l00193"></a>00193   <a class="code" href="../../d0/d5a/ns_i_supports_impl_8h.html#ac4bdc476a7f9eddfb535c3ff08591209">NS_INLINE_DECL_THREADSAFE_REFCOUNTING</a>(<a class="code" href="../../d6/d9f/classmozilla_1_1layers_1_1_image_factory.html">ImageFactory</a>)
<a name="l00194"></a>00194 <span class="keyword">protected</span>:
<a name="l00195"></a><a class="code" href="../../d6/d9f/classmozilla_1_1layers_1_1_image_factory.html#aa4779cf999068ccde9dd38f8c1cbd5d4">00195</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html">ImageContainer</a>;
<a name="l00196"></a>00196 
<a name="l00197"></a><a class="code" href="../../d6/d9f/classmozilla_1_1layers_1_1_image_factory.html#aa2d8d4738b1c0c04251d97736d3da170">00197</a>   <a class="code" href="../../d6/d9f/classmozilla_1_1layers_1_1_image_factory.html#aa2d8d4738b1c0c04251d97736d3da170">ImageFactory</a>() {}
<a name="l00198"></a><a class="code" href="../../d6/d9f/classmozilla_1_1layers_1_1_image_factory.html#af679a1bd79501504089e371c534bcf01">00198</a>   <span class="keyword">virtual</span> <a class="code" href="../../d6/d9f/classmozilla_1_1layers_1_1_image_factory.html#af679a1bd79501504089e371c534bcf01">~ImageFactory</a>() {}
<a name="l00199"></a>00199 
<a name="l00200"></a>00200   <span class="keyword">virtual</span> <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;Image&gt;</a> <a class="code" href="../../d6/d9f/classmozilla_1_1layers_1_1_image_factory.html#a68fe2bdc00fe13f088a844bcad601f56">CreateImage</a>(<span class="keyword">const</span> <a class="code" href="../../d2/d93/namespacemozilla.html#ae90905cbb321fa33932522c00c1499e1">ImageFormat</a>* aFormats,
<a name="l00201"></a>00201                                               uint32_t aNumFormats,
<a name="l00202"></a>00202                                               <span class="keyword">const</span> <a class="code" href="../../dc/d43/structns_int_size.html">gfxIntSize</a> &amp;aScaleHint,
<a name="l00203"></a>00203                                               <a class="code" href="../../d0/d58/classmozilla_1_1layers_1_1_buffer_recycle_bin.html">BufferRecycleBin</a> *aRecycleBin);
<a name="l00204"></a>00204 
<a name="l00205"></a>00205 };
<a name="l00206"></a>00206  
<a name="l00214"></a><a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html">00214</a> <span class="keyword">struct </span><a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html">RemoteImageData</a> {
<a name="l00215"></a><a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#abe3c9050023902b992987a474ce0eb73">00215</a>   <span class="keyword">enum</span> <a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#abe3c9050023902b992987a474ce0eb73">Type</a> {
<a name="l00219"></a><a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#abe3c9050023902b992987a474ce0eb73a6b6d03eb98f780e72dd052c4b9470a93">00219</a>     <a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#abe3c9050023902b992987a474ce0eb73a6b6d03eb98f780e72dd052c4b9470a93">RAW_BITMAP</a>,
<a name="l00220"></a>00220 
<a name="l00229"></a><a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#abe3c9050023902b992987a474ce0eb73ac8de1b0cb86a13ea1dabb6b0a40731c3">00229</a>     <a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#abe3c9050023902b992987a474ce0eb73ac8de1b0cb86a13ea1dabb6b0a40731c3">DXGI_TEXTURE_HANDLE</a>
<a name="l00230"></a>00230   };
<a name="l00231"></a>00231   <span class="comment">/* These formats describe the format in the memory byte-order */</span>
<a name="l00232"></a><a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#a72a22bf7ca61d59abebd76e4ae79410e">00232</a>   <span class="keyword">enum</span> <a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#a72a22bf7ca61d59abebd76e4ae79410e">Format</a> {
<a name="l00233"></a>00233     <span class="comment">/* 8 bits per channel */</span>
<a name="l00234"></a><a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#a72a22bf7ca61d59abebd76e4ae79410eaeacad3f773582f6386cb1ec1545c4003">00234</a>     <a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#a72a22bf7ca61d59abebd76e4ae79410eaeacad3f773582f6386cb1ec1545c4003">BGRA32</a>,
<a name="l00235"></a>00235     <span class="comment">/* 8 bits per channel, alpha channel is ignored */</span>
<a name="l00236"></a><a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#a72a22bf7ca61d59abebd76e4ae79410ea093f2fca8f9fb1046173ce0204e524ed">00236</a>     <a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#a72a22bf7ca61d59abebd76e4ae79410ea093f2fca8f9fb1046173ce0204e524ed">BGRX32</a>
<a name="l00237"></a>00237   };
<a name="l00238"></a>00238 
<a name="l00239"></a>00239   <span class="comment">// This should be set to true if a change was made so that the ImageContainer</span>
<a name="l00240"></a>00240   <span class="comment">// knows to throw out any cached RemoteImage objects.</span>
<a name="l00241"></a><a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#aecad77ea0882d89d472a916bd1ec7b85">00241</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#aecad77ea0882d89d472a916bd1ec7b85">mWasUpdated</a>;
<a name="l00242"></a><a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#a571a77499795dd3194fbb8d6a6e412c4">00242</a>   <a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#abe3c9050023902b992987a474ce0eb73">Type</a> <a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#a571a77499795dd3194fbb8d6a6e412c4">mType</a>;
<a name="l00243"></a><a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#a1a4e37a3da1653482578d23a9954b80e">00243</a>   <a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#a72a22bf7ca61d59abebd76e4ae79410e">Format</a> <a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#a1a4e37a3da1653482578d23a9954b80e">mFormat</a>;
<a name="l00244"></a><a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#a444b9c0d0885beee744b5970eef251e3">00244</a>   <a class="code" href="../../dc/d43/structns_int_size.html">gfxIntSize</a> <a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#a444b9c0d0885beee744b5970eef251e3">mSize</a>;
<a name="l00245"></a>00245   <span class="keyword">union </span>{
<a name="l00246"></a>00246     <span class="keyword">struct </span>{
<a name="l00247"></a>00247       <span class="comment">/* This pointer is set by a remote process, however it will be set to</span>
<a name="l00248"></a>00248 <span class="comment">       * the container process&#39; address the memory of the raw bitmap resides</span>
<a name="l00249"></a>00249 <span class="comment">       * at.</span>
<a name="l00250"></a>00250 <span class="comment">       */</span>
<a name="l00251"></a><a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#a6890669f53d4a529d1626da88fa47120">00251</a>       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#a6890669f53d4a529d1626da88fa47120">mData</a>;
<a name="l00252"></a><a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#a4821c1f6edd2540ba3fa2dee906f8aa0">00252</a>       <span class="keywordtype">int</span> <a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#a4821c1f6edd2540ba3fa2dee906f8aa0">mStride</a>;
<a name="l00253"></a>00253     } <a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#a688673960fc8a56940795065d999110d">mBitmap</a>;
<a name="l00254"></a>00254 <span class="preprocessor">#ifdef XP_WIN</span>
<a name="l00255"></a>00255 <span class="preprocessor"></span>    <a class="code" href="../../db/da0/_image_container_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> mTextureHandle;
<a name="l00256"></a>00256 <span class="preprocessor">#endif</span>
<a name="l00257"></a>00257 <span class="preprocessor"></span>  };
<a name="l00258"></a>00258 };
<a name="l00259"></a>00259 
<a name="l00284"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html">00284</a> <span class="keyword">class </span><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html">ImageContainer</a> {
<a name="l00285"></a>00285   <a class="code" href="../../d0/d5a/ns_i_supports_impl_8h.html#ac4bdc476a7f9eddfb535c3ff08591209">NS_INLINE_DECL_THREADSAFE_REFCOUNTING</a>(<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html">ImageContainer</a>)
<a name="l00286"></a>00286 <span class="keyword">public</span>:
<a name="l00287"></a>00287 
<a name="l00288"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#af7e5cd11df52d12bb3fdc0fc691f1c1caa68f5fb7103ca816f8394ae61f574749">00288</a>   <span class="keyword">enum</span> { <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#af7e5cd11df52d12bb3fdc0fc691f1c1caa3985949f5c0e96acf264df44058c2aa">DISABLE_ASYNC</a> = 0x0, <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#af7e5cd11df52d12bb3fdc0fc691f1c1caa68f5fb7103ca816f8394ae61f574749">ENABLE_ASYNC</a> = 0x01 };
<a name="l00289"></a>00289 
<a name="l00290"></a>00290   <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a0b3f56e2622bd9df2801ec338e8cd551">ImageContainer</a>(<span class="keywordtype">int</span> flag = 0);
<a name="l00291"></a>00291 
<a name="l00292"></a>00292   <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a20138ce3d9752fce037cf59368408e99">~ImageContainer</a>();
<a name="l00293"></a>00293 
<a name="l00302"></a>00302   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;Image&gt;</a> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a05de7ea765118bef858346c0a6a36d58">CreateImage</a>(<span class="keyword">const</span> <a class="code" href="../../d2/d93/namespacemozilla.html#ae90905cbb321fa33932522c00c1499e1">ImageFormat</a>* aFormats,
<a name="l00303"></a>00303                                       uint32_t aNumFormats);
<a name="l00304"></a>00304 
<a name="l00322"></a>00322   <span class="keywordtype">void</span> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#af1183516d9115e4fa9464522c8acd4b8">SetCurrentImage</a>(<a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html">Image</a>* aImage);
<a name="l00323"></a>00323 
<a name="l00339"></a>00339   <span class="keywordtype">void</span> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a67c97054f40cdbb5dce2d40e9845be7d">SetCurrentImageInTransaction</a>(<a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html">Image</a>* aImage);
<a name="l00340"></a>00340 
<a name="l00346"></a>00346   <span class="keywordtype">bool</span> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a187751f64ee33b92a1de67c6c29f7de8">IsAsync</a>() <span class="keyword">const</span>;
<a name="l00347"></a>00347 
<a name="l00356"></a>00356   uint64_t <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a8d232086496a6873ce942b3d305049e6">GetAsyncContainerID</a>() <span class="keyword">const</span>;
<a name="l00357"></a>00357 
<a name="l00363"></a>00363   <span class="keywordtype">bool</span> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#aaa0db534619d76a05d23e165b0d4ca01">HasCurrentImage</a>();
<a name="l00364"></a>00364 
<a name="l00376"></a>00376   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;Image&gt;</a> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#ae24c3ffa9b861205ba2d379601914e87">LockCurrentImage</a>();
<a name="l00377"></a>00377 
<a name="l00382"></a>00382   <span class="keywordtype">void</span> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a4e8887290b1690610a5cd478099d9d2b">UnlockCurrentImage</a>();
<a name="l00383"></a>00383 
<a name="l00404"></a>00404   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;gfxASurface&gt;</a> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#aba988ea5ae616530052a29924cc4a67c">GetCurrentAsSurface</a>(<a class="code" href="../../dc/d43/structns_int_size.html">gfxIntSize</a>* aSizeResult);
<a name="l00405"></a>00405 
<a name="l00414"></a>00414   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;gfxASurface&gt;</a> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a96d0ac5801dcf58ebe6bd48c612edd62">LockCurrentAsSurface</a>(<a class="code" href="../../dc/d43/structns_int_size.html">gfxIntSize</a>* aSizeResult,
<a name="l00415"></a>00415                                                      <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html">Image</a>** aCurrentImage = <span class="keyword">nullptr</span>);
<a name="l00416"></a>00416 
<a name="l00422"></a>00422   <a class="code" href="../../dc/d43/structns_int_size.html">gfxIntSize</a> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#ae07e777aa5011fe2ddfb81feb272d92f">GetCurrentSize</a>();
<a name="l00423"></a>00423 
<a name="l00431"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a150a34c8bf6adc2c82f17ab7e9be3a8a">00431</a>   <span class="keywordtype">void</span> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a150a34c8bf6adc2c82f17ab7e9be3a8a">SetScaleHint</a>(<span class="keyword">const</span> <a class="code" href="../../dc/d43/structns_int_size.html">gfxIntSize</a>&amp; aScaleHint)
<a name="l00432"></a>00432   { <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#ad0b324779d341272275517defc38a297">mScaleHint</a> = aScaleHint; }
<a name="l00433"></a>00433 
<a name="l00434"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#afc05b2146af74df27a4a022a4e066628">00434</a>   <span class="keywordtype">void</span> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#afc05b2146af74df27a4a022a4e066628">SetImageFactory</a>(<a class="code" href="../../d6/d9f/classmozilla_1_1layers_1_1_image_factory.html">ImageFactory</a> *aFactory)
<a name="l00435"></a>00435   {
<a name="l00436"></a>00436     <a class="code" href="../../dc/d3f/classmozilla_1_1_reentrant_monitor_auto_enter.html">ReentrantMonitorAutoEnter</a> <a class="code" href="../../d2/d7d/jsapi_8h.html#abe83542d27fc89c7227bd04c8da1670c">mon</a>(<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a864670cdb108caf4703bbe8d8ff36fd1">mReentrantMonitor</a>);
<a name="l00437"></a>00437     <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a611555dbae70431ed9cebb51c7d49888">mImageFactory</a> = aFactory ? aFactory : <span class="keyword">new</span> <a class="code" href="../../d6/d9f/classmozilla_1_1layers_1_1_image_factory.html">ImageFactory</a>();
<a name="l00438"></a>00438   }
<a name="l00439"></a>00439 
<a name="l00446"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a02069f607317dc190094dc37f34d1b49">00446</a>   <a class="code" href="../../d0/d76/classmozilla_1_1_time_stamp.html">TimeStamp</a> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a02069f607317dc190094dc37f34d1b49">GetPaintTime</a>() {
<a name="l00447"></a>00447     <a class="code" href="../../dc/d3f/classmozilla_1_1_reentrant_monitor_auto_enter.html">ReentrantMonitorAutoEnter</a> <a class="code" href="../../d2/d7d/jsapi_8h.html#abe83542d27fc89c7227bd04c8da1670c">mon</a>(<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a864670cdb108caf4703bbe8d8ff36fd1">mReentrantMonitor</a>);
<a name="l00448"></a>00448     <span class="keywordflow">return</span> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#ad79c1c997bbcf0b3523ef302c69b0469">mPaintTime</a>;
<a name="l00449"></a>00449   }
<a name="l00450"></a>00450 
<a name="l00455"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#acec604f7b558bd129b3101a5153f7162">00455</a>   uint32_t <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#acec604f7b558bd129b3101a5153f7162">GetPaintCount</a>() {
<a name="l00456"></a>00456     <a class="code" href="../../dc/d3f/classmozilla_1_1_reentrant_monitor_auto_enter.html">ReentrantMonitorAutoEnter</a> <a class="code" href="../../d2/d7d/jsapi_8h.html#abe83542d27fc89c7227bd04c8da1670c">mon</a>(<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a864670cdb108caf4703bbe8d8ff36fd1">mReentrantMonitor</a>);
<a name="l00457"></a>00457     <span class="keywordflow">return</span> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a1a698b65df3bf3906dd51e4e50137995">mPaintCount</a>;
<a name="l00458"></a>00458   }
<a name="l00459"></a>00459 
<a name="l00464"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#af612c7bce5f1025ff50ee70b24f38cc7">00464</a>   <span class="keywordtype">void</span> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#af612c7bce5f1025ff50ee70b24f38cc7">ResetPaintCount</a>() {
<a name="l00465"></a>00465     <a class="code" href="../../dc/d3f/classmozilla_1_1_reentrant_monitor_auto_enter.html">ReentrantMonitorAutoEnter</a> <a class="code" href="../../d2/d7d/jsapi_8h.html#abe83542d27fc89c7227bd04c8da1670c">mon</a>(<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a864670cdb108caf4703bbe8d8ff36fd1">mReentrantMonitor</a>);
<a name="l00466"></a>00466     <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a1a698b65df3bf3906dd51e4e50137995">mPaintCount</a> = 0;
<a name="l00467"></a>00467   }
<a name="l00468"></a>00468 
<a name="l00474"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a6042f0c134bd690a4b61e2ee003dc930">00474</a>   <span class="keywordtype">void</span> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a6042f0c134bd690a4b61e2ee003dc930">NotifyPaintedImage</a>(<a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html">Image</a>* aPainted) {
<a name="l00475"></a>00475     <a class="code" href="../../dc/d3f/classmozilla_1_1_reentrant_monitor_auto_enter.html">ReentrantMonitorAutoEnter</a> <a class="code" href="../../d2/d7d/jsapi_8h.html#abe83542d27fc89c7227bd04c8da1670c">mon</a>(<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a864670cdb108caf4703bbe8d8ff36fd1">mReentrantMonitor</a>);
<a name="l00476"></a>00476 
<a name="l00477"></a>00477     <a class="code" href="../../d0/d01/classns_ref_ptr.html">nsRefPtr&lt;Image&gt;</a> current = <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a3c807b9313c547f820315553307199e9">mActiveImage</a>;
<a name="l00478"></a>00478     <span class="keywordflow">if</span> (aPainted == current) {
<a name="l00479"></a>00479       <span class="keywordflow">if</span> (<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#ad79c1c997bbcf0b3523ef302c69b0469">mPaintTime</a>.<a class="code" href="../../d0/d76/classmozilla_1_1_time_stamp.html#a5fc913be73dd4028fd7300b25cdda150">IsNull</a>()) {
<a name="l00480"></a>00480         <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#ad79c1c997bbcf0b3523ef302c69b0469">mPaintTime</a> = <a class="code" href="../../d0/d76/classmozilla_1_1_time_stamp.html#a84c4beb20d8f0da03c368051da2e5015">TimeStamp::Now</a>();
<a name="l00481"></a>00481         <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a1a698b65df3bf3906dd51e4e50137995">mPaintCount</a>++;
<a name="l00482"></a>00482       }
<a name="l00483"></a>00483     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#af9d70bdb78fd70eb0cf0de23bc20e5de">mPreviousImagePainted</a>) {
<a name="l00484"></a>00484       <span class="comment">// While we were painting this image, the current image changed. We</span>
<a name="l00485"></a>00485       <span class="comment">// still must count it as painted, but can&#39;t set mPaintTime, since we&#39;re</span>
<a name="l00486"></a>00486       <span class="comment">// no longer the current image.</span>
<a name="l00487"></a>00487       <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a1a698b65df3bf3906dd51e4e50137995">mPaintCount</a>++;
<a name="l00488"></a>00488       <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#af9d70bdb78fd70eb0cf0de23bc20e5de">mPreviousImagePainted</a> = <span class="keyword">true</span>;
<a name="l00489"></a>00489     }
<a name="l00490"></a>00490 
<a name="l00491"></a>00491     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a0a8e9c9851743abf8b53dab1372d5952">mCompositionNotifySink</a>) {
<a name="l00492"></a>00492       <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a0a8e9c9851743abf8b53dab1372d5952">mCompositionNotifySink</a>-&gt;<a class="code" href="../../d3/d5e/classmozilla_1_1layers_1_1_composition_notify_sink.html#a40424b1d34ffdc403034353fe9d06cda">DidComposite</a>();
<a name="l00493"></a>00493     }
<a name="l00494"></a>00494   }
<a name="l00495"></a>00495 
<a name="l00496"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a4d125d5177e98d5b8a59adc2f7cfa379">00496</a>   <span class="keywordtype">void</span> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a4d125d5177e98d5b8a59adc2f7cfa379">SetCompositionNotifySink</a>(<a class="code" href="../../d3/d5e/classmozilla_1_1layers_1_1_composition_notify_sink.html">CompositionNotifySink</a> *aSink) {
<a name="l00497"></a>00497     <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a0a8e9c9851743abf8b53dab1372d5952">mCompositionNotifySink</a> = aSink;
<a name="l00498"></a>00498   }
<a name="l00499"></a>00499 
<a name="l00508"></a>00508   <span class="keywordtype">void</span> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#aea9b4abd3800a422b78b0a95ba4a41d7">SetRemoteImageData</a>(<a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html">RemoteImageData</a> *aRemoteData,
<a name="l00509"></a>00509                           <a class="code" href="../../d8/d54/classmozilla_1_1_cross_process_mutex.html">CrossProcessMutex</a> *aRemoteDataMutex);
<a name="l00513"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a4a685f00a82f4d8af54bf1d14773efc6">00513</a>   <a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html">RemoteImageData</a> *<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a4a685f00a82f4d8af54bf1d14773efc6">GetRemoteImageData</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a8e22996db0ccf87b4ccb73a5c6e3016e">mRemoteData</a>; }
<a name="l00514"></a>00514 
<a name="l00515"></a>00515 <span class="keyword">protected</span>:
<a name="l00516"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a2c31f05a6044be8835c02cc73c5f67da">00516</a>   <span class="keyword">typedef</span> <a class="code" href="../../dc/d74/classmozilla_1_1_reentrant_monitor.html">mozilla::ReentrantMonitor</a> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a2c31f05a6044be8835c02cc73c5f67da">ReentrantMonitor</a>;
<a name="l00517"></a>00517 
<a name="l00518"></a>00518   <span class="keywordtype">void</span> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a8e1cc69ce310ad370503023af04ca330">SetCurrentImageInternal</a>(<a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html">Image</a>* aImage);
<a name="l00519"></a>00519 
<a name="l00520"></a>00520   <span class="comment">// This is called to ensure we have an active image, this may not be true</span>
<a name="l00521"></a>00521   <span class="comment">// when we&#39;re storing image information in a RemoteImageData structure.</span>
<a name="l00522"></a>00522   <span class="comment">// NOTE: If we have remote data mRemoteDataMutex should be locked when</span>
<a name="l00523"></a>00523   <span class="comment">// calling this function!</span>
<a name="l00524"></a>00524   <span class="keywordtype">void</span> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a691f626b1c6ce7ce3bf86a425dcbb2eb">EnsureActiveImage</a>();
<a name="l00525"></a>00525 
<a name="l00526"></a>00526   <span class="comment">// ReentrantMonitor to protect thread safe access to the &quot;current</span>
<a name="l00527"></a>00527   <span class="comment">// image&quot;, and any other state which is shared between threads.</span>
<a name="l00528"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a864670cdb108caf4703bbe8d8ff36fd1">00528</a>   <a class="code" href="../../dc/d74/classmozilla_1_1_reentrant_monitor.html">ReentrantMonitor</a> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a864670cdb108caf4703bbe8d8ff36fd1">mReentrantMonitor</a>;
<a name="l00529"></a>00529 
<a name="l00530"></a>00530   <span class="comment">// Performs necessary housekeeping to ensure the painted frame statistics</span>
<a name="l00531"></a>00531   <span class="comment">// are accurate. Must be called by SetCurrentImage() implementations with</span>
<a name="l00532"></a>00532   <span class="comment">// mReentrantMonitor held.</span>
<a name="l00533"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a40d677d2c13a1c64bf209482d829d42e">00533</a>   <span class="keywordtype">void</span> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a40d677d2c13a1c64bf209482d829d42e">CurrentImageChanged</a>() {
<a name="l00534"></a>00534     <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a864670cdb108caf4703bbe8d8ff36fd1">mReentrantMonitor</a>.<a class="code" href="../../dc/d74/classmozilla_1_1_reentrant_monitor.html#a1eb508ea58810da2732f1e398691fe37">AssertCurrentThreadIn</a>();
<a name="l00535"></a>00535     <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#af9d70bdb78fd70eb0cf0de23bc20e5de">mPreviousImagePainted</a> = !<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#ad79c1c997bbcf0b3523ef302c69b0469">mPaintTime</a>.<a class="code" href="../../d0/d76/classmozilla_1_1_time_stamp.html#a5fc913be73dd4028fd7300b25cdda150">IsNull</a>();
<a name="l00536"></a>00536     <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#ad79c1c997bbcf0b3523ef302c69b0469">mPaintTime</a> = <a class="code" href="../../d5/d28/img_i_container_8idl.html#aa16e6b2422cef428bbecbae0a0325e97">TimeStamp</a>();
<a name="l00537"></a>00537   }
<a name="l00538"></a>00538 
<a name="l00539"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a3c807b9313c547f820315553307199e9">00539</a>   <a class="code" href="../../d0/d01/classns_ref_ptr.html">nsRefPtr&lt;Image&gt;</a> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a3c807b9313c547f820315553307199e9">mActiveImage</a>;
<a name="l00540"></a>00540 
<a name="l00541"></a>00541   <span class="comment">// Number of contained images that have been painted at least once.  It&#39;s up</span>
<a name="l00542"></a>00542   <span class="comment">// to the ImageContainer implementation to ensure accesses to this are</span>
<a name="l00543"></a>00543   <span class="comment">// threadsafe.</span>
<a name="l00544"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a1a698b65df3bf3906dd51e4e50137995">00544</a>   uint32_t <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a1a698b65df3bf3906dd51e4e50137995">mPaintCount</a>;
<a name="l00545"></a>00545 
<a name="l00546"></a>00546   <span class="comment">// Time stamp at which the current image was first painted.  It&#39;s up to the</span>
<a name="l00547"></a>00547   <span class="comment">// ImageContainer implementation to ensure accesses to this are threadsafe.</span>
<a name="l00548"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#ad79c1c997bbcf0b3523ef302c69b0469">00548</a>   <a class="code" href="../../d0/d76/classmozilla_1_1_time_stamp.html">TimeStamp</a> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#ad79c1c997bbcf0b3523ef302c69b0469">mPaintTime</a>;
<a name="l00549"></a>00549 
<a name="l00550"></a>00550   <span class="comment">// Denotes whether the previous image was painted.</span>
<a name="l00551"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#af9d70bdb78fd70eb0cf0de23bc20e5de">00551</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#af9d70bdb78fd70eb0cf0de23bc20e5de">mPreviousImagePainted</a>;
<a name="l00552"></a>00552 
<a name="l00553"></a>00553   <span class="comment">// This is the image factory used by this container, layer managers using</span>
<a name="l00554"></a>00554   <span class="comment">// this container can set an alternative image factory that will be used to</span>
<a name="l00555"></a>00555   <span class="comment">// create images for this container.</span>
<a name="l00556"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a611555dbae70431ed9cebb51c7d49888">00556</a>   <a class="code" href="../../d0/d01/classns_ref_ptr.html">nsRefPtr&lt;ImageFactory&gt;</a> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a611555dbae70431ed9cebb51c7d49888">mImageFactory</a>;
<a name="l00557"></a>00557 
<a name="l00558"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#ad0b324779d341272275517defc38a297">00558</a>   <a class="code" href="../../dc/d43/structns_int_size.html">gfxIntSize</a> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#ad0b324779d341272275517defc38a297">mScaleHint</a>;
<a name="l00559"></a>00559 
<a name="l00560"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a16d33f8fadd77fa9d6ad17686d98547f">00560</a>   <a class="code" href="../../d0/d01/classns_ref_ptr.html">nsRefPtr&lt;BufferRecycleBin&gt;</a> <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a16d33f8fadd77fa9d6ad17686d98547f">mRecycleBin</a>;
<a name="l00561"></a>00561 
<a name="l00562"></a>00562   <span class="comment">// This contains the remote image data for this container, if this is nullptr</span>
<a name="l00563"></a>00563   <span class="comment">// that means the container has no other process that may control its active</span>
<a name="l00564"></a>00564   <span class="comment">// image.</span>
<a name="l00565"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a8e22996db0ccf87b4ccb73a5c6e3016e">00565</a>   <a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html">RemoteImageData</a> *<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a8e22996db0ccf87b4ccb73a5c6e3016e">mRemoteData</a>;
<a name="l00566"></a>00566 
<a name="l00567"></a>00567   <span class="comment">// This cross-process mutex is used to synchronise access to mRemoteData.</span>
<a name="l00568"></a>00568   <span class="comment">// When this mutex is held, we will always be inside the mReentrantMonitor</span>
<a name="l00569"></a>00569   <span class="comment">// however the same is not true vice versa.</span>
<a name="l00570"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a82f862b74b8b32af295b90ea2e211d93">00570</a>   <a class="code" href="../../d8/d54/classmozilla_1_1_cross_process_mutex.html">CrossProcessMutex</a> *<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a82f862b74b8b32af295b90ea2e211d93">mRemoteDataMutex</a>;
<a name="l00571"></a>00571 
<a name="l00572"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a0a8e9c9851743abf8b53dab1372d5952">00572</a>   <a class="code" href="../../d3/d5e/classmozilla_1_1layers_1_1_composition_notify_sink.html">CompositionNotifySink</a> *<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a0a8e9c9851743abf8b53dab1372d5952">mCompositionNotifySink</a>;
<a name="l00573"></a>00573 
<a name="l00574"></a>00574   <span class="comment">// This member points to an ImageClient if this ImageContainer was</span>
<a name="l00575"></a>00575   <span class="comment">// sucessfully created with ENABLE_ASYNC, or points to null otherwise.</span>
<a name="l00576"></a>00576   <span class="comment">// &#39;unsuccessful&#39; in this case only means that the ImageClient could not</span>
<a name="l00577"></a>00577   <span class="comment">// be created, most likely because off-main-thread compositing is not enabled.</span>
<a name="l00578"></a>00578   <span class="comment">// In this case the ImageContainer is perfectly usable, but it will forward</span>
<a name="l00579"></a>00579   <span class="comment">// frames to the compositor through transactions in the main thread rather than</span>
<a name="l00580"></a>00580   <span class="comment">// asynchronusly using the ImageBridge IPDL protocol.</span>
<a name="l00581"></a><a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a44b8efba79802a0cdf76b4c657d6d4f6">00581</a>   <a class="code" href="../../d4/d2f/classmozilla_1_1layers_1_1_image_client.html">ImageClient</a>* <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a44b8efba79802a0cdf76b4c657d6d4f6">mImageClient</a>;
<a name="l00582"></a>00582 };
<a name="l00583"></a>00583 
<a name="l00584"></a><a class="code" href="../../db/d72/classmozilla_1_1layers_1_1_auto_lock_image.html">00584</a> <span class="keyword">class </span><a class="code" href="../../db/d72/classmozilla_1_1layers_1_1_auto_lock_image.html">AutoLockImage</a>
<a name="l00585"></a>00585 {
<a name="l00586"></a>00586 <span class="keyword">public</span>:
<a name="l00587"></a><a class="code" href="../../db/d72/classmozilla_1_1layers_1_1_auto_lock_image.html#aa206c95cc9d41b8de5bfdfb2fe01a5bc">00587</a>   <a class="code" href="../../db/d72/classmozilla_1_1layers_1_1_auto_lock_image.html#aa206c95cc9d41b8de5bfdfb2fe01a5bc">AutoLockImage</a>(<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html">ImageContainer</a> *aContainer) : mContainer(aContainer) { mImage = mContainer-&gt;<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#ae24c3ffa9b861205ba2d379601914e87">LockCurrentImage</a>(); }
<a name="l00588"></a><a class="code" href="../../db/d72/classmozilla_1_1layers_1_1_auto_lock_image.html#acc625bc14f2430d3d2b2e346ec8aa22e">00588</a>   <a class="code" href="../../db/d72/classmozilla_1_1layers_1_1_auto_lock_image.html#acc625bc14f2430d3d2b2e346ec8aa22e">AutoLockImage</a>(<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html">ImageContainer</a> *aContainer, <a class="code" href="../../d4/d14/classgfx_a_surface.html">gfxASurface</a> **aSurface) : mContainer(aContainer) {
<a name="l00589"></a>00589     *aSurface = mContainer-&gt;<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a96d0ac5801dcf58ebe6bd48c612edd62">LockCurrentAsSurface</a>(&amp;mSize, <a class="code" href="../../de/db2/ns_auto_ptr_8h.html#a3892f2732d861ecbf1e20826158db1b6">getter_AddRefs</a>(mImage)).get();
<a name="l00590"></a>00590   }
<a name="l00591"></a><a class="code" href="../../db/d72/classmozilla_1_1layers_1_1_auto_lock_image.html#ae25a557ed3d5d2b92767b6adb3f836f2">00591</a>   <a class="code" href="../../db/d72/classmozilla_1_1layers_1_1_auto_lock_image.html#ae25a557ed3d5d2b92767b6adb3f836f2">~AutoLockImage</a>() { <span class="keywordflow">if</span> (mContainer) { mContainer-&gt;<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a4e8887290b1690610a5cd478099d9d2b">UnlockCurrentImage</a>(); } }
<a name="l00592"></a>00592 
<a name="l00593"></a><a class="code" href="../../db/d72/classmozilla_1_1layers_1_1_auto_lock_image.html#a20912a137685599a891cfd559808526e">00593</a>   <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html">Image</a>* <a class="code" href="../../db/d72/classmozilla_1_1layers_1_1_auto_lock_image.html#a20912a137685599a891cfd559808526e">GetImage</a>() { <span class="keywordflow">return</span> mImage; }
<a name="l00594"></a><a class="code" href="../../db/d72/classmozilla_1_1layers_1_1_auto_lock_image.html#a6b94755ee3bb9ce5e456913d1c9781f3">00594</a>   <span class="keyword">const</span> <a class="code" href="../../dc/d43/structns_int_size.html">gfxIntSize</a> &amp;<a class="code" href="../../db/d72/classmozilla_1_1layers_1_1_auto_lock_image.html#a6b94755ee3bb9ce5e456913d1c9781f3">GetSize</a>() { <span class="keywordflow">return</span> mSize; }
<a name="l00595"></a>00595 
<a name="l00596"></a><a class="code" href="../../db/d72/classmozilla_1_1layers_1_1_auto_lock_image.html#ad3047808ca641b24e99268aa7dc2aa48">00596</a>   <span class="keywordtype">void</span> <a class="code" href="../../db/d72/classmozilla_1_1layers_1_1_auto_lock_image.html#ad3047808ca641b24e99268aa7dc2aa48">Unlock</a>() { 
<a name="l00597"></a>00597     <span class="keywordflow">if</span> (mContainer) {
<a name="l00598"></a>00598       mImage = <span class="keyword">nullptr</span>;
<a name="l00599"></a>00599       mContainer-&gt;<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a4e8887290b1690610a5cd478099d9d2b">UnlockCurrentImage</a>();
<a name="l00600"></a>00600       mContainer = <span class="keyword">nullptr</span>;
<a name="l00601"></a>00601     }
<a name="l00602"></a>00602   }
<a name="l00603"></a>00603 
<a name="l00609"></a><a class="code" href="../../db/d72/classmozilla_1_1layers_1_1_auto_lock_image.html#ae2970fc5b497e687b7efe346a361fd4f">00609</a>   <span class="keywordtype">void</span> <a class="code" href="../../db/d72/classmozilla_1_1layers_1_1_auto_lock_image.html#ae2970fc5b497e687b7efe346a361fd4f">Refresh</a>() {
<a name="l00610"></a>00610     <span class="keywordflow">if</span> (mContainer) {
<a name="l00611"></a>00611       mContainer-&gt;<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#a4e8887290b1690610a5cd478099d9d2b">UnlockCurrentImage</a>();
<a name="l00612"></a>00612       mImage = mContainer-&gt;<a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html#ae24c3ffa9b861205ba2d379601914e87">LockCurrentImage</a>();
<a name="l00613"></a>00613     }
<a name="l00614"></a>00614   }
<a name="l00615"></a>00615 
<a name="l00616"></a>00616 <span class="keyword">private</span>:
<a name="l00617"></a>00617   <a class="code" href="../../d0/d62/classmozilla_1_1layers_1_1_image_container.html">ImageContainer</a> *mContainer;
<a name="l00618"></a>00618   <a class="code" href="../../d0/d01/classns_ref_ptr.html">nsRefPtr&lt;Image&gt;</a> mImage;
<a name="l00619"></a>00619   <a class="code" href="../../dc/d43/structns_int_size.html">gfxIntSize</a> mSize;
<a name="l00620"></a>00620 };
<a name="l00621"></a>00621 
<a name="l00622"></a>00622 <span class="comment">/****** Image subtypes for the different formats ******/</span>
<a name="l00623"></a>00623 
<a name="l00658"></a><a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html">00658</a> <span class="keyword">class </span><a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html">PlanarYCbCrImage</a> : <span class="keyword">public</span> <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html">Image</a> {
<a name="l00659"></a>00659 <span class="keyword">public</span>:
<a name="l00660"></a><a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html">00660</a>   <span class="keyword">struct </span><a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html">Data</a> {
<a name="l00661"></a>00661     <span class="comment">// Luminance buffer</span>
<a name="l00662"></a><a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a06b551989b341ed33a440c970d71b934">00662</a>     uint8_t* <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a06b551989b341ed33a440c970d71b934">mYChannel</a>;
<a name="l00663"></a><a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a1b40504b0ef620e181557a7e983ebf5c">00663</a>     int32_t <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a1b40504b0ef620e181557a7e983ebf5c">mYStride</a>;
<a name="l00664"></a><a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#ab91934cbcd13f2e67704858368887b94">00664</a>     <a class="code" href="../../dc/d43/structns_int_size.html">gfxIntSize</a> <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#ab91934cbcd13f2e67704858368887b94">mYSize</a>;
<a name="l00665"></a><a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#aa76dbb5d67fb42437a622a8718a2fca5">00665</a>     int32_t <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#aa76dbb5d67fb42437a622a8718a2fca5">mYSkip</a>;
<a name="l00666"></a>00666     <span class="comment">// Chroma buffers</span>
<a name="l00667"></a><a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#adf6b1a50f96f3ed84eed4038c55a2b1d">00667</a>     uint8_t* <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#adf6b1a50f96f3ed84eed4038c55a2b1d">mCbChannel</a>;
<a name="l00668"></a><a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a21fca1afbbb18b4a2a1d28abdf6cafde">00668</a>     uint8_t* <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a21fca1afbbb18b4a2a1d28abdf6cafde">mCrChannel</a>;
<a name="l00669"></a><a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a56c03b1529af4c541640e2505ef15048">00669</a>     int32_t <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a56c03b1529af4c541640e2505ef15048">mCbCrStride</a>;
<a name="l00670"></a><a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#af2ec0d663aa357c2189dc1f7a02c85a3">00670</a>     <a class="code" href="../../dc/d43/structns_int_size.html">gfxIntSize</a> <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#af2ec0d663aa357c2189dc1f7a02c85a3">mCbCrSize</a>;
<a name="l00671"></a><a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a13cd79dbf80c5be21472c83e185926d2">00671</a>     int32_t <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a13cd79dbf80c5be21472c83e185926d2">mCbSkip</a>;
<a name="l00672"></a><a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a732883b058ab5eb0831e3f72e00d3861">00672</a>     int32_t <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a732883b058ab5eb0831e3f72e00d3861">mCrSkip</a>;
<a name="l00673"></a>00673     <span class="comment">// Picture region</span>
<a name="l00674"></a><a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a5a0a30a4355fbeb3070c044e5f5ff68f">00674</a>     uint32_t <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a5a0a30a4355fbeb3070c044e5f5ff68f">mPicX</a>;
<a name="l00675"></a><a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a3d83338cbc002c7675b1a0ae1e7c5f6f">00675</a>     uint32_t <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a3d83338cbc002c7675b1a0ae1e7c5f6f">mPicY</a>;
<a name="l00676"></a><a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a8f969f4fa322f632c33ab0844713f071">00676</a>     <a class="code" href="../../dc/d43/structns_int_size.html">gfxIntSize</a> <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a8f969f4fa322f632c33ab0844713f071">mPicSize</a>;
<a name="l00677"></a><a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#ae9c544ae2ebd75c2b13a3562f3fc144c">00677</a>     <a class="code" href="../../d2/d93/namespacemozilla.html#a1d1188921f04f0e0bdc3f409caa5c5e0">StereoMode</a> <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#ae9c544ae2ebd75c2b13a3562f3fc144c">mStereoMode</a>;
<a name="l00678"></a>00678 
<a name="l00679"></a><a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a84ba3d31d097929a939c0365dc17fcf1">00679</a>     <a class="code" href="../../d7/dc7/structns_int_rect.html">nsIntRect</a> <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a84ba3d31d097929a939c0365dc17fcf1">GetPictureRect</a>()<span class="keyword"> const </span>{
<a name="l00680"></a>00680       <span class="keywordflow">return</span> <a class="code" href="../../d5/d28/img_i_container_8idl.html#aac4feaada42a7f28dc29d53e7a774de9">nsIntRect</a>(<a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a5a0a30a4355fbeb3070c044e5f5ff68f">mPicX</a>, <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a3d83338cbc002c7675b1a0ae1e7c5f6f">mPicY</a>,
<a name="l00681"></a>00681                        <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a8f969f4fa322f632c33ab0844713f071">mPicSize</a>.<a class="code" href="../../d1/d12/structmozilla_1_1gfx_1_1_base_size.html#aef999537a5c865b71b259c84e08f6a3b">width</a>,
<a name="l00682"></a>00682                        <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a8f969f4fa322f632c33ab0844713f071">mPicSize</a>.<a class="code" href="../../d1/d12/structmozilla_1_1gfx_1_1_base_size.html#a28af29159f780489487a2130b10c12e4">height</a>);
<a name="l00683"></a>00683     }
<a name="l00684"></a>00684 
<a name="l00685"></a><a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a7b1be7be941adca3cb2819706c70115a">00685</a>     <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a7b1be7be941adca3cb2819706c70115a">Data</a>()
<a name="l00686"></a>00686       : <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a06b551989b341ed33a440c970d71b934">mYChannel</a>(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a0fd163987980515e24ce34fc3926206d">nullptr</a>), <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a1b40504b0ef620e181557a7e983ebf5c">mYStride</a>(0), <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#ab91934cbcd13f2e67704858368887b94">mYSize</a>(0, 0), <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#aa76dbb5d67fb42437a622a8718a2fca5">mYSkip</a>(0)
<a name="l00687"></a>00687       , <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#adf6b1a50f96f3ed84eed4038c55a2b1d">mCbChannel</a>(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a0fd163987980515e24ce34fc3926206d">nullptr</a>), <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a21fca1afbbb18b4a2a1d28abdf6cafde">mCrChannel</a>(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a0fd163987980515e24ce34fc3926206d">nullptr</a>)
<a name="l00688"></a>00688       , <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a56c03b1529af4c541640e2505ef15048">mCbCrStride</a>(0), <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#af2ec0d663aa357c2189dc1f7a02c85a3">mCbCrSize</a>(0, 0) , <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a13cd79dbf80c5be21472c83e185926d2">mCbSkip</a>(0), <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a732883b058ab5eb0831e3f72e00d3861">mCrSkip</a>(0)
<a name="l00689"></a>00689       , <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a5a0a30a4355fbeb3070c044e5f5ff68f">mPicX</a>(0), <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a3d83338cbc002c7675b1a0ae1e7c5f6f">mPicY</a>(0), <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#a8f969f4fa322f632c33ab0844713f071">mPicSize</a>(0, 0), <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html#ae9c544ae2ebd75c2b13a3562f3fc144c">mStereoMode</a>(<a class="code" href="../../d2/d93/namespacemozilla.html#a1d1188921f04f0e0bdc3f409caa5c5e0a75744f5bf47d316a556ea4e370010dcd">STEREO_MODE_MONO</a>)
<a name="l00690"></a>00690     {}
<a name="l00691"></a>00691   };
<a name="l00692"></a>00692 
<a name="l00693"></a>00693   <span class="keyword">enum</span> {
<a name="l00694"></a><a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a530db183a394f59e0a1e795010794937a8a191f1edbe831146b6d5e065073f97a">00694</a>     <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a530db183a394f59e0a1e795010794937a8a191f1edbe831146b6d5e065073f97a">MAX_DIMENSION</a> = 16384
<a name="l00695"></a>00695   };
<a name="l00696"></a>00696 
<a name="l00697"></a>00697   <span class="keyword">virtual</span> <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a420142317d6f772ef470af5ad068ef25">~PlanarYCbCrImage</a>();
<a name="l00698"></a>00698 
<a name="l00703"></a>00703   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a0337fa77f70ba655e4647924857af1a2">SetData</a>(<span class="keyword">const</span> Data&amp; <a class="code" href="../../d6/d1d/ns_x_p_c_o_m_strings_8h.html#a580e3d1c78551e30e0c97ab45dc8a3b5">aData</a>);
<a name="l00704"></a>00704 
<a name="l00712"></a>00712   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a28a3272c366c0ed03f93b4eb77072e75">SetDataNoCopy</a>(<span class="keyword">const</span> Data &amp;<a class="code" href="../../d6/d1d/ns_x_p_c_o_m_strings_8h.html#a580e3d1c78551e30e0c97ab45dc8a3b5">aData</a>);
<a name="l00713"></a>00713 
<a name="l00717"></a>00717   <span class="keyword">virtual</span> uint8_t* <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a58a943d8163cec9d27a318553c45d269">AllocateAndGetNewBuffer</a>(uint32_t aSize);
<a name="l00718"></a>00718 
<a name="l00724"></a><a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a6660942ad2cbd7c4170caafeb527ab8a">00724</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a6660942ad2cbd7c4170caafeb527ab8a">SetDelayedConversion</a>(<span class="keywordtype">bool</span> aDelayed) { }
<a name="l00725"></a>00725 
<a name="l00729"></a><a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a07b23732f9f7dcbbdf30bd0f3050a09a">00729</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html">Data</a>* <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a07b23732f9f7dcbbdf30bd0f3050a09a">GetData</a>() { <span class="keywordflow">return</span> &amp;<a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a0f3660660118641b87fc4fa037f304ba">mData</a>; }
<a name="l00730"></a>00730 
<a name="l00734"></a><a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#aa564ac9297094d71522ea6478c665b34">00734</a>   <span class="keyword">virtual</span> uint32_t <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#aa564ac9297094d71522ea6478c665b34">GetDataSize</a>() { <span class="keywordflow">return</span> <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#ac9786898539e1f7228d07b61b942d56c">mBufferSize</a>; }
<a name="l00735"></a>00735 
<a name="l00736"></a><a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#ac78ba028e9800a5dde5dc29f01c0d5c7">00736</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#ac78ba028e9800a5dde5dc29f01c0d5c7">IsValid</a>() { <span class="keywordflow">return</span> !!<a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#ac9786898539e1f7228d07b61b942d56c">mBufferSize</a>; }
<a name="l00737"></a>00737 
<a name="l00738"></a><a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#aac5914d0bbd70512d28294e8e53a4bd1">00738</a>   <span class="keyword">virtual</span> <a class="code" href="../../dc/d43/structns_int_size.html">gfxIntSize</a> <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#aac5914d0bbd70512d28294e8e53a4bd1">GetSize</a>() { <span class="keywordflow">return</span> <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a425102dce0e8e215fa2972bf05261f2c">mSize</a>; }
<a name="l00739"></a>00739 
<a name="l00740"></a>00740   <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a93971abde0f1736bb5c326b7f8183d5d">PlanarYCbCrImage</a>(<a class="code" href="../../d0/d58/classmozilla_1_1layers_1_1_buffer_recycle_bin.html">BufferRecycleBin</a> *aRecycleBin);
<a name="l00741"></a>00741 
<a name="l00742"></a><a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a807bd8b899a449260fdf662911339433">00742</a>   <span class="keyword">virtual</span> <a class="code" href="../../d6/d62/classmozilla_1_1layers_1_1_shared_planar_y_cb_cr_image.html">SharedPlanarYCbCrImage</a> *<a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a807bd8b899a449260fdf662911339433">AsSharedPlanarYCbCrImage</a>() { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }
<a name="l00743"></a><a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a5f4d68d0bdbc8d5a7bef7f7ab9f5d043">00743</a>   <span class="keyword">virtual</span> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_shared_planar_y_cb_cr_image.html">DeprecatedSharedPlanarYCbCrImage</a> *<a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a5f4d68d0bdbc8d5a7bef7f7ab9f5d043">AsDeprecatedSharedPlanarYCbCrImage</a>() { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }
<a name="l00744"></a>00744 
<a name="l00745"></a>00745 <span class="keyword">protected</span>:
<a name="l00751"></a>00751   <span class="keywordtype">void</span> <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#af047e80ce4fd64f52b73d498c0acb5de">CopyData</a>(<span class="keyword">const</span> Data&amp; <a class="code" href="../../d6/d1d/ns_x_p_c_o_m_strings_8h.html#a580e3d1c78551e30e0c97ab45dc8a3b5">aData</a>);
<a name="l00752"></a>00752 
<a name="l00758"></a>00758   <span class="keyword">virtual</span> uint8_t* <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#aa7ffb8aeee51eb5c5bab364d78bb35b2">AllocateBuffer</a>(uint32_t aSize);
<a name="l00759"></a>00759 
<a name="l00760"></a>00760   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;gfxASurface&gt;</a> <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a7c7c8ebb9927d5d3263e644ad59ec7a1">GetAsSurface</a>();
<a name="l00761"></a>00761 
<a name="l00762"></a><a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#abb9fa686e7c130a6744a8f06246a102e">00762</a>   <span class="keywordtype">void</span> <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#abb9fa686e7c130a6744a8f06246a102e">SetOffscreenFormat</a>(<a class="code" href="../../d4/d14/classgfx_a_surface.html#aaa01195999887451d4ddc6107c95893e">gfxASurface::gfxImageFormat</a> aFormat) { <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a894065401eb4cc46fb3ea66ff7fdbffa">mOffscreenFormat</a> = aFormat; }
<a name="l00763"></a>00763   <a class="code" href="../../d4/d14/classgfx_a_surface.html#aaa01195999887451d4ddc6107c95893e">gfxASurface::gfxImageFormat</a> <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a62257291884d1c34e1a391bb13f5b0d6">GetOffscreenFormat</a>();
<a name="l00764"></a>00764 
<a name="l00765"></a><a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#ada75fa05a9db27d59792ddeca69e3cf2">00765</a>   <a class="code" href="../../d1/ddd/classns_auto_array_ptr.html">nsAutoArrayPtr&lt;uint8_t&gt;</a> <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#ada75fa05a9db27d59792ddeca69e3cf2">mBuffer</a>;
<a name="l00766"></a><a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#ac9786898539e1f7228d07b61b942d56c">00766</a>   uint32_t <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#ac9786898539e1f7228d07b61b942d56c">mBufferSize</a>;
<a name="l00767"></a><a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a0f3660660118641b87fc4fa037f304ba">00767</a>   <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html">Data</a> <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a0f3660660118641b87fc4fa037f304ba">mData</a>;
<a name="l00768"></a><a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a425102dce0e8e215fa2972bf05261f2c">00768</a>   <a class="code" href="../../dc/d43/structns_int_size.html">gfxIntSize</a> <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a425102dce0e8e215fa2972bf05261f2c">mSize</a>;
<a name="l00769"></a><a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a894065401eb4cc46fb3ea66ff7fdbffa">00769</a>   <a class="code" href="../../d4/d14/classgfx_a_surface.html#aaa01195999887451d4ddc6107c95893e">gfxASurface::gfxImageFormat</a> <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a894065401eb4cc46fb3ea66ff7fdbffa">mOffscreenFormat</a>;
<a name="l00770"></a><a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a712608de320e303534c5a2e7334c5ed4">00770</a>   <a class="code" href="../../d7/dcb/classns_counted_ref.html">nsCountedRef&lt;nsMainThreadSurfaceRef&gt;</a> <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#a712608de320e303534c5a2e7334c5ed4">mSurface</a>;
<a name="l00771"></a><a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#aa2160ec8e9d5dd3c64c49333ba3d674a">00771</a>   <a class="code" href="../../d0/d01/classns_ref_ptr.html">nsRefPtr&lt;BufferRecycleBin&gt;</a> <a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html#aa2160ec8e9d5dd3c64c49333ba3d674a">mRecycleBin</a>;
<a name="l00772"></a>00772 };
<a name="l00773"></a>00773 
<a name="l00779"></a><a class="code" href="../../d6/dc8/classmozilla_1_1layers_1_1_cairo_image.html">00779</a> <span class="keyword">class </span><a class="code" href="../../d6/dc8/classmozilla_1_1layers_1_1_cairo_image.html">CairoImage</a> : <span class="keyword">public</span> <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html">Image</a> {
<a name="l00780"></a>00780 <span class="keyword">public</span>:
<a name="l00781"></a><a class="code" href="../../d5/d25/structmozilla_1_1layers_1_1_cairo_image_1_1_data.html">00781</a>   <span class="keyword">struct </span><a class="code" href="../../d5/d25/structmozilla_1_1layers_1_1_cairo_image_1_1_data.html">Data</a> {
<a name="l00782"></a><a class="code" href="../../d5/d25/structmozilla_1_1layers_1_1_cairo_image_1_1_data.html#a90024ea806cf91217513450c65820925">00782</a>     <a class="code" href="../../d4/d14/classgfx_a_surface.html">gfxASurface</a>* <a class="code" href="../../d5/d25/structmozilla_1_1layers_1_1_cairo_image_1_1_data.html#a90024ea806cf91217513450c65820925">mSurface</a>;
<a name="l00783"></a><a class="code" href="../../d5/d25/structmozilla_1_1layers_1_1_cairo_image_1_1_data.html#a59617c80b6c30719715427c62f38ef28">00783</a>     <a class="code" href="../../dc/d43/structns_int_size.html">gfxIntSize</a> <a class="code" href="../../d5/d25/structmozilla_1_1layers_1_1_cairo_image_1_1_data.html#a59617c80b6c30719715427c62f38ef28">mSize</a>;
<a name="l00784"></a>00784   };
<a name="l00785"></a>00785 
<a name="l00791"></a><a class="code" href="../../d6/dc8/classmozilla_1_1layers_1_1_cairo_image.html#ad5bd02eb59d7535941264e2cc81fcd0c">00791</a>   <span class="keywordtype">void</span> <a class="code" href="../../d6/dc8/classmozilla_1_1layers_1_1_cairo_image.html#ad5bd02eb59d7535941264e2cc81fcd0c">SetData</a>(<span class="keyword">const</span> <a class="code" href="../../d5/d25/structmozilla_1_1layers_1_1_cairo_image_1_1_data.html">Data</a>&amp; <a class="code" href="../../d6/d1d/ns_x_p_c_o_m_strings_8h.html#a580e3d1c78551e30e0c97ab45dc8a3b5">aData</a>)
<a name="l00792"></a>00792   {
<a name="l00793"></a>00793     <a class="code" href="../../d6/dc8/classmozilla_1_1layers_1_1_cairo_image.html#a6ec0cb13fa9be3f11ac1ce678a1fa20e">mSurface</a> = aData.<a class="code" href="../../d5/d25/structmozilla_1_1layers_1_1_cairo_image_1_1_data.html#a90024ea806cf91217513450c65820925">mSurface</a>;
<a name="l00794"></a>00794     <a class="code" href="../../d6/dc8/classmozilla_1_1layers_1_1_cairo_image.html#afe790194a1a468206b6e23cf84807d06">mSize</a> = aData.<a class="code" href="../../d5/d25/structmozilla_1_1layers_1_1_cairo_image_1_1_data.html#a59617c80b6c30719715427c62f38ef28">mSize</a>;
<a name="l00795"></a>00795   }
<a name="l00796"></a>00796 
<a name="l00797"></a>00797 
<a name="l00798"></a><a class="code" href="../../d6/dc8/classmozilla_1_1layers_1_1_cairo_image.html#add91f218957c0157da20c5810c7c113f">00798</a>   <span class="keyword">virtual</span> <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;gfxASurface&gt;</a> <a class="code" href="../../d6/dc8/classmozilla_1_1layers_1_1_cairo_image.html#add91f218957c0157da20c5810c7c113f">GetAsSurface</a>()
<a name="l00799"></a>00799   {
<a name="l00800"></a>00800     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(<a class="code" href="../../d6/d6b/ns_thread_utils_8h.html#a74b704f371917f1aa50c77cc59f5abba">NS_IsMainThread</a>(), <span class="stringliteral">&quot;Must be main thread&quot;</span>);
<a name="l00801"></a>00801     <a class="code" href="../../d0/d01/classns_ref_ptr.html">nsRefPtr&lt;gfxASurface&gt;</a> surface = <a class="code" href="../../d6/dc8/classmozilla_1_1layers_1_1_cairo_image.html#a6ec0cb13fa9be3f11ac1ce678a1fa20e">mSurface</a>.<a class="code" href="../../d2/de0/classns_simple_ref.html#ad1d48762d849666dd1d5beabeab3bbea">get</a>();
<a name="l00802"></a>00802     <span class="keywordflow">return</span> surface.<a class="code" href="../../d0/d01/classns_ref_ptr.html#add7340ba81d74a4e3d639082d721f670">forget</a>();
<a name="l00803"></a>00803   }
<a name="l00804"></a>00804 
<a name="l00805"></a><a class="code" href="../../d6/dc8/classmozilla_1_1layers_1_1_cairo_image.html#aeed2aa86d8303d0e0f73529326ea94d2">00805</a>   <a class="code" href="../../dc/d43/structns_int_size.html">gfxIntSize</a> <a class="code" href="../../d6/dc8/classmozilla_1_1layers_1_1_cairo_image.html#aeed2aa86d8303d0e0f73529326ea94d2">GetSize</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d6/dc8/classmozilla_1_1layers_1_1_cairo_image.html#afe790194a1a468206b6e23cf84807d06">mSize</a>; }
<a name="l00806"></a>00806 
<a name="l00807"></a><a class="code" href="../../d6/dc8/classmozilla_1_1layers_1_1_cairo_image.html#a4132f3ddb0a8ab21a5d81f076de36d5b">00807</a>   <a class="code" href="../../d6/dc8/classmozilla_1_1layers_1_1_cairo_image.html#a4132f3ddb0a8ab21a5d81f076de36d5b">CairoImage</a>() : <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html">Image</a>(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a0fd163987980515e24ce34fc3926206d">nullptr</a>, <a class="code" href="../../d2/d93/namespacemozilla.html#ae90905cbb321fa33932522c00c1499e1a97d62f0dff8f1696025fac756b27f3ed">CAIRO_SURFACE</a>) {}
<a name="l00808"></a>00808 
<a name="l00809"></a><a class="code" href="../../d6/dc8/classmozilla_1_1layers_1_1_cairo_image.html#a6ec0cb13fa9be3f11ac1ce678a1fa20e">00809</a>   <a class="code" href="../../d7/dcb/classns_counted_ref.html">nsCountedRef&lt;nsMainThreadSurfaceRef&gt;</a> <a class="code" href="../../d6/dc8/classmozilla_1_1layers_1_1_cairo_image.html#a6ec0cb13fa9be3f11ac1ce678a1fa20e">mSurface</a>;
<a name="l00810"></a><a class="code" href="../../d6/dc8/classmozilla_1_1layers_1_1_cairo_image.html#afe790194a1a468206b6e23cf84807d06">00810</a>   <a class="code" href="../../dc/d43/structns_int_size.html">gfxIntSize</a> <a class="code" href="../../d6/dc8/classmozilla_1_1layers_1_1_cairo_image.html#afe790194a1a468206b6e23cf84807d06">mSize</a>;
<a name="l00811"></a>00811 };
<a name="l00812"></a>00812 
<a name="l00813"></a><a class="code" href="../../d9/dcb/classmozilla_1_1layers_1_1_remote_bitmap_image.html">00813</a> <span class="keyword">class </span><a class="code" href="../../d9/dcb/classmozilla_1_1layers_1_1_remote_bitmap_image.html">RemoteBitmapImage</a> : <span class="keyword">public</span> <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html">Image</a> {
<a name="l00814"></a>00814 <span class="keyword">public</span>:
<a name="l00815"></a><a class="code" href="../../d9/dcb/classmozilla_1_1layers_1_1_remote_bitmap_image.html#ab76f443e3dd11474949aed56d822b761">00815</a>   <a class="code" href="../../d9/dcb/classmozilla_1_1layers_1_1_remote_bitmap_image.html#ab76f443e3dd11474949aed56d822b761">RemoteBitmapImage</a>() : <a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html">Image</a>(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a0fd163987980515e24ce34fc3926206d">nullptr</a>, <a class="code" href="../../d2/d93/namespacemozilla.html#ae90905cbb321fa33932522c00c1499e1a495204b5b9c9bdb70deddc7bb823e489">REMOTE_IMAGE_BITMAP</a>) {}
<a name="l00816"></a>00816 
<a name="l00817"></a>00817   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;gfxASurface&gt;</a> <a class="code" href="../../d9/dcb/classmozilla_1_1layers_1_1_remote_bitmap_image.html#ad9fa8c9ead175be4794801a11ff9d442">GetAsSurface</a>();
<a name="l00818"></a>00818 
<a name="l00819"></a><a class="code" href="../../d9/dcb/classmozilla_1_1layers_1_1_remote_bitmap_image.html#ab0c423aacba60b5c381be89b213a4cae">00819</a>   <a class="code" href="../../dc/d43/structns_int_size.html">gfxIntSize</a> <a class="code" href="../../d9/dcb/classmozilla_1_1layers_1_1_remote_bitmap_image.html#ab0c423aacba60b5c381be89b213a4cae">GetSize</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d9/dcb/classmozilla_1_1layers_1_1_remote_bitmap_image.html#a75a5b82172d76c39f1c8c57843dc60d2">mSize</a>; }
<a name="l00820"></a>00820 
<a name="l00821"></a><a class="code" href="../../d9/dcb/classmozilla_1_1layers_1_1_remote_bitmap_image.html#a544b4d14613029711e56a3914b55efc9">00821</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="../../d9/dcb/classmozilla_1_1layers_1_1_remote_bitmap_image.html#a544b4d14613029711e56a3914b55efc9">mData</a>;
<a name="l00822"></a><a class="code" href="../../d9/dcb/classmozilla_1_1layers_1_1_remote_bitmap_image.html#aeea39c00524d8874ec6885c5007a2151">00822</a>   <span class="keywordtype">int</span> <a class="code" href="../../d9/dcb/classmozilla_1_1layers_1_1_remote_bitmap_image.html#aeea39c00524d8874ec6885c5007a2151">mStride</a>;
<a name="l00823"></a><a class="code" href="../../d9/dcb/classmozilla_1_1layers_1_1_remote_bitmap_image.html#a75a5b82172d76c39f1c8c57843dc60d2">00823</a>   <a class="code" href="../../dc/d43/structns_int_size.html">gfxIntSize</a> <a class="code" href="../../d9/dcb/classmozilla_1_1layers_1_1_remote_bitmap_image.html#a75a5b82172d76c39f1c8c57843dc60d2">mSize</a>;
<a name="l00824"></a><a class="code" href="../../d9/dcb/classmozilla_1_1layers_1_1_remote_bitmap_image.html#ab729aaa712e470e47a0a4415a26b3eb6">00824</a>   <a class="code" href="../../d8/dcd/structmozilla_1_1layers_1_1_remote_image_data.html#a72a22bf7ca61d59abebd76e4ae79410e">RemoteImageData::Format</a> <a class="code" href="../../d9/dcb/classmozilla_1_1layers_1_1_remote_bitmap_image.html#ab729aaa712e470e47a0a4415a26b3eb6">mFormat</a>;
<a name="l00825"></a>00825 };
<a name="l00826"></a>00826 
<a name="l00827"></a>00827 } <span class="comment">//namespace</span>
<a name="l00828"></a>00828 } <span class="comment">//namespace</span>
<a name="l00829"></a>00829 
<a name="l00830"></a>00830 <span class="preprocessor">#endif</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../db/da0/_image_container_8h.html">ImageContainer.h</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 00:52:25に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
