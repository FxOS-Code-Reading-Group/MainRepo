<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: TextureHost.h ソースファイル</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li class="current"><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>ファイル一覧</span></a></li>
      <li><a href="../../globals.html"><span>グローバル</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d5/d0b/_texture_host_8h.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">TextureHost.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d5/d0b/_texture_host_8h.html">説明を見る。</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* -*- Mode: C++; tab-width: 20; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a name="l00002"></a>00002 <span class="comment">* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a name="l00003"></a>00003 <span class="comment">* License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a name="l00004"></a>00004 <span class="comment">* file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="preprocessor">#ifndef MOZILLA_GFX_TEXTUREHOST_H</span>
<a name="l00007"></a>00007 <span class="preprocessor"></span><span class="preprocessor">#define MOZILLA_GFX_TEXTUREHOST_H</span>
<a name="l00008"></a>00008 <span class="preprocessor"></span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &quot;<a class="code" href="../../d3/d16/_layers_types_8h.html">mozilla/layers/LayersTypes.h</a>&quot;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;<a class="code" href="../../d1/dbb/ns_rect_8h.html">nsRect.h</a>&quot;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &quot;<a class="code" href="../../db/ded/ns_region_8h.html">nsRegion.h</a>&quot;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &quot;<a class="code" href="../../d3/d27/_rect_8h.html">mozilla/gfx/Rect.h</a>&quot;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &quot;<a class="code" href="../../d3/d4b/_compositor_types_8h.html">mozilla/layers/CompositorTypes.h</a>&quot;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &quot;<a class="code" href="../../de/db2/ns_auto_ptr_8h.html">nsAutoPtr.h</a>&quot;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &quot;<a class="code" href="../../da/d78/_ref_ptr_8h.html">mozilla/RefPtr.h</a>&quot;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &quot;<a class="code" href="../../db/d23/_i_surface_allocator_8h.html">mozilla/layers/ISurfaceAllocator.h</a>&quot;</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="keyword">class </span><a class="code" href="../../dd/d78/classgfx_reusable_surface_wrapper.html">gfxReusableSurfaceWrapper</a>;
<a name="l00019"></a>00019 <span class="keyword">class </span><a class="code" href="../../db/d54/classgfx_image_surface.html">gfxImageSurface</a>;
<a name="l00020"></a>00020 
<a name="l00021"></a>00021 <span class="keyword">namespace </span>mozilla {
<a name="l00022"></a>00022 <span class="keyword">namespace </span>gfx {
<a name="l00023"></a>00023 <span class="keyword">class </span>DataSourceSurface;
<a name="l00024"></a>00024 }
<a name="l00025"></a>00025 }
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="keyword">namespace </span>mozilla {
<a name="l00028"></a>00028 <span class="keyword">namespace </span>layers {
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="keyword">class </span>Compositor;
<a name="l00031"></a>00031 <span class="keyword">class </span>SurfaceDescriptor;
<a name="l00032"></a>00032 <span class="keyword">class </span>ISurfaceAllocator;
<a name="l00033"></a>00033 <span class="keyword">class </span>TextureSourceOGL;
<a name="l00034"></a>00034 <span class="keyword">class </span>TextureSourceD3D9;
<a name="l00035"></a>00035 <span class="keyword">class </span>TextureSourceD3D11;
<a name="l00036"></a>00036 <span class="keyword">class </span>TextureSourceBasic;
<a name="l00037"></a>00037 <span class="keyword">class </span>TextureParent;
<a name="l00038"></a>00038 <span class="keyword">class </span>DataTextureSource;
<a name="l00039"></a>00039 
<a name="l00048"></a><a class="code" href="../../dd/dc9/classmozilla_1_1layers_1_1_tile_iterator.html">00048</a> <span class="keyword">class </span><a class="code" href="../../dd/dc9/classmozilla_1_1layers_1_1_tile_iterator.html">TileIterator</a>
<a name="l00049"></a>00049 {
<a name="l00050"></a>00050 <span class="keyword">public</span>:
<a name="l00051"></a>00051   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dc9/classmozilla_1_1layers_1_1_tile_iterator.html#a3b1956aae3bd43915c6d25f19a31c422">BeginTileIteration</a>() = 0;
<a name="l00052"></a><a class="code" href="../../dd/dc9/classmozilla_1_1layers_1_1_tile_iterator.html#a5fc4b430819a9bf7bbad4127c443df48">00052</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dc9/classmozilla_1_1layers_1_1_tile_iterator.html#a5fc4b430819a9bf7bbad4127c443df48">EndTileIteration</a>() {};
<a name="l00053"></a>00053   <span class="keyword">virtual</span> <a class="code" href="../../d7/dc7/structns_int_rect.html">nsIntRect</a> <a class="code" href="../../dd/dc9/classmozilla_1_1layers_1_1_tile_iterator.html#ae50863546e6e6a85b14ad6f65694bf70">GetTileRect</a>() = 0;
<a name="l00054"></a>00054   <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> <a class="code" href="../../dd/dc9/classmozilla_1_1layers_1_1_tile_iterator.html#a806f58a09dbfd05fb1d5b12de53fdd18">GetTileCount</a>() = 0;
<a name="l00055"></a>00055   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../dd/dc9/classmozilla_1_1layers_1_1_tile_iterator.html#a3b1c532fbc3b0b518b6e6ba1b10e5075">NextTile</a>() = 0;
<a name="l00056"></a>00056 };
<a name="l00057"></a>00057 
<a name="l00067"></a><a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html">00067</a> <span class="keyword">class </span><a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html">TextureSource</a> : <span class="keyword">public</span> <a class="code" href="../../d2/de4/classmozilla_1_1_ref_counted.html">RefCounted</a>&lt;TextureSource&gt;
<a name="l00068"></a>00068 {
<a name="l00069"></a>00069 <span class="keyword">public</span>:
<a name="l00070"></a><a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html#ad7e328f6a11104253b7481b11958880d">00070</a>   <a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html#ad7e328f6a11104253b7481b11958880d">TextureSource</a>()
<a name="l00071"></a>00071   {
<a name="l00072"></a>00072     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#aa7716d29a6749d766b19b8b880b448f1">MOZ_COUNT_CTOR</a>(<a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html">TextureSource</a>);
<a name="l00073"></a>00073   }
<a name="l00074"></a><a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html#a96a3a1ea66fbb42a3a383732100a0f12">00074</a>   <span class="keyword">virtual</span> <a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html#a96a3a1ea66fbb42a3a383732100a0f12">~TextureSource</a>()
<a name="l00075"></a>00075   {
<a name="l00076"></a>00076     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#a8a91532bfafbc5b73fad1b4127faf725">MOZ_COUNT_DTOR</a>(<a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html">TextureSource</a>);
<a name="l00077"></a>00077   }
<a name="l00078"></a>00078 
<a name="l00083"></a>00083   <span class="keyword">virtual</span> <a class="code" href="../../d8/d6f/structmozilla_1_1gfx_1_1_int_size_typed.html">gfx::IntSize</a> <a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html#a119dcf9867cd1b5ff8b2a6fe50258e39">GetSize</a>() <span class="keyword">const</span> = 0;
<a name="l00084"></a>00084 
<a name="l00088"></a><a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html#a2afffa08a1e6f78d7b9ca2cdb31f40f0">00088</a>   <span class="keyword">virtual</span> <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a8ad07eb68c5f5eab704c5a0934a5331f">gfx::SurfaceFormat</a> <a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html#a2afffa08a1e6f78d7b9ca2cdb31f40f0">GetFormat</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a8ad07eb68c5f5eab704c5a0934a5331faba399d0b6d9055a69bff68970155b31c">gfx::FORMAT_UNKNOWN</a>; }
<a name="l00089"></a>00089 
<a name="l00093"></a><a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html#a49b43b403e426207e4b790b099b50890">00093</a>   <span class="keyword">virtual</span> <a class="code" href="../../d1/db2/classmozilla_1_1layers_1_1_texture_source_o_g_l.html">TextureSourceOGL</a>* <a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html#a49b43b403e426207e4b790b099b50890">AsSourceOGL</a>() { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }
<a name="l00094"></a><a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html#a88d57f9ea8bdc69d27872255a7a6cdcd">00094</a>   <span class="keyword">virtual</span> TextureSourceD3D9* <a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html#a88d57f9ea8bdc69d27872255a7a6cdcd">AsSourceD3D9</a>() { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }
<a name="l00095"></a><a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html#afc5d5f1250e1cd053b5c28dde68e8fdd">00095</a>   <span class="keyword">virtual</span> TextureSourceD3D11* <a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html#afc5d5f1250e1cd053b5c28dde68e8fdd">AsSourceD3D11</a>() { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }
<a name="l00096"></a><a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html#a8861606ac890d8de4279d251cd67ce6b">00096</a>   <span class="keyword">virtual</span> TextureSourceBasic* <a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html#a8861606ac890d8de4279d251cd67ce6b">AsSourceBasic</a>() { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }
<a name="l00097"></a>00097 
<a name="l00101"></a><a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html#a0e09218c85756e5db1ebd457d0638592">00101</a>   <span class="keyword">virtual</span> <a class="code" href="../../df/d13/classmozilla_1_1layers_1_1_data_texture_source.html">DataTextureSource</a>* <a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html#a0e09218c85756e5db1ebd457d0638592">AsDataTextureSource</a>() { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }
<a name="l00102"></a>00102 
<a name="l00107"></a><a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html#a749e71b04164794dc6ac49461b3b63cd">00107</a>   <span class="keyword">virtual</span> <a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html">TextureSource</a>* <a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html#a749e71b04164794dc6ac49461b3b63cd">GetSubSource</a>(<span class="keywordtype">int</span> <a class="code" href="../../d2/d7d/jsapi_8h.html#aafd95f8c7a99b9189ede7cdf0871ebe8">index</a>) { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }
<a name="l00108"></a>00108 
<a name="l00113"></a><a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html#a68fcd7e823d9aa8725562bc6acb7b786">00113</a>   <span class="keyword">virtual</span> <a class="code" href="../../dd/dc9/classmozilla_1_1layers_1_1_tile_iterator.html">TileIterator</a>* <a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html#a68fcd7e823d9aa8725562bc6acb7b786">AsTileIterator</a>() { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 <span class="preprocessor">#ifdef MOZ_LAYERS_HAVE_LOG</span>
<a name="l00116"></a>00116 <span class="preprocessor"></span>  <span class="keyword">virtual</span> <span class="keywordtype">void</span> PrintInfo(nsACString&amp; aTo, <span class="keyword">const</span> <span class="keywordtype">char</span>* aPrefix);
<a name="l00117"></a>00117 <span class="preprocessor">#endif</span>
<a name="l00118"></a>00118 <span class="preprocessor"></span>};
<a name="l00119"></a>00119 
<a name="l00120"></a>00120 
<a name="l00125"></a><a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html">00125</a> <span class="keyword">class </span><a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html">NewTextureSource</a> : <span class="keyword">public</span> <a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html">TextureSource</a>
<a name="l00126"></a>00126 {
<a name="l00127"></a>00127 <span class="keyword">public</span>:
<a name="l00128"></a><a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html#a445fc7430e8ca087745a57b2a1cc9827">00128</a>   <a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html#a445fc7430e8ca087745a57b2a1cc9827">NewTextureSource</a>()
<a name="l00129"></a>00129   {
<a name="l00130"></a>00130     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#aa7716d29a6749d766b19b8b880b448f1">MOZ_COUNT_CTOR</a>(<a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html">NewTextureSource</a>);
<a name="l00131"></a>00131   }
<a name="l00132"></a><a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html#ad49dbcda4ae1403d04156a3eebe20ccb">00132</a>   <span class="keyword">virtual</span> <a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html#ad49dbcda4ae1403d04156a3eebe20ccb">~NewTextureSource</a>()
<a name="l00133"></a>00133   {
<a name="l00134"></a>00134     <a class="code" href="../../dc/d1c/ns_trace_refcnt_8h.html#a8a91532bfafbc5b73fad1b4127faf725">MOZ_COUNT_DTOR</a>(<a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html">NewTextureSource</a>);
<a name="l00135"></a>00135   }
<a name="l00136"></a>00136 
<a name="l00141"></a>00141   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html#abe9d5bf0ef907417bd2fdf07f93adbfb">DeallocateDeviceData</a>() = 0;
<a name="l00142"></a>00142 
<a name="l00143"></a><a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html#a7b6c0c8f6f0489ae0e2c9eb8a2ea8810">00143</a>   <span class="keywordtype">void</span> <a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html#a7b6c0c8f6f0489ae0e2c9eb8a2ea8810">SetNextSibling</a>(<a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html">NewTextureSource</a>* aTexture)
<a name="l00144"></a>00144   {
<a name="l00145"></a>00145     <a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html#a992e1d3354171998948fcc36547d6603">mNextSibling</a> = aTexture;
<a name="l00146"></a>00146   }
<a name="l00147"></a>00147 
<a name="l00148"></a><a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html#a8df0a6a7e63e801df59cb5db3332f4b0">00148</a>   <a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html">NewTextureSource</a>* <a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html#a8df0a6a7e63e801df59cb5db3332f4b0">GetNextSibling</a>()<span class="keyword"> const</span>
<a name="l00149"></a>00149 <span class="keyword">  </span>{
<a name="l00150"></a>00150     <span class="keywordflow">return</span> <a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html#a992e1d3354171998948fcc36547d6603">mNextSibling</a>;
<a name="l00151"></a>00151   }
<a name="l00152"></a>00152 
<a name="l00153"></a>00153   <span class="comment">// temporary adapter to use the same SubSource API as the old TextureSource</span>
<a name="l00154"></a><a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html#a7ff714d9c04a9aa2e5b866b75799753e">00154</a>   <span class="keyword">virtual</span> <a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html">TextureSource</a>* <a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html#a7ff714d9c04a9aa2e5b866b75799753e">GetSubSource</a>(<span class="keywordtype">int</span> <a class="code" href="../../d2/d7d/jsapi_8h.html#aafd95f8c7a99b9189ede7cdf0871ebe8">index</a>) MOZ_OVERRIDE
<a name="l00155"></a>00155   {
<a name="l00156"></a>00156     <span class="keywordflow">switch</span> (<a class="code" href="../../d2/d7d/jsapi_8h.html#aafd95f8c7a99b9189ede7cdf0871ebe8">index</a>) {
<a name="l00157"></a>00157       <span class="keywordflow">case</span> 0: <span class="keywordflow">return</span> <span class="keyword">this</span>;
<a name="l00158"></a>00158       <span class="keywordflow">case</span> 1: <span class="keywordflow">return</span> <a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html#a8df0a6a7e63e801df59cb5db3332f4b0">GetNextSibling</a>();
<a name="l00159"></a>00159       <span class="keywordflow">case</span> 2: <span class="keywordflow">return</span> <a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html#a8df0a6a7e63e801df59cb5db3332f4b0">GetNextSibling</a>() ? <a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html#a8df0a6a7e63e801df59cb5db3332f4b0">GetNextSibling</a>()-&gt;<a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html#a8df0a6a7e63e801df59cb5db3332f4b0">GetNextSibling</a>() : <span class="keyword">nullptr</span>;
<a name="l00160"></a>00160     }
<a name="l00161"></a>00161     <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;
<a name="l00162"></a>00162   }
<a name="l00163"></a>00163 
<a name="l00164"></a>00164 <span class="keyword">protected</span>:
<a name="l00165"></a><a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html#a992e1d3354171998948fcc36547d6603">00165</a>   <a class="code" href="../../d9/dc3/classmozilla_1_1_ref_ptr.html">RefPtr&lt;NewTextureSource&gt;</a> <a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html#a992e1d3354171998948fcc36547d6603">mNextSibling</a>;
<a name="l00166"></a>00166 };
<a name="l00167"></a>00167 
<a name="l00173"></a><a class="code" href="../../df/d13/classmozilla_1_1layers_1_1_data_texture_source.html">00173</a> <span class="keyword">class </span><a class="code" href="../../df/d13/classmozilla_1_1layers_1_1_data_texture_source.html">DataTextureSource</a> : <span class="keyword">public</span> <a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html">NewTextureSource</a>
<a name="l00174"></a>00174 {
<a name="l00175"></a>00175 <span class="keyword">public</span>:
<a name="l00176"></a><a class="code" href="../../df/d13/classmozilla_1_1layers_1_1_data_texture_source.html#aa0c2927570c8f42480156be34b485dc4">00176</a>   <a class="code" href="../../df/d13/classmozilla_1_1layers_1_1_data_texture_source.html#aa0c2927570c8f42480156be34b485dc4">DataTextureSource</a>()
<a name="l00177"></a>00177     : mUpdateSerial(0)
<a name="l00178"></a>00178   {}
<a name="l00179"></a>00179 
<a name="l00180"></a><a class="code" href="../../df/d13/classmozilla_1_1layers_1_1_data_texture_source.html#a317c10a44d6a0c9aec010a6f709c9504">00180</a>   <span class="keyword">virtual</span> <a class="code" href="../../df/d13/classmozilla_1_1layers_1_1_data_texture_source.html">DataTextureSource</a>* <a class="code" href="../../df/d13/classmozilla_1_1layers_1_1_data_texture_source.html#a317c10a44d6a0c9aec010a6f709c9504">AsDataTextureSource</a>() MOZ_OVERRIDE { <span class="keywordflow">return</span> <span class="keyword">this</span>; }
<a name="l00181"></a>00181 
<a name="l00188"></a>00188   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../df/d13/classmozilla_1_1layers_1_1_data_texture_source.html#a9110d63ac97b3ded55b70cac1ee13df5">Update</a>(<a class="code" href="../../df/d2f/classmozilla_1_1gfx_1_1_data_source_surface.html">gfx::DataSourceSurface</a>* aSurface,
<a name="l00189"></a>00189                       <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> aFlags,
<a name="l00190"></a>00190                       <a class="code" href="../../d5/d82/classns_int_region.html">nsIntRegion</a>* aDestRegion = <span class="keyword">nullptr</span>,
<a name="l00191"></a>00191                       <a class="code" href="../../de/de1/structmozilla_1_1gfx_1_1_int_point_typed.html">gfx::IntPoint</a>* aSrcOffset = <span class="keyword">nullptr</span>) = 0;
<a name="l00192"></a>00192 
<a name="l00201"></a><a class="code" href="../../df/d13/classmozilla_1_1layers_1_1_data_texture_source.html#a66b62e6503bf9b7b061bd92cd82e59ce">00201</a>   uint32_t <a class="code" href="../../df/d13/classmozilla_1_1layers_1_1_data_texture_source.html#a66b62e6503bf9b7b061bd92cd82e59ce">GetUpdateSerial</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mUpdateSerial; }
<a name="l00202"></a><a class="code" href="../../df/d13/classmozilla_1_1layers_1_1_data_texture_source.html#a02df85c09c86b21f3c9f724c540bd4bd">00202</a>   <span class="keywordtype">void</span> <a class="code" href="../../df/d13/classmozilla_1_1layers_1_1_data_texture_source.html#a02df85c09c86b21f3c9f724c540bd4bd">SetUpdateSerial</a>(uint32_t aValue) { mUpdateSerial = aValue; }
<a name="l00203"></a>00203 
<a name="l00204"></a>00204   <span class="comment">// By default at least set the update serial to zero.</span>
<a name="l00205"></a>00205   <span class="comment">// overloaded versions should do that too.</span>
<a name="l00206"></a><a class="code" href="../../df/d13/classmozilla_1_1layers_1_1_data_texture_source.html#acbb1dc63b6005044d66eee912c5c6b05">00206</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../df/d13/classmozilla_1_1layers_1_1_data_texture_source.html#acbb1dc63b6005044d66eee912c5c6b05">DeallocateDeviceData</a>() MOZ_OVERRIDE
<a name="l00207"></a>00207   {
<a name="l00208"></a>00208     <a class="code" href="../../df/d13/classmozilla_1_1layers_1_1_data_texture_source.html#a02df85c09c86b21f3c9f724c540bd4bd">SetUpdateSerial</a>(0);
<a name="l00209"></a>00209   }
<a name="l00210"></a>00210 
<a name="l00217"></a><a class="code" href="../../df/d13/classmozilla_1_1layers_1_1_data_texture_source.html#abdf60d795408b19f9e6e410077ba4e57">00217</a>   <span class="keyword">virtual</span> <a class="code" href="../../dd/d63/classmozilla_1_1_temporary_ref.html">TemporaryRef&lt;gfx::DataSourceSurface&gt;</a> <a class="code" href="../../df/d13/classmozilla_1_1layers_1_1_data_texture_source.html#abdf60d795408b19f9e6e410077ba4e57">ReadBack</a>() { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; };
<a name="l00218"></a>00218 <span class="keyword">private</span>:
<a name="l00219"></a>00219   uint32_t mUpdateSerial;
<a name="l00220"></a>00220 };
<a name="l00221"></a>00221 
<a name="l00250"></a><a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html">00250</a> <span class="keyword">class </span><a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html">TextureHost</a> : <span class="keyword">public</span> <a class="code" href="../../d2/de4/classmozilla_1_1_ref_counted.html">RefCounted</a>&lt;TextureHost&gt;
<a name="l00251"></a>00251 {
<a name="l00252"></a>00252 <span class="keyword">public</span>:
<a name="l00253"></a><a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a6a4ba8c59fddb674f6a8c6609e7dee86">00253</a>   <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a6a4ba8c59fddb674f6a8c6609e7dee86">TextureHost</a>(uint64_t aID,
<a name="l00254"></a>00254               <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> aFlags)
<a name="l00255"></a>00255     : <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a393a71c61a0902ed67102f81e9fe3348">mID</a>(aID)
<a name="l00256"></a>00256     , <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#ae5e9b0cd28b1ace150d5d35219c52111">mNextTexture</a>(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a0fd163987980515e24ce34fc3926206d">nullptr</a>)
<a name="l00257"></a>00257     , <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a5fa1bd6b3d3d303bd0e14541c25fa7ea">mFlags</a>(aFlags)
<a name="l00258"></a>00258   {}
<a name="l00259"></a>00259 
<a name="l00260"></a><a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#ad8c9d214f2b17d5388ba3d116fb0dfbc">00260</a>   <span class="keyword">virtual</span> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#ad8c9d214f2b17d5388ba3d116fb0dfbc">~TextureHost</a>() {}
<a name="l00261"></a>00261 
<a name="l00265"></a>00265   <span class="keyword">static</span> <a class="code" href="../../dd/d63/classmozilla_1_1_temporary_ref.html">TemporaryRef&lt;TextureHost&gt;</a> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#aa29a4e324f52087756e7b2fe5aa25c32">Create</a>(uint64_t aID,
<a name="l00266"></a>00266                                           <span class="keyword">const</span> SurfaceDescriptor&amp; aDesc,
<a name="l00267"></a>00267                                           <a class="code" href="../../dd/d26/classmozilla_1_1layers_1_1_i_surface_allocator.html">ISurfaceAllocator</a>* aDeallocator,
<a name="l00268"></a>00268                                           <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> aFlags);
<a name="l00269"></a>00269 
<a name="l00273"></a><a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a85f2cfd6e69df557b58e4fab27d28fe8">00273</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a85f2cfd6e69df557b58e4fab27d28fe8">Lock</a>() { <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l00274"></a>00274 
<a name="l00278"></a><a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a27a47c23f691626fea32392adee68849">00278</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a27a47c23f691626fea32392adee68849">Unlock</a>() {}
<a name="l00279"></a>00279 
<a name="l00285"></a>00285   <span class="keyword">virtual</span> <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a8ad07eb68c5f5eab704c5a0934a5331f">gfx::SurfaceFormat</a> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#af0351c428b0142edfca59cba3aaf14db">GetFormat</a>() <span class="keyword">const</span> = 0;
<a name="l00286"></a>00286 
<a name="l00294"></a>00294   <span class="keyword">virtual</span> <a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html">NewTextureSource</a>* <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a52cf2dcb771390538b4c9e9d335d2228">GetTextureSources</a>() = 0;
<a name="l00295"></a>00295 
<a name="l00305"></a><a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a733c77309c4b7381ebd8b02314e1d4af">00305</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a733c77309c4b7381ebd8b02314e1d4af">Updated</a>(<span class="keyword">const</span> <a class="code" href="../../d5/d82/classns_int_region.html">nsIntRegion</a>* aRegion) {}
<a name="l00306"></a>00306 
<a name="l00314"></a><a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#acf777b72df84b1b666ce86e7dc30823a">00314</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#acf777b72df84b1b666ce86e7dc30823a">SetCompositor</a>(<a class="code" href="../../d0/dbf/classmozilla_1_1layers_1_1_compositor.html">Compositor</a>* aCompositor) {}
<a name="l00315"></a>00315 
<a name="l00320"></a><a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a1138eb57e37e0b7c1ce25d0235afa216">00320</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a1138eb57e37e0b7c1ce25d0235afa216">DeallocateDeviceData</a>() {}
<a name="l00321"></a>00321 
<a name="l00326"></a><a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#acb1dbf957531e5de5ae3d01de7f82918">00326</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#acb1dbf957531e5de5ae3d01de7f82918">DeallocateSharedData</a>() {}
<a name="l00327"></a>00327 
<a name="l00336"></a><a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a218e94bd1ae0f802c87b8d447ca568bf">00336</a>   uint64_t <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a218e94bd1ae0f802c87b8d447ca568bf">GetID</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a393a71c61a0902ed67102f81e9fe3348">mID</a>; }
<a name="l00337"></a>00337 
<a name="l00338"></a>00338   <span class="keyword">virtual</span> <a class="code" href="../../d8/d6f/structmozilla_1_1gfx_1_1_int_size_typed.html">gfx::IntSize</a> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a9306fec5bfac207c6296cbcd8678876c">GetSize</a>() <span class="keyword">const</span> = 0;
<a name="l00339"></a>00339 
<a name="l00347"></a><a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#ae347d8e8613b4c10217f025b7d8a17db">00347</a>   <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html">TextureHost</a>* <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#ae347d8e8613b4c10217f025b7d8a17db">GetNextSibling</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#ae5e9b0cd28b1ace150d5d35219c52111">mNextTexture</a>; }
<a name="l00348"></a><a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#ace494da5321510ee39d403d1990ac919">00348</a>   <span class="keywordtype">void</span> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#ace494da5321510ee39d403d1990ac919">SetNextSibling</a>(<a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html">TextureHost</a>* aNext) { <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#ae5e9b0cd28b1ace150d5d35219c52111">mNextTexture</a> = aNext; }
<a name="l00349"></a>00349 
<a name="l00354"></a>00354   <span class="keyword">virtual</span> <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;gfxImageSurface&gt;</a> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a6fd13fac29fe6a8aa122c08f4dd775fc">GetAsSurface</a>() = 0;
<a name="l00355"></a>00355 
<a name="l00359"></a><a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a2ae642dd114291f08d8b4260796ac734">00359</a>   <span class="keywordtype">void</span> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a2ae642dd114291f08d8b4260796ac734">SetFlags</a>(<a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> aFlags) { <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a5fa1bd6b3d3d303bd0e14541c25fa7ea">mFlags</a> = aFlags; }
<a name="l00360"></a>00360 
<a name="l00364"></a><a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a4d0f84f5b13be524b644d5f829376952">00364</a>   <span class="keywordtype">void</span> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a4d0f84f5b13be524b644d5f829376952">AddFlag</a>(<a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> aFlag) { <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a5fa1bd6b3d3d303bd0e14541c25fa7ea">mFlags</a> |= aFlag; }
<a name="l00365"></a>00365 
<a name="l00366"></a><a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#aa293d79ba3208b6aec3b44b81b0de6a7">00366</a>   <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#aa293d79ba3208b6aec3b44b81b0de6a7">GetFlags</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a5fa1bd6b3d3d303bd0e14541c25fa7ea">mFlags</a>; }
<a name="l00367"></a>00367 
<a name="l00372"></a><a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a9d7d3a4039f4ce6a86d00f6494ce58bd">00372</a>   <span class="keyword">virtual</span> <a class="code" href="../../d5/d06/structmozilla_1_1layers_1_1_layer_render_state.html">LayerRenderState</a> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a9d7d3a4039f4ce6a86d00f6494ce58bd">GetRenderState</a>()
<a name="l00373"></a>00373   {
<a name="l00374"></a>00374     <span class="comment">// By default we return an empty render state, this should be overriden</span>
<a name="l00375"></a>00375     <span class="comment">// by the TextureHost implementations that are used on B2G with Composer2D</span>
<a name="l00376"></a>00376     <span class="keywordflow">return</span> <a class="code" href="../../d5/d06/structmozilla_1_1layers_1_1_layer_render_state.html">LayerRenderState</a>();
<a name="l00377"></a>00377   }
<a name="l00378"></a>00378 
<a name="l00379"></a>00379 <span class="preprocessor">#ifdef MOZ_LAYERS_HAVE_LOG</span>
<a name="l00380"></a>00380 <span class="preprocessor"></span>  <span class="keyword">virtual</span> <span class="keywordtype">void</span> PrintInfo(nsACString&amp; aTo, <span class="keyword">const</span> <span class="keywordtype">char</span>* aPrefix)
<a name="l00381"></a>00381   {
<a name="l00382"></a>00382     <a class="code" href="../../d9/dc3/classmozilla_1_1_ref_ptr.html">RefPtr&lt;TextureSource&gt;</a> source = <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a52cf2dcb771390538b4c9e9d335d2228">GetTextureSources</a>();
<a name="l00383"></a>00383     <span class="keywordflow">if</span> (source) {
<a name="l00384"></a>00384       source-&gt;PrintInfo(aTo, aPrefix);
<a name="l00385"></a>00385     }
<a name="l00386"></a>00386   }
<a name="l00387"></a>00387 <span class="preprocessor">#endif</span>
<a name="l00388"></a>00388 <span class="preprocessor"></span>
<a name="l00389"></a>00389 <span class="keyword">protected</span>:
<a name="l00390"></a><a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a393a71c61a0902ed67102f81e9fe3348">00390</a>   uint64_t <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a393a71c61a0902ed67102f81e9fe3348">mID</a>;
<a name="l00391"></a><a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#ae5e9b0cd28b1ace150d5d35219c52111">00391</a>   <a class="code" href="../../d9/dc3/classmozilla_1_1_ref_ptr.html">RefPtr&lt;TextureHost&gt;</a> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#ae5e9b0cd28b1ace150d5d35219c52111">mNextTexture</a>;
<a name="l00392"></a><a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a5fa1bd6b3d3d303bd0e14541c25fa7ea">00392</a>   <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html#a5fa1bd6b3d3d303bd0e14541c25fa7ea">mFlags</a>;
<a name="l00393"></a>00393 };
<a name="l00394"></a>00394 
<a name="l00408"></a><a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html">00408</a> <span class="keyword">class </span><a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html">BufferTextureHost</a> : <span class="keyword">public</span> <a class="code" href="../../d0/dfd/classmozilla_1_1layers_1_1_texture_host.html">TextureHost</a>
<a name="l00409"></a>00409 {
<a name="l00410"></a>00410 <span class="keyword">public</span>:
<a name="l00411"></a>00411   <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#a057aded52322051565293a1e210633e1">BufferTextureHost</a>(uint64_t aID,
<a name="l00412"></a>00412                     <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a8ad07eb68c5f5eab704c5a0934a5331f">gfx::SurfaceFormat</a> aFormat,
<a name="l00413"></a>00413                     <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> aFlags);
<a name="l00414"></a>00414 
<a name="l00415"></a>00415   <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#a3365ce1624a14a4a83a021d9acb94bc7">~BufferTextureHost</a>();
<a name="l00416"></a>00416 
<a name="l00417"></a>00417   <span class="keyword">virtual</span> uint8_t* <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#a1c61f6c40f44c7f555443a3afaca008b">GetBuffer</a>() = 0;
<a name="l00418"></a>00418 
<a name="l00419"></a>00419   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#a3576f3122a306814ffd23903a3524187">Updated</a>(<span class="keyword">const</span> <a class="code" href="../../d5/d82/classns_int_region.html">nsIntRegion</a>* aRegion) MOZ_OVERRIDE;
<a name="l00420"></a>00420 
<a name="l00421"></a>00421   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#a9f77c66c56ebf6d02bf4e825388a7c25">Lock</a>() MOZ_OVERRIDE;
<a name="l00422"></a>00422 
<a name="l00423"></a>00423   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#ae5513403cd6ec016a9253364a90047be">Unlock</a>() MOZ_OVERRIDE;
<a name="l00424"></a>00424 
<a name="l00425"></a>00425   <span class="keyword">virtual</span> <a class="code" href="../../d6/df5/classmozilla_1_1layers_1_1_new_texture_source.html">NewTextureSource</a>* <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#ad36066c9a035006425d598d0ad4e3f1b">GetTextureSources</a>() MOZ_OVERRIDE;
<a name="l00426"></a>00426 
<a name="l00427"></a>00427   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#aa9ae32061ec1289be2af32c6948768a9">DeallocateDeviceData</a>() MOZ_OVERRIDE;
<a name="l00428"></a>00428 
<a name="l00429"></a>00429   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#ac66ab37469ed5a0f8f27de0e326068df">SetCompositor</a>(<a class="code" href="../../d0/dbf/classmozilla_1_1layers_1_1_compositor.html">Compositor</a>* aCompositor) MOZ_OVERRIDE;
<a name="l00430"></a>00430 
<a name="l00438"></a>00438   <span class="keyword">virtual</span> <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a8ad07eb68c5f5eab704c5a0934a5331f">gfx::SurfaceFormat</a> <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#a3af4d6ef8ff70009f4826671639128d8">GetFormat</a>() <span class="keyword">const</span> MOZ_OVERRIDE;
<a name="l00439"></a>00439 
<a name="l00440"></a>00440   <span class="keyword">virtual</span> <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;gfxImageSurface&gt;</a> <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#a53b3ddbe6bd30aaf9e7e9f0f0ee52884">GetAsSurface</a>() MOZ_OVERRIDE;
<a name="l00441"></a>00441 
<a name="l00442"></a><a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#a61a8dfebfbe031e61a72125685fa4702">00442</a>   <span class="keyword">virtual</span> <a class="code" href="../../d8/d6f/structmozilla_1_1gfx_1_1_int_size_typed.html">gfx::IntSize</a> <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#a61a8dfebfbe031e61a72125685fa4702">GetSize</a>() <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> MOZ_OVERRIDE { <span class="keywordflow">return</span> <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#a715c8c267c507cc4111ef432ce5415d8">mSize</a>; }
<a name="l00443"></a>00443 
<a name="l00444"></a>00444 <span class="keyword">protected</span>:
<a name="l00445"></a>00445   <span class="keywordtype">bool</span> <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#a6c9c8ddbd23b0abd82411dc27089a05f">Upload</a>(<a class="code" href="../../d5/d82/classns_int_region.html">nsIntRegion</a> *aRegion = <span class="keyword">nullptr</span>);
<a name="l00446"></a>00446   <span class="keywordtype">bool</span> <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#a800260eaae3f1336e5962487bb1359ff">MaybeUpload</a>(<a class="code" href="../../d5/d82/classns_int_region.html">nsIntRegion</a> *aRegion = <span class="keyword">nullptr</span>);
<a name="l00447"></a>00447 
<a name="l00448"></a><a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#aff6930a07aac996ede604a3359d2f852">00448</a>   <a class="code" href="../../d0/dbf/classmozilla_1_1layers_1_1_compositor.html">Compositor</a>* <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#aff6930a07aac996ede604a3359d2f852">mCompositor</a>;
<a name="l00449"></a><a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#a2027c8b0c3b21a9b848f2e6e21c7ab6f">00449</a>   <a class="code" href="../../d9/dc3/classmozilla_1_1_ref_ptr.html">RefPtr&lt;DataTextureSource&gt;</a> <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#a2027c8b0c3b21a9b848f2e6e21c7ab6f">mFirstSource</a>;
<a name="l00450"></a><a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#a9382b4b75b1a9ae0d57108342a02cf5e">00450</a>   <a class="code" href="../../d5/d82/classns_int_region.html">nsIntRegion</a> <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#a9382b4b75b1a9ae0d57108342a02cf5e">mMaybeUpdatedRegion</a>;
<a name="l00451"></a><a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#a715c8c267c507cc4111ef432ce5415d8">00451</a>   <a class="code" href="../../d8/d6f/structmozilla_1_1gfx_1_1_int_size_typed.html">gfx::IntSize</a> <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#a715c8c267c507cc4111ef432ce5415d8">mSize</a>;
<a name="l00452"></a>00452   <span class="comment">// format of the data that is shared with the content process.</span>
<a name="l00453"></a><a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#abbf118484825af716daf34751b268489">00453</a>   <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a8ad07eb68c5f5eab704c5a0934a5331f">gfx::SurfaceFormat</a> <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#abbf118484825af716daf34751b268489">mFormat</a>;
<a name="l00454"></a><a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#acc08483e1c59710446cfe3658ea31c3d">00454</a>   uint32_t <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#acc08483e1c59710446cfe3658ea31c3d">mUpdateSerial</a>;
<a name="l00455"></a><a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#a49ebe1ee12e1d7fb72cefd9bdca5d880">00455</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#a49ebe1ee12e1d7fb72cefd9bdca5d880">mLocked</a>;
<a name="l00456"></a><a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#adfa62f04218e09c6b6d1ebdbba756c09">00456</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html#adfa62f04218e09c6b6d1ebdbba756c09">mPartialUpdate</a>;
<a name="l00457"></a>00457 };
<a name="l00458"></a>00458 
<a name="l00464"></a><a class="code" href="../../d5/dc3/classmozilla_1_1layers_1_1_shmem_texture_host.html">00464</a> <span class="keyword">class </span><a class="code" href="../../d5/dc3/classmozilla_1_1layers_1_1_shmem_texture_host.html">ShmemTextureHost</a> : <span class="keyword">public</span> <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html">BufferTextureHost</a>
<a name="l00465"></a>00465 {
<a name="l00466"></a>00466 <span class="keyword">public</span>:
<a name="l00467"></a>00467   <a class="code" href="../../d5/dc3/classmozilla_1_1layers_1_1_shmem_texture_host.html#a7205111bff60c56d05a820129edf0307">ShmemTextureHost</a>(uint64_t aID,
<a name="l00468"></a>00468                    <span class="keyword">const</span> ipc::Shmem&amp; aShmem,
<a name="l00469"></a>00469                    <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a8ad07eb68c5f5eab704c5a0934a5331f">gfx::SurfaceFormat</a> aFormat,
<a name="l00470"></a>00470                    <a class="code" href="../../dd/d26/classmozilla_1_1layers_1_1_i_surface_allocator.html">ISurfaceAllocator</a>* aDeallocator,
<a name="l00471"></a>00471                    <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> aFlags);
<a name="l00472"></a>00472 
<a name="l00473"></a>00473   <a class="code" href="../../d5/dc3/classmozilla_1_1layers_1_1_shmem_texture_host.html#a0251423eb0a8504c0d80d60af58463c7">~ShmemTextureHost</a>();
<a name="l00474"></a>00474 
<a name="l00475"></a>00475   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d5/dc3/classmozilla_1_1layers_1_1_shmem_texture_host.html#a549a2cae2f16fe3386797f1763a347af">DeallocateSharedData</a>() MOZ_OVERRIDE;
<a name="l00476"></a>00476 
<a name="l00477"></a>00477   <span class="keyword">virtual</span> uint8_t* <a class="code" href="../../d5/dc3/classmozilla_1_1layers_1_1_shmem_texture_host.html#a44192c74d367ed7e37f7bba9ab479a80">GetBuffer</a>() MOZ_OVERRIDE;
<a name="l00478"></a>00478 
<a name="l00479"></a>00479 <span class="keyword">protected</span>:
<a name="l00480"></a><a class="code" href="../../d5/dc3/classmozilla_1_1layers_1_1_shmem_texture_host.html#a7b710f07c980c671fc7476e32437a567">00480</a>   ipc::Shmem* <a class="code" href="../../d5/dc3/classmozilla_1_1layers_1_1_shmem_texture_host.html#a7b710f07c980c671fc7476e32437a567">mShmem</a>;
<a name="l00481"></a><a class="code" href="../../d5/dc3/classmozilla_1_1layers_1_1_shmem_texture_host.html#ae9bdab7578b96a701de460ff3b1e4371">00481</a>   <a class="code" href="../../dd/d26/classmozilla_1_1layers_1_1_i_surface_allocator.html">ISurfaceAllocator</a>* <a class="code" href="../../d5/dc3/classmozilla_1_1layers_1_1_shmem_texture_host.html#ae9bdab7578b96a701de460ff3b1e4371">mDeallocator</a>;
<a name="l00482"></a>00482 };
<a name="l00483"></a>00483 
<a name="l00490"></a><a class="code" href="../../d0/deb/classmozilla_1_1layers_1_1_memory_texture_host.html">00490</a> <span class="keyword">class </span><a class="code" href="../../d0/deb/classmozilla_1_1layers_1_1_memory_texture_host.html">MemoryTextureHost</a> : <span class="keyword">public</span> <a class="code" href="../../d0/dd1/classmozilla_1_1layers_1_1_buffer_texture_host.html">BufferTextureHost</a>
<a name="l00491"></a>00491 {
<a name="l00492"></a>00492 <span class="keyword">public</span>:
<a name="l00493"></a>00493   <a class="code" href="../../d0/deb/classmozilla_1_1layers_1_1_memory_texture_host.html#a2a5b2e1a4189cf128aedec4a4e73055f">MemoryTextureHost</a>(uint64_t aID,
<a name="l00494"></a>00494                     uint8_t* aBuffer,
<a name="l00495"></a>00495                     <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a8ad07eb68c5f5eab704c5a0934a5331f">gfx::SurfaceFormat</a> aFormat,
<a name="l00496"></a>00496                     <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> aFlags);
<a name="l00497"></a>00497 
<a name="l00498"></a>00498   <a class="code" href="../../d0/deb/classmozilla_1_1layers_1_1_memory_texture_host.html#a42cd7a067a15eb6f0872a908515fab64">~MemoryTextureHost</a>();
<a name="l00499"></a>00499 
<a name="l00500"></a>00500   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/deb/classmozilla_1_1layers_1_1_memory_texture_host.html#a5140b5dfb604407b4347af05ec875579">DeallocateSharedData</a>() MOZ_OVERRIDE;
<a name="l00501"></a>00501 
<a name="l00502"></a>00502   <span class="keyword">virtual</span> uint8_t* <a class="code" href="../../d0/deb/classmozilla_1_1layers_1_1_memory_texture_host.html#aaf67f4feb9881ae0fb07eb733d495bdf">GetBuffer</a>() MOZ_OVERRIDE;
<a name="l00503"></a>00503 
<a name="l00504"></a>00504 <span class="keyword">protected</span>:
<a name="l00505"></a><a class="code" href="../../d0/deb/classmozilla_1_1layers_1_1_memory_texture_host.html#afc468d230d946140bd85779e866975d9">00505</a>   uint8_t* <a class="code" href="../../d0/deb/classmozilla_1_1layers_1_1_memory_texture_host.html#afc468d230d946140bd85779e866975d9">mBuffer</a>;
<a name="l00506"></a>00506 };
<a name="l00507"></a>00507 
<a name="l00508"></a>00508 
<a name="l00559"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html">00559</a> <span class="keyword">class </span><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html">DeprecatedTextureHost</a> : <span class="keyword">public</span> <a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html">TextureSource</a>
<a name="l00560"></a>00560 {
<a name="l00561"></a>00561 <span class="keyword">public</span>:
<a name="l00570"></a>00570   <span class="keyword">static</span> <a class="code" href="../../dd/d63/classmozilla_1_1_temporary_ref.html">TemporaryRef&lt;DeprecatedTextureHost&gt;</a> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#ace65a55d20f1faf0345a01b8b92c9ba4">CreateDeprecatedTextureHost</a>(<a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a97e27206ed92fc7597e21dd432fbd8e2">SurfaceDescriptorType</a> aDescriptorType,
<a name="l00571"></a>00571                                                      uint32_t aDeprecatedTextureHostFlags,
<a name="l00572"></a>00572                                                      uint32_t aTextureFlags);
<a name="l00573"></a>00573 
<a name="l00574"></a>00574   <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#aa4520be3531f697f637bcd66e8728de7">DeprecatedTextureHost</a>();
<a name="l00575"></a>00575   <span class="keyword">virtual</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a4ec271575fec505b035d2ceacf4fc805">~DeprecatedTextureHost</a>();
<a name="l00576"></a>00576 
<a name="l00577"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a300c7c74083050cf83fcbb73c762d788">00577</a>   <span class="keyword">virtual</span> <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a8ad07eb68c5f5eab704c5a0934a5331f">gfx::SurfaceFormat</a> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a300c7c74083050cf83fcbb73c762d788">GetFormat</a>() <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> MOZ_OVERRIDE { <span class="keywordflow">return</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a3bf986813c9ca1403565bf6dfd2b0aa7">mFormat</a>; }
<a name="l00578"></a>00578 
<a name="l00579"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#ae36920a1dcd1b9d4b9293b633586432f">00579</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#ae36920a1dcd1b9d4b9293b633586432f">IsValid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }
<a name="l00580"></a>00580 
<a name="l00588"></a>00588   <span class="keywordtype">void</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a02a269db4001c90a62ca0d8e4ee883f3">Update</a>(<span class="keyword">const</span> SurfaceDescriptor&amp; aImage,
<a name="l00589"></a>00589               <a class="code" href="../../d5/d82/classns_int_region.html">nsIntRegion</a> *aRegion = <span class="keyword">nullptr</span>,
<a name="l00590"></a>00590               <a class="code" href="../../da/d1b/structns_int_point.html">nsIntPoint</a>* aOffset = <span class="keyword">nullptr</span>);
<a name="l00591"></a>00591 
<a name="l00596"></a>00596   <span class="keywordtype">void</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a4ae7e4e47fe5edb8ace9b03ea214db3d">SwapTextures</a>(<span class="keyword">const</span> SurfaceDescriptor&amp; aImage,
<a name="l00597"></a>00597                     SurfaceDescriptor* <a class="code" href="../../d9/d6a/ns_color_8h.html#a820357f645d7b0eaf62fd4994dda5a24">aResult</a> = <span class="keyword">nullptr</span>,
<a name="l00598"></a>00598                     <a class="code" href="../../d5/d82/classns_int_region.html">nsIntRegion</a> *aRegion = <span class="keyword">nullptr</span>);
<a name="l00599"></a>00599 
<a name="l00604"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a0da4b04fcf1ac77114fac4cb71705f68">00604</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a02a269db4001c90a62ca0d8e4ee883f3">Update</a>(<a class="code" href="../../dd/d78/classgfx_reusable_surface_wrapper.html">gfxReusableSurfaceWrapper</a>* aReusableSurface,
<a name="l00605"></a>00605                       <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> aFlags,
<a name="l00606"></a>00606                       <span class="keyword">const</span> <a class="code" href="../../d8/d6f/structmozilla_1_1gfx_1_1_int_size_typed.html">gfx::IntSize</a>&amp; aSize) {}
<a name="l00607"></a>00607 
<a name="l00612"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a176d1ea6ba094bbb22530f64d03ea0c6">00612</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a176d1ea6ba094bbb22530f64d03ea0c6">Lock</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#ae36920a1dcd1b9d4b9293b633586432f">IsValid</a>(); }
<a name="l00613"></a>00613 
<a name="l00618"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a1408bbb5b22b8804dba5a8b30ee45b05">00618</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a1408bbb5b22b8804dba5a8b30ee45b05">Unlock</a>() {}
<a name="l00619"></a>00619 
<a name="l00620"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#ae4898a8d958bff88f2b21f27ea29b635">00620</a>   <span class="keywordtype">void</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#ae4898a8d958bff88f2b21f27ea29b635">SetFlags</a>(<a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> aFlags) { <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#abba20de9489e0f9a12ef516fbb511241">mFlags</a> = aFlags; }
<a name="l00621"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a7ac1313d34ae68da4106cf4893cb1955">00621</a>   <span class="keywordtype">void</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a7ac1313d34ae68da4106cf4893cb1955">AddFlag</a>(<a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> aFlag) { <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#abba20de9489e0f9a12ef516fbb511241">mFlags</a> |= aFlag; }
<a name="l00622"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#abe9d1d4a27425704d5ca8a2b58f6f657">00622</a>   <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#abe9d1d4a27425704d5ca8a2b58f6f657">GetFlags</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#abba20de9489e0f9a12ef516fbb511241">mFlags</a>; }
<a name="l00623"></a>00623 
<a name="l00631"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a7ac55427d2d8f5bacee0eb3c6b1ec5b7">00631</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a7ac55427d2d8f5bacee0eb3c6b1ec5b7">SetCompositor</a>(<a class="code" href="../../d0/dbf/classmozilla_1_1layers_1_1_compositor.html">Compositor</a>* aCompositor) {}
<a name="l00632"></a>00632 
<a name="l00633"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#ac25ca70577b861cf511c3ac7cf993d29">00633</a>   <a class="code" href="../../dd/d26/classmozilla_1_1layers_1_1_i_surface_allocator.html">ISurfaceAllocator</a>* <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#ac25ca70577b861cf511c3ac7cf993d29">GetDeAllocator</a>()
<a name="l00634"></a>00634   {
<a name="l00635"></a>00635     <span class="keywordflow">return</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a7846d4b0ee48f005959c887a248a0c35">mDeAllocator</a>;
<a name="l00636"></a>00636   }
<a name="l00637"></a>00637 
<a name="l00638"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#ad50a90b7f4f3816a2b0b500bffa28b2d">00638</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#ad50a90b7f4f3816a2b0b500bffa28b2d">operator== </a>(<span class="keyword">const</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html">DeprecatedTextureHost</a>&amp; <a class="code" href="../../d8/dbd/namespaceheader.html#a1f19773439587cecdc1d5ef61c705086">o</a>)<span class="keyword"> const</span>
<a name="l00639"></a>00639 <span class="keyword">  </span>{
<a name="l00640"></a>00640     <span class="keywordflow">return</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#ab57c45ff66dbefd779ef47bb0a4794bf">GetIdentifier</a>() == o.<a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#ab57c45ff66dbefd779ef47bb0a4794bf">GetIdentifier</a>();
<a name="l00641"></a>00641   }
<a name="l00642"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a48c1d656cf9147718b24c800e10d4580">00642</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a48c1d656cf9147718b24c800e10d4580">operator!= </a>(<span class="keyword">const</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html">DeprecatedTextureHost</a>&amp; <a class="code" href="../../d8/dbd/namespaceheader.html#a1f19773439587cecdc1d5ef61c705086">o</a>)<span class="keyword"> const</span>
<a name="l00643"></a>00643 <span class="keyword">  </span>{
<a name="l00644"></a>00644     <span class="keywordflow">return</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#ab57c45ff66dbefd779ef47bb0a4794bf">GetIdentifier</a>() != o.<a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#ab57c45ff66dbefd779ef47bb0a4794bf">GetIdentifier</a>();
<a name="l00645"></a>00645   }
<a name="l00646"></a>00646 
<a name="l00647"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a916871451e0e876a8693209fb9a1fb85">00647</a>   <span class="keyword">virtual</span> <a class="code" href="../../d5/d06/structmozilla_1_1layers_1_1_layer_render_state.html">LayerRenderState</a> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a916871451e0e876a8693209fb9a1fb85">GetRenderState</a>()
<a name="l00648"></a>00648   {
<a name="l00649"></a>00649     <span class="keywordflow">return</span> <a class="code" href="../../d5/d06/structmozilla_1_1layers_1_1_layer_render_state.html">LayerRenderState</a>();
<a name="l00650"></a>00650   }
<a name="l00651"></a>00651 
<a name="l00652"></a>00652   <span class="keyword">virtual</span> <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;gfxImageSurface&gt;</a> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a51d79e6be8e853edc68d294a7412164c">GetAsSurface</a>() = 0;
<a name="l00653"></a>00653 
<a name="l00654"></a>00654 <span class="preprocessor">#ifdef MOZ_LAYERS_HAVE_LOG</span>
<a name="l00655"></a>00655 <span class="preprocessor"></span>  <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *Name() = 0;
<a name="l00656"></a>00656   <span class="keyword">virtual</span> <span class="keywordtype">void</span> PrintInfo(nsACString&amp; aTo, <span class="keyword">const</span> <span class="keywordtype">char</span>* aPrefix);
<a name="l00657"></a>00657 <span class="preprocessor">#endif</span>
<a name="l00658"></a>00658 <span class="preprocessor"></span>
<a name="l00665"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a971968a2b3487356aa394418283b7196">00665</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a971968a2b3487356aa394418283b7196">EnsureBuffer</a>(<span class="keyword">const</span> <a class="code" href="../../dc/d43/structns_int_size.html">nsIntSize</a>&amp; aSize, <a class="code" href="../../d4/d14/classgfx_a_surface.html#af12afcfae2a9102ab6efbf1b57546360">gfxASurface::gfxContentType</a> <a class="code" href="../../df/d33/ns_x_u_l_app_a_p_i_8h.html#a02213a397ee55db7eba28bed963f63df">aType</a>)
<a name="l00666"></a>00666   {
<a name="l00667"></a>00667     <a class="code" href="../../dc/d6d/ns_debug_8h.html#af23ce88454f9ea763d9e8a9b8a77b340">NS_RUNTIMEABORT</a>(<span class="stringliteral">&quot;DeprecatedTextureHost doesn&#39;t support EnsureBuffer&quot;</span>);
<a name="l00668"></a>00668   }
<a name="l00669"></a>00669 
<a name="l00678"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#ae00af5b37b836396a47853f56bda2a8f">00678</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#ae00af5b37b836396a47853f56bda2a8f">CopyTo</a>(<span class="keyword">const</span> <a class="code" href="../../d7/dc7/structns_int_rect.html">nsIntRect</a>&amp; aSourceRect,
<a name="l00679"></a>00679                       <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html">DeprecatedTextureHost</a> *aDest,
<a name="l00680"></a>00680                       <span class="keyword">const</span> <a class="code" href="../../d7/dc7/structns_int_rect.html">nsIntRect</a>&amp; aDestRect)
<a name="l00681"></a>00681   {
<a name="l00682"></a>00682     <a class="code" href="../../dc/d6d/ns_debug_8h.html#af23ce88454f9ea763d9e8a9b8a77b340">NS_RUNTIMEABORT</a>(<span class="stringliteral">&quot;DeprecatedTextureHost doesn&#39;t support CopyTo&quot;</span>);
<a name="l00683"></a>00683   }
<a name="l00684"></a>00684 
<a name="l00685"></a>00685 
<a name="l00686"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a15c9de02b5cf6b9abaeee798c0803401">00686</a>   SurfaceDescriptor* <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a15c9de02b5cf6b9abaeee798c0803401">GetBuffer</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#afd74a48fb0cd15ba95f906c2cdea2315">mBuffer</a>; }
<a name="l00687"></a>00687 
<a name="l00694"></a>00694   <span class="comment">// only made virtual to allow overriding in GrallocDeprecatedTextureHostOGL, for hacky fix in gecko 23 for bug 862324.</span>
<a name="l00695"></a>00695   <span class="comment">// see bug 865908 about fixing this.</span>
<a name="l00696"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a5e81ccdc00473c64d100d46594b1754b">00696</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a5e81ccdc00473c64d100d46594b1754b">SetBuffer</a>(SurfaceDescriptor* aBuffer, <a class="code" href="../../dd/d26/classmozilla_1_1layers_1_1_i_surface_allocator.html">ISurfaceAllocator</a>* aAllocator)
<a name="l00697"></a>00697   {
<a name="l00698"></a>00698     <a class="code" href="../../d9/de9/_assertions_8h.html#aa2fa77a048d036cb2f902299ace18165">MOZ_ASSERT</a>(!<a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#afd74a48fb0cd15ba95f906c2cdea2315">mBuffer</a>, <span class="stringliteral">&quot;Will leak the old mBuffer&quot;</span>);
<a name="l00699"></a>00699     <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#afd74a48fb0cd15ba95f906c2cdea2315">mBuffer</a> = aBuffer;
<a name="l00700"></a>00700     <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a7846d4b0ee48f005959c887a248a0c35">mDeAllocator</a> = aAllocator;
<a name="l00701"></a>00701   }
<a name="l00702"></a>00702 
<a name="l00703"></a>00703   <span class="comment">// used only for hacky fix in gecko 23 for bug 862324</span>
<a name="l00704"></a>00704   <span class="comment">// see bug 865908 about fixing this.</span>
<a name="l00705"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a9fcd76c63802fb80d6781fd6cc1a29bb">00705</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a9fcd76c63802fb80d6781fd6cc1a29bb">ForgetBuffer</a>() {}
<a name="l00706"></a>00706 
<a name="l00707"></a>00707 <span class="keyword">protected</span>:
<a name="l00714"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#aff084fad66d2dd5b5e9cb600e0f544d2">00714</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#aff084fad66d2dd5b5e9cb600e0f544d2">UpdateImpl</a>(<span class="keyword">const</span> SurfaceDescriptor&amp; aImage,
<a name="l00715"></a>00715                           <a class="code" href="../../d5/d82/classns_int_region.html">nsIntRegion</a> *aRegion,
<a name="l00716"></a>00716                           <a class="code" href="../../da/d1b/structns_int_point.html">nsIntPoint</a> *aOffset = <span class="keyword">nullptr</span>)
<a name="l00717"></a>00717   {
<a name="l00718"></a>00718     <a class="code" href="../../dc/d6d/ns_debug_8h.html#af23ce88454f9ea763d9e8a9b8a77b340">NS_RUNTIMEABORT</a>(<span class="stringliteral">&quot;Should not be reached&quot;</span>);
<a name="l00719"></a>00719   }
<a name="l00720"></a>00720 
<a name="l00730"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a938867cfb300318cdc5b229c133c35df">00730</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a938867cfb300318cdc5b229c133c35df">SwapTexturesImpl</a>(<span class="keyword">const</span> SurfaceDescriptor&amp; aImage,
<a name="l00731"></a>00731                                 <a class="code" href="../../d5/d82/classns_int_region.html">nsIntRegion</a> *aRegion)
<a name="l00732"></a>00732   {
<a name="l00733"></a>00733     <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#aff084fad66d2dd5b5e9cb600e0f544d2">UpdateImpl</a>(aImage, aRegion, <span class="keyword">nullptr</span>);
<a name="l00734"></a>00734   }
<a name="l00735"></a>00735 
<a name="l00736"></a>00736   <span class="comment">// An internal identifier for this texture host. Two texture hosts</span>
<a name="l00737"></a>00737   <span class="comment">// should be considered equal iff their identifiers match. Should</span>
<a name="l00738"></a>00738   <span class="comment">// not be exposed publicly.</span>
<a name="l00739"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#ab57c45ff66dbefd779ef47bb0a4794bf">00739</a>   <span class="keyword">virtual</span> uint64_t <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#ab57c45ff66dbefd779ef47bb0a4794bf">GetIdentifier</a>()<span class="keyword"> const</span>
<a name="l00740"></a>00740 <span class="keyword">  </span>{
<a name="l00741"></a>00741     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(<span class="keyword">this</span>);
<a name="l00742"></a>00742   }
<a name="l00743"></a>00743 
<a name="l00744"></a>00744   <span class="comment">// Texture info</span>
<a name="l00745"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#abba20de9489e0f9a12ef516fbb511241">00745</a>   <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#abba20de9489e0f9a12ef516fbb511241">mFlags</a>;
<a name="l00746"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#afd74a48fb0cd15ba95f906c2cdea2315">00746</a>   SurfaceDescriptor* <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#afd74a48fb0cd15ba95f906c2cdea2315">mBuffer</a>; <span class="comment">// FIXME [bjacob] it&#39;s terrible to have a SurfaceDescriptor here,</span>
<a name="l00747"></a>00747                               <span class="comment">// because SurfaceDescriptor&#39;s may have raw pointers to IPDL actors,</span>
<a name="l00748"></a>00748                               <span class="comment">// which can go away under our feet at any time. This is the cause</span>
<a name="l00749"></a>00749                               <span class="comment">// of bug 862324 among others. Our current understanding is that</span>
<a name="l00750"></a>00750                               <span class="comment">// this will be gone in Gecko 24. See bug 858914.</span>
<a name="l00751"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a7846d4b0ee48f005959c887a248a0c35">00751</a>   <a class="code" href="../../dd/d26/classmozilla_1_1layers_1_1_i_surface_allocator.html">ISurfaceAllocator</a>* <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a7846d4b0ee48f005959c887a248a0c35">mDeAllocator</a>;
<a name="l00752"></a><a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a3bf986813c9ca1403565bf6dfd2b0aa7">00752</a>   <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a8ad07eb68c5f5eab704c5a0934a5331f">gfx::SurfaceFormat</a> <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a3bf986813c9ca1403565bf6dfd2b0aa7">mFormat</a>;
<a name="l00753"></a>00753 };
<a name="l00754"></a>00754 
<a name="l00755"></a><a class="code" href="../../d4/d4d/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_host.html">00755</a> <span class="keyword">class </span><a class="code" href="../../d4/d4d/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_host.html">AutoLockDeprecatedTextureHost</a>
<a name="l00756"></a>00756 {
<a name="l00757"></a>00757 <span class="keyword">public</span>:
<a name="l00758"></a><a class="code" href="../../d4/d4d/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_host.html#a79e316a6bfa958394f0857210ea438fa">00758</a>   <a class="code" href="../../d4/d4d/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_host.html#a79e316a6bfa958394f0857210ea438fa">AutoLockDeprecatedTextureHost</a>(<a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html">DeprecatedTextureHost</a>* aHost)
<a name="l00759"></a>00759     : mDeprecatedTextureHost(aHost)
<a name="l00760"></a>00760     , mIsValid(<a class="code" href="../../d7/dd2/qcmstypes_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>)
<a name="l00761"></a>00761   {
<a name="l00762"></a>00762     <span class="keywordflow">if</span> (mDeprecatedTextureHost) {
<a name="l00763"></a>00763       mIsValid = mDeprecatedTextureHost-&gt;<a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a176d1ea6ba094bbb22530f64d03ea0c6">Lock</a>();
<a name="l00764"></a>00764     }
<a name="l00765"></a>00765   }
<a name="l00766"></a>00766 
<a name="l00767"></a><a class="code" href="../../d4/d4d/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_host.html#ad52e28d50236352cda4ef824c9e1486f">00767</a>   <a class="code" href="../../d4/d4d/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_host.html#ad52e28d50236352cda4ef824c9e1486f">~AutoLockDeprecatedTextureHost</a>()
<a name="l00768"></a>00768   {
<a name="l00769"></a>00769     <span class="keywordflow">if</span> (mDeprecatedTextureHost &amp;&amp; mIsValid) {
<a name="l00770"></a>00770       mDeprecatedTextureHost-&gt;<a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html#a1408bbb5b22b8804dba5a8b30ee45b05">Unlock</a>();
<a name="l00771"></a>00771     }
<a name="l00772"></a>00772   }
<a name="l00773"></a>00773 
<a name="l00774"></a><a class="code" href="../../d4/d4d/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_host.html#af70e028409925d559b9f019f7b09d1c2">00774</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d4/d4d/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_host.html#af70e028409925d559b9f019f7b09d1c2">IsValid</a>() { <span class="keywordflow">return</span> mIsValid; }
<a name="l00775"></a>00775 
<a name="l00776"></a>00776 <span class="keyword">private</span>:
<a name="l00777"></a>00777   <a class="code" href="../../d0/d12/classmozilla_1_1layers_1_1_deprecated_texture_host.html">DeprecatedTextureHost</a> *mDeprecatedTextureHost;
<a name="l00778"></a>00778   <span class="keywordtype">bool</span> mIsValid;
<a name="l00779"></a>00779 };
<a name="l00780"></a>00780 
<a name="l00785"></a><a class="code" href="../../d3/dda/classmozilla_1_1layers_1_1_compositing_render_target.html">00785</a> <span class="keyword">class </span><a class="code" href="../../d3/dda/classmozilla_1_1layers_1_1_compositing_render_target.html">CompositingRenderTarget</a> : <span class="keyword">public</span> <a class="code" href="../../dc/d92/classmozilla_1_1layers_1_1_texture_source.html">TextureSource</a>
<a name="l00786"></a>00786 {
<a name="l00787"></a>00787 <span class="keyword">public</span>:
<a name="l00788"></a><a class="code" href="../../d3/dda/classmozilla_1_1layers_1_1_compositing_render_target.html#a2abb1ebbd94234c11275326956265d24">00788</a>   <span class="keyword">virtual</span> <a class="code" href="../../d3/dda/classmozilla_1_1layers_1_1_compositing_render_target.html#a2abb1ebbd94234c11275326956265d24">~CompositingRenderTarget</a>() {}
<a name="l00789"></a>00789 
<a name="l00790"></a>00790 <span class="preprocessor">#ifdef MOZ_DUMP_PAINTING</span>
<a name="l00791"></a>00791 <span class="preprocessor"></span>  <span class="keyword">virtual</span> <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;gfxImageSurface&gt;</a> Dump(<a class="code" href="../../d0/dbf/classmozilla_1_1layers_1_1_compositor.html">Compositor</a>* aCompositor) { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }
<a name="l00792"></a>00792 <span class="preprocessor">#endif</span>
<a name="l00793"></a>00793 <span class="preprocessor"></span>};
<a name="l00794"></a>00794 
<a name="l00799"></a>00799 TemporaryRef&lt;TextureHost&gt;
<a name="l00800"></a>00800 <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#aee4a5b38af6af212c609700d3f2569c8">CreateBackendIndependentTextureHost</a>(uint64_t aID,
<a name="l00801"></a>00801                                     <span class="keyword">const</span> SurfaceDescriptor&amp; aDesc,
<a name="l00802"></a>00802                                     ISurfaceAllocator* aDeallocator,
<a name="l00803"></a>00803                                     <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> aFlags);
<a name="l00804"></a>00804 
<a name="l00805"></a>00805 }
<a name="l00806"></a>00806 }
<a name="l00807"></a>00807 
<a name="l00808"></a>00808 <span class="preprocessor">#endif</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d5/d0b/_texture_host_8h.html">TextureHost.h</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 00:55:24に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
