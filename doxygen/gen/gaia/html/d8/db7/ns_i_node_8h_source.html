<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: nsINode.h ソースファイル</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li class="current"><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>ファイル一覧</span></a></li>
      <li><a href="../../globals.html"><span>グローバル</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d8/db7/ns_i_node_8h.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">nsINode.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d8/db7/ns_i_node_8h.html">説明を見る。</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* -*- Mode: C++; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */</span>
<a name="l00002"></a>00002 <span class="comment">/* This Source Code Form is subject to the terms of the Mozilla Public</span>
<a name="l00003"></a>00003 <span class="comment"> * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a name="l00004"></a>00004 <span class="comment"> * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="preprocessor">#ifndef nsINode_h___</span>
<a name="l00007"></a>00007 <span class="preprocessor"></span><span class="preprocessor">#define nsINode_h___</span>
<a name="l00008"></a>00008 <span class="preprocessor"></span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &quot;<a class="code" href="../../d1/d8a/_likely_8h.html">mozilla/Likely.h</a>&quot;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;<a class="code" href="../../d5/d03/ns_c_o_m_ptr_8h.html">nsCOMPtr.h</a>&quot;</span>               <span class="comment">// for member, local</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &quot;<a class="code" href="../../d6/dfa/ns_gk_atoms_8h.html">nsGkAtoms.h</a>&quot;</span>              <span class="comment">// for nsGkAtoms::baseURIProperty</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &quot;<a class="code" href="../../d5/db1/ns_i_d_o_m_node_8h.html">nsIDOMNode.h</a>&quot;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &quot;<a class="code" href="../../d6/d34/ns_i_node_info_8h.html">nsINodeInfo.h</a>&quot;</span>            <span class="comment">// member (in nsCOMPtr)</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &quot;<a class="code" href="../../d8/dbd/ns_i_variant_8h.html">nsIVariant.h</a>&quot;</span>             <span class="comment">// for use in GetUserData()</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &quot;<a class="code" href="../../d8/d11/ns_node_info_manager_8h.html">nsNodeInfoManager.h</a>&quot;</span>      <span class="comment">// for use in NodePrincipal()</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &quot;<a class="code" href="../../d9/d65/ns_property_table_8h.html">nsPropertyTable.h</a>&quot;</span>        <span class="comment">// for typedefs</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &quot;<a class="code" href="../../df/dc4/ns_t_observer_array_8h.html">nsTObserverArray.h</a>&quot;</span>       <span class="comment">// for member</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &quot;<a class="code" href="../../d2/dd2/ns_window_memory_reporter_8h.html">nsWindowMemoryReporter.h</a>&quot;</span> <span class="comment">// for NS_DECL_SIZEOF_EXCLUDING_THIS</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &quot;<a class="code" href="../../db/d6d/_memory_reporting_8h.html">mozilla/MemoryReporting.h</a>&quot;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &quot;<a class="code" href="../../d2/d25/_event_target_8h.html">mozilla/dom/EventTarget.h</a>&quot;</span> <span class="comment">// for base class</span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="comment">// Including &#39;windows.h&#39; will #define GetClassInfo to something else.</span>
<a name="l00023"></a>00023 <span class="preprocessor">#ifdef XP_WIN</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span><span class="preprocessor">#ifdef GetClassInfo</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span><span class="preprocessor">#undef GetClassInfo</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span>
<a name="l00029"></a>00029 <span class="keyword">class </span><a class="code" href="../../dc/d0a/classns_attr_and_child_array.html">nsAttrAndChildArray</a>;
<a name="l00030"></a>00030 <span class="keyword">class </span>nsChildContentList;
<a name="l00031"></a>00031 <span class="keyword">class </span><a class="code" href="../../d2/d64/classns_d_o_m_attribute_map.html">nsDOMAttributeMap</a>;
<a name="l00032"></a>00032 <span class="keyword">class </span><a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>;
<a name="l00033"></a>00033 <span class="keyword">class </span><a class="code" href="../../de/dd1/classns_i_document.html">nsIDocument</a>;
<a name="l00034"></a>00034 <span class="keyword">class </span><a class="code" href="../../d1/d4b/interfacens_i_d_o_m_element.html">nsIDOMElement</a>;
<a name="l00035"></a>00035 <span class="keyword">class </span><a class="code" href="../../d4/d69/interfacens_i_d_o_m_node_list.html">nsIDOMNodeList</a>;
<a name="l00036"></a>00036 <span class="keyword">class </span><a class="code" href="../../df/df2/interfacens_i_d_o_m_user_data_handler.html">nsIDOMUserDataHandler</a>;
<a name="l00037"></a>00037 <span class="keyword">class </span><a class="code" href="../../d1/d67/interfacens_i_editor.html">nsIEditor</a>;
<a name="l00038"></a>00038 <span class="keyword">class </span><a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>;
<a name="l00039"></a>00039 <span class="keyword">class </span><a class="code" href="../../d8/d6d/classns_i_mutation_observer.html">nsIMutationObserver</a>;
<a name="l00040"></a>00040 <span class="keyword">class </span><a class="code" href="../../d1/d4a/classns_i_node_list.html">nsINodeList</a>;
<a name="l00041"></a>00041 <span class="keyword">class </span><a class="code" href="../../d3/d8f/classns_i_pres_shell.html">nsIPresShell</a>;
<a name="l00042"></a>00042 <span class="keyword">class </span><a class="code" href="../../d5/d7f/interfacens_i_principal.html">nsIPrincipal</a>;
<a name="l00043"></a>00043 <span class="keyword">class </span><a class="code" href="../../dd/d71/interfacens_i_u_r_i.html">nsIURI</a>;
<a name="l00044"></a>00044 <span class="keyword">class </span>nsNodeSupportsWeakRefTearoff;
<a name="l00045"></a>00045 <span class="keyword">class </span>nsNodeWeakReference;
<a name="l00046"></a>00046 <span class="keyword">class </span><a class="code" href="../../da/d63/classns_x_p_c_class_info.html">nsXPCClassInfo</a>;
<a name="l00047"></a>00047 
<a name="l00048"></a>00048 <span class="keyword">namespace </span>mozilla {
<a name="l00049"></a>00049 <span class="keyword">namespace </span><a class="code" href="../../da/dce/details__test_8js.html#a017102f866db15b37d9657454efde4ff">dom</a> {
<a name="l00054"></a><a class="code" href="../../d7/d4b/namespacemozilla_1_1dom.html#aeb95218ea43bc3ebf8eb440aa4fe006a">00054</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="../../d7/d4b/namespacemozilla_1_1dom.html#aeb95218ea43bc3ebf8eb440aa4fe006a">IsSpaceCharacter</a>(PRUnichar aChar) {
<a name="l00055"></a>00055   <span class="keywordflow">return</span> aChar == <span class="charliteral">&#39; &#39;</span> || aChar == <span class="charliteral">&#39;\t&#39;</span> || aChar == <span class="charliteral">&#39;\n&#39;</span> || aChar == <span class="charliteral">&#39;\r&#39;</span> ||
<a name="l00056"></a>00056          aChar == <span class="charliteral">&#39;\f&#39;</span>;
<a name="l00057"></a>00057 }
<a name="l00058"></a><a class="code" href="../../d7/d4b/namespacemozilla_1_1dom.html#a197d7d7c9052ed68391f403519acfac8">00058</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="../../d7/d4b/namespacemozilla_1_1dom.html#aeb95218ea43bc3ebf8eb440aa4fe006a">IsSpaceCharacter</a>(<span class="keywordtype">char</span> aChar) {
<a name="l00059"></a>00059   <span class="keywordflow">return</span> aChar == <span class="charliteral">&#39; &#39;</span> || aChar == <span class="charliteral">&#39;\t&#39;</span> || aChar == <span class="charliteral">&#39;\n&#39;</span> || aChar == <span class="charliteral">&#39;\r&#39;</span> ||
<a name="l00060"></a>00060          aChar == <span class="charliteral">&#39;\f&#39;</span>;
<a name="l00061"></a>00061 }
<a name="l00062"></a>00062 <span class="keyword">class </span><a class="code" href="../../df/d95/ns_i_h_t_m_l_editor_8idl.html#a349b6484f5c5f98fe656321841c06b51">Element</a>;
<a name="l00063"></a>00063 <span class="keyword">class </span>EventHandlerNonNull;
<a name="l00064"></a>00064 <span class="keyword">class </span>OnErrorEventHandlerNonNull;
<a name="l00065"></a>00065 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">class </span>Optional;
<a name="l00066"></a>00066 } <span class="comment">// namespace dom</span>
<a name="l00067"></a>00067 } <span class="comment">// namespace mozilla</span>
<a name="l00068"></a>00068 
<a name="l00069"></a>00069 <span class="keyword">namespace </span>JS {
<a name="l00070"></a>00070 <span class="keyword">class </span>Value;
<a name="l00071"></a>00071 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">class </span>Handle;
<a name="l00072"></a>00072 }
<a name="l00073"></a>00073 
<a name="l00074"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">00074</a> <span class="preprocessor">#define NODE_FLAG_BIT(n_) (1U &lt;&lt; (WRAPPER_CACHE_FLAGS_BITS_USED + (n_)))</span>
<a name="l00075"></a>00075 <span class="preprocessor"></span>
<a name="l00076"></a>00076 <span class="keyword">enum</span> {
<a name="l00077"></a>00077   <span class="comment">// This bit will be set if the node has a listener manager.</span>
<a name="l00078"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a92d2528a774498af4a931878a8323b8d">00078</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a92d2528a774498af4a931878a8323b8d">NODE_HAS_LISTENERMANAGER</a> =              <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">NODE_FLAG_BIT</a>(0),
<a name="l00079"></a>00079 
<a name="l00080"></a>00080   <span class="comment">// Whether this node has had any properties set on it</span>
<a name="l00081"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a0341d7029598eb39c3df1d31ad1bf3d7">00081</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a0341d7029598eb39c3df1d31ad1bf3d7">NODE_HAS_PROPERTIES</a> =                   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">NODE_FLAG_BIT</a>(1),
<a name="l00082"></a>00082 
<a name="l00083"></a>00083   <span class="comment">// Whether this node is the root of an anonymous subtree.  Note that this</span>
<a name="l00084"></a>00084   <span class="comment">// need not be a native anonymous subtree.  Any anonymous subtree, including</span>
<a name="l00085"></a>00085   <span class="comment">// XBL-generated ones, will do.  This flag is set-once: once a node has it,</span>
<a name="l00086"></a>00086   <span class="comment">// it must not be removed.</span>
<a name="l00087"></a>00087   <span class="comment">// NOTE: Should only be used on nsIContent nodes</span>
<a name="l00088"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a40ad34a9c0037a6f5673a4fa39f34331">00088</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a40ad34a9c0037a6f5673a4fa39f34331">NODE_IS_ANONYMOUS</a> =                     <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">NODE_FLAG_BIT</a>(2),
<a name="l00089"></a>00089 
<a name="l00090"></a>00090   <span class="comment">// Whether the node has some ancestor, possibly itself, that is native</span>
<a name="l00091"></a>00091   <span class="comment">// anonymous.  This includes ancestors crossing XBL scopes, in cases when an</span>
<a name="l00092"></a>00092   <span class="comment">// XBL binding is attached to an element which has a native anonymous</span>
<a name="l00093"></a>00093   <span class="comment">// ancestor.  This flag is set-once: once a node has it, it must not be</span>
<a name="l00094"></a>00094   <span class="comment">// removed.</span>
<a name="l00095"></a>00095   <span class="comment">// NOTE: Should only be used on nsIContent nodes</span>
<a name="l00096"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261ab16420f2166d6c62954d73f47f0d8e5e">00096</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261ab16420f2166d6c62954d73f47f0d8e5e">NODE_IS_IN_ANONYMOUS_SUBTREE</a> =          <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">NODE_FLAG_BIT</a>(3),
<a name="l00097"></a>00097 
<a name="l00098"></a>00098   <span class="comment">// Whether this node is the root of a native anonymous (from the perspective</span>
<a name="l00099"></a>00099   <span class="comment">// of its parent) subtree.  This flag is set-once: once a node has it, it</span>
<a name="l00100"></a>00100   <span class="comment">// must not be removed.</span>
<a name="l00101"></a>00101   <span class="comment">// NOTE: Should only be used on nsIContent nodes</span>
<a name="l00102"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a243908c3177357f7367c7e12fb87fde8">00102</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a243908c3177357f7367c7e12fb87fde8">NODE_IS_NATIVE_ANONYMOUS_ROOT</a> =         <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">NODE_FLAG_BIT</a>(4),
<a name="l00103"></a>00103 
<a name="l00104"></a>00104   <span class="comment">// Forces the XBL code to treat this node as if it were</span>
<a name="l00105"></a>00105   <span class="comment">// in the document and therefore should get bindings attached.</span>
<a name="l00106"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261aaa06ce74e50f4416dbbca2df01660c45">00106</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261aaa06ce74e50f4416dbbca2df01660c45">NODE_FORCE_XBL_BINDINGS</a> =               <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">NODE_FLAG_BIT</a>(5),
<a name="l00107"></a>00107 
<a name="l00108"></a>00108   <span class="comment">// Whether a binding manager may have a pointer to this</span>
<a name="l00109"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a917336d7aed7712970479e5eb89f6139">00109</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a917336d7aed7712970479e5eb89f6139">NODE_MAY_BE_IN_BINDING_MNGR</a> =           <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">NODE_FLAG_BIT</a>(6),
<a name="l00110"></a>00110 
<a name="l00111"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a110809fc817ddb6c67dee010f998e881">00111</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a110809fc817ddb6c67dee010f998e881">NODE_IS_EDITABLE</a> =                      <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">NODE_FLAG_BIT</a>(7),
<a name="l00112"></a>00112 
<a name="l00113"></a>00113   <span class="comment">// For all Element nodes, NODE_MAY_HAVE_CLASS is guaranteed to be set if the</span>
<a name="l00114"></a>00114   <span class="comment">// node in fact has a class, but may be set even if it doesn&#39;t.</span>
<a name="l00115"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a912692ec54bd74160d74d4873b20d612">00115</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a912692ec54bd74160d74d4873b20d612">NODE_MAY_HAVE_CLASS</a> =                   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">NODE_FLAG_BIT</a>(8),
<a name="l00116"></a>00116 
<a name="l00117"></a>00117   <span class="comment">// Node has an :empty or :-moz-only-whitespace selector</span>
<a name="l00118"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261acef979ab9f13ea12cb2a994485e9b7a6">00118</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261acef979ab9f13ea12cb2a994485e9b7a6">NODE_HAS_EMPTY_SELECTOR</a> =               <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">NODE_FLAG_BIT</a>(10),
<a name="l00119"></a>00119 
<a name="l00120"></a>00120   <span class="comment">// A child of the node has a selector such that any insertion,</span>
<a name="l00121"></a>00121   <span class="comment">// removal, or appending of children requires restyling the parent.</span>
<a name="l00122"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261ae2b9711347fbf37546f0dc50e53cde72">00122</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261ae2b9711347fbf37546f0dc50e53cde72">NODE_HAS_SLOW_SELECTOR</a> =                <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">NODE_FLAG_BIT</a>(11),
<a name="l00123"></a>00123 
<a name="l00124"></a>00124   <span class="comment">// A child of the node has a :first-child, :-moz-first-node,</span>
<a name="l00125"></a>00125   <span class="comment">// :only-child, :last-child or :-moz-last-node selector.</span>
<a name="l00126"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261aabc9e506ca3b5d28eb796355487dcefb">00126</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261aabc9e506ca3b5d28eb796355487dcefb">NODE_HAS_EDGE_CHILD_SELECTOR</a> =          <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">NODE_FLAG_BIT</a>(12),
<a name="l00127"></a>00127 
<a name="l00128"></a>00128   <span class="comment">// A child of the node has a selector such that any insertion or</span>
<a name="l00129"></a>00129   <span class="comment">// removal of children requires restyling later siblings of that</span>
<a name="l00130"></a>00130   <span class="comment">// element.  Additionally (in this manner it is stronger than</span>
<a name="l00131"></a>00131   <span class="comment">// NODE_HAS_SLOW_SELECTOR), if a child&#39;s style changes due to any</span>
<a name="l00132"></a>00132   <span class="comment">// other content tree changes (e.g., the child changes to or from</span>
<a name="l00133"></a>00133   <span class="comment">// matching :empty due to a grandchild insertion or removal), the</span>
<a name="l00134"></a>00134   <span class="comment">// child&#39;s later siblings must also be restyled.</span>
<a name="l00135"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a54660e01566fcf5177776eb7668e9ce1">00135</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a54660e01566fcf5177776eb7668e9ce1">NODE_HAS_SLOW_SELECTOR_LATER_SIBLINGS</a> = <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">NODE_FLAG_BIT</a>(13),
<a name="l00136"></a>00136 
<a name="l00137"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a762fb51af78eca50d4244fcc39c8f494">00137</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a762fb51af78eca50d4244fcc39c8f494">NODE_ALL_SELECTOR_FLAGS</a> =               <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261acef979ab9f13ea12cb2a994485e9b7a6">NODE_HAS_EMPTY_SELECTOR</a> |
<a name="l00138"></a>00138                                           <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261ae2b9711347fbf37546f0dc50e53cde72">NODE_HAS_SLOW_SELECTOR</a> |
<a name="l00139"></a>00139                                           <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261aabc9e506ca3b5d28eb796355487dcefb">NODE_HAS_EDGE_CHILD_SELECTOR</a> |
<a name="l00140"></a>00140                                           <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a54660e01566fcf5177776eb7668e9ce1">NODE_HAS_SLOW_SELECTOR_LATER_SIBLINGS</a>,
<a name="l00141"></a>00141 
<a name="l00142"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261ae413692ce1d1fa649da2f9f279e64f0d">00142</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261ae413692ce1d1fa649da2f9f279e64f0d">NODE_ATTACH_BINDING_ON_POSTCREATE</a> =     <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">NODE_FLAG_BIT</a>(14),
<a name="l00143"></a>00143 
<a name="l00144"></a>00144   <span class="comment">// This node needs to go through frame construction to get a frame (or</span>
<a name="l00145"></a>00145   <span class="comment">// undisplayed entry).</span>
<a name="l00146"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a16a9c5ef5be000959ecc221fe5398387">00146</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a16a9c5ef5be000959ecc221fe5398387">NODE_NEEDS_FRAME</a> =                      <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">NODE_FLAG_BIT</a>(15),
<a name="l00147"></a>00147 
<a name="l00148"></a>00148   <span class="comment">// At least one descendant in the flattened tree has NODE_NEEDS_FRAME set.</span>
<a name="l00149"></a>00149   <span class="comment">// This should be set on every node on the flattened tree path between the</span>
<a name="l00150"></a>00150   <span class="comment">// node(s) with NODE_NEEDS_FRAME and the root content.</span>
<a name="l00151"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a1f53717575b09e7f9c898e6c67744bf7">00151</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a1f53717575b09e7f9c898e6c67744bf7">NODE_DESCENDANTS_NEED_FRAMES</a> =          <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">NODE_FLAG_BIT</a>(16),
<a name="l00152"></a>00152 
<a name="l00153"></a>00153   <span class="comment">// Set if the node has the accesskey attribute set.</span>
<a name="l00154"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261aa88ed178c936091cca326b23a94b2085">00154</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261aa88ed178c936091cca326b23a94b2085">NODE_HAS_ACCESSKEY</a> =                    <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">NODE_FLAG_BIT</a>(17),
<a name="l00155"></a>00155 
<a name="l00156"></a><a class="code" href="../../d7/de8/classns_i_node.html#a79972f50ea6cc43b3e0791b6c17066de">00156</a>   <span class="comment">// Set if the node has right-to-left directionality</span>
<a name="l00157"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a9f9f1746f4095ca6ee526e69edfecbbb">00157</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a9f9f1746f4095ca6ee526e69edfecbbb">NODE_HAS_DIRECTION_RTL</a> =                <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">NODE_FLAG_BIT</a>(18),
<a name="l00158"></a>00158 
<a name="l00159"></a>00159   <span class="comment">// Set if the node has left-to-right directionality</span>
<a name="l00160"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a2b85b2d5b6baee3247b7448732cdc125">00160</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a2b85b2d5b6baee3247b7448732cdc125">NODE_HAS_DIRECTION_LTR</a> =                <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">NODE_FLAG_BIT</a>(19),
<a name="l00161"></a>00161 
<a name="l00162"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261aee1e337c213d37279798e87b5da54621">00162</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261aee1e337c213d37279798e87b5da54621">NODE_ALL_DIRECTION_FLAGS</a> =              <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a2b85b2d5b6baee3247b7448732cdc125">NODE_HAS_DIRECTION_LTR</a> |
<a name="l00163"></a>00163                                           <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a9f9f1746f4095ca6ee526e69edfecbbb">NODE_HAS_DIRECTION_RTL</a>,
<a name="l00164"></a><a class="code" href="../../d7/de8/classns_i_node.html#a6bb57a97340ccca9bdc55f8bb0b176f3">00164</a> 
<a name="l00165"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261ab3f23515be2172644537825b83674fc9">00165</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261ab3f23515be2172644537825b83674fc9">NODE_CHROME_ONLY_ACCESS</a> =               <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">NODE_FLAG_BIT</a>(20),
<a name="l00166"></a>00166 
<a name="l00167"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a4ffac6b9101a4609ef42c75b6dd3d8be">00167</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a4ffac6b9101a4609ef42c75b6dd3d8be">NODE_IS_ROOT_OF_CHROME_ONLY_ACCESS</a> =    <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7d74516b3562a23f25fc65b153342dd0">NODE_FLAG_BIT</a>(21),
<a name="l00168"></a>00168 
<a name="l00169"></a>00169   <span class="comment">// Remaining bits are node type specific.</span>
<a name="l00170"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261ab7e289f53c9a5fb3dd97c2441d9f6b4f">00170</a>   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261ab7e289f53c9a5fb3dd97c2441d9f6b4f">NODE_TYPE_SPECIFIC_BITS_OFFSET</a> =        22
<a name="l00171"></a>00171 };
<a name="l00172"></a><a class="code" href="../../d7/de8/classns_i_node.html#a4efe6932a1a0bf1562096a86b106a4cd">00172</a> 
<a name="l00173"></a>00173 <span class="comment">// Make sure we have space for our bits</span>
<a name="l00174"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a659b73a1f59060befe42344dbf45bafd">00174</a> <span class="preprocessor">#define ASSERT_NODE_FLAGS_SPACE(n) PR_STATIC_ASSERT(WRAPPER_CACHE_FLAGS_BITS_USED + (n) &lt;= 32)</span>
<a name="l00175"></a>00175 <span class="preprocessor"></span><a class="code" href="../../d8/db7/ns_i_node_8h.html#a659b73a1f59060befe42344dbf45bafd">ASSERT_NODE_FLAGS_SPACE</a>(<a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261ab7e289f53c9a5fb3dd97c2441d9f6b4f">NODE_TYPE_SPECIFIC_BITS_OFFSET</a>);
<a name="l00176"></a>00176 
<a name="l00200"></a><a class="code" href="../../d6/d43/classns_mutation_guard.html">00200</a> <span class="keyword">class </span><a class="code" href="../../d6/d43/classns_mutation_guard.html">nsMutationGuard</a> {
<a name="l00201"></a>00201 <span class="keyword">public</span>:
<a name="l00202"></a><a class="code" href="../../d6/d43/classns_mutation_guard.html#ab5d03fb2ba5b5461a76dd1173aabaa69">00202</a>   <a class="code" href="../../d6/d43/classns_mutation_guard.html#ab5d03fb2ba5b5461a76dd1173aabaa69">nsMutationGuard</a>()
<a name="l00203"></a>00203   {
<a name="l00204"></a>00204     mDelta = eMaxMutations - sMutationCount;
<a name="l00205"></a>00205     sMutationCount = eMaxMutations;
<a name="l00206"></a><a class="code" href="../../d7/de8/classns_i_node.html#aeb40cce352c06ca5744089d9a6fccbf8">00206</a>   }
<a name="l00207"></a><a class="code" href="../../d6/d43/classns_mutation_guard.html#aec9a060049a26edf45a3ae608fed9f56">00207</a>   <a class="code" href="../../d6/d43/classns_mutation_guard.html#aec9a060049a26edf45a3ae608fed9f56">~nsMutationGuard</a>()
<a name="l00208"></a>00208   {
<a name="l00209"></a>00209     sMutationCount =
<a name="l00210"></a>00210       mDelta &gt; sMutationCount ? 0 : sMutationCount - mDelta;
<a name="l00211"></a>00211   }
<a name="l00212"></a>00212 
<a name="l00217"></a><a class="code" href="../../d6/d43/classns_mutation_guard.html#a4744e1ec80650acaa0dfb06f007d1714">00217</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d6/d43/classns_mutation_guard.html#a4744e1ec80650acaa0dfb06f007d1714">Mutated</a>(uint8_t aIgnoreCount)
<a name="l00218"></a>00218   {
<a name="l00219"></a>00219     <span class="keywordflow">return</span> sMutationCount &lt; static_cast&lt;uint32_t&gt;(eMaxMutations - aIgnoreCount);
<a name="l00220"></a>00220   }
<a name="l00221"></a>00221 
<a name="l00222"></a><a class="code" href="../../d7/de8/classns_i_node.html#a78e87f675b8d615e8ac010a23c005a46">00222</a>   <span class="comment">// This function should be called whenever a mutation that we want to keep</span>
<a name="l00223"></a>00223   <span class="comment">// track of happen. For now this is only done when children are added or</span>
<a name="l00224"></a>00224   <span class="comment">// removed, but we might do it for attribute changes too in the future.</span>
<a name="l00225"></a><a class="code" href="../../d6/d43/classns_mutation_guard.html#abc1a1692da4d70ee073590f48ac03803">00225</a>   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/d43/classns_mutation_guard.html#abc1a1692da4d70ee073590f48ac03803">DidMutate</a>()
<a name="l00226"></a>00226   {
<a name="l00227"></a>00227     <span class="keywordflow">if</span> (sMutationCount) {
<a name="l00228"></a>00228       --sMutationCount;
<a name="l00229"></a>00229     }
<a name="l00230"></a><a class="code" href="../../d7/de8/classns_i_node.html#a9078362e32152a2a35bd9113ffc55f58">00230</a>   }
<a name="l00231"></a>00231 
<a name="l00232"></a>00232 <span class="keyword">private</span>:
<a name="l00233"></a>00233   <span class="comment">// mDelta is the amount sMutationCount was adjusted when the guard was</span>
<a name="l00234"></a>00234   <span class="comment">// initialized. It is needed so that we can undo that adjustment once</span>
<a name="l00235"></a>00235   <span class="comment">// the guard dies.</span>
<a name="l00236"></a>00236   uint32_t mDelta;
<a name="l00237"></a>00237 
<a name="l00238"></a><a class="code" href="../../d7/de8/classns_i_node.html#a53fc1109f9615b4e318a8f5ab8b85d7b">00238</a>   <span class="comment">// The value 300 is not important, as long as it is bigger then anything</span>
<a name="l00239"></a>00239   <span class="comment">// ever passed to Mutated().</span>
<a name="l00240"></a>00240   <span class="keyword">enum</span> { eMaxMutations = 300 };
<a name="l00241"></a>00241 
<a name="l00242"></a>00242   
<a name="l00243"></a>00243   <span class="comment">// sMutationCount is a global mutation counter which is decreased by one at</span>
<a name="l00244"></a>00244   <span class="comment">// every mutation. It is capped at 0 to avoid wrapping.</span>
<a name="l00245"></a>00245   <span class="comment">// Its value is always between 0 and 300, inclusive.</span>
<a name="l00246"></a><a class="code" href="../../d7/de8/classns_i_node.html#a4e88299c46a515d185da16fc2f5b6b54">00246</a>   <span class="keyword">static</span> uint32_t sMutationCount;
<a name="l00247"></a>00247 };
<a name="l00248"></a>00248 
<a name="l00249"></a>00249 <span class="comment">// Categories of node properties</span>
<a name="l00250"></a>00250 <span class="comment">// 0 is global.</span>
<a name="l00251"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#ae08c166f30853ec0af1b00ce42b3e953">00251</a> <span class="preprocessor">#define DOM_USER_DATA         1</span>
<a name="l00252"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a60cc8abeb7b3fddd05208289b1162efa">00252</a> <span class="preprocessor"></span><span class="preprocessor">#define DOM_USER_DATA_HANDLER 2</span>
<a name="l00253"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a5d23392adf639373e724bcaf62056a2f">00253</a> <span class="preprocessor"></span><span class="preprocessor">#define SMIL_MAPPED_ATTR_ANIMVAL 3</span>
<a name="l00254"></a><a class="code" href="../../d7/de8/classns_i_node.html#a8baf0767fcf0dcdbedfcf79e2546e72e">00254</a> <span class="preprocessor"></span>
<a name="l00255"></a>00255 <span class="comment">// IID for the nsINode interface</span>
<a name="l00256"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a798d8413ae636d77ebe9091ef7c9a356">00256</a> <span class="preprocessor">#define NS_INODE_IID \</span>
<a name="l00257"></a>00257 <span class="preprocessor">{ 0xe24a9ddc, 0x2979, 0x40e3, \</span>
<a name="l00258"></a>00258 <span class="preprocessor">  { 0x82, 0xb0, 0x9d, 0xf8, 0xb0, 0x41, 0xe5, 0x6a } }</span>
<a name="l00259"></a>00259 <span class="preprocessor"></span>
<a name="l00265"></a><a class="code" href="../../d7/de8/classns_i_node.html">00265</a> <span class="keyword">class </span><a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a> : <span class="keyword">public</span> mozilla::<a class="code" href="../../da/dce/details__test_8js.html#a017102f866db15b37d9657454efde4ff">dom</a>::<a class="code" href="../../d6/da6/class_event_target.html">EventTarget</a>
<a name="l00266"></a>00266 {
<a name="l00267"></a>00267 <span class="keyword">public</span>:
<a name="l00268"></a>00268   <a class="code" href="../../d9/d0a/ns_i_d_8h.html#ab2e83258854a9633645a84fd907d9e48">NS_DECLARE_STATIC_IID_ACCESSOR</a>(<a class="code" href="../../d8/db7/ns_i_node_8h.html#a798d8413ae636d77ebe9091ef7c9a356">NS_INODE_IID</a>)
<a name="l00269"></a>00269 
<a name="l00270"></a><a class="code" href="../../d7/de8/classns_i_node.html#a886281107f3e03d936a3f13844672260">00270</a>   <span class="comment">// Among the sub-classes that inherit (directly or indirectly) from nsINode,</span>
<a name="l00271"></a>00271   <span class="comment">// measurement of the following members may be added later if DMD finds it is</span>
<a name="l00272"></a>00272   <span class="comment">// worthwhile:</span>
<a name="l00273"></a>00273   <span class="comment">// - nsGenericHTMLElement:  mForm, mFieldSet</span>
<a name="l00274"></a>00274   <span class="comment">// - nsGenericHTMLFrameElement: mFrameLoader (bug 672539)</span>
<a name="l00275"></a>00275   <span class="comment">// - HTMLBodyElement:       mContentStyleRule</span>
<a name="l00276"></a>00276   <span class="comment">// - HTMLDataListElement:   mOptions</span>
<a name="l00277"></a>00277   <span class="comment">// - HTMLFieldSetElement:   mElements, mDependentElements, mFirstLegend</span>
<a name="l00278"></a><a class="code" href="../../d7/de8/classns_i_node.html#a509ab62303f2020585cbd2b233d70389">00278</a>   <span class="comment">// - HTMLFormElement:       many!</span>
<a name="l00279"></a>00279   <span class="comment">// - HTMLFrameSetElement:   mRowSpecs, mColSpecs</span>
<a name="l00280"></a>00280   <span class="comment">// - HTMLInputElement:      mInputData, mFiles, mFileList, mStaticDocfileList</span>
<a name="l00281"></a>00281   <span class="comment">// - nsHTMLMapElement:      mAreas</span>
<a name="l00282"></a>00282   <span class="comment">// - HTMLMediaElement:      many!</span>
<a name="l00283"></a>00283   <span class="comment">// - nsHTMLOutputElement:   mDefaultValue, mTokenList</span>
<a name="l00284"></a>00284   <span class="comment">// - nsHTMLRowElement:      mCells</span>
<a name="l00285"></a>00285   <span class="comment">// - nsHTMLSelectElement:   mOptions, mRestoreState</span>
<a name="l00286"></a><a class="code" href="../../d7/de8/classns_i_node.html#a4a3e85faab56e684e2bc2cad3053e0f2">00286</a>   <span class="comment">// - nsHTMLTableElement:    mTBodies, mRows, mTableInheritedAttributes</span>
<a name="l00287"></a>00287   <span class="comment">// - nsHTMLTableSectionElement: mRows</span>
<a name="l00288"></a>00288   <span class="comment">// - nsHTMLTextAreaElement: mControllers, mState</span>
<a name="l00289"></a>00289   <span class="comment">//</span>
<a name="l00290"></a>00290   <span class="comment">// The following members don&#39;t need to be measured:</span>
<a name="l00291"></a>00291   <span class="comment">// - nsIContent: mPrimaryFrame, because it&#39;s non-owning and measured elsewhere</span>
<a name="l00292"></a>00292   <span class="comment">//</span>
<a name="l00293"></a>00293   <a class="code" href="../../d2/dd2/ns_window_memory_reporter_8h.html#a0401ea4889947fbe68bca132cab3a8aa">NS_DECL_SIZEOF_EXCLUDING_THIS</a>
<a name="l00294"></a><a class="code" href="../../d7/de8/classns_i_node.html#a2bc7bfae12db75224a8f23546a1c1e6f">00294</a> 
<a name="l00295"></a>00295   <span class="comment">// SizeOfIncludingThis doesn&#39;t need to be overridden by sub-classes because</span>
<a name="l00296"></a>00296   <span class="comment">// sub-classes of nsINode are guaranteed to be laid out in memory in such a</span>
<a name="l00297"></a>00297   <span class="comment">// way that |this| points to the start of the allocated object, even in</span>
<a name="l00298"></a>00298   <span class="comment">// methods of nsINode&#39;s sub-classes, and so |aMallocSizeOf(this)| is always</span>
<a name="l00299"></a>00299   <span class="comment">// safe to call no matter which object it was invoked on.</span>
<a name="l00300"></a><a class="code" href="../../d7/de8/classns_i_node.html#a81dd2a5da73b48a0d5d4c50d11cc9f09">00300</a>   virtual <span class="keywordtype">size_t</span> <a class="code" href="../../d7/de8/classns_i_node.html#a81dd2a5da73b48a0d5d4c50d11cc9f09">SizeOfIncludingThis</a>(mozilla::MallocSizeOf aMallocSizeOf)<span class="keyword"> const </span>{
<a name="l00301"></a>00301     <span class="keywordflow">return</span> aMallocSizeOf(<span class="keyword">this</span>) + SizeOfExcludingThis(aMallocSizeOf);
<a name="l00302"></a>00302   }
<a name="l00303"></a>00303 
<a name="l00304"></a><a class="code" href="../../d7/de8/classns_i_node.html#a15d4881c769b65da9b248a37711f33d0">00304</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../d7/dcd/classns_node_utils.html">nsNodeUtils</a>;
<a name="l00305"></a><a class="code" href="../../d7/de8/classns_i_node.html#a12eb35da1673f0b6ddb9bc2d6a6833e2">00305</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../d7/de8/classns_i_node.html#a12eb35da1673f0b6ddb9bc2d6a6833e2">nsNodeWeakReference</a>;
<a name="l00306"></a><a class="code" href="../../d7/de8/classns_i_node.html#ae02e8d533f7bd8107596e234abe594d8">00306</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../d7/de8/classns_i_node.html#ae02e8d533f7bd8107596e234abe594d8">nsNodeSupportsWeakRefTearoff</a>;
<a name="l00307"></a><a class="code" href="../../d7/de8/classns_i_node.html#a977a5db0a07cb795f8f58d1f2b12b1f8">00307</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../dc/d0a/classns_attr_and_child_array.html">nsAttrAndChildArray</a>;
<a name="l00308"></a>00308 
<a name="l00309"></a>00309 <span class="preprocessor">#ifdef MOZILLA_INTERNAL_API</span>
<a name="l00310"></a>00310 <span class="preprocessor"></span><span class="preprocessor">#ifdef _MSC_VER</span>
<a name="l00311"></a>00311 <span class="preprocessor"></span><span class="preprocessor">#pragma warning(push)</span>
<a name="l00312"></a><a class="code" href="../../d7/de8/classns_i_node.html#a76e9e5f13d0841a1e08767d7b55a62bf">00312</a> <span class="preprocessor"></span><span class="comment">// Disable annoying warning about &#39;this&#39; in initializers.</span>
<a name="l00313"></a>00313 <span class="preprocessor">#pragma warning(disable:4355)</span>
<a name="l00314"></a>00314 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00315"></a>00315 <span class="preprocessor"></span>  <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>(<a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;nsINodeInfo&gt;</a> aNodeInfo)
<a name="l00316"></a>00316   : <a class="code" href="../../d7/de8/classns_i_node.html#a25654899a417edafdde2600a3bd43cad">mNodeInfo</a>(aNodeInfo),
<a name="l00317"></a>00317     <a class="code" href="../../d7/de8/classns_i_node.html#ac533ad3091bcc03a2744769ed3ef7c9e">mParent</a>(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a0fd163987980515e24ce34fc3926206d">nullptr</a>),
<a name="l00318"></a>00318     mBoolFlags(0),
<a name="l00319"></a>00319     <a class="code" href="../../d7/de8/classns_i_node.html#a8538e01ba1cf4bca071510e6d0ace124">mNextSibling</a>(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a0fd163987980515e24ce34fc3926206d">nullptr</a>),
<a name="l00320"></a><a class="code" href="../../d7/de8/classns_i_node.html#ae2d0a56ad9a79a0696b29c511ce7f532">00320</a>     <a class="code" href="../../d7/de8/classns_i_node.html#a2e475b98381dfa56f5137adc64cfdf81">mPreviousSibling</a>(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a0fd163987980515e24ce34fc3926206d">nullptr</a>),
<a name="l00321"></a>00321     <a class="code" href="../../d7/de8/classns_i_node.html#a4c15a621ec9d0aca35cdf80e1b98fd28">mFirstChild</a>(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a0fd163987980515e24ce34fc3926206d">nullptr</a>),
<a name="l00322"></a>00322     <a class="code" href="../../d7/de8/classns_i_node.html#ab5503198400cd74e91ce0ef1981973f7">mSubtreeRoot</a>(<a class="code" href="../../d5/d09/apps_2email_2test_2integration_2_r_e_a_d_m_e_8md.html#ad995d7ecb156c0e4738ce089b58e2714">this</a>),
<a name="l00323"></a>00323     <a class="code" href="../../d7/de8/classns_i_node.html#ad52410ad1a5d6d7a877bb1735885060b">mSlots</a>(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a0fd163987980515e24ce34fc3926206d">nullptr</a>)
<a name="l00324"></a>00324   {
<a name="l00325"></a>00325     <a class="code" href="../../d0/d7e/classns_wrapper_cache.html#a5ea5c4e8480b26f2442e58b8c90dfcf8">SetIsDOMBinding</a>();
<a name="l00326"></a>00326   }
<a name="l00327"></a>00327 
<a name="l00328"></a><a class="code" href="../../d7/de8/classns_i_node.html#af387798e48571300bd10880904465332">00328</a> <span class="preprocessor">#ifdef _MSC_VER</span>
<a name="l00329"></a>00329 <span class="preprocessor"></span><span class="preprocessor">#pragma warning(pop)</span>
<a name="l00330"></a>00330 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00331"></a>00331 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00332"></a>00332 <span class="preprocessor"></span>
<a name="l00333"></a>00333   <span class="keyword">virtual</span> <a class="code" href="../../d7/de8/classns_i_node.html#a8dc81c70337fef48ad9c4589b031ac3e">~nsINode</a>();
<a name="l00334"></a>00334 
<a name="l00338"></a>00338   <span class="keyword">enum</span> {
<a name="l00340"></a><a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defca90846414b5e1d2da8cdb3987afbf8ce0">00340</a>     <a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defca90846414b5e1d2da8cdb3987afbf8ce0">eCONTENT</a>             = 1 &lt;&lt; 0,
<a name="l00342"></a><a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defca678b92dcaf77dab5271b461eb382adc3">00342</a>     <a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defca678b92dcaf77dab5271b461eb382adc3">eDOCUMENT</a>            = 1 &lt;&lt; 1,
<a name="l00344"></a><a class="code" href="../../d7/de8/classns_i_node.html#a65472e6aa7df0f5f1a313e9dff801132">00344</a>     <a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defcadc381ff48e4a407889228c8653807cca">eATTRIBUTE</a>           = 1 &lt;&lt; 2,
<a name="l00346"></a><a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defcaeabd265b30ee2875ce052c4ea13d7559">00346</a>     <a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defcaeabd265b30ee2875ce052c4ea13d7559">eTEXT</a>                = 1 &lt;&lt; 3,
<a name="l00348"></a><a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defcab0516171db87cc54027a5d800241d8ee">00348</a>     <a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defcab0516171db87cc54027a5d800241d8ee">ePROCESSING_INSTRUCTION</a> = 1 &lt;&lt; 4,
<a name="l00350"></a><a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defca6d98321f37c310ed68480fb21f517e38">00350</a>     <a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defca6d98321f37c310ed68480fb21f517e38">eCOMMENT</a>             = 1 &lt;&lt; 5,
<a name="l00352"></a><a class="code" href="../../d7/de8/classns_i_node.html#ace4bf37aeb0e1ec467b9bcb479bd8840">00352</a>     <a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defca473a6abc61b43e4bda096524df2f54bf">eHTML_FORM_CONTROL</a>   = 1 &lt;&lt; 6,
<a name="l00354"></a><a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defca5f8ff1097a48d3e41cb2b46e5dec2763">00354</a>     <a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defca5f8ff1097a48d3e41cb2b46e5dec2763">eDOCUMENT_FRAGMENT</a>   = 1 &lt;&lt; 7,
<a name="l00357"></a><a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defcafe9fb6e2be684ebfd45f570b8e74e798">00357</a>     <a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defcafe9fb6e2be684ebfd45f570b8e74e798">eDATA_NODE</a>           = 1 &lt;&lt; 8,
<a name="l00359"></a><a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defca7cd3318ded4fcf49179c709970e37ada">00359</a>     <a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defca7cd3318ded4fcf49179c709970e37ada">eMEDIA</a>               = 1 &lt;&lt; 9,
<a name="l00361"></a><a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defca4ae837583a119824ca6190b0e5a91068">00361</a>     <a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defca4ae837583a119824ca6190b0e5a91068">eANIMATION</a>           = 1 &lt;&lt; 10,
<a name="l00363"></a><a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defcab050a53e3c8947f112efaecea0a1aef5">00363</a>     <a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defcab050a53e3c8947f112efaecea0a1aef5">eFILTER</a>              = 1 &lt;&lt; 11
<a name="l00364"></a>00364   };
<a name="l00365"></a>00365 
<a name="l00374"></a>00374   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#ac6293f5472258074686143670a0fa8a5">IsNodeOfType</a>(uint32_t aFlags) <span class="keyword">const</span> = 0;
<a name="l00375"></a>00375 
<a name="l00376"></a><a class="code" href="../../d7/de8/classns_i_node.html#aa3d02266a37179e7071f3a96706f8d93">00376</a>   <span class="keyword">virtual</span> JSObject* <a class="code" href="../../d7/de8/classns_i_node.html#af858a5c85773ee758ad7724cd1d6d5a0">WrapObject</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *aCx,
<a name="l00377"></a>00377                                <a class="code" href="../../df/dfb/class_j_s_1_1_handle.html">JS::Handle&lt;JSObject*&gt;</a> aScope) MOZ_OVERRIDE;
<a name="l00378"></a>00378 
<a name="l00379"></a>00379 <span class="keyword">protected</span>:
<a name="l00385"></a><a class="code" href="../../d7/de8/classns_i_node.html#ae5b2e54a20c02a31ab74cbe9787780bf">00385</a>   <span class="keyword">virtual</span> JSObject* <a class="code" href="../../d7/de8/classns_i_node.html#ae5b2e54a20c02a31ab74cbe9787780bf">WrapNode</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *aCx, <a class="code" href="../../df/dfb/class_j_s_1_1_handle.html">JS::Handle&lt;JSObject*&gt;</a> aScope)
<a name="l00386"></a>00386   {
<a name="l00387"></a>00387     <a class="code" href="../../d9/de9/_assertions_8h.html#aa2fa77a048d036cb2f902299ace18165">MOZ_ASSERT</a>(!<a class="code" href="../../d0/d7e/classns_wrapper_cache.html#a76ccab4b4d84ec3fb4e795b5c2d4bb16">IsDOMBinding</a>(), <span class="stringliteral">&quot;Someone forgot to override WrapNode&quot;</span>);
<a name="l00388"></a>00388     <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;
<a name="l00389"></a>00389   }
<a name="l00390"></a>00390 
<a name="l00391"></a>00391 <span class="keyword">public</span>:
<a name="l00392"></a><a class="code" href="../../d7/de8/classns_i_node.html#af77cb318a8e727fb912ae021eda61f70">00392</a>   <a class="code" href="../../de/dd1/classns_i_document.html">nsIDocument</a>* <a class="code" href="../../d7/de8/classns_i_node.html#af77cb318a8e727fb912ae021eda61f70">GetParentObject</a>()<span class="keyword"> const</span>
<a name="l00393"></a>00393 <span class="keyword">  </span>{
<a name="l00394"></a><a class="code" href="../../d7/de8/classns_i_node.html#a014abd54e2dde35594da8a219c9c1211">00394</a>     <span class="comment">// Make sure that we get the owner document of the content node, in case</span>
<a name="l00395"></a>00395     <span class="comment">// we&#39;re in document teardown.  If we are, it&#39;s important to *not* use</span>
<a name="l00396"></a>00396     <span class="comment">// globalObj as the node&#39;s parent since that would give the node the</span>
<a name="l00397"></a>00397     <span class="comment">// principal of globalObj (i.e. the principal of the document that&#39;s being</span>
<a name="l00398"></a>00398     <span class="comment">// loaded) and not the principal of the document that&#39;s being unloaded.</span>
<a name="l00399"></a>00399     <span class="comment">// See http://bugzilla.mozilla.org/show_bug.cgi?id=227417</span>
<a name="l00400"></a>00400     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a7cb3c34a9113d4582d05203eb1b9f369">OwnerDoc</a>();
<a name="l00401"></a>00401   }
<a name="l00402"></a><a class="code" href="../../d7/de8/classns_i_node.html#a2eee0d637f054f33fdda032bb6d2b411">00402</a> 
<a name="l00406"></a><a class="code" href="../../d7/de8/classns_i_node.html#a5e273273a1c2bf082dfb325cb8c671c4">00406</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a5e273273a1c2bf082dfb325cb8c671c4">IsElement</a>()<span class="keyword"> const </span>{
<a name="l00407"></a>00407     <span class="keywordflow">return</span> GetBoolFlag(NodeIsElement);
<a name="l00408"></a>00408   }
<a name="l00409"></a>00409 
<a name="l00414"></a>00414   <a class="code" href="../../de/da4/classmozilla_1_1dom_1_1_element.html">mozilla::dom::Element</a>* <a class="code" href="../../d7/de8/classns_i_node.html#aa473742db31593ae957c6d88dce907ce">AsElement</a>();
<a name="l00415"></a>00415   <span class="keyword">const</span> <a class="code" href="../../de/da4/classmozilla_1_1dom_1_1_element.html">mozilla::dom::Element</a>* <a class="code" href="../../d7/de8/classns_i_node.html#aa473742db31593ae957c6d88dce907ce">AsElement</a>() <span class="keyword">const</span>;
<a name="l00416"></a>00416 
<a name="l00421"></a>00421   <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* <a class="code" href="../../d7/de8/classns_i_node.html#ade91acef13f87f8ce560f77b7d49591e">AsContent</a>();
<a name="l00422"></a>00422 
<a name="l00423"></a>00423   <span class="keyword">virtual</span> <a class="code" href="../../da/da2/interfacens_i_d_o_m_node.html">nsIDOMNode</a>* <a class="code" href="../../d7/de8/classns_i_node.html#ada3d08d22d593b2b6fa40b2c33182907">AsDOMNode</a>() = 0;
<a name="l00424"></a>00424 
<a name="l00428"></a><a class="code" href="../../d7/de8/classns_i_node.html#ac5d457504843b217492dadbc0008d34d">00428</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#ac5d457504843b217492dadbc0008d34d">HasChildren</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !!<a class="code" href="../../d7/de8/classns_i_node.html#a4c15a621ec9d0aca35cdf80e1b98fd28">mFirstChild</a>; }
<a name="l00429"></a>00429 
<a name="l00434"></a>00434   <span class="keyword">virtual</span> uint32_t <a class="code" href="../../d7/de8/classns_i_node.html#ac028d2b136db4166850a7b5b0eb77af1">GetChildCount</a>() <span class="keyword">const</span> = 0;
<a name="l00435"></a>00435 
<a name="l00441"></a>00441   <span class="keyword">virtual</span> <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* <a class="code" href="../../d7/de8/classns_i_node.html#ad9e9c152fcde2e62ec4adf260fca50a1">GetChildAt</a>(uint32_t aIndex) <span class="keyword">const</span> = 0;
<a name="l00442"></a>00442 
<a name="l00452"></a>00452   <span class="keyword">virtual</span> <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a> * <span class="keyword">const</span> * <a class="code" href="../../d7/de8/classns_i_node.html#a41ab7faa84ba4f74465fff510db6f483">GetChildArray</a>(uint32_t* aChildCount) <span class="keyword">const</span> = 0;
<a name="l00453"></a>00453 
<a name="l00462"></a>00462   <span class="keyword">virtual</span> int32_t <a class="code" href="../../d7/de8/classns_i_node.html#a23626832f2578b0f98b84e414ac21f68">IndexOf</a>(<span class="keyword">const</span> <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* aPossibleChild) <span class="keyword">const</span> = 0;
<a name="l00463"></a>00463 
<a name="l00470"></a><a class="code" href="../../d7/de8/classns_i_node.html#a7cb3c34a9113d4582d05203eb1b9f369">00470</a>   <a class="code" href="../../de/dd1/classns_i_document.html">nsIDocument</a> *<a class="code" href="../../d7/de8/classns_i_node.html#a7cb3c34a9113d4582d05203eb1b9f369">OwnerDoc</a>()<span class="keyword"> const</span>
<a name="l00471"></a><a class="code" href="../../d7/de8/classns_i_node.html#adc4395dbddf0c7bdd2ad3ef13a0dd25c">00471</a> <span class="keyword">  </span>{
<a name="l00472"></a>00472     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a25654899a417edafdde2600a3bd43cad">mNodeInfo</a>-&gt;GetDocument();
<a name="l00473"></a>00473   }
<a name="l00474"></a>00474 
<a name="l00479"></a><a class="code" href="../../d7/de8/classns_i_node.html#a3cddcf1d72c3e4fe47f571d3bd8c3788">00479</a>   <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a> *<a class="code" href="../../d7/de8/classns_i_node.html#aabda456554d60101d90937bc0f12cde6">OwnerDocAsNode</a>() <span class="keyword">const</span>;
<a name="l00480"></a>00480 
<a name="l00486"></a><a class="code" href="../../d7/de8/classns_i_node.html#a070c7454ede1ff68b618d0c39744f467">00486</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a070c7454ede1ff68b618d0c39744f467">IsInDoc</a>()<span class="keyword"> const</span>
<a name="l00487"></a><a class="code" href="../../d7/de8/classns_i_node.html#af7bf5c71cd720dff8eae64ce530f3f42">00487</a> <span class="keyword">  </span>{
<a name="l00488"></a>00488     <span class="keywordflow">return</span> GetBoolFlag(IsInDocument);
<a name="l00489"></a>00489   }
<a name="l00490"></a>00490 
<a name="l00497"></a><a class="code" href="../../d7/de8/classns_i_node.html#ad04a0d23ca09b1a96fea3d2ef70e54e9">00497</a>   <a class="code" href="../../de/dd1/classns_i_document.html">nsIDocument</a> *<a class="code" href="../../d7/de8/classns_i_node.html#ad04a0d23ca09b1a96fea3d2ef70e54e9">GetCurrentDoc</a>()<span class="keyword"> const</span>
<a name="l00498"></a>00498 <span class="keyword">  </span>{
<a name="l00499"></a>00499     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a070c7454ede1ff68b618d0c39744f467">IsInDoc</a>() ? <a class="code" href="../../d7/de8/classns_i_node.html#a7cb3c34a9113d4582d05203eb1b9f369">OwnerDoc</a>() : <span class="keyword">nullptr</span>;
<a name="l00500"></a>00500   }
<a name="l00501"></a>00501 
<a name="l00506"></a><a class="code" href="../../d7/de8/classns_i_node.html#acfb6e109073c0cb85a08ff480f33cab1">00506</a>   uint16_t <a class="code" href="../../d7/de8/classns_i_node.html#acfb6e109073c0cb85a08ff480f33cab1">NodeType</a>()<span class="keyword"> const</span>
<a name="l00507"></a>00507 <span class="keyword">  </span>{
<a name="l00508"></a>00508     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a25654899a417edafdde2600a3bd43cad">mNodeInfo</a>-&gt;NodeType();
<a name="l00509"></a>00509   }
<a name="l00510"></a><a class="code" href="../../d7/de8/classns_i_node.html#abe6b2d5576d066ccefdda8173a45b495">00510</a>   <span class="keyword">const</span> nsString&amp; <a class="code" href="../../d7/de8/classns_i_node.html#abe6b2d5576d066ccefdda8173a45b495">NodeName</a>()<span class="keyword"> const</span>
<a name="l00511"></a><a class="code" href="../../d7/de8/classns_i_node.html#ace05437e31172b85ceb22ee530945e2f">00511</a> <span class="keyword">  </span>{
<a name="l00512"></a>00512     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a25654899a417edafdde2600a3bd43cad">mNodeInfo</a>-&gt;NodeName();
<a name="l00513"></a>00513   }
<a name="l00514"></a><a class="code" href="../../d7/de8/classns_i_node.html#ad334bc54a7a56a77e79a5e45111a63ee">00514</a>   <span class="keyword">const</span> nsString&amp; <a class="code" href="../../d7/de8/classns_i_node.html#ad334bc54a7a56a77e79a5e45111a63ee">LocalName</a>()<span class="keyword"> const</span>
<a name="l00515"></a>00515 <span class="keyword">  </span>{
<a name="l00516"></a>00516     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a25654899a417edafdde2600a3bd43cad">mNodeInfo</a>-&gt;LocalName();
<a name="l00517"></a>00517   }
<a name="l00518"></a>00518 
<a name="l00525"></a><a class="code" href="../../d7/de8/classns_i_node.html#a5f74751c2855698eb0640f027ffa061f">00525</a>   <a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a5f74751c2855698eb0640f027ffa061f">Tag</a>()<span class="keyword"> const</span>
<a name="l00526"></a>00526 <span class="keyword">  </span>{
<a name="l00527"></a><a class="code" href="../../d7/de8/classns_i_node.html#a23e85117a68aa257b93ad6857be191c1">00527</a>     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a25654899a417edafdde2600a3bd43cad">mNodeInfo</a>-&gt;NameAtom();
<a name="l00528"></a>00528   }
<a name="l00529"></a>00529 
<a name="l00550"></a>00550   <span class="keyword">virtual</span> <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#a05ca17abef9a9f075a95c04a190b1cee">InsertChildAt</a>(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aKid, uint32_t aIndex,
<a name="l00551"></a>00551                                  <span class="keywordtype">bool</span> aNotify) = 0;
<a name="l00552"></a>00552 
<a name="l00571"></a><a class="code" href="../../d7/de8/classns_i_node.html#aca2d55ecc0fc9a668190ad962cbe27c2">00571</a>   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#a1bb03ae6fe23fa6c7a516d87bdaa0670">AppendChildTo</a>(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aKid, <span class="keywordtype">bool</span> aNotify)
<a name="l00572"></a>00572   {
<a name="l00573"></a>00573     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a05ca17abef9a9f075a95c04a190b1cee">InsertChildAt</a>(aKid, <a class="code" href="../../d7/de8/classns_i_node.html#ac028d2b136db4166850a7b5b0eb77af1">GetChildCount</a>(), aNotify);
<a name="l00574"></a>00574   }
<a name="l00575"></a>00575   
<a name="l00587"></a>00587   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a9bc2474e3dca3cd17344847e6b28477e">RemoveChildAt</a>(uint32_t aIndex, <span class="keywordtype">bool</span> aNotify) = 0;
<a name="l00588"></a><a class="code" href="../../d7/de8/classns_i_node.html#a521485246afc65c672e9972db1961f12">00588</a> 
<a name="l00600"></a><a class="code" href="../../d7/de8/classns_i_node.html#ae3f7b718a3f2aaa918ce7f3435518d46">00600</a>   <span class="keywordtype">void</span>* <a class="code" href="../../d7/de8/classns_i_node.html#ae3f7b718a3f2aaa918ce7f3435518d46">GetProperty</a>(<a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a> *aPropertyName,
<a name="l00601"></a>00601                     <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> *aStatus = <span class="keyword">nullptr</span>)<span class="keyword"> const</span>
<a name="l00602"></a>00602 <span class="keyword">  </span>{
<a name="l00603"></a>00603     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#ae3f7b718a3f2aaa918ce7f3435518d46">GetProperty</a>(0, aPropertyName, aStatus);
<a name="l00604"></a>00604   }
<a name="l00605"></a>00605 
<a name="l00618"></a><a class="code" href="../../d7/de8/classns_i_node.html#af4f33f2e5f01178e9621ef45f6ef6852">00618</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span>* <a class="code" href="../../d7/de8/classns_i_node.html#ae3f7b718a3f2aaa918ce7f3435518d46">GetProperty</a>(uint16_t aCategory,
<a name="l00619"></a>00619                             <a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a> *aPropertyName,
<a name="l00620"></a>00620                             <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> *aStatus = <span class="keyword">nullptr</span>) <span class="keyword">const</span>;
<a name="l00621"></a>00621 
<a name="l00639"></a><a class="code" href="../../d7/de8/classns_i_node.html#a8545010fd2aa95fa6f4b6d451b111e33">00639</a>   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#a8545010fd2aa95fa6f4b6d451b111e33">SetProperty</a>(<a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a> *aPropertyName,
<a name="l00640"></a>00640                        <span class="keywordtype">void</span> *aValue,
<a name="l00641"></a>00641                        <a class="code" href="../../d9/d65/ns_property_table_8h.html#a1d3d40943d28a1c3baed2c364fbf9d2a">NSPropertyDtorFunc</a> aDtor = <span class="keyword">nullptr</span>,
<a name="l00642"></a><a class="code" href="../../d7/de8/classns_i_node.html#a985edbdf14751a9898682b0735ad100d">00642</a>                        <span class="keywordtype">bool</span> aTransfer = <span class="keyword">false</span>)
<a name="l00643"></a>00643   {
<a name="l00644"></a>00644     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a8545010fd2aa95fa6f4b6d451b111e33">SetProperty</a>(0, aPropertyName, aValue, aDtor, aTransfer);
<a name="l00645"></a>00645   }
<a name="l00646"></a>00646 
<a name="l00666"></a><a class="code" href="../../d7/de8/classns_i_node.html#a19bdcca6ec65a4f471bb5287c8217530">00666</a>   <span class="keyword">virtual</span> <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#a8545010fd2aa95fa6f4b6d451b111e33">SetProperty</a>(uint16_t aCategory,
<a name="l00667"></a>00667                                <a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a> *aPropertyName,
<a name="l00668"></a>00668                                <span class="keywordtype">void</span> *aValue,
<a name="l00669"></a>00669                                <a class="code" href="../../d9/d65/ns_property_table_8h.html#a1d3d40943d28a1c3baed2c364fbf9d2a">NSPropertyDtorFunc</a> aDtor = <span class="keyword">nullptr</span>,
<a name="l00670"></a>00670                                <span class="keywordtype">bool</span> aTransfer = <span class="keyword">false</span>,
<a name="l00671"></a>00671                                <span class="keywordtype">void</span> **aOldValue = <span class="keyword">nullptr</span>);
<a name="l00672"></a>00672 
<a name="l00679"></a><a class="code" href="../../d7/de8/classns_i_node.html#a50b396ebeff55e18373634b27f8b6789">00679</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a50b396ebeff55e18373634b27f8b6789">DeleteProperty</a>(<a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a> *aPropertyName)
<a name="l00680"></a>00680   {
<a name="l00681"></a>00681     <a class="code" href="../../d7/de8/classns_i_node.html#a50b396ebeff55e18373634b27f8b6789">DeleteProperty</a>(0, aPropertyName);
<a name="l00682"></a><a class="code" href="../../d7/de8/classns_i_node.html#ac6a9526204247b007a2467fe97c92012">00682</a>   }
<a name="l00683"></a>00683 
<a name="l00691"></a>00691   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a50b396ebeff55e18373634b27f8b6789">DeleteProperty</a>(uint16_t aCategory, <a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a> *aPropertyName);
<a name="l00692"></a><a class="code" href="../../d7/de8/classns_i_node.html#a712c5758e8cc0877ae8ee55528b05c5f">00692</a> 
<a name="l00706"></a><a class="code" href="../../d7/de8/classns_i_node.html#a1a6bbecd50f3554f1cf11f0e47e3ea4a">00706</a>   <span class="keywordtype">void</span>* <a class="code" href="../../d7/de8/classns_i_node.html#a1a6bbecd50f3554f1cf11f0e47e3ea4a">UnsetProperty</a>(<a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a>  *aPropertyName,
<a name="l00707"></a>00707                       <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> *aStatus = <span class="keyword">nullptr</span>)
<a name="l00708"></a><a class="code" href="../../d7/de8/classns_i_node.html#ab84a803d6e6f48e8d231599f4d1ff276">00708</a>   {
<a name="l00709"></a>00709     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a1a6bbecd50f3554f1cf11f0e47e3ea4a">UnsetProperty</a>(0, aPropertyName, aStatus);
<a name="l00710"></a>00710   }
<a name="l00711"></a>00711 
<a name="l00726"></a>00726   <span class="keyword">virtual</span> <span class="keywordtype">void</span>* <a class="code" href="../../d7/de8/classns_i_node.html#a1a6bbecd50f3554f1cf11f0e47e3ea4a">UnsetProperty</a>(uint16_t aCategory,
<a name="l00727"></a>00727                               <a class="code" href="../../dc/dcf/interfacens_i_atom.html">nsIAtom</a> *aPropertyName,
<a name="l00728"></a>00728                               <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> *aStatus = <span class="keyword">nullptr</span>);
<a name="l00729"></a>00729   
<a name="l00730"></a><a class="code" href="../../d7/de8/classns_i_node.html#afdc628438a726b2342a15b99ed20cd25">00730</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#afdc628438a726b2342a15b99ed20cd25">HasProperties</a>()<span class="keyword"> const</span>
<a name="l00731"></a>00731 <span class="keyword">  </span>{
<a name="l00732"></a>00732     <span class="keywordflow">return</span> <a class="code" href="../../d0/d7e/classns_wrapper_cache.html#a7abd41d540e95eaf14c70b8d5e95a396">HasFlag</a>(<a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a0341d7029598eb39c3df1d31ad1bf3d7">NODE_HAS_PROPERTIES</a>);
<a name="l00733"></a><a class="code" href="../../d7/de8/classns_i_node.html#aacc623c79367ffc4ce13fa2adfdcba99">00733</a>   }
<a name="l00734"></a>00734 
<a name="l00739"></a><a class="code" href="../../d7/de8/classns_i_node.html#a96e496b30451400453bea01e4eb20532">00739</a>   <a class="code" href="../../d5/d7f/interfacens_i_principal.html">nsIPrincipal</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a96e496b30451400453bea01e4eb20532">NodePrincipal</a>()<span class="keyword"> const </span>{
<a name="l00740"></a>00740     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a25654899a417edafdde2600a3bd43cad">mNodeInfo</a>-&gt;NodeInfoManager()-&gt;DocumentPrincipal();
<a name="l00741"></a>00741   }
<a name="l00742"></a>00742 
<a name="l00747"></a><a class="code" href="../../d7/de8/classns_i_node.html#a6bf01da8110fa6ff31ecc198a7d206dc">00747</a>   <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a6bf01da8110fa6ff31ecc198a7d206dc">GetParent</a>()<span class="keyword"> const </span>{
<a name="l00748"></a>00748     <span class="keywordflow">return</span> <a class="code" href="../../d1/d8a/_likely_8h.html#a236550174793fca82d1650c15d4f85da">MOZ_LIKELY</a>(GetBoolFlag(ParentIsContent)) ?
<a name="l00749"></a>00749       <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d7/de8/classns_i_node.html#ac533ad3091bcc03a2744769ed3ef7c9e">mParent</a>) : <span class="keyword">nullptr</span>;
<a name="l00750"></a>00750   }
<a name="l00751"></a>00751 
<a name="l00757"></a><a class="code" href="../../d7/de8/classns_i_node.html#a2e9d8ed881bc4d5e48f6d1e2a0177ca1">00757</a>   <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a2e9d8ed881bc4d5e48f6d1e2a0177ca1">GetParentNode</a>()<span class="keyword"> const</span>
<a name="l00758"></a>00758 <span class="keyword">  </span>{
<a name="l00759"></a>00759     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#ac533ad3091bcc03a2744769ed3ef7c9e">mParent</a>;
<a name="l00760"></a>00760   }
<a name="l00761"></a>00761   
<a name="l00766"></a><a class="code" href="../../d7/de8/classns_i_node.html#a48a55cc9990fbe8bd238d636ae319e14">00766</a>   <a class="code" href="../../de/da4/classmozilla_1_1dom_1_1_element.html">mozilla::dom::Element</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a48a55cc9990fbe8bd238d636ae319e14">GetParentElement</a>()<span class="keyword"> const</span>
<a name="l00767"></a>00767 <span class="keyword">  </span>{
<a name="l00768"></a>00768     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#ac533ad3091bcc03a2744769ed3ef7c9e">mParent</a> &amp;&amp; <a class="code" href="../../d7/de8/classns_i_node.html#ac533ad3091bcc03a2744769ed3ef7c9e">mParent</a>-&gt;<a class="code" href="../../d7/de8/classns_i_node.html#a5e273273a1c2bf082dfb325cb8c671c4">IsElement</a>() ? <a class="code" href="../../d7/de8/classns_i_node.html#ac533ad3091bcc03a2744769ed3ef7c9e">mParent</a>-&gt;<a class="code" href="../../d7/de8/classns_i_node.html#aa473742db31593ae957c6d88dce907ce">AsElement</a>() : <span class="keyword">nullptr</span>;
<a name="l00769"></a>00769   }
<a name="l00770"></a>00770 
<a name="l00776"></a><a class="code" href="../../d7/de8/classns_i_node.html#a33d028fd4163f265d1a8ddc46835892c">00776</a>   <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a33d028fd4163f265d1a8ddc46835892c">SubtreeRoot</a>()<span class="keyword"> const</span>
<a name="l00777"></a>00777 <span class="keyword">  </span>{
<a name="l00778"></a>00778     <span class="comment">// There are three cases of interest here.  nsINodes that are really:</span>
<a name="l00779"></a>00779     <span class="comment">// 1. nsIDocument nodes - Are always in the document.</span>
<a name="l00780"></a>00780     <span class="comment">// 2. nsIContent nodes - Are either in the document, or mSubtreeRoot</span>
<a name="l00781"></a>00781     <span class="comment">//    is updated in BindToTree/UnbindFromTree.</span>
<a name="l00782"></a>00782     <span class="comment">// 3. nsIAttribute nodes - Are never in the document, and mSubtreeRoot</span>
<a name="l00783"></a>00783     <span class="comment">//    is always &#39;this&#39; (as set in nsINode&#39;s ctor).</span>
<a name="l00784"></a>00784     <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* <a class="code" href="../../d1/d04/app__install__manager_8js.html#a9ed71aaefba3c241c5255080e6a99884">node</a> = <a class="code" href="../../d7/de8/classns_i_node.html#a070c7454ede1ff68b618d0c39744f467">IsInDoc</a>() ? <a class="code" href="../../d7/de8/classns_i_node.html#aabda456554d60101d90937bc0f12cde6">OwnerDocAsNode</a>() : <a class="code" href="../../d7/de8/classns_i_node.html#ab5503198400cd74e91ce0ef1981973f7">mSubtreeRoot</a>;
<a name="l00785"></a>00785     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(node, <span class="stringliteral">&quot;Should always have a node here!&quot;</span>);
<a name="l00786"></a>00786 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l00787"></a>00787 <span class="preprocessor"></span>    {
<a name="l00788"></a>00788       <span class="keyword">const</span> <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* slowNode = <span class="keyword">this</span>;
<a name="l00789"></a>00789       <span class="keyword">const</span> <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* iter = slowNode;
<a name="l00790"></a>00790       <span class="keywordflow">while</span> ((iter = iter-&gt;<a class="code" href="../../d7/de8/classns_i_node.html#a2e9d8ed881bc4d5e48f6d1e2a0177ca1">GetParentNode</a>())) {
<a name="l00791"></a>00791         slowNode = iter;
<a name="l00792"></a>00792       }
<a name="l00793"></a>00793 
<a name="l00794"></a>00794       <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(slowNode == node, <span class="stringliteral">&quot;These should always be in sync!&quot;</span>);
<a name="l00795"></a>00795     }
<a name="l00796"></a>00796 <span class="preprocessor">#endif</span>
<a name="l00797"></a>00797 <span class="preprocessor"></span>    <span class="keywordflow">return</span> <a class="code" href="../../d1/d04/app__install__manager_8js.html#a9ed71aaefba3c241c5255080e6a99884">node</a>;
<a name="l00798"></a><a class="code" href="../../d7/de8/classns_i_node.html#a69c2e99c9e2b74efddc0100d89ba9e66">00798</a>   }
<a name="l00799"></a>00799 
<a name="l00803"></a>00803   <a class="code" href="../../d6/de2/ns_i_d_o_m_event_target_8h.html#ac65001fd4da1631c0c199ea2cc722709">NS_DECL_NSIDOMEVENTTARGET</a>
<a name="l00804"></a>00804   <span class="keyword">using</span> <a class="code" href="../../da/da8/classmozilla_1_1dom_1_1_event_target.html#a4a3f517eb780a10a7e092808c8ea4362">mozilla::dom::EventTarget::RemoveEventListener</a>;
<a name="l00805"></a>00805   <span class="keyword">using</span> <a class="code" href="../../d7/de8/classns_i_node.html#a1d7118756c746b5b8138b4295a105b78">nsIDOMEventTarget::AddEventListener</a>;
<a name="l00806"></a><a class="code" href="../../d7/de8/classns_i_node.html#ae280737beb0f210c300d249017628872">00806</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a1d7118756c746b5b8138b4295a105b78">AddEventListener</a>(<span class="keyword">const</span> nsAString&amp; <a class="code" href="../../df/d33/ns_x_u_l_app_a_p_i_8h.html#a02213a397ee55db7eba28bed963f63df">aType</a>,
<a name="l00807"></a>00807                                 <a class="code" href="../../dc/d6b/interfacens_i_d_o_m_event_listener.html">nsIDOMEventListener</a>* aListener,
<a name="l00808"></a>00808                                 <span class="keywordtype">bool</span> aUseCapture,
<a name="l00809"></a>00809                                 <span class="keyword">const</span> <a class="code" href="../../d5/d08/structmozilla_1_1dom_1_1_nullable.html">mozilla::dom::Nullable&lt;bool&gt;</a>&amp; aWantsUntrusted,
<a name="l00810"></a>00810                                 <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; aRv) MOZ_OVERRIDE;
<a name="l00811"></a>00811   <span class="keyword">using</span> <a class="code" href="../../d9/ddf/interfacens_i_d_o_m_event_target.html#ac4c94355dfdc07e1b0c4602c4c7b2257">nsIDOMEventTarget::AddSystemEventListener</a>;
<a name="l00812"></a>00812   <span class="keyword">virtual</span> <a class="code" href="../../de/dd4/interfacens_i_d_o_m_window.html">nsIDOMWindow</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a1f9b5add826d119c8222b8dd880eefac">GetOwnerGlobal</a>() MOZ_OVERRIDE;
<a name="l00813"></a>00813 
<a name="l00824"></a><a class="code" href="../../d7/de8/classns_i_node.html#a34dba1622d78376d6db1e2693279b404">00824</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a34dba1622d78376d6db1e2693279b404">AddMutationObserver</a>(<a class="code" href="../../d8/d6d/classns_i_mutation_observer.html">nsIMutationObserver</a>* aMutationObserver)
<a name="l00825"></a>00825   {
<a name="l00826"></a>00826     <a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html">nsSlots</a>* <a class="code" href="../../d9/d04/expat_8h.html#afa4d928795b38748c167cba7f7b9f04c">s</a> = <a class="code" href="../../d7/de8/classns_i_node.html#a5912c1c31d4b7d54a2fe98989391b96f">Slots</a>();
<a name="l00827"></a>00827     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(s-&gt;<a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html#a218be9cadfc282078671dec24049c6ae">mMutationObservers</a>.<a class="code" href="../../d6/d06/classns_auto_t_observer_array.html#a9fd6e334d7ed1f9844a25921a707cd19">IndexOf</a>(aMutationObserver) ==
<a name="l00828"></a>00828                  <a class="code" href="../../d8/d6f/classns_t_array.html">nsTArray&lt;int&gt;::NoIndex</a>,
<a name="l00829"></a>00829                  <span class="stringliteral">&quot;Observer already in the list&quot;</span>);
<a name="l00830"></a><a class="code" href="../../d7/de8/classns_i_node.html#a4592f425fd454db4543cabff2e6d2a3b">00830</a>     s-&gt;<a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html#a218be9cadfc282078671dec24049c6ae">mMutationObservers</a>.<a class="code" href="../../d6/d06/classns_auto_t_observer_array.html#a19e45b114dea51960addb20ff7913af5">AppendElement</a>(aMutationObserver);
<a name="l00831"></a>00831   }
<a name="l00832"></a>00832 
<a name="l00837"></a><a class="code" href="../../d7/de8/classns_i_node.html#a06e1de83e435e97872b848acfa4515fe">00837</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a06e1de83e435e97872b848acfa4515fe">AddMutationObserverUnlessExists</a>(<a class="code" href="../../d8/d6d/classns_i_mutation_observer.html">nsIMutationObserver</a>* aMutationObserver)
<a name="l00838"></a><a class="code" href="../../d7/de8/classns_i_node.html#a3aa0e5aa399afe0ae9f46ec7a168610c">00838</a>   {
<a name="l00839"></a>00839     <a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html">nsSlots</a>* s = <a class="code" href="../../d7/de8/classns_i_node.html#a5912c1c31d4b7d54a2fe98989391b96f">Slots</a>();
<a name="l00840"></a>00840     s-&gt;<a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html#a218be9cadfc282078671dec24049c6ae">mMutationObservers</a>.<a class="code" href="../../d6/d06/classns_auto_t_observer_array.html#aef862c9106d1cbc65d05e708fd67a895">AppendElementUnlessExists</a>(aMutationObserver);
<a name="l00841"></a>00841   }
<a name="l00842"></a>00842 
<a name="l00846"></a><a class="code" href="../../d7/de8/classns_i_node.html#a3d41d57df8a5b7019c953a940230fce8">00846</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a3d41d57df8a5b7019c953a940230fce8">RemoveMutationObserver</a>(<a class="code" href="../../d8/d6d/classns_i_mutation_observer.html">nsIMutationObserver</a>* aMutationObserver)
<a name="l00847"></a>00847   {
<a name="l00848"></a>00848     <a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html">nsSlots</a>* s = <a class="code" href="../../d7/de8/classns_i_node.html#a817f30913b9b91982e9ee459f2de9aea">GetExistingSlots</a>();
<a name="l00849"></a>00849     <span class="keywordflow">if</span> (s) {
<a name="l00850"></a>00850       s-&gt;<a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html#a218be9cadfc282078671dec24049c6ae">mMutationObservers</a>.<a class="code" href="../../d6/d06/classns_auto_t_observer_array.html#ad7288aff5f96a1e5d87ae2ce17da175d">RemoveElement</a>(aMutationObserver);
<a name="l00851"></a>00851     }
<a name="l00852"></a>00852   }
<a name="l00853"></a>00853 
<a name="l00863"></a><a class="code" href="../../d7/de8/classns_i_node.html#a16ab570c529da6db3c90f193a3eae9c9">00863</a>   <span class="keyword">virtual</span> <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#a38d04705524847b3516db0f30bfbd208">Clone</a>(<a class="code" href="../../d1/d14/classns_i_node_info.html">nsINodeInfo</a> *aNodeInfo, <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a> **<a class="code" href="../../d9/d6a/ns_color_8h.html#a820357f645d7b0eaf62fd4994dda5a24">aResult</a>) <span class="keyword">const</span> = 0;
<a name="l00864"></a>00864 
<a name="l00865"></a>00865   <span class="comment">// This class can be extended by subclasses that wish to store more</span>
<a name="l00866"></a>00866   <span class="comment">// information in the slots.</span>
<a name="l00867"></a><a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html">00867</a>   <span class="keyword">class </span><a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html">nsSlots</a>
<a name="l00868"></a>00868   {
<a name="l00869"></a>00869   <span class="keyword">public</span>:
<a name="l00870"></a><a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html#a957a53cb6158cd8add7a1c592ca20e8b">00870</a>     <a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html#a957a53cb6158cd8add7a1c592ca20e8b">nsSlots</a>()
<a name="l00871"></a><a class="code" href="../../d7/de8/classns_i_node.html#afef3f597a10c04ed8e91e362b87dffca">00871</a>       : <a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html#a33329b3a8e754ec564c4af855fbe792f">mChildNodes</a>(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a0fd163987980515e24ce34fc3926206d">nullptr</a>),
<a name="l00872"></a>00872         <a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html#a36a53ebc326c5f46d1bcc7715782160c">mWeakReference</a>(<a class="code" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a0fd163987980515e24ce34fc3926206d">nullptr</a>)
<a name="l00873"></a>00873     {
<a name="l00874"></a>00874     }
<a name="l00875"></a>00875 
<a name="l00876"></a>00876     <span class="comment">// If needed we could remove the vtable pointer this dtor causes by</span>
<a name="l00877"></a>00877     <span class="comment">// putting a DestroySlots function on nsINode</span>
<a name="l00878"></a>00878     <span class="keyword">virtual</span> <a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html#a99e1e82fd679e47d0072a88a384f902c">~nsSlots</a>();
<a name="l00879"></a>00879 
<a name="l00880"></a>00880     <span class="keywordtype">void</span> <a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html#a8d4d7fa7850d68ef5491f4e5ae2c34c3">Traverse</a>(<a class="code" href="../../d9/d36/classns_cycle_collection_traversal_callback.html">nsCycleCollectionTraversalCallback</a> &amp;<a class="code" href="../../d2/d7d/jsapi_8h.html#a9c0cec265243907d0da86b92bda26eca">cb</a>);
<a name="l00881"></a><a class="code" href="../../d7/de8/classns_i_node.html#a2c4c228f9d4aad73ac340f8a7031d82d">00881</a>     <span class="keywordtype">void</span> <a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html#a664db0ba01f91f29a5a00a94227e4312">Unlink</a>();
<a name="l00882"></a>00882 
<a name="l00886"></a><a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html#a218be9cadfc282078671dec24049c6ae">00886</a>     <a class="code" href="../../d3/d4a/classns_t_observer_array.html">nsTObserverArray&lt;nsIMutationObserver*&gt;</a> <a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html#a218be9cadfc282078671dec24049c6ae">mMutationObservers</a>;
<a name="l00887"></a>00887 
<a name="l00895"></a><a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html#a33329b3a8e754ec564c4af855fbe792f">00895</a>     nsChildContentList* <a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html#a33329b3a8e754ec564c4af855fbe792f">mChildNodes</a>;
<a name="l00896"></a>00896 
<a name="l00900"></a><a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html#a36a53ebc326c5f46d1bcc7715782160c">00900</a>     <a class="code" href="../../d7/de8/classns_i_node.html#a12eb35da1673f0b6ddb9bc2d6a6833e2">nsNodeWeakReference</a>* <a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html#a36a53ebc326c5f46d1bcc7715782160c">mWeakReference</a>;
<a name="l00901"></a>00901   };
<a name="l00902"></a>00902 
<a name="l00906"></a>00906 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l00907"></a>00907 <span class="preprocessor"></span>  <a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html">nsSlots</a>* DebugGetSlots()
<a name="l00908"></a>00908   {
<a name="l00909"></a>00909     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a5912c1c31d4b7d54a2fe98989391b96f">Slots</a>();
<a name="l00910"></a>00910   }
<a name="l00911"></a>00911 <span class="preprocessor">#endif</span>
<a name="l00912"></a>00912 <span class="preprocessor"></span>
<a name="l00913"></a><a class="code" href="../../d7/de8/classns_i_node.html#add5682e34a8589b8667d2ec0e8df42ba">00913</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#add5682e34a8589b8667d2ec0e8df42ba">SetFlags</a>(uint32_t aFlagsToSet)
<a name="l00914"></a>00914   {
<a name="l00915"></a>00915     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(!(aFlagsToSet &amp; (<a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a40ad34a9c0037a6f5673a4fa39f34331">NODE_IS_ANONYMOUS</a> |
<a name="l00916"></a>00916                                   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a243908c3177357f7367c7e12fb87fde8">NODE_IS_NATIVE_ANONYMOUS_ROOT</a> |
<a name="l00917"></a>00917                                   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261ab16420f2166d6c62954d73f47f0d8e5e">NODE_IS_IN_ANONYMOUS_SUBTREE</a> |
<a name="l00918"></a>00918                                   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261ae413692ce1d1fa649da2f9f279e64f0d">NODE_ATTACH_BINDING_ON_POSTCREATE</a> |
<a name="l00919"></a>00919                                   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a1f53717575b09e7f9c898e6c67744bf7">NODE_DESCENDANTS_NEED_FRAMES</a> |
<a name="l00920"></a>00920                                   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a16a9c5ef5be000959ecc221fe5398387">NODE_NEEDS_FRAME</a> |
<a name="l00921"></a>00921                                   <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261ab3f23515be2172644537825b83674fc9">NODE_CHROME_ONLY_ACCESS</a>)) ||
<a name="l00922"></a>00922                  <a class="code" href="../../d7/de8/classns_i_node.html#ac6293f5472258074686143670a0fa8a5">IsNodeOfType</a>(<a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defca90846414b5e1d2da8cdb3987afbf8ce0">eCONTENT</a>),
<a name="l00923"></a>00923                  <span class="stringliteral">&quot;Flag only permitted on nsIContent nodes&quot;</span>);
<a name="l00924"></a>00924     <a class="code" href="../../d7/de8/classns_i_node.html#add5682e34a8589b8667d2ec0e8df42ba">nsWrapperCache::SetFlags</a>(aFlagsToSet);
<a name="l00925"></a>00925   }
<a name="l00926"></a>00926 
<a name="l00927"></a><a class="code" href="../../d7/de8/classns_i_node.html#ae451af06955154d836c21245f2d22340">00927</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#ae451af06955154d836c21245f2d22340">UnsetFlags</a>(uint32_t aFlagsToUnset)
<a name="l00928"></a>00928   {
<a name="l00929"></a>00929     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(!(aFlagsToUnset &amp;
<a name="l00930"></a>00930                    (<a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a40ad34a9c0037a6f5673a4fa39f34331">NODE_IS_ANONYMOUS</a> |
<a name="l00931"></a>00931                     <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261ab16420f2166d6c62954d73f47f0d8e5e">NODE_IS_IN_ANONYMOUS_SUBTREE</a> |
<a name="l00932"></a>00932                     <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a243908c3177357f7367c7e12fb87fde8">NODE_IS_NATIVE_ANONYMOUS_ROOT</a>)),
<a name="l00933"></a>00933                  <span class="stringliteral">&quot;Trying to unset write-only flags&quot;</span>);
<a name="l00934"></a>00934     <a class="code" href="../../d7/de8/classns_i_node.html#ae451af06955154d836c21245f2d22340">nsWrapperCache::UnsetFlags</a>(aFlagsToUnset);
<a name="l00935"></a>00935   }
<a name="l00936"></a>00936 
<a name="l00937"></a><a class="code" href="../../d7/de8/classns_i_node.html#a9475bd7ff9c6d39d9b105353c74b313d">00937</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a9475bd7ff9c6d39d9b105353c74b313d">SetEditableFlag</a>(<span class="keywordtype">bool</span> aEditable)
<a name="l00938"></a>00938   {
<a name="l00939"></a>00939     <span class="keywordflow">if</span> (aEditable) {
<a name="l00940"></a>00940       <a class="code" href="../../d7/de8/classns_i_node.html#add5682e34a8589b8667d2ec0e8df42ba">SetFlags</a>(<a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a110809fc817ddb6c67dee010f998e881">NODE_IS_EDITABLE</a>);
<a name="l00941"></a>00941     }
<a name="l00942"></a>00942     <span class="keywordflow">else</span> {
<a name="l00943"></a>00943       <a class="code" href="../../d7/de8/classns_i_node.html#ae451af06955154d836c21245f2d22340">UnsetFlags</a>(<a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a110809fc817ddb6c67dee010f998e881">NODE_IS_EDITABLE</a>);
<a name="l00944"></a>00944     }
<a name="l00945"></a>00945   }
<a name="l00946"></a>00946 
<a name="l00947"></a><a class="code" href="../../d7/de8/classns_i_node.html#abdb36d696e0dbbe2a3acd2d202421e67">00947</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#abdb36d696e0dbbe2a3acd2d202421e67">IsEditable</a>()<span class="keyword"> const</span>
<a name="l00948"></a>00948 <span class="keyword">  </span>{
<a name="l00949"></a>00949 <span class="preprocessor">#ifdef _IMPL_NS_LAYOUT</span>
<a name="l00950"></a>00950 <span class="preprocessor"></span>    <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a2d9e953de4f5c12c9b78e0a339d67aaa">IsEditableInternal</a>();
<a name="l00951"></a>00951 <span class="preprocessor">#else</span>
<a name="l00952"></a>00952 <span class="preprocessor"></span>    <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a4fd645c415c246e749baa6060eb40e9d">IsEditableExternal</a>();
<a name="l00953"></a>00953 <span class="preprocessor">#endif</span>
<a name="l00954"></a>00954 <span class="preprocessor"></span>  }
<a name="l00955"></a>00955 
<a name="l00959"></a><a class="code" href="../../d7/de8/classns_i_node.html#a821cd43b741d635a0c116dbc7a74631c">00959</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a821cd43b741d635a0c116dbc7a74631c">IsInNativeAnonymousSubtree</a>()<span class="keyword"> const</span>
<a name="l00960"></a>00960 <span class="keyword">  </span>{
<a name="l00961"></a>00961 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l00962"></a>00962 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (<a class="code" href="../../d0/d7e/classns_wrapper_cache.html#a7abd41d540e95eaf14c70b8d5e95a396">HasFlag</a>(<a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261ab16420f2166d6c62954d73f47f0d8e5e">NODE_IS_IN_ANONYMOUS_SUBTREE</a>)) {
<a name="l00963"></a>00963       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00964"></a>00964     }
<a name="l00965"></a>00965     CheckNotNativeAnonymous();
<a name="l00966"></a>00966     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00967"></a>00967 <span class="preprocessor">#else</span>
<a name="l00968"></a>00968 <span class="preprocessor"></span>    <span class="keywordflow">return</span> <a class="code" href="../../d0/d7e/classns_wrapper_cache.html#a7abd41d540e95eaf14c70b8d5e95a396">HasFlag</a>(<a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261ab16420f2166d6c62954d73f47f0d8e5e">NODE_IS_IN_ANONYMOUS_SUBTREE</a>);
<a name="l00969"></a>00969 <span class="preprocessor">#endif</span>
<a name="l00970"></a>00970 <span class="preprocessor"></span>  }
<a name="l00971"></a>00971 
<a name="l00972"></a>00972   <span class="comment">// True for native anonymous content and for XBL content if the binging</span>
<a name="l00973"></a>00973   <span class="comment">// has chromeOnlyContent=&quot;true&quot;.</span>
<a name="l00974"></a><a class="code" href="../../d7/de8/classns_i_node.html#a552db14e4db9b5606adeeac3eab9a366">00974</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a552db14e4db9b5606adeeac3eab9a366">ChromeOnlyAccess</a>()<span class="keyword"> const</span>
<a name="l00975"></a>00975 <span class="keyword">  </span>{
<a name="l00976"></a>00976     <span class="keywordflow">return</span> <a class="code" href="../../d0/d7e/classns_wrapper_cache.html#a7abd41d540e95eaf14c70b8d5e95a396">HasFlag</a>(<a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261ab16420f2166d6c62954d73f47f0d8e5e">NODE_IS_IN_ANONYMOUS_SUBTREE</a> | <a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261ab3f23515be2172644537825b83674fc9">NODE_CHROME_ONLY_ACCESS</a>);
<a name="l00977"></a>00977   }
<a name="l00978"></a>00978 
<a name="l00985"></a><a class="code" href="../../d7/de8/classns_i_node.html#adf8b327ce7a22d80bcc1c82232bebc96">00985</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#adf8b327ce7a22d80bcc1c82232bebc96">IsSelectionDescendant</a>()<span class="keyword"> const</span>
<a name="l00986"></a>00986 <span class="keyword">  </span>{
<a name="l00987"></a>00987     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a3ec69402176abbc148ee0d7855ef69cb">IsDescendantOfCommonAncestorForRangeInSelection</a>() ||
<a name="l00988"></a>00988            <a class="code" href="../../d7/de8/classns_i_node.html#ae663b76612dfa6bbb13043dfcd218db6">IsCommonAncestorForRangeInSelection</a>();
<a name="l00989"></a>00989   }
<a name="l00990"></a>00990 
<a name="l00996"></a>00996   <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a716f5eadcd95676e7746a3323d08f132">GetTextEditorRootContent</a>(<a class="code" href="../../d1/d67/interfacens_i_editor.html">nsIEditor</a>** aEditor = <span class="keyword">nullptr</span>);
<a name="l00997"></a>00997 
<a name="l01006"></a>01006   <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a63ddcdcd83997abf5d74fe89b4191b74">GetSelectionRootContent</a>(<a class="code" href="../../d3/d8f/classns_i_pres_shell.html">nsIPresShell</a>* aPresShell);
<a name="l01007"></a>01007 
<a name="l01008"></a>01008   <span class="keyword">virtual</span> <a class="code" href="../../d1/d4a/classns_i_node_list.html">nsINodeList</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a19234a8f25fa3d4420630430a9df1043">ChildNodes</a>();
<a name="l01009"></a><a class="code" href="../../d7/de8/classns_i_node.html#ae387cb22939f45744a7eaeb537898b88">01009</a>   <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* <a class="code" href="../../d7/de8/classns_i_node.html#ae387cb22939f45744a7eaeb537898b88">GetFirstChild</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a4c15a621ec9d0aca35cdf80e1b98fd28">mFirstChild</a>; }
<a name="l01010"></a><a class="code" href="../../d7/de8/classns_i_node.html#a48e63db4a050853320f5a3017f1b1355">01010</a>   <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a48e63db4a050853320f5a3017f1b1355">GetLastChild</a>()<span class="keyword"> const</span>
<a name="l01011"></a>01011 <span class="keyword">  </span>{
<a name="l01012"></a>01012     uint32_t <a class="code" href="../../de/deb/jsdbgapi_8h.html#af811e5c0ef06b777b160f87806b7285e">count</a>;
<a name="l01013"></a>01013     <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* <span class="keyword">const</span>* children = <a class="code" href="../../d7/de8/classns_i_node.html#a41ab7faa84ba4f74465fff510db6f483">GetChildArray</a>(&amp;count);
<a name="l01014"></a>01014 
<a name="l01015"></a>01015     <span class="keywordflow">return</span> count &gt; 0 ? children[count - 1] : <span class="keyword">nullptr</span>;
<a name="l01016"></a>01016   }
<a name="l01017"></a>01017 
<a name="l01022"></a>01022   <a class="code" href="../../de/dd1/classns_i_document.html">nsIDocument</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a1a4aa2467ddc21c856e632f0b33c1d00">GetOwnerDocument</a>() <span class="keyword">const</span>;
<a name="l01023"></a>01023 
<a name="l01024"></a>01024   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a429b58e63a183ef0184c375db4d43600">Normalize</a>();
<a name="l01025"></a>01025 
<a name="l01034"></a>01034   <span class="keyword">virtual</span> <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;nsIURI&gt;</a> <a class="code" href="../../d7/de8/classns_i_node.html#aee2e1444eaf0477958fe3a73441cba1c">GetBaseURI</a>() <span class="keyword">const</span> = 0;
<a name="l01035"></a><a class="code" href="../../d7/de8/classns_i_node.html#a3cf87993b4431d0e220eacf668e82f36">01035</a>   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;nsIURI&gt;</a> <a class="code" href="../../d7/de8/classns_i_node.html#a3cf87993b4431d0e220eacf668e82f36">GetBaseURIObject</a>()<span class="keyword"> const</span>
<a name="l01036"></a>01036 <span class="keyword">  </span>{
<a name="l01037"></a>01037     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#aee2e1444eaf0477958fe3a73441cba1c">GetBaseURI</a>();
<a name="l01038"></a>01038   }
<a name="l01039"></a>01039 
<a name="l01043"></a>01043   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#a0b46e2a80dfc216056de753eab4c4386">SetExplicitBaseURI</a>(<a class="code" href="../../dd/d71/interfacens_i_u_r_i.html">nsIURI</a>* aURI);
<a name="l01047"></a>01047 <span class="keyword">protected</span>:
<a name="l01048"></a><a class="code" href="../../d7/de8/classns_i_node.html#a820d82b6f65a10472f8376b4898e441d">01048</a>   <a class="code" href="../../dd/d71/interfacens_i_u_r_i.html">nsIURI</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a820d82b6f65a10472f8376b4898e441d">GetExplicitBaseURI</a>()<span class="keyword"> const </span>{
<a name="l01049"></a>01049     <span class="keywordflow">if</span> (<a class="code" href="../../d7/de8/classns_i_node.html#afec4a70ec9f43030258cd3d040219f11">HasExplicitBaseURI</a>()) {
<a name="l01050"></a>01050       <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="../../dd/d71/interfacens_i_u_r_i.html">nsIURI</a>*<span class="keyword">&gt;</span>(<a class="code" href="../../d7/de8/classns_i_node.html#ae3f7b718a3f2aaa918ce7f3435518d46">GetProperty</a>(nsGkAtoms::baseURIProperty));
<a name="l01051"></a>01051     }
<a name="l01052"></a>01052     <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;
<a name="l01053"></a>01053   }
<a name="l01054"></a>01054   
<a name="l01055"></a>01055 <span class="keyword">public</span>:
<a name="l01056"></a><a class="code" href="../../d7/de8/classns_i_node.html#a2489c8cc4ada50ff3a2f45e5fea3399c">01056</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a2489c8cc4ada50ff3a2f45e5fea3399c">GetTextContent</a>(nsAString&amp; aTextContent)
<a name="l01057"></a>01057   {
<a name="l01058"></a>01058     <a class="code" href="../../d7/de8/classns_i_node.html#a315a0fa24664ca6f523fc4cbbb350a38">GetTextContentInternal</a>(aTextContent);
<a name="l01059"></a>01059   }
<a name="l01060"></a><a class="code" href="../../d7/de8/classns_i_node.html#a1534dee4a77c8d7e95fbff67f6d923ee">01060</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a1534dee4a77c8d7e95fbff67f6d923ee">SetTextContent</a>(<span class="keyword">const</span> nsAString&amp; aTextContent,
<a name="l01061"></a>01061                       <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; aError)
<a name="l01062"></a>01062   {
<a name="l01063"></a>01063     <a class="code" href="../../d7/de8/classns_i_node.html#a5bb69ead8412a5f81022b19956efca85">SetTextContentInternal</a>(aTextContent, aError);
<a name="l01064"></a>01064   }
<a name="l01065"></a>01065 
<a name="l01066"></a>01066   <a class="code" href="../../de/da4/classmozilla_1_1dom_1_1_element.html">mozilla::dom::Element</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a1d4a6399ace80278fef3c683c7e9298a">QuerySelector</a>(<span class="keyword">const</span> nsAString&amp; aSelector,
<a name="l01067"></a>01067                                        <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d9/d6a/ns_color_8h.html#a820357f645d7b0eaf62fd4994dda5a24">aResult</a>);
<a name="l01068"></a>01068   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;nsINodeList&gt;</a> <a class="code" href="../../d7/de8/classns_i_node.html#af5799dd8770de32dfcd8c2c8a195d674">QuerySelectorAll</a>(<span class="keyword">const</span> nsAString&amp; aSelector,
<a name="l01069"></a>01069                                                  <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; <a class="code" href="../../d9/d6a/ns_color_8h.html#a820357f645d7b0eaf62fd4994dda5a24">aResult</a>);
<a name="l01070"></a>01070 
<a name="l01071"></a>01071   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#a1d4a6399ace80278fef3c683c7e9298a">QuerySelector</a>(<span class="keyword">const</span> nsAString&amp; aSelector, <a class="code" href="../../d1/d4b/interfacens_i_d_o_m_element.html">nsIDOMElement</a> **aReturn);
<a name="l01072"></a>01072   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#af5799dd8770de32dfcd8c2c8a195d674">QuerySelectorAll</a>(<span class="keyword">const</span> nsAString&amp; aSelector, <a class="code" href="../../d4/d69/interfacens_i_d_o_m_node_list.html">nsIDOMNodeList</a> **aReturn);
<a name="l01073"></a>01073 
<a name="l01088"></a>01088   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#acbd77aa07b78769c311f47136c438fbb">SetUserData</a>(<span class="keyword">const</span> nsAString&amp; aKey, <a class="code" href="../../d1/d98/interfacens_i_variant.html">nsIVariant</a>* <a class="code" href="../../d6/d1d/ns_x_p_c_o_m_strings_8h.html#a580e3d1c78551e30e0c97ab45dc8a3b5">aData</a>,
<a name="l01089"></a>01089                        <a class="code" href="../../df/df2/interfacens_i_d_o_m_user_data_handler.html">nsIDOMUserDataHandler</a>* aHandler, <a class="code" href="../../d1/d98/interfacens_i_variant.html">nsIVariant</a>** <a class="code" href="../../d9/d6a/ns_color_8h.html#a820357f645d7b0eaf62fd4994dda5a24">aResult</a>);
<a name="l01090"></a>01090 
<a name="l01099"></a>01099   <a class="code" href="../../d1/d98/interfacens_i_variant.html">nsIVariant</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a2e23912d5c47845fb710ce5730d686a5">GetUserData</a>(<span class="keyword">const</span> nsAString&amp; aKey);
<a name="l01100"></a>01100 
<a name="l01101"></a><a class="code" href="../../d7/de8/classns_i_node.html#a829d7d830e6505948c4d959bda21465c">01101</a>   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#a2e23912d5c47845fb710ce5730d686a5">GetUserData</a>(<span class="keyword">const</span> nsAString&amp; aKey, <a class="code" href="../../d1/d98/interfacens_i_variant.html">nsIVariant</a>** <a class="code" href="../../d9/d6a/ns_color_8h.html#a820357f645d7b0eaf62fd4994dda5a24">aResult</a>)
<a name="l01102"></a>01102   {
<a name="l01103"></a>01103     <a class="code" href="../../d9/d4b/ns_i_supports_utils_8h.html#ae9c407d2eae31f9b17060be487f98263">NS_IF_ADDREF</a>(*aResult = <a class="code" href="../../d7/de8/classns_i_node.html#a2e23912d5c47845fb710ce5730d686a5">GetUserData</a>(aKey));
<a name="l01104"></a>01104   
<a name="l01105"></a>01105     <span class="keywordflow">return</span> <a class="code" href="../../d7/dda/_error_list_c_defines_8h.html#a03a7f9e8069d114c0495679caefca965">NS_OK</a>;
<a name="l01106"></a>01106   }
<a name="l01107"></a>01107 
<a name="l01108"></a>01108   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a5e00457e35af22a4c305a9562e2cd9b6">LookupPrefix</a>(<span class="keyword">const</span> nsAString&amp; aNamespace, nsAString&amp; <a class="code" href="../../d9/d6a/ns_color_8h.html#a820357f645d7b0eaf62fd4994dda5a24">aResult</a>);
<a name="l01109"></a><a class="code" href="../../d7/de8/classns_i_node.html#a202ec37b3a14b4d81b705b87a1c89208">01109</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a202ec37b3a14b4d81b705b87a1c89208">IsDefaultNamespace</a>(<span class="keyword">const</span> nsAString&amp; aNamespaceURI)
<a name="l01110"></a>01110   {
<a name="l01111"></a>01111     nsAutoString defaultNamespace;
<a name="l01112"></a>01112     <a class="code" href="../../d7/de8/classns_i_node.html#aeff5893c7c6b04a073096c559ea359f4">LookupNamespaceURI</a>(<a class="code" href="../../dd/ddd/ns_readable_utils_8h.html#a385b0bb66357920f60455c087ab8d288">EmptyString</a>(), defaultNamespace);
<a name="l01113"></a>01113     <span class="keywordflow">return</span> aNamespaceURI.Equals(defaultNamespace);
<a name="l01114"></a>01114   }
<a name="l01115"></a>01115   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#aeff5893c7c6b04a073096c559ea359f4">LookupNamespaceURI</a>(<span class="keyword">const</span> nsAString&amp; aNamespacePrefix,
<a name="l01116"></a>01116                           nsAString&amp; aNamespaceURI);
<a name="l01117"></a>01117 
<a name="l01118"></a>01118   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#aa03ba0b15e6c2cbb5c771893b8ce716c">IsEqualNode</a>(<a class="code" href="../../da/da2/interfacens_i_d_o_m_node.html">nsIDOMNode</a>* aOther, <span class="keywordtype">bool</span>* aReturn);
<a name="l01119"></a>01119 
<a name="l01120"></a><a class="code" href="../../d7/de8/classns_i_node.html#a72c65bba3df0476a1f01fde8f99458f1">01120</a>   <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a72c65bba3df0476a1f01fde8f99458f1">GetNextSibling</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a8538e01ba1cf4bca071510e6d0ace124">mNextSibling</a>; }
<a name="l01121"></a><a class="code" href="../../d7/de8/classns_i_node.html#a5b53462dd1acfe4461d06c4a877ae14c">01121</a>   <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a5b53462dd1acfe4461d06c4a877ae14c">GetPreviousSibling</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a2e475b98381dfa56f5137adc64cfdf81">mPreviousSibling</a>; }
<a name="l01122"></a>01122 
<a name="l01130"></a><a class="code" href="../../d7/de8/classns_i_node.html#abac7f1bb9d03bc62125588b8f7c9e727">01130</a>   <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* <a class="code" href="../../d7/de8/classns_i_node.html#abac7f1bb9d03bc62125588b8f7c9e727">GetNextNode</a>(<span class="keyword">const</span> <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* aRoot = <span class="keyword">nullptr</span>)<span class="keyword"> const</span>
<a name="l01131"></a>01131 <span class="keyword">  </span>{
<a name="l01132"></a>01132     <span class="keywordflow">return</span> GetNextNodeImpl(aRoot, <span class="keyword">false</span>);
<a name="l01133"></a>01133   }
<a name="l01134"></a>01134 
<a name="l01142"></a><a class="code" href="../../d7/de8/classns_i_node.html#ae42367cc93a0dca072fa2e40523194b3">01142</a>   <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* <a class="code" href="../../d7/de8/classns_i_node.html#ae42367cc93a0dca072fa2e40523194b3">GetNextNonChildNode</a>(<span class="keyword">const</span> <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* aRoot = <span class="keyword">nullptr</span>)<span class="keyword"> const</span>
<a name="l01143"></a>01143 <span class="keyword">  </span>{
<a name="l01144"></a>01144     <span class="keywordflow">return</span> GetNextNodeImpl(aRoot, <span class="keyword">true</span>);
<a name="l01145"></a>01145   }
<a name="l01146"></a>01146 
<a name="l01152"></a>01152   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#ab539fedb419f91d05c395febda4ec0f3">Contains</a>(<span class="keyword">const</span> <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* aOther) <span class="keyword">const</span>;
<a name="l01153"></a>01153   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#ab539fedb419f91d05c395febda4ec0f3">Contains</a>(<a class="code" href="../../da/da2/interfacens_i_d_o_m_node.html">nsIDOMNode</a>* aOther, <span class="keywordtype">bool</span>* aReturn);
<a name="l01154"></a>01154 
<a name="l01155"></a>01155   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#aab72bb2c0141dbf9ae44cf08da24fa45">UnoptimizableCCNode</a>() <span class="keyword">const</span>;
<a name="l01156"></a>01156 
<a name="l01157"></a>01157 <span class="keyword">private</span>:
<a name="l01158"></a>01158 
<a name="l01159"></a>01159   <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* GetNextNodeImpl(<span class="keyword">const</span> <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* aRoot,
<a name="l01160"></a>01160                               <span class="keyword">const</span> <span class="keywordtype">bool</span> aSkipChildren)<span class="keyword"> const</span>
<a name="l01161"></a>01161 <span class="keyword">  </span>{
<a name="l01162"></a>01162     <span class="comment">// Can&#39;t use nsContentUtils::ContentIsDescendantOf here, since we</span>
<a name="l01163"></a>01163     <span class="comment">// can&#39;t include it here.</span>
<a name="l01164"></a>01164 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l01165"></a>01165 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (aRoot) {
<a name="l01166"></a>01166       <span class="keyword">const</span> <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* cur = <span class="keyword">this</span>;
<a name="l01167"></a>01167       <span class="keywordflow">for</span> (; cur; cur = cur-&gt;<a class="code" href="../../d7/de8/classns_i_node.html#a2e9d8ed881bc4d5e48f6d1e2a0177ca1">GetParentNode</a>())
<a name="l01168"></a>01168         <span class="keywordflow">if</span> (cur == aRoot) <span class="keywordflow">break</span>;
<a name="l01169"></a>01169       <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(cur, <span class="stringliteral">&quot;aRoot not an ancestor of |this|?&quot;</span>);
<a name="l01170"></a>01170     }
<a name="l01171"></a>01171 <span class="preprocessor">#endif</span>
<a name="l01172"></a>01172 <span class="preprocessor"></span>    <span class="keywordflow">if</span> (!aSkipChildren) {
<a name="l01173"></a>01173       <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* kid = <a class="code" href="../../d7/de8/classns_i_node.html#ae387cb22939f45744a7eaeb537898b88">GetFirstChild</a>();
<a name="l01174"></a>01174       <span class="keywordflow">if</span> (kid) {
<a name="l01175"></a>01175         <span class="keywordflow">return</span> kid;
<a name="l01176"></a>01176       }
<a name="l01177"></a>01177     }
<a name="l01178"></a>01178     <span class="keywordflow">if</span> (<span class="keyword">this</span> == aRoot) {
<a name="l01179"></a>01179       <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;
<a name="l01180"></a>01180     }
<a name="l01181"></a>01181     <span class="keyword">const</span> <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* cur = <span class="keyword">this</span>;
<a name="l01182"></a>01182     <span class="keywordflow">while</span> (1) {
<a name="l01183"></a>01183       <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* next = cur-&gt;<a class="code" href="../../d7/de8/classns_i_node.html#a72c65bba3df0476a1f01fde8f99458f1">GetNextSibling</a>();
<a name="l01184"></a>01184       <span class="keywordflow">if</span> (next) {
<a name="l01185"></a>01185         <span class="keywordflow">return</span> next;
<a name="l01186"></a>01186       }
<a name="l01187"></a>01187       <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* <a class="code" href="../../d2/d7d/jsapi_8h.html#a8a4058d98ae1bca3d5fa2d01726cf734">parent</a> = cur-&gt;<a class="code" href="../../d7/de8/classns_i_node.html#a2e9d8ed881bc4d5e48f6d1e2a0177ca1">GetParentNode</a>();
<a name="l01188"></a>01188       <span class="keywordflow">if</span> (parent == aRoot) {
<a name="l01189"></a>01189         <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;
<a name="l01190"></a>01190       }
<a name="l01191"></a>01191       cur = <a class="code" href="../../d2/d7d/jsapi_8h.html#a8a4058d98ae1bca3d5fa2d01726cf734">parent</a>;
<a name="l01192"></a>01192     }
<a name="l01193"></a>01193     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad3069ac6d831231df185636879a728ca">NS_NOTREACHED</a>(<span class="stringliteral">&quot;How did we get here?&quot;</span>);
<a name="l01194"></a>01194   }
<a name="l01195"></a>01195 
<a name="l01196"></a>01196 <span class="keyword">public</span>:
<a name="l01197"></a>01197 
<a name="l01205"></a><a class="code" href="../../d7/de8/classns_i_node.html#a755aa2282834b5d3a6febd3a42e00cb2">01205</a>   <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a755aa2282834b5d3a6febd3a42e00cb2">GetPreviousContent</a>(<span class="keyword">const</span> <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* aRoot = <span class="keyword">nullptr</span>)<span class="keyword"> const</span>
<a name="l01206"></a>01206 <span class="keyword">  </span>{
<a name="l01207"></a>01207       <span class="comment">// Can&#39;t use nsContentUtils::ContentIsDescendantOf here, since we</span>
<a name="l01208"></a>01208       <span class="comment">// can&#39;t include it here.</span>
<a name="l01209"></a>01209 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l01210"></a>01210 <span class="preprocessor"></span>      <span class="keywordflow">if</span> (aRoot) {
<a name="l01211"></a>01211         <span class="keyword">const</span> <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* cur = <span class="keyword">this</span>;
<a name="l01212"></a>01212         <span class="keywordflow">for</span> (; cur; cur = cur-&gt;<a class="code" href="../../d7/de8/classns_i_node.html#a2e9d8ed881bc4d5e48f6d1e2a0177ca1">GetParentNode</a>())
<a name="l01213"></a>01213           <span class="keywordflow">if</span> (cur == aRoot) <span class="keywordflow">break</span>;
<a name="l01214"></a>01214         <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(cur, <span class="stringliteral">&quot;aRoot not an ancestor of |this|?&quot;</span>);
<a name="l01215"></a>01215       }
<a name="l01216"></a>01216 <span class="preprocessor">#endif</span>
<a name="l01217"></a>01217 <span class="preprocessor"></span>
<a name="l01218"></a>01218     <span class="keywordflow">if</span> (<span class="keyword">this</span> == aRoot) {
<a name="l01219"></a>01219       <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;
<a name="l01220"></a>01220     }
<a name="l01221"></a>01221     <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* cur = this-&gt;<a class="code" href="../../d7/de8/classns_i_node.html#a6bf01da8110fa6ff31ecc198a7d206dc">GetParent</a>();
<a name="l01222"></a>01222     <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* iter = this-&gt;<a class="code" href="../../d7/de8/classns_i_node.html#a5b53462dd1acfe4461d06c4a877ae14c">GetPreviousSibling</a>();
<a name="l01223"></a>01223     <span class="keywordflow">while</span> (iter) {
<a name="l01224"></a>01224       cur = iter;
<a name="l01225"></a>01225       iter = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>*<span class="keyword">&gt;</span>(iter)-&gt;<a class="code" href="../../d7/de8/classns_i_node.html#a48e63db4a050853320f5a3017f1b1355">GetLastChild</a>();
<a name="l01226"></a>01226     }
<a name="l01227"></a>01227     <span class="keywordflow">return</span> cur;
<a name="l01228"></a>01228   }
<a name="l01229"></a>01229 
<a name="l01233"></a>01233 <span class="keyword">private</span>:
<a name="l01234"></a>01234   <span class="keyword">enum</span> BooleanFlag {
<a name="l01235"></a>01235     <span class="comment">// Set if we&#39;re being used from -moz-element</span>
<a name="l01236"></a>01236     NodeHasRenderingObservers,
<a name="l01237"></a>01237     <span class="comment">// Set if our parent chain (including this node itself) terminates</span>
<a name="l01238"></a>01238     <span class="comment">// in a document</span>
<a name="l01239"></a>01239     IsInDocument,
<a name="l01240"></a>01240     <span class="comment">// Set if mParent is an nsIContent</span>
<a name="l01241"></a>01241     ParentIsContent,
<a name="l01242"></a>01242     <span class="comment">// Set if this node is an Element</span>
<a name="l01243"></a>01243     NodeIsElement,
<a name="l01244"></a>01244     <span class="comment">// Set if the element has a non-empty id attribute. This can in rare</span>
<a name="l01245"></a>01245     <span class="comment">// cases lie for nsXMLElement, such as when the node has been moved between</span>
<a name="l01246"></a>01246     <span class="comment">// documents with different id mappings.</span>
<a name="l01247"></a>01247     ElementHasID,
<a name="l01248"></a>01248     <span class="comment">// Set if the element might have inline style.</span>
<a name="l01249"></a>01249     ElementMayHaveStyle,
<a name="l01250"></a>01250     <span class="comment">// Set if the element has a name attribute set.</span>
<a name="l01251"></a>01251     ElementHasName,
<a name="l01252"></a>01252     <span class="comment">// Set if the element might have a contenteditable attribute set.</span>
<a name="l01253"></a>01253     ElementMayHaveContentEditableAttr,
<a name="l01254"></a>01254     <span class="comment">// Set if the node is the common ancestor of the start/end nodes of a Range</span>
<a name="l01255"></a>01255     <span class="comment">// that is in a Selection.</span>
<a name="l01256"></a>01256     NodeIsCommonAncestorForRangeInSelection,
<a name="l01257"></a>01257     <span class="comment">// Set if the node is a descendant of a node with the above bit set.</span>
<a name="l01258"></a>01258     NodeIsDescendantOfCommonAncestorForRangeInSelection,
<a name="l01259"></a>01259     <span class="comment">// Set if CanSkipInCC check has been done for this subtree root.</span>
<a name="l01260"></a>01260     NodeIsCCMarkedRoot,
<a name="l01261"></a>01261     <span class="comment">// Maybe set if this node is in black subtree.</span>
<a name="l01262"></a>01262     NodeIsCCBlackTree,
<a name="l01263"></a>01263     <span class="comment">// Maybe set if the node is a root of a subtree </span>
<a name="l01264"></a>01264     <span class="comment">// which needs to be kept in the purple buffer.</span>
<a name="l01265"></a>01265     NodeIsPurpleRoot,
<a name="l01266"></a>01266     <span class="comment">// Set if the node has an explicit base URI stored</span>
<a name="l01267"></a>01267     NodeHasExplicitBaseURI,
<a name="l01268"></a>01268     <span class="comment">// Set if the element has some style states locked</span>
<a name="l01269"></a>01269     ElementHasLockedStyleStates,
<a name="l01270"></a>01270     <span class="comment">// Set if element has pointer locked</span>
<a name="l01271"></a>01271     ElementHasPointerLock,
<a name="l01272"></a>01272     <span class="comment">// Set if the node may have DOMMutationObserver attached to it.</span>
<a name="l01273"></a>01273     NodeMayHaveDOMMutationObserver,
<a name="l01274"></a>01274     <span class="comment">// Set if node is Content</span>
<a name="l01275"></a>01275     NodeIsContent,
<a name="l01276"></a>01276     <span class="comment">// Set if the node has animations or transitions</span>
<a name="l01277"></a>01277     ElementHasAnimations,
<a name="l01278"></a>01278     <span class="comment">// Set if node has a dir attribute with a valid value (ltr, rtl, or auto)</span>
<a name="l01279"></a>01279     NodeHasValidDirAttribute,
<a name="l01280"></a>01280     <span class="comment">// Set if node has a dir attribute with a fixed value (ltr or rtl, NOT auto)</span>
<a name="l01281"></a>01281     NodeHasFixedDir,
<a name="l01282"></a>01282     <span class="comment">// Set if the node has dir=auto and has a property pointing to the text</span>
<a name="l01283"></a>01283     <span class="comment">// node that determines its direction</span>
<a name="l01284"></a>01284     NodeHasDirAutoSet,
<a name="l01285"></a>01285     <span class="comment">// Set if the node is a text node descendant of a node with dir=auto</span>
<a name="l01286"></a>01286     <span class="comment">// and has a TextNodeDirectionalityMap property listing the elements whose</span>
<a name="l01287"></a>01287     <span class="comment">// direction it determines.</span>
<a name="l01288"></a>01288     NodeHasTextNodeDirectionalityMap,
<a name="l01289"></a>01289     <span class="comment">// Set if the node has dir=auto.</span>
<a name="l01290"></a>01290     NodeHasDirAuto,
<a name="l01291"></a>01291     <span class="comment">// Set if a node in the node&#39;s parent chain has dir=auto.</span>
<a name="l01292"></a>01292     NodeAncestorHasDirAuto,
<a name="l01293"></a>01293     <span class="comment">// Set if the element is in the scope of a scoped style sheet; this flag is</span>
<a name="l01294"></a>01294     <span class="comment">// only accurate for elements bound to a document</span>
<a name="l01295"></a>01295     ElementIsInStyleScope,
<a name="l01296"></a>01296     <span class="comment">// Set if the element is a scoped style sheet root</span>
<a name="l01297"></a>01297     ElementIsScopedStyleRoot,
<a name="l01298"></a>01298     <span class="comment">// Set if the node is handling a click.</span>
<a name="l01299"></a>01299     NodeHandlingClick,
<a name="l01300"></a>01300     <span class="comment">// Set if the node has had :hover selectors matched against it</span>
<a name="l01301"></a>01301     NodeHasRelevantHoverRules,
<a name="l01302"></a>01302     <span class="comment">// Guard value</span>
<a name="l01303"></a>01303     BooleanFlagCount
<a name="l01304"></a>01304   };
<a name="l01305"></a>01305 
<a name="l01306"></a>01306   <span class="keywordtype">void</span> SetBoolFlag(BooleanFlag <a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>, <span class="keywordtype">bool</span> <a class="code" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>) {
<a name="l01307"></a>01307     <a class="code" href="../../dc/d23/prtypes_8h.html#a0b4b372e5e162d4304c89b2d22f93139">PR_STATIC_ASSERT</a>(BooleanFlagCount &lt;= 8*<span class="keyword">sizeof</span>(mBoolFlags));
<a name="l01308"></a>01308     mBoolFlags = (mBoolFlags &amp; ~(1 &lt;&lt; <a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>)) | (value &lt;&lt; <a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>);
<a name="l01309"></a>01309   }
<a name="l01310"></a>01310 
<a name="l01311"></a>01311   <span class="keywordtype">void</span> SetBoolFlag(BooleanFlag name) {
<a name="l01312"></a>01312     <a class="code" href="../../dc/d23/prtypes_8h.html#a0b4b372e5e162d4304c89b2d22f93139">PR_STATIC_ASSERT</a>(BooleanFlagCount &lt;= 8*<span class="keyword">sizeof</span>(mBoolFlags));
<a name="l01313"></a>01313     mBoolFlags |= (1 &lt;&lt; <a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>);
<a name="l01314"></a>01314   }
<a name="l01315"></a>01315 
<a name="l01316"></a>01316   <span class="keywordtype">void</span> ClearBoolFlag(BooleanFlag name) {
<a name="l01317"></a>01317     <a class="code" href="../../dc/d23/prtypes_8h.html#a0b4b372e5e162d4304c89b2d22f93139">PR_STATIC_ASSERT</a>(BooleanFlagCount &lt;= 8*<span class="keyword">sizeof</span>(mBoolFlags));
<a name="l01318"></a>01318     mBoolFlags &amp;= ~(1 &lt;&lt; <a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>);
<a name="l01319"></a>01319   }
<a name="l01320"></a>01320 
<a name="l01321"></a>01321   <span class="keywordtype">bool</span> GetBoolFlag(BooleanFlag name)<span class="keyword"> const </span>{
<a name="l01322"></a>01322     <a class="code" href="../../dc/d23/prtypes_8h.html#a0b4b372e5e162d4304c89b2d22f93139">PR_STATIC_ASSERT</a>(BooleanFlagCount &lt;= 8*<span class="keyword">sizeof</span>(mBoolFlags));
<a name="l01323"></a>01323     <span class="keywordflow">return</span> mBoolFlags &amp; (1 &lt;&lt; <a class="code" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>);
<a name="l01324"></a>01324   }
<a name="l01325"></a>01325 
<a name="l01326"></a>01326 <span class="keyword">public</span>:
<a name="l01327"></a><a class="code" href="../../d7/de8/classns_i_node.html#aaffd52c2648c7a3795e2c94903b76e1a">01327</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#aaffd52c2648c7a3795e2c94903b76e1a">HasRenderingObservers</a>()<span class="keyword"> const</span>
<a name="l01328"></a>01328 <span class="keyword">    </span>{ <span class="keywordflow">return</span> GetBoolFlag(NodeHasRenderingObservers); }
<a name="l01329"></a><a class="code" href="../../d7/de8/classns_i_node.html#a096235e8689d38c9bcd9ed5c4842601b">01329</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a096235e8689d38c9bcd9ed5c4842601b">SetHasRenderingObservers</a>(<span class="keywordtype">bool</span> aValue)
<a name="l01330"></a>01330     { SetBoolFlag(NodeHasRenderingObservers, aValue); }
<a name="l01331"></a><a class="code" href="../../d7/de8/classns_i_node.html#af8d2b0229574d3c7748d10609ecf050e">01331</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#af8d2b0229574d3c7748d10609ecf050e">IsContent</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> GetBoolFlag(NodeIsContent); }
<a name="l01332"></a><a class="code" href="../../d7/de8/classns_i_node.html#a3abe69856994ab10f4a0747c6659269e">01332</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a3abe69856994ab10f4a0747c6659269e">HasID</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> GetBoolFlag(ElementHasID); }
<a name="l01333"></a><a class="code" href="../../d7/de8/classns_i_node.html#a5f1dc99b5465b1893583f5110141f7f4">01333</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a5f1dc99b5465b1893583f5110141f7f4">MayHaveStyle</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> GetBoolFlag(ElementMayHaveStyle); }
<a name="l01334"></a><a class="code" href="../../d7/de8/classns_i_node.html#a8e69c1806524d0d563e5de638a37fd1a">01334</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a8e69c1806524d0d563e5de638a37fd1a">HasName</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> GetBoolFlag(ElementHasName); }
<a name="l01335"></a><a class="code" href="../../d7/de8/classns_i_node.html#ac8d30ec357cc17a0c8954387f8589e29">01335</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#ac8d30ec357cc17a0c8954387f8589e29">MayHaveContentEditableAttr</a>()<span class="keyword"> const</span>
<a name="l01336"></a>01336 <span class="keyword">    </span>{ <span class="keywordflow">return</span> GetBoolFlag(ElementMayHaveContentEditableAttr); }
<a name="l01337"></a><a class="code" href="../../d7/de8/classns_i_node.html#ae663b76612dfa6bbb13043dfcd218db6">01337</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#ae663b76612dfa6bbb13043dfcd218db6">IsCommonAncestorForRangeInSelection</a>()<span class="keyword"> const</span>
<a name="l01338"></a>01338 <span class="keyword">    </span>{ <span class="keywordflow">return</span> GetBoolFlag(NodeIsCommonAncestorForRangeInSelection); }
<a name="l01339"></a><a class="code" href="../../d7/de8/classns_i_node.html#afb472f2a46d3b46ad4d4e2794c84225d">01339</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#afb472f2a46d3b46ad4d4e2794c84225d">SetCommonAncestorForRangeInSelection</a>()
<a name="l01340"></a>01340     { SetBoolFlag(NodeIsCommonAncestorForRangeInSelection); }
<a name="l01341"></a><a class="code" href="../../d7/de8/classns_i_node.html#a162342dc42798f47a92c208452980ee5">01341</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a162342dc42798f47a92c208452980ee5">ClearCommonAncestorForRangeInSelection</a>()
<a name="l01342"></a>01342     { ClearBoolFlag(NodeIsCommonAncestorForRangeInSelection); }
<a name="l01343"></a><a class="code" href="../../d7/de8/classns_i_node.html#a3ec69402176abbc148ee0d7855ef69cb">01343</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a3ec69402176abbc148ee0d7855ef69cb">IsDescendantOfCommonAncestorForRangeInSelection</a>()<span class="keyword"> const</span>
<a name="l01344"></a>01344 <span class="keyword">    </span>{ <span class="keywordflow">return</span> GetBoolFlag(NodeIsDescendantOfCommonAncestorForRangeInSelection); }
<a name="l01345"></a><a class="code" href="../../d7/de8/classns_i_node.html#aa7bbf641c01633317161c2dd8009377d">01345</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#aa7bbf641c01633317161c2dd8009377d">SetDescendantOfCommonAncestorForRangeInSelection</a>()
<a name="l01346"></a>01346     { SetBoolFlag(NodeIsDescendantOfCommonAncestorForRangeInSelection); }
<a name="l01347"></a><a class="code" href="../../d7/de8/classns_i_node.html#a5aa4aa232c8da189b7209dfcce7db4d1">01347</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a5aa4aa232c8da189b7209dfcce7db4d1">ClearDescendantOfCommonAncestorForRangeInSelection</a>()
<a name="l01348"></a>01348     { ClearBoolFlag(NodeIsDescendantOfCommonAncestorForRangeInSelection); }
<a name="l01349"></a>01349 
<a name="l01350"></a><a class="code" href="../../d7/de8/classns_i_node.html#a9443d65033e227b6745d132fe2204e82">01350</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a9443d65033e227b6745d132fe2204e82">SetCCMarkedRoot</a>(<span class="keywordtype">bool</span> aValue)
<a name="l01351"></a>01351     { SetBoolFlag(NodeIsCCMarkedRoot, aValue); }
<a name="l01352"></a><a class="code" href="../../d7/de8/classns_i_node.html#a87be0695d8ef4528efb0b07f90195f11">01352</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a87be0695d8ef4528efb0b07f90195f11">CCMarkedRoot</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> GetBoolFlag(NodeIsCCMarkedRoot); }
<a name="l01353"></a><a class="code" href="../../d7/de8/classns_i_node.html#ad0a5850d7bf3a29fdfb17516b9ce9a32">01353</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#ad0a5850d7bf3a29fdfb17516b9ce9a32">SetInCCBlackTree</a>(<span class="keywordtype">bool</span> aValue)
<a name="l01354"></a>01354     { SetBoolFlag(NodeIsCCBlackTree, aValue); }
<a name="l01355"></a><a class="code" href="../../d7/de8/classns_i_node.html#af78807cb5f5e91b64892f689ca5ddf68">01355</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#af78807cb5f5e91b64892f689ca5ddf68">InCCBlackTree</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> GetBoolFlag(NodeIsCCBlackTree); }
<a name="l01356"></a><a class="code" href="../../d7/de8/classns_i_node.html#a3e0a5240fb7a3629a9ca41dacb0d3220">01356</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a3e0a5240fb7a3629a9ca41dacb0d3220">SetIsPurpleRoot</a>(<span class="keywordtype">bool</span> aValue)
<a name="l01357"></a>01357     { SetBoolFlag(NodeIsPurpleRoot, aValue); }
<a name="l01358"></a><a class="code" href="../../d7/de8/classns_i_node.html#acc6a264197c0d7b512de6baaa3ce2f96">01358</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#acc6a264197c0d7b512de6baaa3ce2f96">IsPurpleRoot</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> GetBoolFlag(NodeIsPurpleRoot); }
<a name="l01359"></a><a class="code" href="../../d7/de8/classns_i_node.html#a049b228202d88a4fb4299ada773df6c2">01359</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a049b228202d88a4fb4299ada773df6c2">MayHaveDOMMutationObserver</a>()
<a name="l01360"></a>01360     { <span class="keywordflow">return</span> GetBoolFlag(NodeMayHaveDOMMutationObserver); }
<a name="l01361"></a><a class="code" href="../../d7/de8/classns_i_node.html#a1050ebf6effa15be298239dfb161c243">01361</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a1050ebf6effa15be298239dfb161c243">SetMayHaveDOMMutationObserver</a>()
<a name="l01362"></a>01362     { SetBoolFlag(NodeMayHaveDOMMutationObserver, <span class="keyword">true</span>); }
<a name="l01363"></a><a class="code" href="../../d7/de8/classns_i_node.html#a72dd5c4a6fc4a7156d253b0a82bd835f">01363</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a72dd5c4a6fc4a7156d253b0a82bd835f">HasListenerManager</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d0/d7e/classns_wrapper_cache.html#a7abd41d540e95eaf14c70b8d5e95a396">HasFlag</a>(<a class="code" href="../../d8/db7/ns_i_node_8h.html#a390123692eba352f7bdc30bf44693261a92d2528a774498af4a931878a8323b8d">NODE_HAS_LISTENERMANAGER</a>); }
<a name="l01364"></a><a class="code" href="../../d7/de8/classns_i_node.html#a675ba9c9a75561ec8b98cce1a58ccd24">01364</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a675ba9c9a75561ec8b98cce1a58ccd24">HasPointerLock</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> GetBoolFlag(ElementHasPointerLock); }
<a name="l01365"></a><a class="code" href="../../d7/de8/classns_i_node.html#ab484d35268d33f5f210fec69a3992139">01365</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#ab484d35268d33f5f210fec69a3992139">SetPointerLock</a>() { SetBoolFlag(ElementHasPointerLock); }
<a name="l01366"></a><a class="code" href="../../d7/de8/classns_i_node.html#a02ffd12f62837052e959d637fefeda03">01366</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a02ffd12f62837052e959d637fefeda03">ClearPointerLock</a>() { ClearBoolFlag(ElementHasPointerLock); }
<a name="l01367"></a><a class="code" href="../../d7/de8/classns_i_node.html#a21019111e86ce93ea4fef437a70b04f6">01367</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a21019111e86ce93ea4fef437a70b04f6">MayHaveAnimations</a>() { <span class="keywordflow">return</span> GetBoolFlag(ElementHasAnimations); }
<a name="l01368"></a><a class="code" href="../../d7/de8/classns_i_node.html#a0a3d1c7dbf41883e15019008a671f1ba">01368</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a0a3d1c7dbf41883e15019008a671f1ba">SetMayHaveAnimations</a>() { SetBoolFlag(ElementHasAnimations); }
<a name="l01369"></a><a class="code" href="../../d7/de8/classns_i_node.html#a8a51efd61f6690a3c3d8b323bb709485">01369</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a8a51efd61f6690a3c3d8b323bb709485">SetHasValidDir</a>() { SetBoolFlag(NodeHasValidDirAttribute); }
<a name="l01370"></a><a class="code" href="../../d7/de8/classns_i_node.html#a3f8a3d563551bdd69be225246d61549e">01370</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a3f8a3d563551bdd69be225246d61549e">ClearHasValidDir</a>() { ClearBoolFlag(NodeHasValidDirAttribute); }
<a name="l01371"></a><a class="code" href="../../d7/de8/classns_i_node.html#aec9f522adb822b5b50378dccfaf61e83">01371</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#aec9f522adb822b5b50378dccfaf61e83">HasValidDir</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> GetBoolFlag(NodeHasValidDirAttribute); }
<a name="l01372"></a><a class="code" href="../../d7/de8/classns_i_node.html#a914e30b165ac194e86c96a28bef25dfe">01372</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a914e30b165ac194e86c96a28bef25dfe">SetHasFixedDir</a>() {
<a name="l01373"></a>01373     <a class="code" href="../../d9/de9/_assertions_8h.html#aa2fa77a048d036cb2f902299ace18165">MOZ_ASSERT</a>(<a class="code" href="../../d7/de8/classns_i_node.html#acfb6e109073c0cb85a08ff480f33cab1">NodeType</a>() != <a class="code" href="../../da/da2/interfacens_i_d_o_m_node.html#a220a50df37b22597a4c213d42962719a">nsIDOMNode::TEXT_NODE</a>,
<a name="l01374"></a>01374                <span class="stringliteral">&quot;SetHasFixedDir on text node&quot;</span>);
<a name="l01375"></a>01375     SetBoolFlag(NodeHasFixedDir);
<a name="l01376"></a>01376   }
<a name="l01377"></a><a class="code" href="../../d7/de8/classns_i_node.html#a991b5f0fdb9c6f9af6bd4894693c87ea">01377</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a991b5f0fdb9c6f9af6bd4894693c87ea">ClearHasFixedDir</a>() {
<a name="l01378"></a>01378     <a class="code" href="../../d9/de9/_assertions_8h.html#aa2fa77a048d036cb2f902299ace18165">MOZ_ASSERT</a>(<a class="code" href="../../d7/de8/classns_i_node.html#acfb6e109073c0cb85a08ff480f33cab1">NodeType</a>() != <a class="code" href="../../da/da2/interfacens_i_d_o_m_node.html#a220a50df37b22597a4c213d42962719a">nsIDOMNode::TEXT_NODE</a>,
<a name="l01379"></a>01379                <span class="stringliteral">&quot;ClearHasFixedDir on text node&quot;</span>);
<a name="l01380"></a>01380     ClearBoolFlag(NodeHasFixedDir);
<a name="l01381"></a>01381   }
<a name="l01382"></a><a class="code" href="../../d7/de8/classns_i_node.html#acc450e61d5f755a0328ba37644149029">01382</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#acc450e61d5f755a0328ba37644149029">HasFixedDir</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> GetBoolFlag(NodeHasFixedDir); }
<a name="l01383"></a><a class="code" href="../../d7/de8/classns_i_node.html#a7c120f5aaf1513f8a6411dfbd5761087">01383</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a7c120f5aaf1513f8a6411dfbd5761087">SetHasDirAutoSet</a>() {
<a name="l01384"></a>01384     <a class="code" href="../../d9/de9/_assertions_8h.html#aa2fa77a048d036cb2f902299ace18165">MOZ_ASSERT</a>(<a class="code" href="../../d7/de8/classns_i_node.html#acfb6e109073c0cb85a08ff480f33cab1">NodeType</a>() != <a class="code" href="../../da/da2/interfacens_i_d_o_m_node.html#a220a50df37b22597a4c213d42962719a">nsIDOMNode::TEXT_NODE</a>,
<a name="l01385"></a>01385                <span class="stringliteral">&quot;SetHasDirAutoSet on text node&quot;</span>);
<a name="l01386"></a>01386     SetBoolFlag(NodeHasDirAutoSet);
<a name="l01387"></a>01387   }
<a name="l01388"></a><a class="code" href="../../d7/de8/classns_i_node.html#a5cf56475d5f33cbe36785902dbfa7608">01388</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a5cf56475d5f33cbe36785902dbfa7608">ClearHasDirAutoSet</a>() {
<a name="l01389"></a>01389     <a class="code" href="../../d9/de9/_assertions_8h.html#aa2fa77a048d036cb2f902299ace18165">MOZ_ASSERT</a>(<a class="code" href="../../d7/de8/classns_i_node.html#acfb6e109073c0cb85a08ff480f33cab1">NodeType</a>() != <a class="code" href="../../da/da2/interfacens_i_d_o_m_node.html#a220a50df37b22597a4c213d42962719a">nsIDOMNode::TEXT_NODE</a>,
<a name="l01390"></a>01390                <span class="stringliteral">&quot;ClearHasDirAutoSet on text node&quot;</span>);
<a name="l01391"></a>01391     ClearBoolFlag(NodeHasDirAutoSet);
<a name="l01392"></a>01392   }
<a name="l01393"></a><a class="code" href="../../d7/de8/classns_i_node.html#a6a763dd76ba6401d93027e0c67a1f636">01393</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a6a763dd76ba6401d93027e0c67a1f636">HasDirAutoSet</a>()<span class="keyword"> const</span>
<a name="l01394"></a>01394 <span class="keyword">    </span>{ <span class="keywordflow">return</span> GetBoolFlag(NodeHasDirAutoSet); }
<a name="l01395"></a><a class="code" href="../../d7/de8/classns_i_node.html#ac4b2a03e1b5e6faa37e9ca300c5d3241">01395</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#ac4b2a03e1b5e6faa37e9ca300c5d3241">SetHasTextNodeDirectionalityMap</a>() {
<a name="l01396"></a>01396     <a class="code" href="../../d9/de9/_assertions_8h.html#aa2fa77a048d036cb2f902299ace18165">MOZ_ASSERT</a>(<a class="code" href="../../d7/de8/classns_i_node.html#acfb6e109073c0cb85a08ff480f33cab1">NodeType</a>() == <a class="code" href="../../da/da2/interfacens_i_d_o_m_node.html#a220a50df37b22597a4c213d42962719a">nsIDOMNode::TEXT_NODE</a>,
<a name="l01397"></a>01397                <span class="stringliteral">&quot;SetHasTextNodeDirectionalityMap on non-text node&quot;</span>);
<a name="l01398"></a>01398     SetBoolFlag(NodeHasTextNodeDirectionalityMap);
<a name="l01399"></a>01399   }
<a name="l01400"></a><a class="code" href="../../d7/de8/classns_i_node.html#a9718557e8b6266a6ec16be6d7c20aacd">01400</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a9718557e8b6266a6ec16be6d7c20aacd">ClearHasTextNodeDirectionalityMap</a>() {
<a name="l01401"></a>01401     <a class="code" href="../../d9/de9/_assertions_8h.html#aa2fa77a048d036cb2f902299ace18165">MOZ_ASSERT</a>(<a class="code" href="../../d7/de8/classns_i_node.html#acfb6e109073c0cb85a08ff480f33cab1">NodeType</a>() == <a class="code" href="../../da/da2/interfacens_i_d_o_m_node.html#a220a50df37b22597a4c213d42962719a">nsIDOMNode::TEXT_NODE</a>,
<a name="l01402"></a>01402                <span class="stringliteral">&quot;ClearHasTextNodeDirectionalityMap on non-text node&quot;</span>);
<a name="l01403"></a>01403     ClearBoolFlag(NodeHasTextNodeDirectionalityMap);
<a name="l01404"></a>01404   }
<a name="l01405"></a><a class="code" href="../../d7/de8/classns_i_node.html#a4d4bdce6982ca64458efa9d5c7728817">01405</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a4d4bdce6982ca64458efa9d5c7728817">HasTextNodeDirectionalityMap</a>()<span class="keyword"> const</span>
<a name="l01406"></a>01406 <span class="keyword">    </span>{ <span class="keywordflow">return</span> GetBoolFlag(NodeHasTextNodeDirectionalityMap); }
<a name="l01407"></a>01407 
<a name="l01408"></a><a class="code" href="../../d7/de8/classns_i_node.html#af9cb0440dde6ce506ce639b907d891c3">01408</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#af9cb0440dde6ce506ce639b907d891c3">SetHasDirAuto</a>() { SetBoolFlag(NodeHasDirAuto); }
<a name="l01409"></a><a class="code" href="../../d7/de8/classns_i_node.html#ac0d1d57dba50b70d76fad9b4faf18b0d">01409</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#ac0d1d57dba50b70d76fad9b4faf18b0d">ClearHasDirAuto</a>() { ClearBoolFlag(NodeHasDirAuto); }
<a name="l01410"></a><a class="code" href="../../d7/de8/classns_i_node.html#af1effb0ed6448eec72fd5bfea22009b8">01410</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#af1effb0ed6448eec72fd5bfea22009b8">HasDirAuto</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> GetBoolFlag(NodeHasDirAuto); }
<a name="l01411"></a>01411 
<a name="l01412"></a><a class="code" href="../../d7/de8/classns_i_node.html#a55d0fee596678858a5df2219ce866cb3">01412</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a55d0fee596678858a5df2219ce866cb3">SetAncestorHasDirAuto</a>() { SetBoolFlag(NodeAncestorHasDirAuto); }
<a name="l01413"></a><a class="code" href="../../d7/de8/classns_i_node.html#a50a086689aa115742fbae9c6c227640b">01413</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a50a086689aa115742fbae9c6c227640b">ClearAncestorHasDirAuto</a>() { ClearBoolFlag(NodeAncestorHasDirAuto); }
<a name="l01414"></a><a class="code" href="../../d7/de8/classns_i_node.html#a2697fb836e6633f241de5ecde549ea71">01414</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a2697fb836e6633f241de5ecde549ea71">AncestorHasDirAuto</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> GetBoolFlag(NodeAncestorHasDirAuto); }
<a name="l01415"></a>01415 
<a name="l01416"></a><a class="code" href="../../d7/de8/classns_i_node.html#a0bf7da035f4351d970da46dd5064aa59">01416</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a0bf7da035f4351d970da46dd5064aa59">NodeOrAncestorHasDirAuto</a>()<span class="keyword"> const</span>
<a name="l01417"></a>01417 <span class="keyword">    </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#af1effb0ed6448eec72fd5bfea22009b8">HasDirAuto</a>() || <a class="code" href="../../d7/de8/classns_i_node.html#a2697fb836e6633f241de5ecde549ea71">AncestorHasDirAuto</a>(); }
<a name="l01418"></a>01418 
<a name="l01419"></a><a class="code" href="../../d7/de8/classns_i_node.html#af0ae2c329ed447a54f5dc83db5f5db95">01419</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#af0ae2c329ed447a54f5dc83db5f5db95">SetIsElementInStyleScope</a>(<span class="keywordtype">bool</span> aValue) {
<a name="l01420"></a>01420     <a class="code" href="../../d9/de9/_assertions_8h.html#aa2fa77a048d036cb2f902299ace18165">MOZ_ASSERT</a>(<a class="code" href="../../d7/de8/classns_i_node.html#a5e273273a1c2bf082dfb325cb8c671c4">IsElement</a>(), <span class="stringliteral">&quot;SetIsInStyleScope on a non-Element node&quot;</span>);
<a name="l01421"></a>01421     SetBoolFlag(ElementIsInStyleScope, aValue);
<a name="l01422"></a>01422   }
<a name="l01423"></a><a class="code" href="../../d7/de8/classns_i_node.html#a5719dc05e9d40532fa74c7be106c45f9">01423</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a5719dc05e9d40532fa74c7be106c45f9">SetIsElementInStyleScope</a>() {
<a name="l01424"></a>01424     <a class="code" href="../../d9/de9/_assertions_8h.html#aa2fa77a048d036cb2f902299ace18165">MOZ_ASSERT</a>(<a class="code" href="../../d7/de8/classns_i_node.html#a5e273273a1c2bf082dfb325cb8c671c4">IsElement</a>(), <span class="stringliteral">&quot;SetIsInStyleScope on a non-Element node&quot;</span>);
<a name="l01425"></a>01425     SetBoolFlag(ElementIsInStyleScope);
<a name="l01426"></a>01426   }
<a name="l01427"></a><a class="code" href="../../d7/de8/classns_i_node.html#a774012914fea69c44545932fe87bbaff">01427</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a774012914fea69c44545932fe87bbaff">ClearIsElementInStyleScope</a>() {
<a name="l01428"></a>01428     <a class="code" href="../../d9/de9/_assertions_8h.html#aa2fa77a048d036cb2f902299ace18165">MOZ_ASSERT</a>(<a class="code" href="../../d7/de8/classns_i_node.html#a5e273273a1c2bf082dfb325cb8c671c4">IsElement</a>(), <span class="stringliteral">&quot;ClearIsInStyleScope on a non-Element node&quot;</span>);
<a name="l01429"></a>01429     ClearBoolFlag(ElementIsInStyleScope);
<a name="l01430"></a>01430   }
<a name="l01431"></a><a class="code" href="../../d7/de8/classns_i_node.html#a79fff91b579994d77f47a6c9887b4796">01431</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a79fff91b579994d77f47a6c9887b4796">IsElementInStyleScope</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> GetBoolFlag(ElementIsInStyleScope); }
<a name="l01432"></a>01432 
<a name="l01433"></a><a class="code" href="../../d7/de8/classns_i_node.html#a66377365b727eabe86586973c8ce7d57">01433</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a66377365b727eabe86586973c8ce7d57">SetIsScopedStyleRoot</a>() { SetBoolFlag(ElementIsScopedStyleRoot); }
<a name="l01434"></a><a class="code" href="../../d7/de8/classns_i_node.html#adeeca84a986c0c20e74462745c89c2c5">01434</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#adeeca84a986c0c20e74462745c89c2c5">ClearIsScopedStyleRoot</a>() { ClearBoolFlag(ElementIsScopedStyleRoot); }
<a name="l01435"></a><a class="code" href="../../d7/de8/classns_i_node.html#a9b91b19116c542edb3124ad6509f2237">01435</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a9b91b19116c542edb3124ad6509f2237">IsScopedStyleRoot</a>() { <span class="keywordflow">return</span> GetBoolFlag(ElementIsScopedStyleRoot); }
<a name="l01436"></a><a class="code" href="../../d7/de8/classns_i_node.html#a0101b351c3dc3b992a6c9c885583ce63">01436</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a0101b351c3dc3b992a6c9c885583ce63">HasRelevantHoverRules</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> GetBoolFlag(NodeHasRelevantHoverRules); }
<a name="l01437"></a><a class="code" href="../../d7/de8/classns_i_node.html#a54d4f4979f103689bc26368aa9841b92">01437</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a54d4f4979f103689bc26368aa9841b92">SetHasRelevantHoverRules</a>() { SetBoolFlag(NodeHasRelevantHoverRules); }
<a name="l01438"></a>01438 <span class="keyword">protected</span>:
<a name="l01439"></a><a class="code" href="../../d7/de8/classns_i_node.html#a759ca96d601251b513309829ccf3c68b">01439</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a759ca96d601251b513309829ccf3c68b">SetParentIsContent</a>(<span class="keywordtype">bool</span> aValue) { SetBoolFlag(ParentIsContent, aValue); }
<a name="l01440"></a><a class="code" href="../../d7/de8/classns_i_node.html#a481c767401a17e25163c47b1a480991d">01440</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a481c767401a17e25163c47b1a480991d">SetInDocument</a>() { SetBoolFlag(IsInDocument); }
<a name="l01441"></a><a class="code" href="../../d7/de8/classns_i_node.html#ad2b2b9a82e303bf511bfe0500b119f0b">01441</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#ad2b2b9a82e303bf511bfe0500b119f0b">SetNodeIsContent</a>() { SetBoolFlag(NodeIsContent); }
<a name="l01442"></a><a class="code" href="../../d7/de8/classns_i_node.html#a675034888c7715a06753cb28719c3465">01442</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a675034888c7715a06753cb28719c3465">ClearInDocument</a>() { ClearBoolFlag(IsInDocument); }
<a name="l01443"></a><a class="code" href="../../d7/de8/classns_i_node.html#a9f213859713a76d7da68e7d1a099274a">01443</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a9f213859713a76d7da68e7d1a099274a">SetIsElement</a>() { SetBoolFlag(NodeIsElement); }
<a name="l01444"></a><a class="code" href="../../d7/de8/classns_i_node.html#ab0b14bddd0615f12248c48c97645fec4">01444</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#ab0b14bddd0615f12248c48c97645fec4">SetHasID</a>() { SetBoolFlag(ElementHasID); }
<a name="l01445"></a><a class="code" href="../../d7/de8/classns_i_node.html#a5db360ee75521eb18327244d30343dc3">01445</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a5db360ee75521eb18327244d30343dc3">ClearHasID</a>() { ClearBoolFlag(ElementHasID); }
<a name="l01446"></a><a class="code" href="../../d7/de8/classns_i_node.html#ae7edcc0e9d44d968923ccb5af913dad3">01446</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#ae7edcc0e9d44d968923ccb5af913dad3">SetMayHaveStyle</a>() { SetBoolFlag(ElementMayHaveStyle); }
<a name="l01447"></a><a class="code" href="../../d7/de8/classns_i_node.html#a937b879632eb742dec1e9aeb80242b7e">01447</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a937b879632eb742dec1e9aeb80242b7e">SetHasName</a>() { SetBoolFlag(ElementHasName); }
<a name="l01448"></a><a class="code" href="../../d7/de8/classns_i_node.html#a33112e7f2f3d4e56dee89ed8455cbc44">01448</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a33112e7f2f3d4e56dee89ed8455cbc44">ClearHasName</a>() { ClearBoolFlag(ElementHasName); }
<a name="l01449"></a><a class="code" href="../../d7/de8/classns_i_node.html#a3188b31afe4479af202e0ad9ba5c618e">01449</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a3188b31afe4479af202e0ad9ba5c618e">SetMayHaveContentEditableAttr</a>()
<a name="l01450"></a>01450     { SetBoolFlag(ElementMayHaveContentEditableAttr); }
<a name="l01451"></a><a class="code" href="../../d7/de8/classns_i_node.html#afec4a70ec9f43030258cd3d040219f11">01451</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#afec4a70ec9f43030258cd3d040219f11">HasExplicitBaseURI</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> GetBoolFlag(NodeHasExplicitBaseURI); }
<a name="l01452"></a><a class="code" href="../../d7/de8/classns_i_node.html#a8b899eef2391b2a97ab733aa1836e74c">01452</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a8b899eef2391b2a97ab733aa1836e74c">SetHasExplicitBaseURI</a>() { SetBoolFlag(NodeHasExplicitBaseURI); }
<a name="l01453"></a><a class="code" href="../../d7/de8/classns_i_node.html#aefd22731ab2b8291f2824a163799f5a4">01453</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#aefd22731ab2b8291f2824a163799f5a4">SetHasLockedStyleStates</a>() { SetBoolFlag(ElementHasLockedStyleStates); }
<a name="l01454"></a><a class="code" href="../../d7/de8/classns_i_node.html#a6675460a20b063147b8621cdc7b1fc80">01454</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a6675460a20b063147b8621cdc7b1fc80">ClearHasLockedStyleStates</a>() { ClearBoolFlag(ElementHasLockedStyleStates); }
<a name="l01455"></a><a class="code" href="../../d7/de8/classns_i_node.html#a69b611c443e9541045d4a967c26c7383">01455</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a69b611c443e9541045d4a967c26c7383">HasLockedStyleStates</a>()<span class="keyword"> const</span>
<a name="l01456"></a>01456 <span class="keyword">    </span>{ <span class="keywordflow">return</span> GetBoolFlag(ElementHasLockedStyleStates); }
<a name="l01457"></a><a class="code" href="../../d7/de8/classns_i_node.html#ac27a89e23dbc9a9bb2495d6a7f9655fb">01457</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#ac27a89e23dbc9a9bb2495d6a7f9655fb">HandlingClick</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> GetBoolFlag(NodeHandlingClick); }
<a name="l01458"></a><a class="code" href="../../d7/de8/classns_i_node.html#afffbeb4d45979ec902208544e6c7caad">01458</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#afffbeb4d45979ec902208544e6c7caad">SetHandlingClick</a>() { SetBoolFlag(NodeHandlingClick); }
<a name="l01459"></a><a class="code" href="../../d7/de8/classns_i_node.html#ae9a1388e00fc3c123d319df0ce01f507">01459</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#ae9a1388e00fc3c123d319df0ce01f507">ClearHandlingClick</a>() { ClearBoolFlag(NodeHandlingClick); }
<a name="l01460"></a>01460 
<a name="l01461"></a><a class="code" href="../../d7/de8/classns_i_node.html#a64e2749a8fe22940459aaa837ebdc7dc">01461</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a64e2749a8fe22940459aaa837ebdc7dc">SetSubtreeRootPointer</a>(<a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* aSubtreeRoot)
<a name="l01462"></a>01462   {
<a name="l01463"></a>01463     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(aSubtreeRoot, <span class="stringliteral">&quot;aSubtreeRoot can never be null!&quot;</span>);
<a name="l01464"></a>01464     <a class="code" href="../../dc/d6d/ns_debug_8h.html#ad0ae7f43205a729107e59d101665b8fa">NS_ASSERTION</a>(!(<a class="code" href="../../d7/de8/classns_i_node.html#ac6293f5472258074686143670a0fa8a5">IsNodeOfType</a>(<a class="code" href="../../d7/de8/classns_i_node.html#acabd8e39894e81acd3eb63cccaf5defca90846414b5e1d2da8cdb3987afbf8ce0">eCONTENT</a>) &amp;&amp; <a class="code" href="../../d7/de8/classns_i_node.html#a070c7454ede1ff68b618d0c39744f467">IsInDoc</a>()), <span class="stringliteral">&quot;Shouldn&#39;t be here!&quot;</span>);
<a name="l01465"></a>01465     <a class="code" href="../../d7/de8/classns_i_node.html#ab5503198400cd74e91ce0ef1981973f7">mSubtreeRoot</a> = aSubtreeRoot;
<a name="l01466"></a>01466   }
<a name="l01467"></a>01467 
<a name="l01468"></a><a class="code" href="../../d7/de8/classns_i_node.html#a14bef3674b5e40106cc82be2b3da8067">01468</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a14bef3674b5e40106cc82be2b3da8067">ClearSubtreeRootPointer</a>()
<a name="l01469"></a>01469   {
<a name="l01470"></a>01470     <a class="code" href="../../d7/de8/classns_i_node.html#ab5503198400cd74e91ce0ef1981973f7">mSubtreeRoot</a> = <span class="keyword">nullptr</span>;
<a name="l01471"></a>01471   }
<a name="l01472"></a>01472 
<a name="l01473"></a>01473 <span class="keyword">public</span>:
<a name="l01474"></a>01474   <span class="comment">// Makes nsINode object to keep aObject alive.</span>
<a name="l01475"></a>01475   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a424da34ddd1cdf33a51aa06325a57163">BindObject</a>(<a class="code" href="../../d4/d6a/classns_i_supports.html">nsISupports</a>* aObject);
<a name="l01476"></a>01476   <span class="comment">// After calling UnbindObject nsINode object doesn&#39;t keep</span>
<a name="l01477"></a>01477   <span class="comment">// aObject alive anymore.</span>
<a name="l01478"></a>01478   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a280ad385ceac7fbd6a68464c80c2c03f">UnbindObject</a>(<a class="code" href="../../d4/d6a/classns_i_supports.html">nsISupports</a>* aObject);
<a name="l01479"></a>01479 
<a name="l01484"></a>01484   uint32_t <a class="code" href="../../d7/de8/classns_i_node.html#a94f75e14515d346c4d7f725b5ee0ce98">Length</a>() <span class="keyword">const</span>;
<a name="l01485"></a>01485 
<a name="l01486"></a><a class="code" href="../../d7/de8/classns_i_node.html#a7f92267499742036834b8f328a4848b7">01486</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a7f92267499742036834b8f328a4848b7">GetNodeName</a>(nsAString&amp; aNodeName)<span class="keyword"> const</span>
<a name="l01487"></a>01487 <span class="keyword">  </span>{
<a name="l01488"></a>01488     aNodeName = <a class="code" href="../../d7/de8/classns_i_node.html#abe6b2d5576d066ccefdda8173a45b495">NodeName</a>();
<a name="l01489"></a>01489   }
<a name="l01490"></a>01490   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#aee2e1444eaf0477958fe3a73441cba1c">GetBaseURI</a>(nsAString&amp; aBaseURI) <span class="keyword">const</span>;
<a name="l01491"></a><a class="code" href="../../d7/de8/classns_i_node.html#aba9b4815b86c97b8a47af509ebb084b0">01491</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#aba9b4815b86c97b8a47af509ebb084b0">HasChildNodes</a>()<span class="keyword"> const</span>
<a name="l01492"></a>01492 <span class="keyword">  </span>{
<a name="l01493"></a>01493     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#ac5d457504843b217492dadbc0008d34d">HasChildren</a>();
<a name="l01494"></a>01494   }
<a name="l01495"></a>01495   uint16_t <a class="code" href="../../d7/de8/classns_i_node.html#af56ae39cd6e53c9d496b7e23f9935670">CompareDocumentPosition</a>(<a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>&amp; aOther) <span class="keyword">const</span>;
<a name="l01496"></a><a class="code" href="../../d7/de8/classns_i_node.html#aea984731567f2fdbcf6a58b19887e16c">01496</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#aea984731567f2fdbcf6a58b19887e16c">GetNodeValue</a>(nsAString&amp; aNodeValue)
<a name="l01497"></a>01497   {
<a name="l01498"></a>01498     <a class="code" href="../../d7/de8/classns_i_node.html#a7d4b925a7c8120af096c5321f3f1e8a2">GetNodeValueInternal</a>(aNodeValue);
<a name="l01499"></a>01499   }
<a name="l01500"></a><a class="code" href="../../d7/de8/classns_i_node.html#a5296f45ede1afdac3cb733ad5db678a6">01500</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a5296f45ede1afdac3cb733ad5db678a6">SetNodeValue</a>(<span class="keyword">const</span> nsAString&amp; aNodeValue,
<a name="l01501"></a>01501                     <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; aError)
<a name="l01502"></a>01502   {
<a name="l01503"></a>01503     <a class="code" href="../../d7/de8/classns_i_node.html#ae8329418abf29c13851c478b1d78366d">SetNodeValueInternal</a>(aNodeValue, aError);
<a name="l01504"></a>01504   }
<a name="l01505"></a>01505   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a7d4b925a7c8120af096c5321f3f1e8a2">GetNodeValueInternal</a>(nsAString&amp; aNodeValue);
<a name="l01506"></a><a class="code" href="../../d7/de8/classns_i_node.html#ae8329418abf29c13851c478b1d78366d">01506</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#ae8329418abf29c13851c478b1d78366d">SetNodeValueInternal</a>(<span class="keyword">const</span> nsAString&amp; aNodeValue,
<a name="l01507"></a>01507                                     <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; aError)
<a name="l01508"></a>01508   {
<a name="l01509"></a>01509     <span class="comment">// The DOM spec says that when nodeValue is defined to be null &quot;setting it</span>
<a name="l01510"></a>01510     <span class="comment">// has no effect&quot;, so we don&#39;t throw an exception.</span>
<a name="l01511"></a>01511   }
<a name="l01512"></a><a class="code" href="../../d7/de8/classns_i_node.html#ad4c6ee37929256c5eb378d0359939e99">01512</a>   <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* <a class="code" href="../../d7/de8/classns_i_node.html#ad4c6ee37929256c5eb378d0359939e99">InsertBefore</a>(<a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>&amp; aNode, <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* aChild,
<a name="l01513"></a>01513                         <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; aError)
<a name="l01514"></a>01514   {
<a name="l01515"></a>01515     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a824c0eabcad8045bf42b57c15515e112">ReplaceOrInsertBefore</a>(<span class="keyword">false</span>, &amp;aNode, aChild, aError);
<a name="l01516"></a>01516   }
<a name="l01517"></a><a class="code" href="../../d7/de8/classns_i_node.html#a5ab65436c2f016363e944ffdbf7c04b6">01517</a>   <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a5ab65436c2f016363e944ffdbf7c04b6">AppendChild</a>(<a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>&amp; aNode, <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; aError)
<a name="l01518"></a>01518   {
<a name="l01519"></a>01519     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#ad4c6ee37929256c5eb378d0359939e99">InsertBefore</a>(aNode, <span class="keyword">nullptr</span>, aError);
<a name="l01520"></a>01520   }
<a name="l01521"></a><a class="code" href="../../d7/de8/classns_i_node.html#af3dc70026f4881a96d23f1f3a1dbbc7a">01521</a>   <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* <a class="code" href="../../d7/de8/classns_i_node.html#af3dc70026f4881a96d23f1f3a1dbbc7a">ReplaceChild</a>(<a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>&amp; aNode, <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>&amp; aChild,
<a name="l01522"></a>01522                         <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; aError)
<a name="l01523"></a>01523   {
<a name="l01524"></a>01524     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a824c0eabcad8045bf42b57c15515e112">ReplaceOrInsertBefore</a>(<span class="keyword">true</span>, &amp;aNode, &amp;aChild, aError);
<a name="l01525"></a>01525   }
<a name="l01526"></a>01526   <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a69935ad0a1ae14456b1c73e8b0810a8d">RemoveChild</a>(<a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>&amp; aChild, <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; aError);
<a name="l01527"></a>01527   <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;nsINode&gt;</a> <a class="code" href="../../d7/de8/classns_i_node.html#ab25205ae487446b48fc2ebe27955fb50">CloneNode</a>(<span class="keywordtype">bool</span> aDeep, <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; aError);
<a name="l01528"></a>01528   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#aa03ba0b15e6c2cbb5c771893b8ce716c">IsEqualNode</a>(<a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* aNode);
<a name="l01529"></a><a class="code" href="../../d7/de8/classns_i_node.html#a269a3c736f57f419e3a6367666cef606">01529</a>   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a269a3c736f57f419e3a6367666cef606">GetNamespaceURI</a>(nsAString&amp; aNamespaceURI)<span class="keyword"> const</span>
<a name="l01530"></a>01530 <span class="keyword">  </span>{
<a name="l01531"></a>01531     <a class="code" href="../../d7/de8/classns_i_node.html#a25654899a417edafdde2600a3bd43cad">mNodeInfo</a>-&gt;GetNamespaceURI(aNamespaceURI);
<a name="l01532"></a>01532   }
<a name="l01533"></a>01533 <span class="preprocessor">#ifdef MOZILLA_INTERNAL_API</span>
<a name="l01534"></a>01534 <span class="preprocessor"></span>  <span class="keywordtype">void</span> GetPrefix(nsAString&amp; aPrefix)
<a name="l01535"></a>01535   {
<a name="l01536"></a>01536     <a class="code" href="../../d7/de8/classns_i_node.html#a25654899a417edafdde2600a3bd43cad">mNodeInfo</a>-&gt;GetPrefix(aPrefix);
<a name="l01537"></a>01537   }
<a name="l01538"></a>01538 <span class="preprocessor">#endif</span>
<a name="l01539"></a><a class="code" href="../../d7/de8/classns_i_node.html#a674dadd23505bd46ecf50c44ffb03d1d">01539</a> <span class="preprocessor"></span>  <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a674dadd23505bd46ecf50c44ffb03d1d">GetLocalName</a>(nsAString&amp; aLocalName)
<a name="l01540"></a>01540   {
<a name="l01541"></a>01541     aLocalName = <a class="code" href="../../d7/de8/classns_i_node.html#a25654899a417edafdde2600a3bd43cad">mNodeInfo</a>-&gt;LocalName();
<a name="l01542"></a>01542   }
<a name="l01543"></a>01543   <span class="comment">// HasAttributes is defined inline in Element.h.</span>
<a name="l01544"></a>01544   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a02e7858dd4cbb781964aaff5b28d29e1">HasAttributes</a>() <span class="keyword">const</span>;
<a name="l01545"></a>01545   <a class="code" href="../../d2/d64/classns_d_o_m_attribute_map.html">nsDOMAttributeMap</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a8ecf5f6d37172267bedbfcf06f889399">GetAttributes</a>();
<a name="l01546"></a>01546   <a class="code" href="../../d1/d94/class_j_s_1_1_value.html">JS::Value</a> <a class="code" href="../../d7/de8/classns_i_node.html#acbd77aa07b78769c311f47136c438fbb">SetUserData</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>* aCx, <span class="keyword">const</span> nsAString&amp; aKey,
<a name="l01547"></a>01547                         <a class="code" href="../../df/dfb/class_j_s_1_1_handle.html">JS::Handle&lt;JS::Value&gt;</a> <a class="code" href="../../d6/d1d/ns_x_p_c_o_m_strings_8h.html#a580e3d1c78551e30e0c97ab45dc8a3b5">aData</a>,
<a name="l01548"></a>01548                         <a class="code" href="../../df/df2/interfacens_i_d_o_m_user_data_handler.html">nsIDOMUserDataHandler</a>* aHandler,
<a name="l01549"></a>01549                         <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; aError);
<a name="l01550"></a>01550   <a class="code" href="../../d1/d94/class_j_s_1_1_value.html">JS::Value</a> <a class="code" href="../../d7/de8/classns_i_node.html#a2e23912d5c47845fb710ce5730d686a5">GetUserData</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>* aCx, <span class="keyword">const</span> nsAString&amp; aKey,
<a name="l01551"></a>01551                         <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; aError);
<a name="l01552"></a>01552 
<a name="l01553"></a>01553   <span class="comment">// Helper method to remove this node from its parent. This is not exposed</span>
<a name="l01554"></a>01554   <span class="comment">// through WebIDL.</span>
<a name="l01555"></a>01555   <span class="comment">// Only call this if the node has a parent node.</span>
<a name="l01556"></a><a class="code" href="../../d7/de8/classns_i_node.html#a4cfe2623b1c0f6e5af4d904bfde8fb2b">01556</a>   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#a4cfe2623b1c0f6e5af4d904bfde8fb2b">RemoveFromParent</a>()
<a name="l01557"></a>01557   {
<a name="l01558"></a>01558     <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* parent = <a class="code" href="../../d7/de8/classns_i_node.html#a2e9d8ed881bc4d5e48f6d1e2a0177ca1">GetParentNode</a>();
<a name="l01559"></a>01559     <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a> rv;
<a name="l01560"></a>01560     parent-&gt;<a class="code" href="../../d7/de8/classns_i_node.html#a69935ad0a1ae14456b1c73e8b0810a8d">RemoveChild</a>(*<span class="keyword">this</span>, rv);
<a name="l01561"></a>01561     <span class="keywordflow">return</span> rv.<a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html#a5ec60babbb4edab5e6b4f41f2406148a">ErrorCode</a>();
<a name="l01562"></a>01562   }
<a name="l01563"></a>01563 
<a name="l01564"></a>01564   <span class="comment">// ChildNode methods</span>
<a name="l01565"></a>01565   <a class="code" href="../../de/da4/classmozilla_1_1dom_1_1_element.html">mozilla::dom::Element</a>* <a class="code" href="../../d7/de8/classns_i_node.html#ac3ede507b126f819ba24f9e23638ef73">GetPreviousElementSibling</a>() <span class="keyword">const</span>;
<a name="l01566"></a>01566   <a class="code" href="../../de/da4/classmozilla_1_1dom_1_1_element.html">mozilla::dom::Element</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a7beea312f7d1407490126cbfa4b295d8">GetNextElementSibling</a>() <span class="keyword">const</span>;
<a name="l01570"></a>01570   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a6cfa241ba8cd3a44598c581c7ad6b450">Remove</a>();
<a name="l01571"></a>01571 
<a name="l01572"></a>01572   <span class="comment">// ParentNode methods</span>
<a name="l01573"></a>01573   <a class="code" href="../../de/da4/classmozilla_1_1dom_1_1_element.html">mozilla::dom::Element</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a8a71fc741a2a489b52e0580468266b50">GetFirstElementChild</a>() <span class="keyword">const</span>;
<a name="l01574"></a>01574   <a class="code" href="../../de/da4/classmozilla_1_1dom_1_1_element.html">mozilla::dom::Element</a>* <a class="code" href="../../d7/de8/classns_i_node.html#aa9029dbfad8c049523b7a713bc72db0f">GetLastElementChild</a>() <span class="keyword">const</span>;
<a name="l01575"></a>01575 
<a name="l01576"></a>01576 <span class="keyword">protected</span>:
<a name="l01577"></a>01577 
<a name="l01578"></a>01578   <span class="comment">// Override this function to create a custom slots class.</span>
<a name="l01579"></a>01579   <span class="comment">// Must not return null.</span>
<a name="l01580"></a>01580   <span class="keyword">virtual</span> <a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html">nsINode::nsSlots</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a85393a6dd363ec5b3a02b7991cd888bc">CreateSlots</a>();
<a name="l01581"></a>01581 
<a name="l01582"></a><a class="code" href="../../d7/de8/classns_i_node.html#aceb62625b2d55aac3397b86a1945fc52">01582</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#aceb62625b2d55aac3397b86a1945fc52">HasSlots</a>()<span class="keyword"> const</span>
<a name="l01583"></a>01583 <span class="keyword">  </span>{
<a name="l01584"></a>01584     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#ad52410ad1a5d6d7a877bb1735885060b">mSlots</a> != <span class="keyword">nullptr</span>;
<a name="l01585"></a>01585   }
<a name="l01586"></a>01586 
<a name="l01587"></a><a class="code" href="../../d7/de8/classns_i_node.html#a817f30913b9b91982e9ee459f2de9aea">01587</a>   <a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html">nsSlots</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a817f30913b9b91982e9ee459f2de9aea">GetExistingSlots</a>()<span class="keyword"> const</span>
<a name="l01588"></a>01588 <span class="keyword">  </span>{
<a name="l01589"></a>01589     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#ad52410ad1a5d6d7a877bb1735885060b">mSlots</a>;
<a name="l01590"></a>01590   }
<a name="l01591"></a>01591 
<a name="l01592"></a><a class="code" href="../../d7/de8/classns_i_node.html#a5912c1c31d4b7d54a2fe98989391b96f">01592</a>   <a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html">nsSlots</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a5912c1c31d4b7d54a2fe98989391b96f">Slots</a>()
<a name="l01593"></a>01593   {
<a name="l01594"></a>01594     <span class="keywordflow">if</span> (!<a class="code" href="../../d7/de8/classns_i_node.html#aceb62625b2d55aac3397b86a1945fc52">HasSlots</a>()) {
<a name="l01595"></a>01595       <a class="code" href="../../d7/de8/classns_i_node.html#ad52410ad1a5d6d7a877bb1735885060b">mSlots</a> = <a class="code" href="../../d7/de8/classns_i_node.html#a85393a6dd363ec5b3a02b7991cd888bc">CreateSlots</a>();
<a name="l01596"></a>01596       <a class="code" href="../../d9/de9/_assertions_8h.html#aa2fa77a048d036cb2f902299ace18165">MOZ_ASSERT</a>(<a class="code" href="../../d7/de8/classns_i_node.html#ad52410ad1a5d6d7a877bb1735885060b">mSlots</a>);
<a name="l01597"></a>01597     }
<a name="l01598"></a>01598     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a817f30913b9b91982e9ee459f2de9aea">GetExistingSlots</a>();
<a name="l01599"></a>01599   }
<a name="l01600"></a>01600 
<a name="l01601"></a><a class="code" href="../../d7/de8/classns_i_node.html#ab5676b166ceb4ccd8fc13fddea667958">01601</a>   <a class="code" href="../../d3/d4a/classns_t_observer_array.html">nsTObserverArray&lt;nsIMutationObserver*&gt;</a> *<a class="code" href="../../d7/de8/classns_i_node.html#ab5676b166ceb4ccd8fc13fddea667958">GetMutationObservers</a>()
<a name="l01602"></a>01602   {
<a name="l01603"></a>01603     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#aceb62625b2d55aac3397b86a1945fc52">HasSlots</a>() ? &amp;<a class="code" href="../../d7/de8/classns_i_node.html#a817f30913b9b91982e9ee459f2de9aea">GetExistingSlots</a>()-&gt;<a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html#a218be9cadfc282078671dec24049c6ae">mMutationObservers</a> : <span class="keyword">nullptr</span>;
<a name="l01604"></a>01604   }
<a name="l01605"></a>01605 
<a name="l01606"></a>01606   <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a2d9e953de4f5c12c9b78e0a339d67aaa">IsEditableInternal</a>() <span class="keyword">const</span>;
<a name="l01607"></a><a class="code" href="../../d7/de8/classns_i_node.html#a4fd645c415c246e749baa6060eb40e9d">01607</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a4fd645c415c246e749baa6060eb40e9d">IsEditableExternal</a>()<span class="keyword"> const</span>
<a name="l01608"></a>01608 <span class="keyword">  </span>{
<a name="l01609"></a>01609     <span class="keywordflow">return</span> <a class="code" href="../../d7/de8/classns_i_node.html#a2d9e953de4f5c12c9b78e0a339d67aaa">IsEditableInternal</a>();
<a name="l01610"></a>01610   }
<a name="l01611"></a>01611 
<a name="l01612"></a>01612   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a315a0fa24664ca6f523fc4cbbb350a38">GetTextContentInternal</a>(nsAString&amp; aTextContent);
<a name="l01613"></a><a class="code" href="../../d7/de8/classns_i_node.html#a5bb69ead8412a5f81022b19956efca85">01613</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#a5bb69ead8412a5f81022b19956efca85">SetTextContentInternal</a>(<span class="keyword">const</span> nsAString&amp; aTextContent,
<a name="l01614"></a>01614                                       <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; aError)
<a name="l01615"></a>01615   {
<a name="l01616"></a>01616   }
<a name="l01617"></a>01617 
<a name="l01618"></a>01618 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l01619"></a>01619 <span class="preprocessor"></span>  <span class="comment">// Note: virtual so that IsInNativeAnonymousSubtree can be called accross</span>
<a name="l01620"></a>01620   <span class="comment">// module boundaries.</span>
<a name="l01621"></a>01621   <span class="keyword">virtual</span> <span class="keywordtype">void</span> CheckNotNativeAnonymous() <span class="keyword">const</span>;
<a name="l01622"></a>01622 <span class="preprocessor">#endif</span>
<a name="l01623"></a>01623 <span class="preprocessor"></span>
<a name="l01624"></a>01624   <span class="comment">// These are just used to implement nsIDOMNode using</span>
<a name="l01625"></a>01625   <span class="comment">// NS_FORWARD_NSIDOMNODE_TO_NSINODE_HELPER and for quickstubs.</span>
<a name="l01626"></a>01626   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#a2e9d8ed881bc4d5e48f6d1e2a0177ca1">GetParentNode</a>(<a class="code" href="../../da/da2/interfacens_i_d_o_m_node.html">nsIDOMNode</a>** aParentNode);
<a name="l01627"></a>01627   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#a48a55cc9990fbe8bd238d636ae319e14">GetParentElement</a>(<a class="code" href="../../d1/d4b/interfacens_i_d_o_m_element.html">nsIDOMElement</a>** aParentElement);
<a name="l01628"></a>01628   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#af741ea831ccafe6e19721ef5a3f53170">GetChildNodes</a>(<a class="code" href="../../d4/d69/interfacens_i_d_o_m_node_list.html">nsIDOMNodeList</a>** aChildNodes);
<a name="l01629"></a>01629   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#ae387cb22939f45744a7eaeb537898b88">GetFirstChild</a>(<a class="code" href="../../da/da2/interfacens_i_d_o_m_node.html">nsIDOMNode</a>** aFirstChild);
<a name="l01630"></a>01630   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#a48e63db4a050853320f5a3017f1b1355">GetLastChild</a>(<a class="code" href="../../da/da2/interfacens_i_d_o_m_node.html">nsIDOMNode</a>** aLastChild);
<a name="l01631"></a>01631   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#a5b53462dd1acfe4461d06c4a877ae14c">GetPreviousSibling</a>(<a class="code" href="../../da/da2/interfacens_i_d_o_m_node.html">nsIDOMNode</a>** aPrevSibling);
<a name="l01632"></a>01632   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#a72c65bba3df0476a1f01fde8f99458f1">GetNextSibling</a>(<a class="code" href="../../da/da2/interfacens_i_d_o_m_node.html">nsIDOMNode</a>** aNextSibling);
<a name="l01633"></a>01633   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#a1a4aa2467ddc21c856e632f0b33c1d00">GetOwnerDocument</a>(<a class="code" href="../../d5/de8/interfacens_i_d_o_m_document.html">nsIDOMDocument</a>** aOwnerDocument);
<a name="l01634"></a>01634   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#af56ae39cd6e53c9d496b7e23f9935670">CompareDocumentPosition</a>(<a class="code" href="../../da/da2/interfacens_i_d_o_m_node.html">nsIDOMNode</a>* aOther,
<a name="l01635"></a>01635                                    uint16_t* aReturn);
<a name="l01636"></a>01636 
<a name="l01637"></a>01637   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#a824c0eabcad8045bf42b57c15515e112">ReplaceOrInsertBefore</a>(<span class="keywordtype">bool</span> aReplace, <a class="code" href="../../da/da2/interfacens_i_d_o_m_node.html">nsIDOMNode</a> *aNewChild,
<a name="l01638"></a>01638                                  <a class="code" href="../../da/da2/interfacens_i_d_o_m_node.html">nsIDOMNode</a> *aRefChild, <a class="code" href="../../da/da2/interfacens_i_d_o_m_node.html">nsIDOMNode</a> **aReturn);
<a name="l01639"></a>01639   <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a824c0eabcad8045bf42b57c15515e112">ReplaceOrInsertBefore</a>(<span class="keywordtype">bool</span> aReplace, <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* aNewChild,
<a name="l01640"></a>01640                                  <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* aRefChild,
<a name="l01641"></a>01641                                  <a class="code" href="../../dd/d9c/classmozilla_1_1_error_result.html">mozilla::ErrorResult</a>&amp; aError);
<a name="l01642"></a>01642   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#a69935ad0a1ae14456b1c73e8b0810a8d">RemoveChild</a>(<a class="code" href="../../da/da2/interfacens_i_d_o_m_node.html">nsIDOMNode</a>* aOldChild, <a class="code" href="../../da/da2/interfacens_i_d_o_m_node.html">nsIDOMNode</a>** aReturn);
<a name="l01643"></a>01643 
<a name="l01650"></a>01650   <span class="keyword">virtual</span> <a class="code" href="../../de/da4/classmozilla_1_1dom_1_1_element.html">mozilla::dom::Element</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a99b875305416e984e1f1804a07d72125">GetNameSpaceElement</a>() = 0;
<a name="l01651"></a>01651 
<a name="l01663"></a>01663   <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#ad8c04f7ecaec8056228721dd02c56a37">doRemoveChildAt</a>(uint32_t aIndex, <span class="keywordtype">bool</span> aNotify, <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aKid,
<a name="l01664"></a>01664                        <a class="code" href="../../dc/d0a/classns_attr_and_child_array.html">nsAttrAndChildArray</a>&amp; aChildArray);
<a name="l01665"></a>01665 
<a name="l01676"></a>01676   <a class="code" href="../../d8/dcf/ns_error_8h.html#ae1573874dc40023f078c3a69c4ce4538">nsresult</a> <a class="code" href="../../d7/de8/classns_i_node.html#a98b3fbaafadaf81624e695801039e8f8">doInsertChildAt</a>(<a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* aKid, uint32_t aIndex,
<a name="l01677"></a>01677                            <span class="keywordtype">bool</span> aNotify, <a class="code" href="../../dc/d0a/classns_attr_and_child_array.html">nsAttrAndChildArray</a>&amp; aChildArray);
<a name="l01678"></a>01678 
<a name="l01679"></a>01679 <span class="keyword">public</span>:
<a name="l01680"></a>01680   <span class="comment">/* Event stuff that documents and elements share.  This needs to be</span>
<a name="l01681"></a>01681 <span class="comment">     NS_IMETHOD because some subclasses implement DOM methods with</span>
<a name="l01682"></a>01682 <span class="comment">     this exact name and signature and then the calling convention</span>
<a name="l01683"></a>01683 <span class="comment">     needs to match.</span>
<a name="l01684"></a>01684 <span class="comment"></span>
<a name="l01685"></a>01685 <span class="comment">     Note that we include DOCUMENT_ONLY_EVENT events here so that we</span>
<a name="l01686"></a>01686 <span class="comment">     can forward all the document stuff to this implementation.</span>
<a name="l01687"></a>01687 <span class="comment">  */</span>
<a name="l01688"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a1cff66881b6823b344b03e4fcbfffd12">01688</a> <span class="preprocessor">#define EVENT(name_, id_, type_, struct_)                             \</span>
<a name="l01689"></a>01689 <span class="preprocessor">  mozilla::dom::EventHandlerNonNull* GetOn##name_();                  \</span>
<a name="l01690"></a>01690 <span class="preprocessor">  void SetOn##name_(mozilla::dom::EventHandlerNonNull* listener,      \</span>
<a name="l01691"></a>01691 <span class="preprocessor">                    mozilla::ErrorResult&amp; error);                     \</span>
<a name="l01692"></a>01692 <span class="preprocessor">  NS_IMETHOD GetOn##name_(JSContext *cx, JS::Value *vp);              \</span>
<a name="l01693"></a>01693 <span class="preprocessor">  NS_IMETHOD SetOn##name_(JSContext *cx, const JS::Value &amp;v);</span>
<a name="l01694"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#af726e6103e20e426bd58adbd088bddf1">01694</a> <span class="preprocessor"></span><span class="preprocessor">#define TOUCH_EVENT EVENT</span>
<a name="l01695"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a8f29310eab9120ba49b6c1070e56ff5f">01695</a> <span class="preprocessor"></span><span class="preprocessor">#define DOCUMENT_ONLY_EVENT EVENT</span>
<a name="l01696"></a>01696 <span class="preprocessor"></span><span class="preprocessor">#include &quot;<a class="code" href="../../d6/d5a/ns_event_name_list_8h.html">nsEventNameList.h</a>&quot;</span>
<a name="l01697"></a>01697 <span class="preprocessor">#undef DOCUMENT_ONLY_EVENT</span>
<a name="l01698"></a>01698 <span class="preprocessor"></span><span class="preprocessor">#undef TOUCH_EVENT</span>
<a name="l01699"></a>01699 <span class="preprocessor"></span><span class="preprocessor">#undef EVENT</span>
<a name="l01700"></a>01700 <span class="preprocessor"></span>
<a name="l01701"></a>01701 <span class="keyword">protected</span>:
<a name="l01702"></a>01702   <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="../../d7/de8/classns_i_node.html#a2811200819601acec9dd46dc3b650641">Traverse</a>(<a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a> *<a class="code" href="../../db/de5/namespacedefault__timezones.html#ac494636c41cb282619c68c44af233bc7">tmp</a>, <a class="code" href="../../d9/d36/classns_cycle_collection_traversal_callback.html">nsCycleCollectionTraversalCallback</a> &amp;<a class="code" href="../../d2/d7d/jsapi_8h.html#a9c0cec265243907d0da86b92bda26eca">cb</a>);
<a name="l01703"></a>01703   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d7/de8/classns_i_node.html#add4a3387ada1506e42ad5d1f09ca84f3">Unlink</a>(<a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a> *<a class="code" href="../../db/de5/namespacedefault__timezones.html#ac494636c41cb282619c68c44af233bc7">tmp</a>);
<a name="l01704"></a>01704 
<a name="l01705"></a><a class="code" href="../../d7/de8/classns_i_node.html#a25654899a417edafdde2600a3bd43cad">01705</a>   nsCOMPtr&lt;nsINodeInfo&gt; <a class="code" href="../../d7/de8/classns_i_node.html#a25654899a417edafdde2600a3bd43cad">mNodeInfo</a>;
<a name="l01706"></a>01706 
<a name="l01707"></a><a class="code" href="../../d7/de8/classns_i_node.html#ac533ad3091bcc03a2744769ed3ef7c9e">01707</a>   <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* <a class="code" href="../../d7/de8/classns_i_node.html#ac533ad3091bcc03a2744769ed3ef7c9e">mParent</a>;
<a name="l01708"></a>01708 
<a name="l01709"></a>01709 <span class="keyword">private</span>:
<a name="l01710"></a>01710   <span class="comment">// Boolean flags.</span>
<a name="l01711"></a>01711   uint32_t mBoolFlags;
<a name="l01712"></a>01712 
<a name="l01713"></a>01713 <span class="keyword">protected</span>:
<a name="l01714"></a><a class="code" href="../../d7/de8/classns_i_node.html#a8538e01ba1cf4bca071510e6d0ace124">01714</a>   <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a8538e01ba1cf4bca071510e6d0ace124">mNextSibling</a>;
<a name="l01715"></a><a class="code" href="../../d7/de8/classns_i_node.html#a2e475b98381dfa56f5137adc64cfdf81">01715</a>   <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a2e475b98381dfa56f5137adc64cfdf81">mPreviousSibling</a>;
<a name="l01716"></a><a class="code" href="../../d7/de8/classns_i_node.html#a4c15a621ec9d0aca35cdf80e1b98fd28">01716</a>   <a class="code" href="../../d7/d68/classns_i_content.html">nsIContent</a>* <a class="code" href="../../d7/de8/classns_i_node.html#a4c15a621ec9d0aca35cdf80e1b98fd28">mFirstChild</a>;
<a name="l01717"></a>01717 
<a name="l01718"></a>01718   <span class="keyword">union </span>{
<a name="l01719"></a>01719     <span class="comment">// Pointer to our primary frame.  Might be null.</span>
<a name="l01720"></a><a class="code" href="../../d7/de8/classns_i_node.html#aba8514998ffbdcfa2cdf4feb7b4615ad">01720</a>     <a class="code" href="../../d7/d20/classns_i_frame.html">nsIFrame</a>* <a class="code" href="../../d7/de8/classns_i_node.html#aba8514998ffbdcfa2cdf4feb7b4615ad">mPrimaryFrame</a>;
<a name="l01721"></a>01721 
<a name="l01722"></a>01722     <span class="comment">// Pointer to the root of our subtree.  Might be null.</span>
<a name="l01723"></a><a class="code" href="../../d7/de8/classns_i_node.html#ab5503198400cd74e91ce0ef1981973f7">01723</a>     <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* <a class="code" href="../../d7/de8/classns_i_node.html#ab5503198400cd74e91ce0ef1981973f7">mSubtreeRoot</a>;
<a name="l01724"></a>01724   };
<a name="l01725"></a>01725 
<a name="l01726"></a>01726   <span class="comment">// Storage for more members that are usually not needed; allocated lazily.</span>
<a name="l01727"></a><a class="code" href="../../d7/de8/classns_i_node.html#ad52410ad1a5d6d7a877bb1735885060b">01727</a>   <a class="code" href="../../d6/d39/classns_i_node_1_1ns_slots.html">nsSlots</a>* <a class="code" href="../../d7/de8/classns_i_node.html#ad52410ad1a5d6d7a877bb1735885060b">mSlots</a>;
<a name="l01728"></a>01728 };
<a name="l01729"></a>01729 
<a name="l01730"></a>01730 <span class="comment">// Useful inline function for getting a node given an nsIContent and an</span>
<a name="l01731"></a>01731 <span class="comment">// nsIDocument.  Returns the first argument cast to nsINode if it is non-null,</span>
<a name="l01732"></a>01732 <span class="comment">// otherwise returns the second (which may be null).  We use type variables</span>
<a name="l01733"></a>01733 <span class="comment">// instead of nsIContent* and nsIDocument* because the actual types must be</span>
<a name="l01734"></a>01734 <span class="comment">// known for the cast to work.</span>
<a name="l01735"></a>01735 <span class="keyword">template</span>&lt;<span class="keyword">class</span> C, <span class="keyword">class</span> D&gt;
<a name="l01736"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a7113cd40a24e2e43c77a3f63e64ff122">01736</a> <span class="keyword">inline</span> <a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>* <a class="code" href="../../d8/db7/ns_i_node_8h.html#a7113cd40a24e2e43c77a3f63e64ff122">NODE_FROM</a>(C&amp; aContent, D&amp; aDocument)
<a name="l01737"></a>01737 {
<a name="l01738"></a>01738   <span class="keywordflow">if</span> (aContent)
<a name="l01739"></a>01739     <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>*<span class="keyword">&gt;</span>(aContent);
<a name="l01740"></a>01740   <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>*<span class="keyword">&gt;</span>(aDocument);
<a name="l01741"></a>01741 }
<a name="l01742"></a>01742 
<a name="l01743"></a>01743 <a class="code" href="../../d9/d0a/ns_i_d_8h.html#a0182e8f549ac52140d3a80fc81b15fed">NS_DEFINE_STATIC_IID_ACCESSOR</a>(<a class="code" href="../../d7/de8/classns_i_node.html">nsINode</a>, <a class="code" href="../../d8/db7/ns_i_node_8h.html#a798d8413ae636d77ebe9091ef7c9a356">NS_INODE_IID</a>)
<a name="l01744"></a>01744 
<a name="l01745"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#ab99ff9ead3d0bc50d5923a25aed27617">01745</a> <span class="preprocessor">#define NS_FORWARD_NSIDOMNODE_TO_NSINODE_HELPER(...) \</span>
<a name="l01746"></a>01746 <span class="preprocessor">  NS_IMETHOD GetNodeName(nsAString&amp; aNodeName) __VA_ARGS__ \</span>
<a name="l01747"></a>01747 <span class="preprocessor">  { \</span>
<a name="l01748"></a>01748 <span class="preprocessor">    nsINode::GetNodeName(aNodeName); \</span>
<a name="l01749"></a>01749 <span class="preprocessor">    return NS_OK; \</span>
<a name="l01750"></a>01750 <span class="preprocessor">  } \</span>
<a name="l01751"></a>01751 <span class="preprocessor">  NS_IMETHOD GetNodeValue(nsAString&amp; aNodeValue) __VA_ARGS__ \</span>
<a name="l01752"></a>01752 <span class="preprocessor">  { \</span>
<a name="l01753"></a>01753 <span class="preprocessor">    nsINode::GetNodeValue(aNodeValue); \</span>
<a name="l01754"></a>01754 <span class="preprocessor">    return NS_OK; \</span>
<a name="l01755"></a>01755 <span class="preprocessor">  } \</span>
<a name="l01756"></a>01756 <span class="preprocessor">  NS_IMETHOD SetNodeValue(const nsAString&amp; aNodeValue) __VA_ARGS__ \</span>
<a name="l01757"></a>01757 <span class="preprocessor">  { \</span>
<a name="l01758"></a>01758 <span class="preprocessor">    mozilla::ErrorResult rv; \</span>
<a name="l01759"></a>01759 <span class="preprocessor">    nsINode::SetNodeValue(aNodeValue, rv); \</span>
<a name="l01760"></a>01760 <span class="preprocessor">    return rv.ErrorCode(); \</span>
<a name="l01761"></a>01761 <span class="preprocessor">  } \</span>
<a name="l01762"></a>01762 <span class="preprocessor">  NS_IMETHOD GetNodeType(uint16_t* aNodeType) __VA_ARGS__ \</span>
<a name="l01763"></a>01763 <span class="preprocessor">  { \</span>
<a name="l01764"></a>01764 <span class="preprocessor">    *aNodeType = nsINode::NodeType(); \</span>
<a name="l01765"></a>01765 <span class="preprocessor">    return NS_OK; \</span>
<a name="l01766"></a>01766 <span class="preprocessor">  } \</span>
<a name="l01767"></a>01767 <span class="preprocessor">  NS_IMETHOD GetParentNode(nsIDOMNode** aParentNode) __VA_ARGS__ \</span>
<a name="l01768"></a>01768 <span class="preprocessor">  { \</span>
<a name="l01769"></a>01769 <span class="preprocessor">    return nsINode::GetParentNode(aParentNode); \</span>
<a name="l01770"></a>01770 <span class="preprocessor">  } \</span>
<a name="l01771"></a>01771 <span class="preprocessor">  NS_IMETHOD GetParentElement(nsIDOMElement** aParentElement) __VA_ARGS__ \</span>
<a name="l01772"></a>01772 <span class="preprocessor">  { \</span>
<a name="l01773"></a>01773 <span class="preprocessor">    return nsINode::GetParentElement(aParentElement); \</span>
<a name="l01774"></a>01774 <span class="preprocessor">  } \</span>
<a name="l01775"></a>01775 <span class="preprocessor">  NS_IMETHOD GetChildNodes(nsIDOMNodeList** aChildNodes) __VA_ARGS__ \</span>
<a name="l01776"></a>01776 <span class="preprocessor">  { \</span>
<a name="l01777"></a>01777 <span class="preprocessor">    return nsINode::GetChildNodes(aChildNodes); \</span>
<a name="l01778"></a>01778 <span class="preprocessor">  } \</span>
<a name="l01779"></a>01779 <span class="preprocessor">  NS_IMETHOD GetFirstChild(nsIDOMNode** aFirstChild) __VA_ARGS__ \</span>
<a name="l01780"></a>01780 <span class="preprocessor">  { \</span>
<a name="l01781"></a>01781 <span class="preprocessor">    return nsINode::GetFirstChild(aFirstChild); \</span>
<a name="l01782"></a>01782 <span class="preprocessor">  } \</span>
<a name="l01783"></a>01783 <span class="preprocessor">  NS_IMETHOD GetLastChild(nsIDOMNode** aLastChild) __VA_ARGS__ \</span>
<a name="l01784"></a>01784 <span class="preprocessor">  { \</span>
<a name="l01785"></a>01785 <span class="preprocessor">    return nsINode::GetLastChild(aLastChild); \</span>
<a name="l01786"></a>01786 <span class="preprocessor">  } \</span>
<a name="l01787"></a>01787 <span class="preprocessor">  NS_IMETHOD GetPreviousSibling(nsIDOMNode** aPreviousSibling) __VA_ARGS__ \</span>
<a name="l01788"></a>01788 <span class="preprocessor">  { \</span>
<a name="l01789"></a>01789 <span class="preprocessor">    return nsINode::GetPreviousSibling(aPreviousSibling); \</span>
<a name="l01790"></a>01790 <span class="preprocessor">  } \</span>
<a name="l01791"></a>01791 <span class="preprocessor">  NS_IMETHOD GetNextSibling(nsIDOMNode** aNextSibling) __VA_ARGS__ \</span>
<a name="l01792"></a>01792 <span class="preprocessor">  { \</span>
<a name="l01793"></a>01793 <span class="preprocessor">    return nsINode::GetNextSibling(aNextSibling); \</span>
<a name="l01794"></a>01794 <span class="preprocessor">  } \</span>
<a name="l01795"></a>01795 <span class="preprocessor">  NS_IMETHOD GetOwnerDocument(nsIDOMDocument** aOwnerDocument) __VA_ARGS__ \</span>
<a name="l01796"></a>01796 <span class="preprocessor">  { \</span>
<a name="l01797"></a>01797 <span class="preprocessor">    return nsINode::GetOwnerDocument(aOwnerDocument); \</span>
<a name="l01798"></a>01798 <span class="preprocessor">  } \</span>
<a name="l01799"></a>01799 <span class="preprocessor">  NS_IMETHOD InsertBefore(nsIDOMNode* aNewChild, nsIDOMNode* aRefChild, nsIDOMNode** aResult) __VA_ARGS__ \</span>
<a name="l01800"></a>01800 <span class="preprocessor">  { \</span>
<a name="l01801"></a>01801 <span class="preprocessor">    return ReplaceOrInsertBefore(false, aNewChild, aRefChild, aResult); \</span>
<a name="l01802"></a>01802 <span class="preprocessor">  } \</span>
<a name="l01803"></a>01803 <span class="preprocessor">  NS_IMETHOD ReplaceChild(nsIDOMNode* aNewChild, nsIDOMNode* aOldChild, nsIDOMNode** aResult) __VA_ARGS__ \</span>
<a name="l01804"></a>01804 <span class="preprocessor">  { \</span>
<a name="l01805"></a>01805 <span class="preprocessor">    return ReplaceOrInsertBefore(true, aNewChild, aOldChild, aResult); \</span>
<a name="l01806"></a>01806 <span class="preprocessor">  } \</span>
<a name="l01807"></a>01807 <span class="preprocessor">  NS_IMETHOD RemoveChild(nsIDOMNode* aOldChild, nsIDOMNode** aResult) __VA_ARGS__ \</span>
<a name="l01808"></a>01808 <span class="preprocessor">  { \</span>
<a name="l01809"></a>01809 <span class="preprocessor">    return nsINode::RemoveChild(aOldChild, aResult); \</span>
<a name="l01810"></a>01810 <span class="preprocessor">  } \</span>
<a name="l01811"></a>01811 <span class="preprocessor">  NS_IMETHOD AppendChild(nsIDOMNode* aNewChild, nsIDOMNode** aResult) __VA_ARGS__ \</span>
<a name="l01812"></a>01812 <span class="preprocessor">  { \</span>
<a name="l01813"></a>01813 <span class="preprocessor">    return InsertBefore(aNewChild, nullptr, aResult); \</span>
<a name="l01814"></a>01814 <span class="preprocessor">  } \</span>
<a name="l01815"></a>01815 <span class="preprocessor">  NS_IMETHOD HasChildNodes(bool* aResult) __VA_ARGS__ \</span>
<a name="l01816"></a>01816 <span class="preprocessor">  { \</span>
<a name="l01817"></a>01817 <span class="preprocessor">    *aResult = nsINode::HasChildNodes(); \</span>
<a name="l01818"></a>01818 <span class="preprocessor">    return NS_OK; \</span>
<a name="l01819"></a>01819 <span class="preprocessor">  } \</span>
<a name="l01820"></a>01820 <span class="preprocessor">  NS_IMETHOD CloneNode(bool aDeep, uint8_t aArgc, nsIDOMNode** aResult) __VA_ARGS__ \</span>
<a name="l01821"></a>01821 <span class="preprocessor">  { \</span>
<a name="l01822"></a>01822 <span class="preprocessor">    if (aArgc == 0) { \</span>
<a name="l01823"></a>01823 <span class="preprocessor">      aDeep = true; \</span>
<a name="l01824"></a>01824 <span class="preprocessor">    } \</span>
<a name="l01825"></a>01825 <span class="preprocessor">    mozilla::ErrorResult rv; \</span>
<a name="l01826"></a>01826 <span class="preprocessor">    nsCOMPtr&lt;nsINode&gt; clone = nsINode::CloneNode(aDeep, rv); \</span>
<a name="l01827"></a>01827 <span class="preprocessor">    if (rv.Failed()) { \</span>
<a name="l01828"></a>01828 <span class="preprocessor">      return rv.ErrorCode(); \</span>
<a name="l01829"></a>01829 <span class="preprocessor">    } \</span>
<a name="l01830"></a>01830 <span class="preprocessor">    *aResult = clone.forget().get()-&gt;AsDOMNode(); \</span>
<a name="l01831"></a>01831 <span class="preprocessor">    return NS_OK; \</span>
<a name="l01832"></a>01832 <span class="preprocessor">  } \</span>
<a name="l01833"></a>01833 <span class="preprocessor">  NS_IMETHOD Normalize() __VA_ARGS__ \</span>
<a name="l01834"></a>01834 <span class="preprocessor">  { \</span>
<a name="l01835"></a>01835 <span class="preprocessor">    nsINode::Normalize(); \</span>
<a name="l01836"></a>01836 <span class="preprocessor">    return NS_OK; \</span>
<a name="l01837"></a>01837 <span class="preprocessor">  } \</span>
<a name="l01838"></a>01838 <span class="preprocessor">  NS_IMETHOD GetNamespaceURI(nsAString&amp; aNamespaceURI) __VA_ARGS__ \</span>
<a name="l01839"></a>01839 <span class="preprocessor">  { \</span>
<a name="l01840"></a>01840 <span class="preprocessor">    nsINode::GetNamespaceURI(aNamespaceURI); \</span>
<a name="l01841"></a>01841 <span class="preprocessor">    return NS_OK; \</span>
<a name="l01842"></a>01842 <span class="preprocessor">  } \</span>
<a name="l01843"></a>01843 <span class="preprocessor">  NS_IMETHOD GetPrefix(nsAString&amp; aPrefix) __VA_ARGS__ \</span>
<a name="l01844"></a>01844 <span class="preprocessor">  { \</span>
<a name="l01845"></a>01845 <span class="preprocessor">    nsINode::GetPrefix(aPrefix); \</span>
<a name="l01846"></a>01846 <span class="preprocessor">    return NS_OK; \</span>
<a name="l01847"></a>01847 <span class="preprocessor">  } \</span>
<a name="l01848"></a>01848 <span class="preprocessor">  NS_IMETHOD GetLocalName(nsAString&amp; aLocalName) __VA_ARGS__ \</span>
<a name="l01849"></a>01849 <span class="preprocessor">  { \</span>
<a name="l01850"></a>01850 <span class="preprocessor">    nsINode::GetLocalName(aLocalName); \</span>
<a name="l01851"></a>01851 <span class="preprocessor">    return NS_OK; \</span>
<a name="l01852"></a>01852 <span class="preprocessor">  } \</span>
<a name="l01853"></a>01853 <span class="preprocessor">  using nsINode::HasAttributes; \</span>
<a name="l01854"></a>01854 <span class="preprocessor">  NS_IMETHOD HasAttributes(bool* aResult) __VA_ARGS__ \</span>
<a name="l01855"></a>01855 <span class="preprocessor">  { \</span>
<a name="l01856"></a>01856 <span class="preprocessor">    *aResult = nsINode::HasAttributes(); \</span>
<a name="l01857"></a>01857 <span class="preprocessor">    return NS_OK; \</span>
<a name="l01858"></a>01858 <span class="preprocessor">  } \</span>
<a name="l01859"></a>01859 <span class="preprocessor">  NS_IMETHOD GetDOMBaseURI(nsAString&amp; aBaseURI) __VA_ARGS__ \</span>
<a name="l01860"></a>01860 <span class="preprocessor">  { \</span>
<a name="l01861"></a>01861 <span class="preprocessor">    nsINode::GetBaseURI(aBaseURI); \</span>
<a name="l01862"></a>01862 <span class="preprocessor">    return NS_OK; \</span>
<a name="l01863"></a>01863 <span class="preprocessor">  } \</span>
<a name="l01864"></a>01864 <span class="preprocessor">  NS_IMETHOD CompareDocumentPosition(nsIDOMNode* aOther, uint16_t* aResult) __VA_ARGS__ \</span>
<a name="l01865"></a>01865 <span class="preprocessor">  { \</span>
<a name="l01866"></a>01866 <span class="preprocessor">    return nsINode::CompareDocumentPosition(aOther, aResult); \</span>
<a name="l01867"></a>01867 <span class="preprocessor">  } \</span>
<a name="l01868"></a>01868 <span class="preprocessor">  NS_IMETHOD GetTextContent(nsAString&amp; aTextContent) __VA_ARGS__ \</span>
<a name="l01869"></a>01869 <span class="preprocessor">  { \</span>
<a name="l01870"></a>01870 <span class="preprocessor">    nsINode::GetTextContent(aTextContent); \</span>
<a name="l01871"></a>01871 <span class="preprocessor">    return NS_OK; \</span>
<a name="l01872"></a>01872 <span class="preprocessor">  } \</span>
<a name="l01873"></a>01873 <span class="preprocessor">  NS_IMETHOD SetTextContent(const nsAString&amp; aTextContent) __VA_ARGS__ \</span>
<a name="l01874"></a>01874 <span class="preprocessor">  { \</span>
<a name="l01875"></a>01875 <span class="preprocessor">    mozilla::ErrorResult rv; \</span>
<a name="l01876"></a>01876 <span class="preprocessor">    nsINode::SetTextContent(aTextContent, rv); \</span>
<a name="l01877"></a>01877 <span class="preprocessor">    return rv.ErrorCode(); \</span>
<a name="l01878"></a>01878 <span class="preprocessor">  } \</span>
<a name="l01879"></a>01879 <span class="preprocessor">  NS_IMETHOD LookupPrefix(const nsAString&amp; aNamespaceURI, nsAString&amp; aResult) __VA_ARGS__ \</span>
<a name="l01880"></a>01880 <span class="preprocessor">  { \</span>
<a name="l01881"></a>01881 <span class="preprocessor">    nsINode::LookupPrefix(aNamespaceURI, aResult); \</span>
<a name="l01882"></a>01882 <span class="preprocessor">    return NS_OK; \</span>
<a name="l01883"></a>01883 <span class="preprocessor">  } \</span>
<a name="l01884"></a>01884 <span class="preprocessor">  NS_IMETHOD IsDefaultNamespace(const nsAString&amp; aNamespaceURI, bool* aResult) __VA_ARGS__ \</span>
<a name="l01885"></a>01885 <span class="preprocessor">  { \</span>
<a name="l01886"></a>01886 <span class="preprocessor">    *aResult = nsINode::IsDefaultNamespace(aNamespaceURI); \</span>
<a name="l01887"></a>01887 <span class="preprocessor">    return NS_OK; \</span>
<a name="l01888"></a>01888 <span class="preprocessor">  } \</span>
<a name="l01889"></a>01889 <span class="preprocessor">  NS_IMETHOD LookupNamespaceURI(const nsAString&amp; aPrefix, nsAString&amp; aResult) __VA_ARGS__ \</span>
<a name="l01890"></a>01890 <span class="preprocessor">  { \</span>
<a name="l01891"></a>01891 <span class="preprocessor">    nsINode::LookupNamespaceURI(aPrefix, aResult); \</span>
<a name="l01892"></a>01892 <span class="preprocessor">    return NS_OK; \</span>
<a name="l01893"></a>01893 <span class="preprocessor">  } \</span>
<a name="l01894"></a>01894 <span class="preprocessor">  NS_IMETHOD IsEqualNode(nsIDOMNode* aArg, bool* aResult) __VA_ARGS__ \</span>
<a name="l01895"></a>01895 <span class="preprocessor">  { \</span>
<a name="l01896"></a>01896 <span class="preprocessor">    return nsINode::IsEqualNode(aArg, aResult); \</span>
<a name="l01897"></a>01897 <span class="preprocessor">  } \</span>
<a name="l01898"></a>01898 <span class="preprocessor">  NS_IMETHOD SetUserData(const nsAString&amp; aKey, nsIVariant* aData, nsIDOMUserDataHandler* aHandler, nsIVariant** aResult) __VA_ARGS__ \</span>
<a name="l01899"></a>01899 <span class="preprocessor">  { \</span>
<a name="l01900"></a>01900 <span class="preprocessor">    return nsINode::SetUserData(aKey, aData, aHandler, aResult); \</span>
<a name="l01901"></a>01901 <span class="preprocessor">  } \</span>
<a name="l01902"></a>01902 <span class="preprocessor">  NS_IMETHOD GetUserData(const nsAString&amp; aKey, nsIVariant** aResult) __VA_ARGS__ \</span>
<a name="l01903"></a>01903 <span class="preprocessor">  { \</span>
<a name="l01904"></a>01904 <span class="preprocessor">    return nsINode::GetUserData(aKey, aResult); \</span>
<a name="l01905"></a>01905 <span class="preprocessor">  } \</span>
<a name="l01906"></a>01906 <span class="preprocessor">  NS_IMETHOD Contains(nsIDOMNode* aOther, bool* aResult) __VA_ARGS__ \</span>
<a name="l01907"></a>01907 <span class="preprocessor">  { \</span>
<a name="l01908"></a>01908 <span class="preprocessor">    return nsINode::Contains(aOther, aResult); \</span>
<a name="l01909"></a>01909 <span class="preprocessor">  }</span>
<a name="l01910"></a>01910 <span class="preprocessor"></span>
<a name="l01911"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#ad688c47161d230cee49155ea70dee185">01911</a> <span class="preprocessor">#define NS_FORWARD_NSIDOMNODE_TO_NSINODE \</span>
<a name="l01912"></a>01912 <span class="preprocessor">  NS_FORWARD_NSIDOMNODE_TO_NSINODE_HELPER(MOZ_FINAL)</span>
<a name="l01913"></a>01913 <span class="preprocessor"></span>
<a name="l01914"></a><a class="code" href="../../d8/db7/ns_i_node_8h.html#a3a34c1a10ac53a034d3f9f05a82c2b5f">01914</a> <span class="preprocessor">#define NS_FORWARD_NSIDOMNODE_TO_NSINODE_OVERRIDABLE \</span>
<a name="l01915"></a>01915 <span class="preprocessor">  NS_FORWARD_NSIDOMNODE_TO_NSINODE_HELPER()</span>
<a name="l01916"></a>01916 <span class="preprocessor"></span>
<a name="l01917"></a>01917 <span class="preprocessor">#endif </span><span class="comment">/* nsINode_h___ */</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d8/db7/ns_i_node_8h.html">nsINode.h</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 00:53:29に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
