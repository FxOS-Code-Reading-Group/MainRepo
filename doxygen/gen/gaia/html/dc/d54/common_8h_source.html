<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: common.h ソースファイル</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li class="current"><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>ファイル一覧</span></a></li>
      <li><a href="../../globals.html"><span>グローバル</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('dc/d54/common_8h.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">common.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../dc/d54/common_8h.html">説明を見る。</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// Protocol Buffers - Google&#39;s data interchange format</span>
<a name="l00002"></a>00002 <span class="comment">// Copyright 2008 Google Inc.  All rights reserved.</span>
<a name="l00003"></a>00003 <span class="comment">// http://code.google.com/p/protobuf/</span>
<a name="l00004"></a>00004 <span class="comment">//</span>
<a name="l00005"></a>00005 <span class="comment">// Redistribution and use in source and binary forms, with or without</span>
<a name="l00006"></a>00006 <span class="comment">// modification, are permitted provided that the following conditions are</span>
<a name="l00007"></a>00007 <span class="comment">// met:</span>
<a name="l00008"></a>00008 <span class="comment">//</span>
<a name="l00009"></a>00009 <span class="comment">//     * Redistributions of source code must retain the above copyright</span>
<a name="l00010"></a>00010 <span class="comment">// notice, this list of conditions and the following disclaimer.</span>
<a name="l00011"></a>00011 <span class="comment">//     * Redistributions in binary form must reproduce the above</span>
<a name="l00012"></a>00012 <span class="comment">// copyright notice, this list of conditions and the following disclaimer</span>
<a name="l00013"></a>00013 <span class="comment">// in the documentation and/or other materials provided with the</span>
<a name="l00014"></a>00014 <span class="comment">// distribution.</span>
<a name="l00015"></a>00015 <span class="comment">//     * Neither the name of Google Inc. nor the names of its</span>
<a name="l00016"></a>00016 <span class="comment">// contributors may be used to endorse or promote products derived from</span>
<a name="l00017"></a>00017 <span class="comment">// this software without specific prior written permission.</span>
<a name="l00018"></a>00018 <span class="comment">//</span>
<a name="l00019"></a>00019 <span class="comment">// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<a name="l00020"></a>00020 <span class="comment">// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<a name="l00021"></a>00021 <span class="comment">// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
<a name="l00022"></a>00022 <span class="comment">// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<a name="l00023"></a>00023 <span class="comment">// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
<a name="l00024"></a>00024 <span class="comment">// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
<a name="l00025"></a>00025 <span class="comment">// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
<a name="l00026"></a>00026 <span class="comment">// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
<a name="l00027"></a>00027 <span class="comment">// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00028"></a>00028 <span class="comment">// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00029"></a>00029 <span class="comment">// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="comment">// Author: kenton@google.com (Kenton Varda) and others</span>
<a name="l00032"></a>00032 <span class="comment">//</span>
<a name="l00033"></a>00033 <span class="comment">// Contains basic types and utilities used by the rest of the library.</span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="preprocessor">#ifndef GOOGLE_PROTOBUF_COMMON_H__</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_PROTOBUF_COMMON_H__</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &lt;assert.h&gt;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &lt;cstddef&gt;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#if defined(__osf__)</span>
<a name="l00044"></a>00044 <span class="preprocessor"></span><span class="comment">// Tru64 lacks stdint.h, but has inttypes.h which defines a superset of</span>
<a name="l00045"></a>00045 <span class="comment">// what stdint.h would define.</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include &lt;inttypes.h&gt;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#elif !defined(_MSC_VER)</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span><span class="preprocessor">#include &lt;stdint.h&gt;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#endif</span>
<a name="l00050"></a>00050 <span class="preprocessor"></span>
<a name="l00051"></a>00051 <span class="preprocessor">#if defined(_MSC_VER) &amp;&amp; defined(_CPPUNWIND)</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span><span class="preprocessor">  #define PROTOBUF_USE_EXCEPTIONS</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span><span class="preprocessor">#elif defined(__EXCEPTIONS)</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span><span class="preprocessor">  #define PROTOBUF_USE_EXCEPTIONS</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span><span class="preprocessor">#ifdef PROTOBUF_USE_EXCEPTIONS</span>
<a name="l00057"></a>00057 <span class="preprocessor"></span><span class="preprocessor">#include &lt;exception&gt;</span>
<a name="l00058"></a>00058 <span class="preprocessor">#endif</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span>
<a name="l00060"></a>00060 <span class="preprocessor">#if defined(_WIN32) &amp;&amp; defined(GetMessage)</span>
<a name="l00061"></a>00061 <span class="preprocessor"></span><span class="comment">// Allow GetMessage to be used as a valid method name in protobuf classes.</span>
<a name="l00062"></a>00062 <span class="comment">// windows.h defines GetMessage() as a macro.  Let&#39;s re-define it as an inline</span>
<a name="l00063"></a>00063 <span class="comment">// function.  The inline function should be equivalent for C++ users.</span>
<a name="l00064"></a>00064 <span class="keyword">inline</span> BOOL GetMessage_Win32(
<a name="l00065"></a>00065     LPMSG lpMsg, HWND hWnd,
<a name="l00066"></a>00066     UINT wMsgFilterMin, UINT wMsgFilterMax) {
<a name="l00067"></a>00067   <span class="keywordflow">return</span> GetMessage(lpMsg, hWnd, wMsgFilterMin, wMsgFilterMax);
<a name="l00068"></a>00068 }
<a name="l00069"></a>00069 <span class="preprocessor">#undef GetMessage</span>
<a name="l00070"></a>00070 <span class="preprocessor"></span><span class="keyword">inline</span> BOOL GetMessage(
<a name="l00071"></a>00071     LPMSG lpMsg, HWND hWnd,
<a name="l00072"></a>00072     UINT wMsgFilterMin, UINT wMsgFilterMax) {
<a name="l00073"></a>00073   <span class="keywordflow">return</span> GetMessage_Win32(lpMsg, hWnd, wMsgFilterMin, wMsgFilterMax);
<a name="l00074"></a>00074 }
<a name="l00075"></a>00075 <span class="preprocessor">#endif</span>
<a name="l00076"></a>00076 <span class="preprocessor"></span>
<a name="l00077"></a>00077 
<a name="l00078"></a>00078 <span class="keyword">namespace </span>std {}
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 <span class="keyword">namespace </span>google {
<a name="l00081"></a>00081 <span class="keyword">namespace </span>protobuf {
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 <span class="preprocessor">#undef GOOGLE_DISALLOW_EVIL_CONSTRUCTORS</span>
<a name="l00084"></a><a class="code" href="../../dc/d54/common_8h.html#a04e44f971339fbf32496e5eb8078c85f">00084</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_DISALLOW_EVIL_CONSTRUCTORS(TypeName)    \</span>
<a name="l00085"></a>00085 <span class="preprocessor">  TypeName(const TypeName&amp;);                           \</span>
<a name="l00086"></a>00086 <span class="preprocessor">  void operator=(const TypeName&amp;)</span>
<a name="l00087"></a>00087 <span class="preprocessor"></span>
<a name="l00088"></a>00088 <span class="preprocessor">#if defined(_MSC_VER) &amp;&amp; defined(PROTOBUF_USE_DLLS)</span>
<a name="l00089"></a>00089 <span class="preprocessor"></span><span class="preprocessor">  #ifdef LIBPROTOBUF_EXPORTS</span>
<a name="l00090"></a>00090 <span class="preprocessor"></span><span class="preprocessor">    #define LIBPROTOBUF_EXPORT __declspec(dllexport)</span>
<a name="l00091"></a>00091 <span class="preprocessor"></span><span class="preprocessor">  #else</span>
<a name="l00092"></a>00092 <span class="preprocessor"></span><span class="preprocessor">    #define LIBPROTOBUF_EXPORT __declspec(dllimport)</span>
<a name="l00093"></a>00093 <span class="preprocessor"></span><span class="preprocessor">  #endif</span>
<a name="l00094"></a>00094 <span class="preprocessor"></span><span class="preprocessor">  #ifdef LIBPROTOC_EXPORTS</span>
<a name="l00095"></a>00095 <span class="preprocessor"></span><span class="preprocessor">    #define LIBPROTOC_EXPORT   __declspec(dllexport)</span>
<a name="l00096"></a>00096 <span class="preprocessor"></span><span class="preprocessor">  #else</span>
<a name="l00097"></a>00097 <span class="preprocessor"></span><span class="preprocessor">    #define LIBPROTOC_EXPORT   __declspec(dllimport)</span>
<a name="l00098"></a>00098 <span class="preprocessor"></span><span class="preprocessor">  #endif</span>
<a name="l00099"></a>00099 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00100"></a><a class="code" href="../../dc/d54/common_8h.html#aed87dc0af96ed41ff289b5d65531c6c2">00100</a> <span class="preprocessor"></span><span class="preprocessor">  #define LIBPROTOBUF_EXPORT</span>
<a name="l00101"></a><a class="code" href="../../dc/d54/common_8h.html#a654556e63f96e1d71338d37142de619d">00101</a> <span class="preprocessor"></span><span class="preprocessor">  #define LIBPROTOC_EXPORT</span>
<a name="l00102"></a>00102 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00103"></a>00103 <span class="preprocessor"></span>
<a name="l00104"></a>00104 <span class="keyword">namespace </span>internal {
<a name="l00105"></a>00105 
<a name="l00106"></a>00106 <span class="comment">// Some of these constants are macros rather than const ints so that they can</span>
<a name="l00107"></a>00107 <span class="comment">// be used in #if directives.</span>
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 <span class="comment">// The current version, represented as a single integer to make comparison</span>
<a name="l00110"></a>00110 <span class="comment">// easier:  major * 10^6 + minor * 10^3 + micro</span>
<a name="l00111"></a><a class="code" href="../../dc/d54/common_8h.html#a6358b85103af89196f78f21625f4432c">00111</a> <span class="preprocessor">#define GOOGLE_PROTOBUF_VERSION 2004001</span>
<a name="l00112"></a>00112 <span class="preprocessor"></span>
<a name="l00113"></a>00113 <span class="comment">// The minimum library version which works with the current version of the</span>
<a name="l00114"></a>00114 <span class="comment">// headers.</span>
<a name="l00115"></a><a class="code" href="../../dc/d54/common_8h.html#a930c8d9030f7b2f30c96953596fe85c3">00115</a> <span class="preprocessor">#define GOOGLE_PROTOBUF_MIN_LIBRARY_VERSION 2004000</span>
<a name="l00116"></a>00116 <span class="preprocessor"></span>
<a name="l00117"></a>00117 <span class="comment">// The minimum header version which works with the current version of</span>
<a name="l00118"></a>00118 <span class="comment">// the library.  This constant should only be used by protoc&#39;s C++ code</span>
<a name="l00119"></a>00119 <span class="comment">// generator.</span>
<a name="l00120"></a>00120 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMinHeaderVersionForLibrary = 2004000;
<a name="l00121"></a>00121 
<a name="l00122"></a>00122 <span class="comment">// The minimum protoc version which works with the current version of the</span>
<a name="l00123"></a>00123 <span class="comment">// headers.</span>
<a name="l00124"></a><a class="code" href="../../dc/d54/common_8h.html#a92a0d87fb8fc1f233206b39ca5637e3c">00124</a> <span class="preprocessor">#define GOOGLE_PROTOBUF_MIN_PROTOC_VERSION 2004000</span>
<a name="l00125"></a>00125 <span class="preprocessor"></span>
<a name="l00126"></a>00126 <span class="comment">// The minimum header version which works with the current version of</span>
<a name="l00127"></a>00127 <span class="comment">// protoc.  This constant should only be used in VerifyVersion().</span>
<a name="l00128"></a>00128 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMinHeaderVersionForProtoc = 2004000;
<a name="l00129"></a>00129 
<a name="l00130"></a>00130 <span class="comment">// Verifies that the headers and libraries are compatible.  Use the macro</span>
<a name="l00131"></a>00131 <span class="comment">// below to call this.</span>
<a name="l00132"></a>00132 <span class="keywordtype">void</span> <a class="code" href="../../dc/d54/common_8h.html#aed87dc0af96ed41ff289b5d65531c6c2">LIBPROTOBUF_EXPORT</a> <a class="code" href="../../d2/da3/namespacegoogle_1_1protobuf_1_1internal.html#a1c100180193ad4ac60165d789e9946c1">VerifyVersion</a>(<span class="keywordtype">int</span> headerVersion, <span class="keywordtype">int</span> minLibraryVersion,
<a name="l00133"></a>00133                                       <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d2/d7d/jsapi_8h.html#a9b61fad0b15688b43345d3f5c3a3d44b">filename</a>);
<a name="l00134"></a>00134 
<a name="l00135"></a>00135 <span class="comment">// Converts a numeric version number to a string.</span>
<a name="l00136"></a>00136 <a class="code" href="../../df/d9e/prnetdb_8h.html#aed1cfb225a5fb77461e7972691e68a72">std::string</a> <a class="code" href="../../dc/d54/common_8h.html#aed87dc0af96ed41ff289b5d65531c6c2">LIBPROTOBUF_EXPORT</a> <a class="code" href="../../d2/da3/namespacegoogle_1_1protobuf_1_1internal.html#ad07dcc0d0c6f9e33cac031ac92a4046b">VersionString</a>(<span class="keywordtype">int</span> <a class="code" href="../../d9/d04/expat_8h.html#aa323a7729fa99ab75ae910c7267ac071">version</a>);
<a name="l00137"></a>00137 
<a name="l00138"></a>00138 }  <span class="comment">// namespace internal</span>
<a name="l00139"></a>00139 
<a name="l00140"></a>00140 <span class="comment">// Place this macro in your main() function (or somewhere before you attempt</span>
<a name="l00141"></a>00141 <span class="comment">// to use the protobuf library) to verify that the version you link against</span>
<a name="l00142"></a>00142 <span class="comment">// matches the headers you compiled against.  If a version mismatch is</span>
<a name="l00143"></a>00143 <span class="comment">// detected, the process will abort.</span>
<a name="l00144"></a><a class="code" href="../../dc/d54/common_8h.html#abf57f6fc80a66492c6b033ea3ac351ab">00144</a> <span class="preprocessor">#define GOOGLE_PROTOBUF_VERIFY_VERSION                                    \</span>
<a name="l00145"></a>00145 <span class="preprocessor">  ::google::protobuf::internal::VerifyVersion(                            \</span>
<a name="l00146"></a>00146 <span class="preprocessor">    GOOGLE_PROTOBUF_VERSION, GOOGLE_PROTOBUF_MIN_LIBRARY_VERSION,         \</span>
<a name="l00147"></a>00147 <span class="preprocessor">    __FILE__)</span>
<a name="l00148"></a>00148 <span class="preprocessor"></span>
<a name="l00149"></a>00149 <span class="comment">// ===================================================================</span>
<a name="l00150"></a>00150 <span class="comment">// from google3/base/port.h</span>
<a name="l00151"></a>00151 
<a name="l00152"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6a813b591d75ae972eea6fbec25ff5c6">00152</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6a813b591d75ae972eea6fbec25ff5c6">uint</a>;
<a name="l00153"></a>00153 
<a name="l00154"></a>00154 <span class="preprocessor">#ifdef _MSC_VER</span>
<a name="l00155"></a>00155 <span class="preprocessor"></span><span class="keyword">typedef</span> __int8  <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6d0134efd2c8326dfc28e4e6ff349712">int8</a>;
<a name="l00156"></a>00156 <span class="keyword">typedef</span> __int16 <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#aa31e54cec10a92419bb139b1ce8cc8b8">int16</a>;
<a name="l00157"></a>00157 <span class="keyword">typedef</span> __int32 <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a226b60f758da1259c33583ecf10cd15d">int32</a>;
<a name="l00158"></a>00158 <span class="keyword">typedef</span> __int64 <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#adcd50a8bb13efd71e1067d4c07acc3e5">int64</a>;
<a name="l00159"></a>00159 
<a name="l00160"></a>00160 <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> __int8  <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a91053c1ac8cd0be928a2276b5f087303">uint8</a>;
<a name="l00161"></a>00161 <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> __int16 <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a42c21ee7a6e5590be6449e90abc90f54">uint16</a>;
<a name="l00162"></a>00162 <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> __int32 <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a1e71aef03d3769d50688e4bb9acb0535">uint32</a>;
<a name="l00163"></a>00163 <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> __int64 <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#af9dee8ec0ced67fb1a8ec454de8c2a7f">uint64</a>;
<a name="l00164"></a>00164 <span class="preprocessor">#else</span>
<a name="l00165"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6d0134efd2c8326dfc28e4e6ff349712">00165</a> <span class="preprocessor"></span><span class="keyword">typedef</span> int8_t  <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6d0134efd2c8326dfc28e4e6ff349712">int8</a>;
<a name="l00166"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#aa31e54cec10a92419bb139b1ce8cc8b8">00166</a> <span class="keyword">typedef</span> int16_t <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#aa31e54cec10a92419bb139b1ce8cc8b8">int16</a>;
<a name="l00167"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a226b60f758da1259c33583ecf10cd15d">00167</a> <span class="keyword">typedef</span> int32_t <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a226b60f758da1259c33583ecf10cd15d">int32</a>;
<a name="l00168"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#adcd50a8bb13efd71e1067d4c07acc3e5">00168</a> <span class="keyword">typedef</span> int64_t <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#adcd50a8bb13efd71e1067d4c07acc3e5">int64</a>;
<a name="l00169"></a>00169 
<a name="l00170"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a91053c1ac8cd0be928a2276b5f087303">00170</a> <span class="keyword">typedef</span> uint8_t  <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a91053c1ac8cd0be928a2276b5f087303">uint8</a>;
<a name="l00171"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a42c21ee7a6e5590be6449e90abc90f54">00171</a> <span class="keyword">typedef</span> uint16_t <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a42c21ee7a6e5590be6449e90abc90f54">uint16</a>;
<a name="l00172"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a1e71aef03d3769d50688e4bb9acb0535">00172</a> <span class="keyword">typedef</span> uint32_t <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a1e71aef03d3769d50688e4bb9acb0535">uint32</a>;
<a name="l00173"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#af9dee8ec0ced67fb1a8ec454de8c2a7f">00173</a> <span class="keyword">typedef</span> uint64_t <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#af9dee8ec0ced67fb1a8ec454de8c2a7f">uint64</a>;
<a name="l00174"></a>00174 <span class="preprocessor">#endif</span>
<a name="l00175"></a>00175 <span class="preprocessor"></span>
<a name="l00176"></a>00176 <span class="comment">// long long macros to be used because gcc and vc++ use different suffixes,</span>
<a name="l00177"></a>00177 <span class="comment">// and different size specifiers in format strings</span>
<a name="l00178"></a>00178 <span class="preprocessor">#undef GOOGLE_LONGLONG</span>
<a name="l00179"></a>00179 <span class="preprocessor"></span><span class="preprocessor">#undef GOOGLE_ULONGLONG</span>
<a name="l00180"></a>00180 <span class="preprocessor"></span><span class="preprocessor">#undef GOOGLE_LL_FORMAT</span>
<a name="l00181"></a>00181 <span class="preprocessor"></span>
<a name="l00182"></a>00182 <span class="preprocessor">#ifdef _MSC_VER</span>
<a name="l00183"></a>00183 <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_LONGLONG(x) x##I64</span>
<a name="l00184"></a>00184 <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_ULONGLONG(x) x##UI64</span>
<a name="l00185"></a>00185 <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_LL_FORMAT &quot;I64&quot;  // As in printf(&quot;%I64d&quot;, ...)</span>
<a name="l00186"></a>00186 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00187"></a><a class="code" href="../../dc/d54/common_8h.html#ae3f106196ce5e0250105db91c67f87b3">00187</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_LONGLONG(x) x##LL</span>
<a name="l00188"></a><a class="code" href="../../dc/d54/common_8h.html#a7a2ce4176d404aea11feca0b2b6c72ee">00188</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_ULONGLONG(x) x##ULL</span>
<a name="l00189"></a><a class="code" href="../../dc/d54/common_8h.html#a65e5044a64710ac7c81aebbe8320d8f4">00189</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_LL_FORMAT &quot;ll&quot;  // As in &quot;%lld&quot;. Note that &quot;q&quot; is poor form also.</span>
<a name="l00190"></a>00190 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00191"></a>00191 <span class="preprocessor"></span>
<a name="l00192"></a>00192 <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="../../d9/da3/mcom__db_8h.html#a274d03996eb19b1a8006530c77017871">int32</a> kint32max = 0x7FFFFFFF;
<a name="l00193"></a>00193 <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="../../d9/da3/mcom__db_8h.html#a274d03996eb19b1a8006530c77017871">int32</a> kint32min = -kint32max - 1;
<a name="l00194"></a>00194 <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="../../d9/d0a/_legacy_int_types_8h.html#a7cde0074dfd288f2d70c0e035dacb28a">int64</a> kint64max = <a class="code" href="../../dc/d54/common_8h.html#ae3f106196ce5e0250105db91c67f87b3">GOOGLE_LONGLONG</a>(0x7FFFFFFFFFFFFFFF);
<a name="l00195"></a>00195 <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="../../d9/d0a/_legacy_int_types_8h.html#a7cde0074dfd288f2d70c0e035dacb28a">int64</a> kint64min = -kint64max - 1;
<a name="l00196"></a>00196 <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="../../d8/d9d/chromium__types_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> kuint32max = 0xFFFFFFFFu;
<a name="l00197"></a>00197 <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="../../d9/d0a/_legacy_int_types_8h.html#abc0f5bc07737e498f287334775dff2b6">uint64</a> kuint64max = <a class="code" href="../../dc/d54/common_8h.html#a7a2ce4176d404aea11feca0b2b6c72ee">GOOGLE_ULONGLONG</a>(0xFFFFFFFFFFFFFFFF);
<a name="l00198"></a>00198 
<a name="l00199"></a>00199 <span class="comment">// -------------------------------------------------------------------</span>
<a name="l00200"></a>00200 <span class="comment">// Annotations:  Some parts of the code have been annotated in ways that might</span>
<a name="l00201"></a>00201 <span class="comment">//   be useful to some compilers or tools, but are not supported universally.</span>
<a name="l00202"></a>00202 <span class="comment">//   You can #define these annotations yourself if the default implementation</span>
<a name="l00203"></a>00203 <span class="comment">//   is not right for you.</span>
<a name="l00204"></a>00204 
<a name="l00205"></a>00205 <span class="preprocessor">#ifndef GOOGLE_ATTRIBUTE_ALWAYS_INLINE</span>
<a name="l00206"></a>00206 <span class="preprocessor"></span><span class="preprocessor">#if defined(__GNUC__) &amp;&amp; (__GNUC__ &gt; 3 ||(__GNUC__ == 3 &amp;&amp; __GNUC_MINOR__ &gt;= 1))</span>
<a name="l00207"></a>00207 <span class="preprocessor"></span><span class="comment">// For functions we want to force inline.</span>
<a name="l00208"></a>00208 <span class="comment">// Introduced in gcc 3.1.</span>
<a name="l00209"></a>00209 <span class="preprocessor">#define GOOGLE_ATTRIBUTE_ALWAYS_INLINE __attribute__ ((always_inline))</span>
<a name="l00210"></a>00210 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00211"></a>00211 <span class="preprocessor"></span><span class="comment">// Other compilers will have to figure it out for themselves.</span>
<a name="l00212"></a><a class="code" href="../../dc/d54/common_8h.html#a4a0b2a69423d3f1c980f1e53eaefeef0">00212</a> <span class="preprocessor">#define GOOGLE_ATTRIBUTE_ALWAYS_INLINE</span>
<a name="l00213"></a>00213 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00214"></a>00214 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00215"></a>00215 <span class="preprocessor"></span>
<a name="l00216"></a>00216 <span class="preprocessor">#ifndef GOOGLE_ATTRIBUTE_DEPRECATED</span>
<a name="l00217"></a>00217 <span class="preprocessor"></span><span class="preprocessor">#ifdef __GNUC__</span>
<a name="l00218"></a>00218 <span class="preprocessor"></span><span class="comment">// If the method/variable/type is used anywhere, produce a warning.</span>
<a name="l00219"></a>00219 <span class="preprocessor">#define GOOGLE_ATTRIBUTE_DEPRECATED __attribute__((deprecated))</span>
<a name="l00220"></a>00220 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00221"></a><a class="code" href="../../dc/d54/common_8h.html#a25e7b272ee58b23969f408e6895dea49">00221</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_ATTRIBUTE_DEPRECATED</span>
<a name="l00222"></a>00222 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00223"></a>00223 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00224"></a>00224 <span class="preprocessor"></span>
<a name="l00225"></a>00225 <span class="preprocessor">#ifndef GOOGLE_PREDICT_TRUE</span>
<a name="l00226"></a>00226 <span class="preprocessor"></span><span class="preprocessor">#ifdef __GNUC__</span>
<a name="l00227"></a>00227 <span class="preprocessor"></span><span class="comment">// Provided at least since GCC 3.0.</span>
<a name="l00228"></a>00228 <span class="preprocessor">#define GOOGLE_PREDICT_TRUE(x) (__builtin_expect(!!(x), 1))</span>
<a name="l00229"></a>00229 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00230"></a><a class="code" href="../../dc/d54/common_8h.html#ad6f10fb5b1de6cbe5256a2e20b84410e">00230</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_PREDICT_TRUE</span>
<a name="l00231"></a>00231 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00232"></a>00232 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00233"></a>00233 <span class="preprocessor"></span>
<a name="l00234"></a>00234 <span class="comment">// Delimits a block of code which may write to memory which is simultaneously</span>
<a name="l00235"></a>00235 <span class="comment">// written by other threads, but which has been determined to be thread-safe</span>
<a name="l00236"></a>00236 <span class="comment">// (e.g. because it is an idempotent write).</span>
<a name="l00237"></a>00237 <span class="preprocessor">#ifndef GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN</span>
<a name="l00238"></a><a class="code" href="../../dc/d54/common_8h.html#a4229dddc297aab4c0718614f555a4c85">00238</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_SAFE_CONCURRENT_WRITES_BEGIN()</span>
<a name="l00239"></a>00239 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00240"></a>00240 <span class="preprocessor"></span><span class="preprocessor">#ifndef GOOGLE_SAFE_CONCURRENT_WRITES_END</span>
<a name="l00241"></a><a class="code" href="../../dc/d54/common_8h.html#acb9fd23b22f6ea5b38013764df24b90a">00241</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_SAFE_CONCURRENT_WRITES_END()</span>
<a name="l00242"></a>00242 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00243"></a>00243 <span class="preprocessor"></span>
<a name="l00244"></a>00244 <span class="comment">// ===================================================================</span>
<a name="l00245"></a>00245 <span class="comment">// from google3/base/basictypes.h</span>
<a name="l00246"></a>00246 
<a name="l00247"></a>00247 <span class="comment">// The GOOGLE_ARRAYSIZE(arr) macro returns the # of elements in an array arr.</span>
<a name="l00248"></a>00248 <span class="comment">// The expression is a compile-time constant, and therefore can be</span>
<a name="l00249"></a>00249 <span class="comment">// used in defining new arrays, for example.</span>
<a name="l00250"></a>00250 <span class="comment">//</span>
<a name="l00251"></a>00251 <span class="comment">// GOOGLE_ARRAYSIZE catches a few type errors.  If you see a compiler error</span>
<a name="l00252"></a>00252 <span class="comment">//</span>
<a name="l00253"></a>00253 <span class="comment">//   &quot;warning: division by zero in ...&quot;</span>
<a name="l00254"></a>00254 <span class="comment">//</span>
<a name="l00255"></a>00255 <span class="comment">// when using GOOGLE_ARRAYSIZE, you are (wrongfully) giving it a pointer.</span>
<a name="l00256"></a>00256 <span class="comment">// You should only use GOOGLE_ARRAYSIZE on statically allocated arrays.</span>
<a name="l00257"></a>00257 <span class="comment">//</span>
<a name="l00258"></a>00258 <span class="comment">// The following comments are on the implementation details, and can</span>
<a name="l00259"></a>00259 <span class="comment">// be ignored by the users.</span>
<a name="l00260"></a>00260 <span class="comment">//</span>
<a name="l00261"></a>00261 <span class="comment">// ARRAYSIZE(arr) works by inspecting sizeof(arr) (the # of bytes in</span>
<a name="l00262"></a>00262 <span class="comment">// the array) and sizeof(*(arr)) (the # of bytes in one array</span>
<a name="l00263"></a>00263 <span class="comment">// element).  If the former is divisible by the latter, perhaps arr is</span>
<a name="l00264"></a>00264 <span class="comment">// indeed an array, in which case the division result is the # of</span>
<a name="l00265"></a>00265 <span class="comment">// elements in the array.  Otherwise, arr cannot possibly be an array,</span>
<a name="l00266"></a>00266 <span class="comment">// and we generate a compiler error to prevent the code from</span>
<a name="l00267"></a>00267 <span class="comment">// compiling.</span>
<a name="l00268"></a>00268 <span class="comment">//</span>
<a name="l00269"></a>00269 <span class="comment">// Since the size of bool is implementation-defined, we need to cast</span>
<a name="l00270"></a>00270 <span class="comment">// !(sizeof(a) &amp; sizeof(*(a))) to size_t in order to ensure the final</span>
<a name="l00271"></a>00271 <span class="comment">// result has type size_t.</span>
<a name="l00272"></a>00272 <span class="comment">//</span>
<a name="l00273"></a>00273 <span class="comment">// This macro is not perfect as it wrongfully accepts certain</span>
<a name="l00274"></a>00274 <span class="comment">// pointers, namely where the pointer size is divisible by the pointee</span>
<a name="l00275"></a>00275 <span class="comment">// size.  Since all our code has to go through a 32-bit compiler,</span>
<a name="l00276"></a>00276 <span class="comment">// where a pointer is 4 bytes, this means all pointers to a type whose</span>
<a name="l00277"></a>00277 <span class="comment">// size is 3 or greater than 4 will be (righteously) rejected.</span>
<a name="l00278"></a>00278 <span class="comment">//</span>
<a name="l00279"></a>00279 <span class="comment">// Kudos to Jorg Brown for this simple and elegant implementation.</span>
<a name="l00280"></a>00280 
<a name="l00281"></a>00281 <span class="preprocessor">#undef GOOGLE_ARRAYSIZE</span>
<a name="l00282"></a><a class="code" href="../../dc/d54/common_8h.html#ac334ca8346f2cc71d075c5d58cac7daf">00282</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_ARRAYSIZE(a) \</span>
<a name="l00283"></a>00283 <span class="preprocessor">  ((sizeof(a) / sizeof(*(a))) / \</span>
<a name="l00284"></a>00284 <span class="preprocessor">   static_cast&lt;size_t&gt;(!(sizeof(a) % sizeof(*(a)))))</span>
<a name="l00285"></a>00285 <span class="preprocessor"></span>
<a name="l00286"></a>00286 <span class="keyword">namespace </span>internal {
<a name="l00287"></a>00287 
<a name="l00288"></a>00288 <span class="comment">// Use implicit_cast as a safe version of static_cast or const_cast</span>
<a name="l00289"></a>00289 <span class="comment">// for upcasting in the type hierarchy (i.e. casting a pointer to Foo</span>
<a name="l00290"></a>00290 <span class="comment">// to a pointer to SuperclassOfFoo or casting a pointer to Foo to</span>
<a name="l00291"></a>00291 <span class="comment">// a const pointer to Foo).</span>
<a name="l00292"></a>00292 <span class="comment">// When you use implicit_cast, the compiler checks that the cast is safe.</span>
<a name="l00293"></a>00293 <span class="comment">// Such explicit implicit_casts are necessary in surprisingly many</span>
<a name="l00294"></a>00294 <span class="comment">// situations where C++ demands an exact type match instead of an</span>
<a name="l00295"></a>00295 <span class="comment">// argument type convertable to a target type.</span>
<a name="l00296"></a>00296 <span class="comment">//</span>
<a name="l00297"></a>00297 <span class="comment">// The From type can be inferred, so the preferred syntax for using</span>
<a name="l00298"></a>00298 <span class="comment">// implicit_cast is the same as for static_cast etc.:</span>
<a name="l00299"></a>00299 <span class="comment">//</span>
<a name="l00300"></a>00300 <span class="comment">//   implicit_cast&lt;ToType&gt;(expr)</span>
<a name="l00301"></a>00301 <span class="comment">//</span>
<a name="l00302"></a>00302 <span class="comment">// implicit_cast would have been part of the C++ standard library,</span>
<a name="l00303"></a>00303 <span class="comment">// but the proposal was submitted too late.  It will probably make</span>
<a name="l00304"></a>00304 <span class="comment">// its way into the language in the future.</span>
<a name="l00305"></a>00305 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> To, <span class="keyword">typename</span> From&gt;
<a name="l00306"></a><a class="code" href="../../d2/da3/namespacegoogle_1_1protobuf_1_1internal.html#acfd94fe3feb2431b9997142e51d1d7b9">00306</a> <span class="keyword">inline</span> To <a class="code" href="../../d2/da3/namespacegoogle_1_1protobuf_1_1internal.html#acfd94fe3feb2431b9997142e51d1d7b9">implicit_cast</a>(From <span class="keyword">const</span> &amp;<a class="code" href="../../d3/d4b/lockscreen_8js.html#a9cf09a2972472098a4c689fd988f4dfc">f</a>) {
<a name="l00307"></a>00307   <span class="keywordflow">return</span> <a class="code" href="../../d3/d4b/lockscreen_8js.html#a9cf09a2972472098a4c689fd988f4dfc">f</a>;
<a name="l00308"></a>00308 }
<a name="l00309"></a>00309 
<a name="l00310"></a>00310 <span class="comment">// When you upcast (that is, cast a pointer from type Foo to type</span>
<a name="l00311"></a>00311 <span class="comment">// SuperclassOfFoo), it&#39;s fine to use implicit_cast&lt;&gt;, since upcasts</span>
<a name="l00312"></a>00312 <span class="comment">// always succeed.  When you downcast (that is, cast a pointer from</span>
<a name="l00313"></a>00313 <span class="comment">// type Foo to type SubclassOfFoo), static_cast&lt;&gt; isn&#39;t safe, because</span>
<a name="l00314"></a>00314 <span class="comment">// how do you know the pointer is really of type SubclassOfFoo?  It</span>
<a name="l00315"></a>00315 <span class="comment">// could be a bare Foo, or of type DifferentSubclassOfFoo.  Thus,</span>
<a name="l00316"></a>00316 <span class="comment">// when you downcast, you should use this macro.  In debug mode, we</span>
<a name="l00317"></a>00317 <span class="comment">// use dynamic_cast&lt;&gt; to double-check the downcast is legal (we die</span>
<a name="l00318"></a>00318 <span class="comment">// if it&#39;s not).  In normal mode, we do the efficient static_cast&lt;&gt;</span>
<a name="l00319"></a>00319 <span class="comment">// instead.  Thus, it&#39;s important to test in debug mode to make sure</span>
<a name="l00320"></a>00320 <span class="comment">// the cast is legal!</span>
<a name="l00321"></a>00321 <span class="comment">//    This is the only place in the code we should use dynamic_cast&lt;&gt;.</span>
<a name="l00322"></a>00322 <span class="comment">// In particular, you SHOULDN&#39;T be using dynamic_cast&lt;&gt; in order to</span>
<a name="l00323"></a>00323 <span class="comment">// do RTTI (eg code like this:</span>
<a name="l00324"></a>00324 <span class="comment">//    if (dynamic_cast&lt;Subclass1&gt;(foo)) HandleASubclass1Object(foo);</span>
<a name="l00325"></a>00325 <span class="comment">//    if (dynamic_cast&lt;Subclass2&gt;(foo)) HandleASubclass2Object(foo);</span>
<a name="l00326"></a>00326 <span class="comment">// You should design the code some other way not to need this.</span>
<a name="l00327"></a>00327 
<a name="l00328"></a>00328 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> To, <span class="keyword">typename</span> From&gt;     <span class="comment">// use like this: down_cast&lt;T*&gt;(foo);</span>
<a name="l00329"></a><a class="code" href="../../d2/da3/namespacegoogle_1_1protobuf_1_1internal.html#a186ab6ca9cb5ed61ec857c108acc4502">00329</a> <span class="keyword">inline</span> To <a class="code" href="../../d2/da3/namespacegoogle_1_1protobuf_1_1internal.html#a186ab6ca9cb5ed61ec857c108acc4502">down_cast</a>(From* <a class="code" href="../../d3/d4b/lockscreen_8js.html#a9cf09a2972472098a4c689fd988f4dfc">f</a>) {                   <span class="comment">// so we only accept pointers</span>
<a name="l00330"></a>00330   <span class="comment">// Ensures that To is a sub-type of From *.  This test is here only</span>
<a name="l00331"></a>00331   <span class="comment">// for compile-time type checking, and has no overhead in an</span>
<a name="l00332"></a>00332   <span class="comment">// optimized build at run-time, as it will be optimized away</span>
<a name="l00333"></a>00333   <span class="comment">// completely.</span>
<a name="l00334"></a>00334   <span class="keywordflow">if</span> (<span class="keyword">false</span>) {
<a name="l00335"></a>00335     <a class="code" href="../../d2/da3/namespacegoogle_1_1protobuf_1_1internal.html#acfd94fe3feb2431b9997142e51d1d7b9">implicit_cast</a>&lt;From*, To&gt;(0);
<a name="l00336"></a>00336   }
<a name="l00337"></a>00337 
<a name="l00338"></a>00338 <span class="preprocessor">#if !defined(NDEBUG) &amp;&amp; !defined(GOOGLE_PROTOBUF_NO_RTTI)</span>
<a name="l00339"></a>00339 <span class="preprocessor"></span>  <a class="code" href="../../dd/d27/awesomescreen__test_8js.html#a5e95655c9188700b16a5488897cecb90">assert</a>(f == <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || dynamic_cast&lt;To&gt;(f) != <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);  <span class="comment">// RTTI: debug mode only!</span>
<a name="l00340"></a>00340 <span class="preprocessor">#endif</span>
<a name="l00341"></a>00341 <span class="preprocessor"></span>  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>To<span class="keyword">&gt;</span>(<a class="code" href="../../d3/d4b/lockscreen_8js.html#a9cf09a2972472098a4c689fd988f4dfc">f</a>);
<a name="l00342"></a>00342 }
<a name="l00343"></a>00343 
<a name="l00344"></a>00344 }  <span class="comment">// namespace internal</span>
<a name="l00345"></a>00345 
<a name="l00346"></a>00346 <span class="comment">// We made these internal so that they would show up as such in the docs,</span>
<a name="l00347"></a>00347 <span class="comment">// but we don&#39;t want to stick &quot;internal::&quot; in front of them everywhere.</span>
<a name="l00348"></a>00348 <span class="keyword">using</span> <a class="code" href="../../d2/da3/namespacegoogle_1_1protobuf_1_1internal.html#acfd94fe3feb2431b9997142e51d1d7b9">internal::implicit_cast</a>;
<a name="l00349"></a>00349 <span class="keyword">using</span> <a class="code" href="../../d2/da3/namespacegoogle_1_1protobuf_1_1internal.html#a186ab6ca9cb5ed61ec857c108acc4502">internal::down_cast</a>;
<a name="l00350"></a>00350 
<a name="l00351"></a>00351 <span class="comment">// The COMPILE_ASSERT macro can be used to verify that a compile time</span>
<a name="l00352"></a>00352 <span class="comment">// expression is true. For example, you could use it to verify the</span>
<a name="l00353"></a>00353 <span class="comment">// size of a static array:</span>
<a name="l00354"></a>00354 <span class="comment">//</span>
<a name="l00355"></a>00355 <span class="comment">//   COMPILE_ASSERT(ARRAYSIZE(content_type_names) == CONTENT_NUM_TYPES,</span>
<a name="l00356"></a>00356 <span class="comment">//                  content_type_names_incorrect_size);</span>
<a name="l00357"></a>00357 <span class="comment">//</span>
<a name="l00358"></a>00358 <span class="comment">// or to make sure a struct is smaller than a certain size:</span>
<a name="l00359"></a>00359 <span class="comment">//</span>
<a name="l00360"></a>00360 <span class="comment">//   COMPILE_ASSERT(sizeof(foo) &lt; 128, foo_too_large);</span>
<a name="l00361"></a>00361 <span class="comment">//</span>
<a name="l00362"></a>00362 <span class="comment">// The second argument to the macro is the name of the variable. If</span>
<a name="l00363"></a>00363 <span class="comment">// the expression is false, most compilers will issue a warning/error</span>
<a name="l00364"></a>00364 <span class="comment">// containing the name of the variable.</span>
<a name="l00365"></a>00365 
<a name="l00366"></a>00366 <span class="keyword">namespace </span>internal {
<a name="l00367"></a>00367 
<a name="l00368"></a>00368 <span class="keyword">template</span> &lt;<span class="keywordtype">bool</span>&gt;
<a name="l00369"></a><a class="code" href="../../da/d45/structgoogle_1_1protobuf_1_1internal_1_1_compile_assert.html">00369</a> <span class="keyword">struct </span><a class="code" href="../../da/d45/structgoogle_1_1protobuf_1_1internal_1_1_compile_assert.html">CompileAssert</a> {
<a name="l00370"></a>00370 };
<a name="l00371"></a>00371 
<a name="l00372"></a>00372 }  <span class="comment">// namespace internal</span>
<a name="l00373"></a>00373 
<a name="l00374"></a>00374 <span class="preprocessor">#undef GOOGLE_COMPILE_ASSERT</span>
<a name="l00375"></a><a class="code" href="../../dc/d54/common_8h.html#a90ba30da9962f037e95a23cc78ec5fec">00375</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_COMPILE_ASSERT(expr, msg) \</span>
<a name="l00376"></a>00376 <span class="preprocessor">  typedef ::google::protobuf::internal::CompileAssert&lt;(bool(expr))&gt; \</span>
<a name="l00377"></a>00377 <span class="preprocessor">          msg[bool(expr) ? 1 : -1]</span>
<a name="l00378"></a>00378 <span class="preprocessor"></span>
<a name="l00379"></a>00379 
<a name="l00380"></a>00380 <span class="comment">// Implementation details of COMPILE_ASSERT:</span>
<a name="l00381"></a>00381 <span class="comment">//</span>
<a name="l00382"></a>00382 <span class="comment">// - COMPILE_ASSERT works by defining an array type that has -1</span>
<a name="l00383"></a>00383 <span class="comment">//   elements (and thus is invalid) when the expression is false.</span>
<a name="l00384"></a>00384 <span class="comment">//</span>
<a name="l00385"></a>00385 <span class="comment">// - The simpler definition</span>
<a name="l00386"></a>00386 <span class="comment">//</span>
<a name="l00387"></a>00387 <span class="comment">//     #define COMPILE_ASSERT(expr, msg) typedef char msg[(expr) ? 1 : -1]</span>
<a name="l00388"></a>00388 <span class="comment">//</span>
<a name="l00389"></a>00389 <span class="comment">//   does not work, as gcc supports variable-length arrays whose sizes</span>
<a name="l00390"></a>00390 <span class="comment">//   are determined at run-time (this is gcc&#39;s extension and not part</span>
<a name="l00391"></a>00391 <span class="comment">//   of the C++ standard).  As a result, gcc fails to reject the</span>
<a name="l00392"></a>00392 <span class="comment">//   following code with the simple definition:</span>
<a name="l00393"></a>00393 <span class="comment">//</span>
<a name="l00394"></a>00394 <span class="comment">//     int foo;</span>
<a name="l00395"></a>00395 <span class="comment">//     COMPILE_ASSERT(foo, msg); // not supposed to compile as foo is</span>
<a name="l00396"></a>00396 <span class="comment">//                               // not a compile-time constant.</span>
<a name="l00397"></a>00397 <span class="comment">//</span>
<a name="l00398"></a>00398 <span class="comment">// - By using the type CompileAssert&lt;(bool(expr))&gt;, we ensures that</span>
<a name="l00399"></a>00399 <span class="comment">//   expr is a compile-time constant.  (Template arguments must be</span>
<a name="l00400"></a>00400 <span class="comment">//   determined at compile-time.)</span>
<a name="l00401"></a>00401 <span class="comment">//</span>
<a name="l00402"></a>00402 <span class="comment">// - The outter parentheses in CompileAssert&lt;(bool(expr))&gt; are necessary</span>
<a name="l00403"></a>00403 <span class="comment">//   to work around a bug in gcc 3.4.4 and 4.0.1.  If we had written</span>
<a name="l00404"></a>00404 <span class="comment">//</span>
<a name="l00405"></a>00405 <span class="comment">//     CompileAssert&lt;bool(expr)&gt;</span>
<a name="l00406"></a>00406 <span class="comment">//</span>
<a name="l00407"></a>00407 <span class="comment">//   instead, these compilers will refuse to compile</span>
<a name="l00408"></a>00408 <span class="comment">//</span>
<a name="l00409"></a>00409 <span class="comment">//     COMPILE_ASSERT(5 &gt; 0, some_message);</span>
<a name="l00410"></a>00410 <span class="comment">//</span>
<a name="l00411"></a>00411 <span class="comment">//   (They seem to think the &quot;&gt;&quot; in &quot;5 &gt; 0&quot; marks the end of the</span>
<a name="l00412"></a>00412 <span class="comment">//   template argument list.)</span>
<a name="l00413"></a>00413 <span class="comment">//</span>
<a name="l00414"></a>00414 <span class="comment">// - The array size is (bool(expr) ? 1 : -1), instead of simply</span>
<a name="l00415"></a>00415 <span class="comment">//</span>
<a name="l00416"></a>00416 <span class="comment">//     ((expr) ? 1 : -1).</span>
<a name="l00417"></a>00417 <span class="comment">//</span>
<a name="l00418"></a>00418 <span class="comment">//   This is to avoid running into a bug in MS VC 7.1, which</span>
<a name="l00419"></a>00419 <span class="comment">//   causes ((0.0) ? 1 : -1) to incorrectly evaluate to 1.</span>
<a name="l00420"></a>00420 
<a name="l00421"></a>00421 <span class="comment">// ===================================================================</span>
<a name="l00422"></a>00422 <span class="comment">// from google3/base/scoped_ptr.h</span>
<a name="l00423"></a>00423 
<a name="l00424"></a>00424 <span class="keyword">namespace </span>internal {
<a name="l00425"></a>00425 
<a name="l00426"></a>00426 <span class="comment">//  This is an implementation designed to match the anticipated future TR2</span>
<a name="l00427"></a>00427 <span class="comment">//  implementation of the scoped_ptr class, and its closely-related brethren,</span>
<a name="l00428"></a>00428 <span class="comment">//  scoped_array, scoped_ptr_malloc, and make_scoped_ptr.</span>
<a name="l00429"></a>00429 
<a name="l00430"></a>00430 <span class="keyword">template</span> &lt;<span class="keyword">class</span> C&gt; <span class="keyword">class </span>scoped_ptr;
<a name="l00431"></a>00431 <span class="keyword">template</span> &lt;<span class="keyword">class</span> C&gt; <span class="keyword">class </span>scoped_array;
<a name="l00432"></a>00432 
<a name="l00433"></a>00433 <span class="comment">// A scoped_ptr&lt;T&gt; is like a T*, except that the destructor of scoped_ptr&lt;T&gt;</span>
<a name="l00434"></a>00434 <span class="comment">// automatically deletes the pointer it holds (if any).</span>
<a name="l00435"></a>00435 <span class="comment">// That is, scoped_ptr&lt;T&gt; owns the T object that it points to.</span>
<a name="l00436"></a>00436 <span class="comment">// Like a T*, a scoped_ptr&lt;T&gt; may hold either NULL or a pointer to a T object.</span>
<a name="l00437"></a>00437 <span class="comment">//</span>
<a name="l00438"></a>00438 <span class="comment">// The size of a scoped_ptr is small:</span>
<a name="l00439"></a>00439 <span class="comment">// sizeof(scoped_ptr&lt;C&gt;) == sizeof(C*)</span>
<a name="l00440"></a>00440 <span class="keyword">template</span> &lt;<span class="keyword">class</span> C&gt;
<a name="l00441"></a><a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html">00441</a> <span class="keyword">class </span><a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html">scoped_ptr</a> {
<a name="l00442"></a>00442  <span class="keyword">public</span>:
<a name="l00443"></a>00443 
<a name="l00444"></a>00444   <span class="comment">// The element type</span>
<a name="l00445"></a><a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#ae62bfea056ebf3b2e2b6c9598fcccd23">00445</a>   <span class="keyword">typedef</span> C <a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#ae62bfea056ebf3b2e2b6c9598fcccd23">element_type</a>;
<a name="l00446"></a>00446 
<a name="l00447"></a>00447   <span class="comment">// Constructor.  Defaults to intializing with NULL.</span>
<a name="l00448"></a>00448   <span class="comment">// There is no way to create an uninitialized scoped_ptr.</span>
<a name="l00449"></a>00449   <span class="comment">// The input parameter must be allocated with new.</span>
<a name="l00450"></a><a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#a55642a19024b2db3f6deb6a8c9344020">00450</a>   <span class="keyword">explicit</span> <a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#a55642a19024b2db3f6deb6a8c9344020">scoped_ptr</a>(C* <a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a> = <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) : ptr_(<a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a>) { }
<a name="l00451"></a>00451 
<a name="l00452"></a>00452   <span class="comment">// Destructor.  If there is a C object, delete it.</span>
<a name="l00453"></a>00453   <span class="comment">// We don&#39;t need to test ptr_ == NULL because C++ does that for us.</span>
<a name="l00454"></a><a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#a906defa1e7839c6b6858ce6d4877a169">00454</a>   <a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#a906defa1e7839c6b6858ce6d4877a169">~scoped_ptr</a>() {
<a name="l00455"></a>00455     <span class="keyword">enum</span> { type_must_be_complete = <span class="keyword">sizeof</span>(C) };
<a name="l00456"></a>00456     <span class="keyword">delete</span> ptr_;
<a name="l00457"></a>00457   }
<a name="l00458"></a>00458 
<a name="l00459"></a>00459   <span class="comment">// Reset.  Deletes the current owned object, if any.</span>
<a name="l00460"></a>00460   <span class="comment">// Then takes ownership of a new object, if given.</span>
<a name="l00461"></a>00461   <span class="comment">// this-&gt;reset(this-&gt;get()) works.</span>
<a name="l00462"></a><a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#a8d03754d6ed56f465edd35c7c49e5ec2">00462</a>   <span class="keywordtype">void</span> <a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#a8d03754d6ed56f465edd35c7c49e5ec2">reset</a>(C* <a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a> = <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
<a name="l00463"></a>00463     <span class="keywordflow">if</span> (<a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a> != ptr_) {
<a name="l00464"></a>00464       <span class="keyword">enum</span> { type_must_be_complete = <span class="keyword">sizeof</span>(C) };
<a name="l00465"></a>00465       <span class="keyword">delete</span> ptr_;
<a name="l00466"></a>00466       ptr_ = <a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a>;
<a name="l00467"></a>00467     }
<a name="l00468"></a>00468   }
<a name="l00469"></a>00469 
<a name="l00470"></a>00470   <span class="comment">// Accessors to get the owned object.</span>
<a name="l00471"></a>00471   <span class="comment">// operator* and operator-&gt; will assert() if there is no current object.</span>
<a name="l00472"></a><a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#ab46a7a43e48a2e4fe920f83fef7fed39">00472</a>   C&amp; <a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#ab46a7a43e48a2e4fe920f83fef7fed39">operator*</a>()<span class="keyword"> const </span>{
<a name="l00473"></a>00473     <a class="code" href="../../dd/d27/awesomescreen__test_8js.html#a5e95655c9188700b16a5488897cecb90">assert</a>(ptr_ != <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00474"></a>00474     <span class="keywordflow">return</span> *ptr_;
<a name="l00475"></a>00475   }
<a name="l00476"></a><a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#af7885b325c9e83794366e3d76d148d43">00476</a>   C* <a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#af7885b325c9e83794366e3d76d148d43">operator-&gt;</a>()<span class="keyword"> const  </span>{
<a name="l00477"></a>00477     <a class="code" href="../../dd/d27/awesomescreen__test_8js.html#a5e95655c9188700b16a5488897cecb90">assert</a>(ptr_ != <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00478"></a>00478     <span class="keywordflow">return</span> ptr_;
<a name="l00479"></a>00479   }
<a name="l00480"></a><a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#a24b6fb1f4d184b7b5266cc33dd7ec889">00480</a>   C* <span class="keyword">get</span>() <span class="keyword">const</span> { <span class="keywordflow">return</span> ptr_; }
<a name="l00481"></a>00481 
<a name="l00482"></a>00482   <span class="comment">// Comparison operators.</span>
<a name="l00483"></a>00483   <span class="comment">// These return whether two scoped_ptr refer to the same object, not just to</span>
<a name="l00484"></a>00484   <span class="comment">// two different but equal objects.</span>
<a name="l00485"></a><a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#a34c33088049634283bbb59b03c019940">00485</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#a34c33088049634283bbb59b03c019940">operator==</a>(C* <a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ptr_ == <a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a>; }
<a name="l00486"></a><a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#a014497e8b8b02b5f6e965dc2b5d883cf">00486</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#a014497e8b8b02b5f6e965dc2b5d883cf">operator!=</a>(C* <a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ptr_ != <a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a>; }
<a name="l00487"></a>00487 
<a name="l00488"></a>00488   <span class="comment">// Swap two scoped pointers.</span>
<a name="l00489"></a><a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#a2b851c3842dcc39b43d0f50a5dd7e72a">00489</a>   <span class="keywordtype">void</span> <a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#a2b851c3842dcc39b43d0f50a5dd7e72a">swap</a>(<a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html">scoped_ptr</a>&amp; p2) {
<a name="l00490"></a>00490     C* <a class="code" href="../../db/de5/namespacedefault__timezones.html#ac494636c41cb282619c68c44af233bc7">tmp</a> = ptr_;
<a name="l00491"></a>00491     ptr_ = p2.ptr_;
<a name="l00492"></a>00492     p2.ptr_ = <a class="code" href="../../db/de5/namespacedefault__timezones.html#ac494636c41cb282619c68c44af233bc7">tmp</a>;
<a name="l00493"></a>00493   }
<a name="l00494"></a>00494 
<a name="l00495"></a>00495   <span class="comment">// Release a pointer.</span>
<a name="l00496"></a>00496   <span class="comment">// The return value is the current pointer held by this object.</span>
<a name="l00497"></a>00497   <span class="comment">// If this object holds a NULL pointer, the return value is NULL.</span>
<a name="l00498"></a>00498   <span class="comment">// After this operation, this object will hold a NULL pointer,</span>
<a name="l00499"></a>00499   <span class="comment">// and will not own the object any more.</span>
<a name="l00500"></a><a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#a2c27cc8175d977a81e0c530678d92ea0">00500</a>   C* <a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#a2c27cc8175d977a81e0c530678d92ea0">release</a>() {
<a name="l00501"></a>00501     C* retVal = ptr_;
<a name="l00502"></a>00502     ptr_ = <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00503"></a>00503     <span class="keywordflow">return</span> retVal;
<a name="l00504"></a>00504   }
<a name="l00505"></a>00505 
<a name="l00506"></a>00506  <span class="keyword">private</span>:
<a name="l00507"></a>00507   C* ptr_;
<a name="l00508"></a>00508 
<a name="l00509"></a>00509   <span class="comment">// Forbid comparison of scoped_ptr types.  If C2 != C, it totally doesn&#39;t</span>
<a name="l00510"></a>00510   <span class="comment">// make sense, and if C2 == C, it still doesn&#39;t make sense because you should</span>
<a name="l00511"></a>00511   <span class="comment">// never have the same object owned by two different scoped_ptrs.</span>
<a name="l00512"></a>00512   <span class="keyword">template</span> &lt;<span class="keyword">class</span> C2&gt; <span class="keywordtype">bool</span> <a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#a34c33088049634283bbb59b03c019940">operator==</a>(<a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html">scoped_ptr&lt;C2&gt;</a> <span class="keyword">const</span>&amp; p2) <span class="keyword">const</span>;
<a name="l00513"></a>00513   <span class="keyword">template</span> &lt;<span class="keyword">class</span> C2&gt; <span class="keywordtype">bool</span> <a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#a014497e8b8b02b5f6e965dc2b5d883cf">operator!=</a>(<a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html">scoped_ptr&lt;C2&gt;</a> <span class="keyword">const</span>&amp; p2) <span class="keyword">const</span>;
<a name="l00514"></a>00514 
<a name="l00515"></a>00515   <span class="comment">// Disallow evil constructors</span>
<a name="l00516"></a>00516   <a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#a55642a19024b2db3f6deb6a8c9344020">scoped_ptr</a>(<span class="keyword">const</span> <a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html">scoped_ptr</a>&amp;);
<a name="l00517"></a>00517   <span class="keywordtype">void</span> operator=(<span class="keyword">const</span> <a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html">scoped_ptr</a>&amp;);
<a name="l00518"></a>00518 };
<a name="l00519"></a>00519 
<a name="l00520"></a>00520 <span class="comment">// scoped_array&lt;C&gt; is like scoped_ptr&lt;C&gt;, except that the caller must allocate</span>
<a name="l00521"></a>00521 <span class="comment">// with new [] and the destructor deletes objects with delete [].</span>
<a name="l00522"></a>00522 <span class="comment">//</span>
<a name="l00523"></a>00523 <span class="comment">// As with scoped_ptr&lt;C&gt;, a scoped_array&lt;C&gt; either points to an object</span>
<a name="l00524"></a>00524 <span class="comment">// or is NULL.  A scoped_array&lt;C&gt; owns the object that it points to.</span>
<a name="l00525"></a>00525 <span class="comment">//</span>
<a name="l00526"></a>00526 <span class="comment">// Size: sizeof(scoped_array&lt;C&gt;) == sizeof(C*)</span>
<a name="l00527"></a>00527 <span class="keyword">template</span> &lt;<span class="keyword">class</span> C&gt;
<a name="l00528"></a><a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html">00528</a> <span class="keyword">class </span><a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html">scoped_array</a> {
<a name="l00529"></a>00529  <span class="keyword">public</span>:
<a name="l00530"></a>00530 
<a name="l00531"></a>00531   <span class="comment">// The element type</span>
<a name="l00532"></a><a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html#a8d42a0ac5a02a48bb36e17a16dc30e36">00532</a>   <span class="keyword">typedef</span> C <a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html#a8d42a0ac5a02a48bb36e17a16dc30e36">element_type</a>;
<a name="l00533"></a>00533 
<a name="l00534"></a>00534   <span class="comment">// Constructor.  Defaults to intializing with NULL.</span>
<a name="l00535"></a>00535   <span class="comment">// There is no way to create an uninitialized scoped_array.</span>
<a name="l00536"></a>00536   <span class="comment">// The input parameter must be allocated with new [].</span>
<a name="l00537"></a><a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html#adada44af07e862d7a2433cd689bc38e4">00537</a>   <span class="keyword">explicit</span> <a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html#adada44af07e862d7a2433cd689bc38e4">scoped_array</a>(C* <a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a> = <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) : array_(<a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a>) { }
<a name="l00538"></a>00538 
<a name="l00539"></a>00539   <span class="comment">// Destructor.  If there is a C object, delete it.</span>
<a name="l00540"></a>00540   <span class="comment">// We don&#39;t need to test ptr_ == NULL because C++ does that for us.</span>
<a name="l00541"></a><a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html#acf6a29537a3099db2bcc31fe8c5f6d01">00541</a>   <a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html#acf6a29537a3099db2bcc31fe8c5f6d01">~scoped_array</a>() {
<a name="l00542"></a>00542     <span class="keyword">enum</span> { type_must_be_complete = <span class="keyword">sizeof</span>(C) };
<a name="l00543"></a>00543     <span class="keyword">delete</span>[] array_;
<a name="l00544"></a>00544   }
<a name="l00545"></a>00545 
<a name="l00546"></a>00546   <span class="comment">// Reset.  Deletes the current owned object, if any.</span>
<a name="l00547"></a>00547   <span class="comment">// Then takes ownership of a new object, if given.</span>
<a name="l00548"></a>00548   <span class="comment">// this-&gt;reset(this-&gt;get()) works.</span>
<a name="l00549"></a><a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html#aa7bf77fe3ad67c4c895b86d9d171c89e">00549</a>   <span class="keywordtype">void</span> <a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html#aa7bf77fe3ad67c4c895b86d9d171c89e">reset</a>(C* <a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a> = <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
<a name="l00550"></a>00550     <span class="keywordflow">if</span> (<a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a> != array_) {
<a name="l00551"></a>00551       <span class="keyword">enum</span> { type_must_be_complete = <span class="keyword">sizeof</span>(C) };
<a name="l00552"></a>00552       <span class="keyword">delete</span>[] array_;
<a name="l00553"></a>00553       array_ = <a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a>;
<a name="l00554"></a>00554     }
<a name="l00555"></a>00555   }
<a name="l00556"></a>00556 
<a name="l00557"></a>00557   <span class="comment">// Get one element of the current object.</span>
<a name="l00558"></a>00558   <span class="comment">// Will assert() if there is no current object, or index i is negative.</span>
<a name="l00559"></a><a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html#acb5a20ddd80e599651a13df0c0c2e249">00559</a>   C&amp; <a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html#acb5a20ddd80e599651a13df0c0c2e249">operator[]</a>(std::ptrdiff_t <a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>)<span class="keyword"> const </span>{
<a name="l00560"></a>00560     <a class="code" href="../../dd/d27/awesomescreen__test_8js.html#a5e95655c9188700b16a5488897cecb90">assert</a>(i &gt;= 0);
<a name="l00561"></a>00561     <a class="code" href="../../dd/d27/awesomescreen__test_8js.html#a5e95655c9188700b16a5488897cecb90">assert</a>(array_ != <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00562"></a>00562     <span class="keywordflow">return</span> array_[<a class="code" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>];
<a name="l00563"></a>00563   }
<a name="l00564"></a>00564 
<a name="l00565"></a>00565   <span class="comment">// Get a pointer to the zeroth element of the current object.</span>
<a name="l00566"></a>00566   <span class="comment">// If there is no current object, return NULL.</span>
<a name="l00567"></a><a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html#ae230f7caf2049ea40ee814174432f695">00567</a>   C* <span class="keyword">get</span>() <span class="keyword">const</span> {
<a name="l00568"></a>00568     <span class="keywordflow">return</span> array_;
<a name="l00569"></a>00569   }
<a name="l00570"></a>00570 
<a name="l00571"></a>00571   <span class="comment">// Comparison operators.</span>
<a name="l00572"></a>00572   <span class="comment">// These return whether two scoped_array refer to the same object, not just to</span>
<a name="l00573"></a>00573   <span class="comment">// two different but equal objects.</span>
<a name="l00574"></a><a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html#a66347b2143d22782546d937c85165d58">00574</a>   <span class="keywordtype">bool</span> <a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html#a66347b2143d22782546d937c85165d58">operator==</a>(C* <a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> array_ == <a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a>; }
<a name="l00575"></a><a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html#aafe4803eea760dee18f6f3bdf285aa2e">00575</a>   <span class="keywordtype">bool</span> <a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html#aafe4803eea760dee18f6f3bdf285aa2e">operator!=</a>(C* <a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> array_ != <a class="code" href="../../db/de5/namespacedefault__timezones.html#a28422cbbc99cee3f1b68cd64c3ded285">p</a>; }
<a name="l00576"></a>00576 
<a name="l00577"></a>00577   <span class="comment">// Swap two scoped arrays.</span>
<a name="l00578"></a><a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html#a1b9b06f4fcce4f6d3ae0034bad1a66a4">00578</a>   <span class="keywordtype">void</span> <a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html#a1b9b06f4fcce4f6d3ae0034bad1a66a4">swap</a>(<a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html">scoped_array</a>&amp; p2) {
<a name="l00579"></a>00579     C* <a class="code" href="../../db/de5/namespacedefault__timezones.html#ac494636c41cb282619c68c44af233bc7">tmp</a> = array_;
<a name="l00580"></a>00580     array_ = p2.array_;
<a name="l00581"></a>00581     p2.array_ = <a class="code" href="../../db/de5/namespacedefault__timezones.html#ac494636c41cb282619c68c44af233bc7">tmp</a>;
<a name="l00582"></a>00582   }
<a name="l00583"></a>00583 
<a name="l00584"></a>00584   <span class="comment">// Release an array.</span>
<a name="l00585"></a>00585   <span class="comment">// The return value is the current pointer held by this object.</span>
<a name="l00586"></a>00586   <span class="comment">// If this object holds a NULL pointer, the return value is NULL.</span>
<a name="l00587"></a>00587   <span class="comment">// After this operation, this object will hold a NULL pointer,</span>
<a name="l00588"></a>00588   <span class="comment">// and will not own the object any more.</span>
<a name="l00589"></a><a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html#a06ef762940ac81e151525935db6fd855">00589</a>   C* <a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html#a06ef762940ac81e151525935db6fd855">release</a>() {
<a name="l00590"></a>00590     C* retVal = array_;
<a name="l00591"></a>00591     array_ = <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00592"></a>00592     <span class="keywordflow">return</span> retVal;
<a name="l00593"></a>00593   }
<a name="l00594"></a>00594 
<a name="l00595"></a>00595  <span class="keyword">private</span>:
<a name="l00596"></a>00596   C* array_;
<a name="l00597"></a>00597 
<a name="l00598"></a>00598   <span class="comment">// Forbid comparison of different scoped_array types.</span>
<a name="l00599"></a>00599   <span class="keyword">template</span> &lt;<span class="keyword">class</span> C2&gt; <span class="keywordtype">bool</span> <a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#a34c33088049634283bbb59b03c019940">operator==</a>(<a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html">scoped_array&lt;C2&gt;</a> <span class="keyword">const</span>&amp; p2) <span class="keyword">const</span>;
<a name="l00600"></a>00600   <span class="keyword">template</span> &lt;<span class="keyword">class</span> C2&gt; <span class="keywordtype">bool</span> <a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#a014497e8b8b02b5f6e965dc2b5d883cf">operator!=</a>(<a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html">scoped_array&lt;C2&gt;</a> <span class="keyword">const</span>&amp; p2) <span class="keyword">const</span>;
<a name="l00601"></a>00601 
<a name="l00602"></a>00602   <span class="comment">// Disallow evil constructors</span>
<a name="l00603"></a>00603   <a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html">scoped_array</a>(<span class="keyword">const</span> <a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html">scoped_array</a>&amp;);
<a name="l00604"></a>00604   <span class="keywordtype">void</span> operator=(<span class="keyword">const</span> <a class="code" href="../../da/dd7/classgoogle_1_1protobuf_1_1internal_1_1scoped__array.html">scoped_array</a>&amp;);
<a name="l00605"></a>00605 };
<a name="l00606"></a>00606 
<a name="l00607"></a>00607 }  <span class="comment">// namespace internal</span>
<a name="l00608"></a>00608 
<a name="l00609"></a>00609 <span class="comment">// We made these internal so that they would show up as such in the docs,</span>
<a name="l00610"></a>00610 <span class="comment">// but we don&#39;t want to stick &quot;internal::&quot; in front of them everywhere.</span>
<a name="l00611"></a>00611 <span class="keyword">using</span> <a class="code" href="../../d0/dcb/classgoogle_1_1protobuf_1_1internal_1_1scoped__ptr.html#a55642a19024b2db3f6deb6a8c9344020">internal::scoped_ptr</a>;
<a name="l00612"></a>00612 <span class="keyword">using</span> internal::scoped_array;
<a name="l00613"></a>00613 
<a name="l00614"></a>00614 <span class="comment">// ===================================================================</span>
<a name="l00615"></a>00615 <span class="comment">// emulates google3/base/logging.h</span>
<a name="l00616"></a>00616 
<a name="l00617"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6ea9f8b65beb6a12f5ee24f756a7d77b">00617</a> <span class="keyword">enum</span> <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6ea9f8b65beb6a12f5ee24f756a7d77b">LogLevel</a> {
<a name="l00618"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6ea9f8b65beb6a12f5ee24f756a7d77ba1eafb5d584a03757cb8d649343595e71">00618</a>   <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6ea9f8b65beb6a12f5ee24f756a7d77ba1eafb5d584a03757cb8d649343595e71">LOGLEVEL_INFO</a>,     <span class="comment">// Informational.  This is never actually used by</span>
<a name="l00619"></a>00619                      <span class="comment">// libprotobuf.</span>
<a name="l00620"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6ea9f8b65beb6a12f5ee24f756a7d77ba028937541e239085f1cd8aebee1b51bc">00620</a>   <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6ea9f8b65beb6a12f5ee24f756a7d77ba028937541e239085f1cd8aebee1b51bc">LOGLEVEL_WARNING</a>,  <span class="comment">// Warns about issues that, although not technically a</span>
<a name="l00621"></a>00621                      <span class="comment">// problem now, could cause problems in the future.  For</span>
<a name="l00622"></a>00622                      <span class="comment">// example, a // warning will be printed when parsing a</span>
<a name="l00623"></a>00623                      <span class="comment">// message that is near the message size limit.</span>
<a name="l00624"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6ea9f8b65beb6a12f5ee24f756a7d77ba47eb18b013a52c5f0ced01fab72ce85a">00624</a>   <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6ea9f8b65beb6a12f5ee24f756a7d77ba47eb18b013a52c5f0ced01fab72ce85a">LOGLEVEL_ERROR</a>,    <span class="comment">// An error occurred which should never happen during</span>
<a name="l00625"></a>00625                      <span class="comment">// normal use.</span>
<a name="l00626"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6ea9f8b65beb6a12f5ee24f756a7d77ba4d67cdd97fa3b524ed42f8302a0d4234">00626</a>   <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6ea9f8b65beb6a12f5ee24f756a7d77ba4d67cdd97fa3b524ed42f8302a0d4234">LOGLEVEL_FATAL</a>,    <span class="comment">// An error occurred from which the library cannot</span>
<a name="l00627"></a>00627                      <span class="comment">// recover.  This usually indicates a programming error</span>
<a name="l00628"></a>00628                      <span class="comment">// in the code which calls the library, especially when</span>
<a name="l00629"></a>00629                      <span class="comment">// compiled in debug mode.</span>
<a name="l00630"></a>00630 
<a name="l00631"></a>00631 <span class="preprocessor">#ifdef NDEBUG</span>
<a name="l00632"></a>00632 <span class="preprocessor"></span>  <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6ea9f8b65beb6a12f5ee24f756a7d77ba9c32db8ee705801f9f9b85794db6974d">LOGLEVEL_DFATAL</a> = <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6ea9f8b65beb6a12f5ee24f756a7d77ba47eb18b013a52c5f0ced01fab72ce85a">LOGLEVEL_ERROR</a>
<a name="l00633"></a>00633 <span class="preprocessor">#else</span>
<a name="l00634"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6ea9f8b65beb6a12f5ee24f756a7d77ba9c32db8ee705801f9f9b85794db6974d">00634</a> <span class="preprocessor"></span>  LOGLEVEL_DFATAL = <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6ea9f8b65beb6a12f5ee24f756a7d77ba4d67cdd97fa3b524ed42f8302a0d4234">LOGLEVEL_FATAL</a>
<a name="l00635"></a>00635 <span class="preprocessor">#endif</span>
<a name="l00636"></a>00636 <span class="preprocessor"></span>};
<a name="l00637"></a>00637 
<a name="l00638"></a>00638 <span class="keyword">namespace </span>internal {
<a name="l00639"></a>00639 
<a name="l00640"></a>00640 <span class="keyword">class </span>LogFinisher;
<a name="l00641"></a>00641 
<a name="l00642"></a><a class="code" href="../../df/d6d/classgoogle_1_1protobuf_1_1internal_1_1_log_message.html">00642</a> <span class="keyword">class </span><a class="code" href="../../dc/d54/common_8h.html#aed87dc0af96ed41ff289b5d65531c6c2">LIBPROTOBUF_EXPORT</a> <a class="code" href="../../df/d6d/classgoogle_1_1protobuf_1_1internal_1_1_log_message.html">LogMessage</a> {
<a name="l00643"></a>00643  <span class="keyword">public</span>:
<a name="l00644"></a>00644   <a class="code" href="../../df/d6d/classgoogle_1_1protobuf_1_1internal_1_1_log_message.html">LogMessage</a>(<a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6ea9f8b65beb6a12f5ee24f756a7d77b">LogLevel</a> level, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d2/d7d/jsapi_8h.html#a9b61fad0b15688b43345d3f5c3a3d44b">filename</a>, <span class="keywordtype">int</span> <a class="code" href="../../da/d7d/cook_8js.html#ae379b8c31475b8ad7712b7ead5ce1173">line</a>);
<a name="l00645"></a>00645   ~<a class="code" href="../../df/d6d/classgoogle_1_1protobuf_1_1internal_1_1_log_message.html">LogMessage</a>();
<a name="l00646"></a>00646 
<a name="l00647"></a>00647   <a class="code" href="../../df/d6d/classgoogle_1_1protobuf_1_1internal_1_1_log_message.html">LogMessage</a>&amp; <a class="code" href="../../d2/d93/namespacemozilla.html#a5f43e2bbcf03033e6763200b32e41566">operator&lt;&lt;</a>(<span class="keyword">const</span> <a class="code" href="../../df/d9e/prnetdb_8h.html#aed1cfb225a5fb77461e7972691e68a72">std::string</a>&amp; <a class="code" href="../../d9/d04/expat_8h.html#aebafa8f4412854cf6c37456c71ff5ee7">value</a>);
<a name="l00648"></a>00648   <a class="code" href="../../df/d6d/classgoogle_1_1protobuf_1_1internal_1_1_log_message.html">LogMessage</a>&amp; <a class="code" href="../../d2/d93/namespacemozilla.html#a5f43e2bbcf03033e6763200b32e41566">operator&lt;&lt;</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* value);
<a name="l00649"></a>00649   <a class="code" href="../../df/d6d/classgoogle_1_1protobuf_1_1internal_1_1_log_message.html">LogMessage</a>&amp; <a class="code" href="../../d2/d93/namespacemozilla.html#a5f43e2bbcf03033e6763200b32e41566">operator&lt;&lt;</a>(<span class="keywordtype">char</span> value);
<a name="l00650"></a>00650   <a class="code" href="../../df/d6d/classgoogle_1_1protobuf_1_1internal_1_1_log_message.html">LogMessage</a>&amp; <a class="code" href="../../d2/d93/namespacemozilla.html#a5f43e2bbcf03033e6763200b32e41566">operator&lt;&lt;</a>(<span class="keywordtype">int</span> value);
<a name="l00651"></a>00651   <a class="code" href="../../df/d6d/classgoogle_1_1protobuf_1_1internal_1_1_log_message.html">LogMessage</a>&amp; <a class="code" href="../../d2/d93/namespacemozilla.html#a5f43e2bbcf03033e6763200b32e41566">operator&lt;&lt;</a>(<a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6a813b591d75ae972eea6fbec25ff5c6">uint</a> value);
<a name="l00652"></a>00652   <a class="code" href="../../df/d6d/classgoogle_1_1protobuf_1_1internal_1_1_log_message.html">LogMessage</a>&amp; <a class="code" href="../../d2/d93/namespacemozilla.html#a5f43e2bbcf03033e6763200b32e41566">operator&lt;&lt;</a>(<span class="keywordtype">long</span> value);
<a name="l00653"></a>00653   <a class="code" href="../../df/d6d/classgoogle_1_1protobuf_1_1internal_1_1_log_message.html">LogMessage</a>&amp; <a class="code" href="../../d2/d93/namespacemozilla.html#a5f43e2bbcf03033e6763200b32e41566">operator&lt;&lt;</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> value);
<a name="l00654"></a>00654   <a class="code" href="../../df/d6d/classgoogle_1_1protobuf_1_1internal_1_1_log_message.html">LogMessage</a>&amp; <a class="code" href="../../d2/d93/namespacemozilla.html#a5f43e2bbcf03033e6763200b32e41566">operator&lt;&lt;</a>(<span class="keywordtype">double</span> value);
<a name="l00655"></a>00655 
<a name="l00656"></a>00656  <span class="keyword">private</span>:
<a name="l00657"></a><a class="code" href="../../df/d6d/classgoogle_1_1protobuf_1_1internal_1_1_log_message.html#a98f5caed83c297900b1fe18dcb237072">00657</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../d1/dd6/classgoogle_1_1protobuf_1_1internal_1_1_log_finisher.html">LogFinisher</a>;
<a name="l00658"></a>00658   <span class="keywordtype">void</span> Finish();
<a name="l00659"></a>00659 
<a name="l00660"></a>00660   <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6ea9f8b65beb6a12f5ee24f756a7d77b">LogLevel</a> level_;
<a name="l00661"></a>00661   <span class="keyword">const</span> <span class="keywordtype">char</span>* filename_;
<a name="l00662"></a>00662   <span class="keywordtype">int</span> line_;
<a name="l00663"></a>00663   <a class="code" href="../../df/d9e/prnetdb_8h.html#aed1cfb225a5fb77461e7972691e68a72">std::string</a> message_;
<a name="l00664"></a>00664 };
<a name="l00665"></a>00665 
<a name="l00666"></a>00666 <span class="comment">// Used to make the entire &quot;LOG(BLAH) &lt;&lt; etc.&quot; expression have a void return</span>
<a name="l00667"></a>00667 <span class="comment">// type and print a newline after each message.</span>
<a name="l00668"></a><a class="code" href="../../d1/dd6/classgoogle_1_1protobuf_1_1internal_1_1_log_finisher.html">00668</a> <span class="keyword">class </span><a class="code" href="../../dc/d54/common_8h.html#aed87dc0af96ed41ff289b5d65531c6c2">LIBPROTOBUF_EXPORT</a> <a class="code" href="../../d1/dd6/classgoogle_1_1protobuf_1_1internal_1_1_log_finisher.html">LogFinisher</a> {
<a name="l00669"></a>00669  <span class="keyword">public</span>:
<a name="l00670"></a>00670   <span class="keywordtype">void</span> operator=(<a class="code" href="../../df/d6d/classgoogle_1_1protobuf_1_1internal_1_1_log_message.html">LogMessage</a>&amp; other);
<a name="l00671"></a>00671 };
<a name="l00672"></a>00672 
<a name="l00673"></a>00673 }  <span class="comment">// namespace internal</span>
<a name="l00674"></a>00674 
<a name="l00675"></a>00675 <span class="comment">// Undef everything in case we&#39;re being mixed with some other Google library</span>
<a name="l00676"></a>00676 <span class="comment">// which already defined them itself.  Presumably all Google libraries will</span>
<a name="l00677"></a>00677 <span class="comment">// support the same syntax for these so it should not be a big deal if they</span>
<a name="l00678"></a>00678 <span class="comment">// end up using our definitions instead.</span>
<a name="l00679"></a>00679 <span class="preprocessor">#undef GOOGLE_LOG</span>
<a name="l00680"></a>00680 <span class="preprocessor"></span><span class="preprocessor">#undef GOOGLE_LOG_IF</span>
<a name="l00681"></a>00681 <span class="preprocessor"></span>
<a name="l00682"></a>00682 <span class="preprocessor">#undef GOOGLE_CHECK</span>
<a name="l00683"></a>00683 <span class="preprocessor"></span><span class="preprocessor">#undef GOOGLE_CHECK_EQ</span>
<a name="l00684"></a>00684 <span class="preprocessor"></span><span class="preprocessor">#undef GOOGLE_CHECK_NE</span>
<a name="l00685"></a>00685 <span class="preprocessor"></span><span class="preprocessor">#undef GOOGLE_CHECK_LT</span>
<a name="l00686"></a>00686 <span class="preprocessor"></span><span class="preprocessor">#undef GOOGLE_CHECK_LE</span>
<a name="l00687"></a>00687 <span class="preprocessor"></span><span class="preprocessor">#undef GOOGLE_CHECK_GT</span>
<a name="l00688"></a>00688 <span class="preprocessor"></span><span class="preprocessor">#undef GOOGLE_CHECK_GE</span>
<a name="l00689"></a>00689 <span class="preprocessor"></span>
<a name="l00690"></a>00690 <span class="preprocessor">#undef GOOGLE_DLOG</span>
<a name="l00691"></a>00691 <span class="preprocessor"></span><span class="preprocessor">#undef GOOGLE_DCHECK</span>
<a name="l00692"></a>00692 <span class="preprocessor"></span><span class="preprocessor">#undef GOOGLE_DCHECK_EQ</span>
<a name="l00693"></a>00693 <span class="preprocessor"></span><span class="preprocessor">#undef GOOGLE_DCHECK_NE</span>
<a name="l00694"></a>00694 <span class="preprocessor"></span><span class="preprocessor">#undef GOOGLE_DCHECK_LT</span>
<a name="l00695"></a>00695 <span class="preprocessor"></span><span class="preprocessor">#undef GOOGLE_DCHECK_LE</span>
<a name="l00696"></a>00696 <span class="preprocessor"></span><span class="preprocessor">#undef GOOGLE_DCHECK_GT</span>
<a name="l00697"></a>00697 <span class="preprocessor"></span><span class="preprocessor">#undef GOOGLE_DCHECK_GE</span>
<a name="l00698"></a>00698 <span class="preprocessor"></span>
<a name="l00699"></a><a class="code" href="../../dc/d54/common_8h.html#a9c31698a21b9835b2201481b3f103f14">00699</a> <span class="preprocessor">#define GOOGLE_LOG(LEVEL)                                                 \</span>
<a name="l00700"></a>00700 <span class="preprocessor">  ::google::protobuf::internal::LogFinisher() =                           \</span>
<a name="l00701"></a>00701 <span class="preprocessor">    ::google::protobuf::internal::LogMessage(                             \</span>
<a name="l00702"></a>00702 <span class="preprocessor">      ::google::protobuf::LOGLEVEL_##LEVEL, __FILE__, __LINE__)</span>
<a name="l00703"></a><a class="code" href="../../dc/d54/common_8h.html#a8bd62aeee790e6279583b60a92507260">00703</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_LOG_IF(LEVEL, CONDITION) \</span>
<a name="l00704"></a>00704 <span class="preprocessor">  !(CONDITION) ? (void)0 : GOOGLE_LOG(LEVEL)</span>
<a name="l00705"></a>00705 <span class="preprocessor"></span>
<a name="l00706"></a><a class="code" href="../../dc/d54/common_8h.html#a3a6058ade866d787a37a7620cf7f2bee">00706</a> <span class="preprocessor">#define GOOGLE_CHECK(EXPRESSION) \</span>
<a name="l00707"></a>00707 <span class="preprocessor">  GOOGLE_LOG_IF(FATAL, !(EXPRESSION)) &lt;&lt; &quot;CHECK failed: &quot; #EXPRESSION &quot;: &quot;</span>
<a name="l00708"></a><a class="code" href="../../dc/d54/common_8h.html#a8d648584a1ed75d6564cb070eb6a211f">00708</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_CHECK_EQ(A, B) GOOGLE_CHECK((A) == (B))</span>
<a name="l00709"></a><a class="code" href="../../dc/d54/common_8h.html#a3074dcab6098f99ee7b63cf9471d2d9e">00709</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_CHECK_NE(A, B) GOOGLE_CHECK((A) != (B))</span>
<a name="l00710"></a><a class="code" href="../../dc/d54/common_8h.html#a1fd991fb65505cdb62c301a607e2257e">00710</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_CHECK_LT(A, B) GOOGLE_CHECK((A) &lt;  (B))</span>
<a name="l00711"></a><a class="code" href="../../dc/d54/common_8h.html#a570d2aeca28c3b8b479e0f8b8824fbc8">00711</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_CHECK_LE(A, B) GOOGLE_CHECK((A) &lt;= (B))</span>
<a name="l00712"></a><a class="code" href="../../dc/d54/common_8h.html#ac6d1b38932a424dcc73f048b49b31835">00712</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_CHECK_GT(A, B) GOOGLE_CHECK((A) &gt;  (B))</span>
<a name="l00713"></a><a class="code" href="../../dc/d54/common_8h.html#ad7b790b0fd45093dcb82030924305399">00713</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_CHECK_GE(A, B) GOOGLE_CHECK((A) &gt;= (B))</span>
<a name="l00714"></a>00714 <span class="preprocessor"></span>
<a name="l00715"></a>00715 <span class="preprocessor">#ifdef NDEBUG</span>
<a name="l00716"></a>00716 <span class="preprocessor"></span>
<a name="l00717"></a>00717 <span class="preprocessor">#define GOOGLE_DLOG GOOGLE_LOG_IF(INFO, false)</span>
<a name="l00718"></a>00718 <span class="preprocessor"></span>
<a name="l00719"></a>00719 <span class="preprocessor">#define GOOGLE_DCHECK(EXPRESSION) while(false) GOOGLE_CHECK(EXPRESSION)</span>
<a name="l00720"></a>00720 <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_DCHECK_EQ(A, B) GOOGLE_DCHECK((A) == (B))</span>
<a name="l00721"></a>00721 <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_DCHECK_NE(A, B) GOOGLE_DCHECK((A) != (B))</span>
<a name="l00722"></a>00722 <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_DCHECK_LT(A, B) GOOGLE_DCHECK((A) &lt;  (B))</span>
<a name="l00723"></a>00723 <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_DCHECK_LE(A, B) GOOGLE_DCHECK((A) &lt;= (B))</span>
<a name="l00724"></a>00724 <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_DCHECK_GT(A, B) GOOGLE_DCHECK((A) &gt;  (B))</span>
<a name="l00725"></a>00725 <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_DCHECK_GE(A, B) GOOGLE_DCHECK((A) &gt;= (B))</span>
<a name="l00726"></a>00726 <span class="preprocessor"></span>
<a name="l00727"></a>00727 <span class="preprocessor">#else  // NDEBUG</span>
<a name="l00728"></a>00728 <span class="preprocessor"></span>
<a name="l00729"></a><a class="code" href="../../dc/d54/common_8h.html#a647224a79563b1a545645cd7a71d704b">00729</a> <span class="preprocessor">#define GOOGLE_DLOG GOOGLE_LOG</span>
<a name="l00730"></a>00730 <span class="preprocessor"></span>
<a name="l00731"></a><a class="code" href="../../dc/d54/common_8h.html#aac63fc3f5fc292a2498cc0fda0cdd939">00731</a> <span class="preprocessor">#define GOOGLE_DCHECK    GOOGLE_CHECK</span>
<a name="l00732"></a><a class="code" href="../../dc/d54/common_8h.html#aac71e9a1e031c8667cc9ee63b4ae055e">00732</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_DCHECK_EQ GOOGLE_CHECK_EQ</span>
<a name="l00733"></a><a class="code" href="../../dc/d54/common_8h.html#a0b376739d8c45e633f3d3c05e8d4264d">00733</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_DCHECK_NE GOOGLE_CHECK_NE</span>
<a name="l00734"></a><a class="code" href="../../dc/d54/common_8h.html#a131835d465ccd8fdaabf23032681d7e4">00734</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_DCHECK_LT GOOGLE_CHECK_LT</span>
<a name="l00735"></a><a class="code" href="../../dc/d54/common_8h.html#ac8bb358e42a12c8e5157b8f3324b8a7b">00735</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_DCHECK_LE GOOGLE_CHECK_LE</span>
<a name="l00736"></a><a class="code" href="../../dc/d54/common_8h.html#a862859da221b5074c758a2bdf028033c">00736</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_DCHECK_GT GOOGLE_CHECK_GT</span>
<a name="l00737"></a><a class="code" href="../../dc/d54/common_8h.html#a0e538d06c09bf042ec5da22352b478fa">00737</a> <span class="preprocessor"></span><span class="preprocessor">#define GOOGLE_DCHECK_GE GOOGLE_CHECK_GE</span>
<a name="l00738"></a>00738 <span class="preprocessor"></span>
<a name="l00739"></a>00739 <span class="preprocessor">#endif  // !NDEBUG</span>
<a name="l00740"></a>00740 <span class="preprocessor"></span>
<a name="l00741"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#adfab3f1a58ceef211e0c39f68fe95742">00741</a> <span class="keyword">typedef</span> <span class="keywordtype">void</span> <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#adfab3f1a58ceef211e0c39f68fe95742">LogHandler</a>(<a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a6ea9f8b65beb6a12f5ee24f756a7d77b">LogLevel</a> level, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d2/d7d/jsapi_8h.html#a9b61fad0b15688b43345d3f5c3a3d44b">filename</a>, <span class="keywordtype">int</span> <a class="code" href="../../da/d7d/cook_8js.html#ae379b8c31475b8ad7712b7ead5ce1173">line</a>,
<a name="l00742"></a>00742                         <span class="keyword">const</span> <a class="code" href="../../df/d9e/prnetdb_8h.html#aed1cfb225a5fb77461e7972691e68a72">std::string</a>&amp; <a class="code" href="../../d1/d04/app__install__manager_8js.html#ad031ac2c2bcd5e0fe9c6b67fc309acd4">message</a>);
<a name="l00743"></a>00743 
<a name="l00744"></a>00744 <span class="comment">// The protobuf library sometimes writes warning and error messages to</span>
<a name="l00745"></a>00745 <span class="comment">// stderr.  These messages are primarily useful for developers, but may</span>
<a name="l00746"></a>00746 <span class="comment">// also help end users figure out a problem.  If you would prefer that</span>
<a name="l00747"></a>00747 <span class="comment">// these messages be sent somewhere other than stderr, call SetLogHandler()</span>
<a name="l00748"></a>00748 <span class="comment">// to set your own handler.  This returns the old handler.  Set the handler</span>
<a name="l00749"></a>00749 <span class="comment">// to NULL to ignore log messages (but see also LogSilencer, below).</span>
<a name="l00750"></a>00750 <span class="comment">//</span>
<a name="l00751"></a>00751 <span class="comment">// Obviously, SetLogHandler is not thread-safe.  You should only call it</span>
<a name="l00752"></a>00752 <span class="comment">// at initialization time, and probably not from library code.  If you</span>
<a name="l00753"></a>00753 <span class="comment">// simply want to suppress log messages temporarily (e.g. because you</span>
<a name="l00754"></a>00754 <span class="comment">// have some code that tends to trigger them frequently and you know</span>
<a name="l00755"></a>00755 <span class="comment">// the warnings are not important to you), use the LogSilencer class</span>
<a name="l00756"></a>00756 <span class="comment">// below.</span>
<a name="l00757"></a>00757 <a class="code" href="../../dc/d54/common_8h.html#aed87dc0af96ed41ff289b5d65531c6c2">LIBPROTOBUF_EXPORT</a> <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#adfab3f1a58ceef211e0c39f68fe95742">LogHandler</a>* <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#ae68d268aad7df570da4acac62d432ced">SetLogHandler</a>(<a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#adfab3f1a58ceef211e0c39f68fe95742">LogHandler</a>* new_func);
<a name="l00758"></a>00758 
<a name="l00759"></a>00759 <span class="comment">// Create a LogSilencer if you want to temporarily suppress all log</span>
<a name="l00760"></a>00760 <span class="comment">// messages.  As long as any LogSilencer objects exist, non-fatal</span>
<a name="l00761"></a>00761 <span class="comment">// log messages will be discarded (the current LogHandler will *not*</span>
<a name="l00762"></a>00762 <span class="comment">// be called).  Constructing a LogSilencer is thread-safe.  You may</span>
<a name="l00763"></a>00763 <span class="comment">// accidentally suppress log messages occurring in another thread, but</span>
<a name="l00764"></a>00764 <span class="comment">// since messages are generally for debugging purposes only, this isn&#39;t</span>
<a name="l00765"></a>00765 <span class="comment">// a big deal.  If you want to intercept log messages, use SetLogHandler().</span>
<a name="l00766"></a><a class="code" href="../../d8/d94/classgoogle_1_1protobuf_1_1_log_silencer.html">00766</a> <span class="keyword">class </span><a class="code" href="../../dc/d54/common_8h.html#aed87dc0af96ed41ff289b5d65531c6c2">LIBPROTOBUF_EXPORT</a> <a class="code" href="../../d8/d94/classgoogle_1_1protobuf_1_1_log_silencer.html">LogSilencer</a> {
<a name="l00767"></a>00767  <span class="keyword">public</span>:
<a name="l00768"></a>00768   <a class="code" href="../../d8/d94/classgoogle_1_1protobuf_1_1_log_silencer.html">LogSilencer</a>();
<a name="l00769"></a>00769   ~<a class="code" href="../../d8/d94/classgoogle_1_1protobuf_1_1_log_silencer.html">LogSilencer</a>();
<a name="l00770"></a>00770 };
<a name="l00771"></a>00771 
<a name="l00772"></a>00772 <span class="comment">// ===================================================================</span>
<a name="l00773"></a>00773 <span class="comment">// emulates google3/base/callback.h</span>
<a name="l00774"></a>00774 
<a name="l00775"></a>00775 <span class="comment">// Abstract interface for a callback.  When calling an RPC, you must provide</span>
<a name="l00776"></a>00776 <span class="comment">// a Closure to call when the procedure completes.  See the Service interface</span>
<a name="l00777"></a>00777 <span class="comment">// in service.h.</span>
<a name="l00778"></a>00778 <span class="comment">//</span>
<a name="l00779"></a>00779 <span class="comment">// To automatically construct a Closure which calls a particular function or</span>
<a name="l00780"></a>00780 <span class="comment">// method with a particular set of parameters, use the NewCallback() function.</span>
<a name="l00781"></a>00781 <span class="comment">// Example:</span>
<a name="l00782"></a>00782 <span class="comment">//   void FooDone(const FooResponse* response) {</span>
<a name="l00783"></a>00783 <span class="comment">//     ...</span>
<a name="l00784"></a>00784 <span class="comment">//   }</span>
<a name="l00785"></a>00785 <span class="comment">//</span>
<a name="l00786"></a>00786 <span class="comment">//   void CallFoo() {</span>
<a name="l00787"></a>00787 <span class="comment">//     ...</span>
<a name="l00788"></a>00788 <span class="comment">//     // When done, call FooDone() and pass it a pointer to the response.</span>
<a name="l00789"></a>00789 <span class="comment">//     Closure* callback = NewCallback(&amp;FooDone, response);</span>
<a name="l00790"></a>00790 <span class="comment">//     // Make the call.</span>
<a name="l00791"></a>00791 <span class="comment">//     service-&gt;Foo(controller, request, response, callback);</span>
<a name="l00792"></a>00792 <span class="comment">//   }</span>
<a name="l00793"></a>00793 <span class="comment">//</span>
<a name="l00794"></a>00794 <span class="comment">// Example that calls a method:</span>
<a name="l00795"></a>00795 <span class="comment">//   class Handler {</span>
<a name="l00796"></a>00796 <span class="comment">//    public:</span>
<a name="l00797"></a>00797 <span class="comment">//     ...</span>
<a name="l00798"></a>00798 <span class="comment">//</span>
<a name="l00799"></a>00799 <span class="comment">//     void FooDone(const FooResponse* response) {</span>
<a name="l00800"></a>00800 <span class="comment">//       ...</span>
<a name="l00801"></a>00801 <span class="comment">//     }</span>
<a name="l00802"></a>00802 <span class="comment">//</span>
<a name="l00803"></a>00803 <span class="comment">//     void CallFoo() {</span>
<a name="l00804"></a>00804 <span class="comment">//       ...</span>
<a name="l00805"></a>00805 <span class="comment">//       // When done, call FooDone() and pass it a pointer to the response.</span>
<a name="l00806"></a>00806 <span class="comment">//       Closure* callback = NewCallback(this, &amp;Handler::FooDone, response);</span>
<a name="l00807"></a>00807 <span class="comment">//       // Make the call.</span>
<a name="l00808"></a>00808 <span class="comment">//       service-&gt;Foo(controller, request, response, callback);</span>
<a name="l00809"></a>00809 <span class="comment">//     }</span>
<a name="l00810"></a>00810 <span class="comment">//   };</span>
<a name="l00811"></a>00811 <span class="comment">//</span>
<a name="l00812"></a>00812 <span class="comment">// Currently NewCallback() supports binding zero, one, or two arguments.</span>
<a name="l00813"></a>00813 <span class="comment">//</span>
<a name="l00814"></a>00814 <span class="comment">// Callbacks created with NewCallback() automatically delete themselves when</span>
<a name="l00815"></a>00815 <span class="comment">// executed.  They should be used when a callback is to be called exactly</span>
<a name="l00816"></a>00816 <span class="comment">// once (usually the case with RPC callbacks).  If a callback may be called</span>
<a name="l00817"></a>00817 <span class="comment">// a different number of times (including zero), create it with</span>
<a name="l00818"></a>00818 <span class="comment">// NewPermanentCallback() instead.  You are then responsible for deleting the</span>
<a name="l00819"></a>00819 <span class="comment">// callback (using the &quot;delete&quot; keyword as normal).</span>
<a name="l00820"></a>00820 <span class="comment">//</span>
<a name="l00821"></a>00821 <span class="comment">// Note that NewCallback() is a bit touchy regarding argument types.  Generally,</span>
<a name="l00822"></a>00822 <span class="comment">// the values you provide for the parameter bindings must exactly match the</span>
<a name="l00823"></a>00823 <span class="comment">// types accepted by the callback function.  For example:</span>
<a name="l00824"></a>00824 <span class="comment">//   void Foo(string s);</span>
<a name="l00825"></a>00825 <span class="comment">//   NewCallback(&amp;Foo, &quot;foo&quot;);          // WON&#39;T WORK:  const char* != string</span>
<a name="l00826"></a>00826 <span class="comment">//   NewCallback(&amp;Foo, string(&quot;foo&quot;));  // WORKS</span>
<a name="l00827"></a>00827 <span class="comment">// Also note that the arguments cannot be references:</span>
<a name="l00828"></a>00828 <span class="comment">//   void Foo(const string&amp; s);</span>
<a name="l00829"></a>00829 <span class="comment">//   string my_str;</span>
<a name="l00830"></a>00830 <span class="comment">//   NewCallback(&amp;Foo, my_str);  // WON&#39;T WORK:  Can&#39;t use referecnes.</span>
<a name="l00831"></a>00831 <span class="comment">// However, correctly-typed pointers will work just fine.</span>
<a name="l00832"></a><a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">00832</a> <span class="keyword">class </span><a class="code" href="../../dc/d54/common_8h.html#aed87dc0af96ed41ff289b5d65531c6c2">LIBPROTOBUF_EXPORT</a> <a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">Closure</a> {
<a name="l00833"></a>00833  <span class="keyword">public</span>:
<a name="l00834"></a><a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html#aaf524ac2e685017cadb608e7d1e163a0">00834</a>   <a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html#aaf524ac2e685017cadb608e7d1e163a0">Closure</a>() {}
<a name="l00835"></a>00835   <span class="keyword">virtual</span> ~<a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">Closure</a>();
<a name="l00836"></a>00836 
<a name="l00837"></a>00837   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/df5/ns_bidi_8h.html#a7ca5de84c4a55ba2a2caf8fad54ddc22">Run</a>() = 0;
<a name="l00838"></a>00838 
<a name="l00839"></a>00839  <span class="keyword">private</span>:
<a name="l00840"></a>00840   <a class="code" href="../../dc/d54/common_8h.html#a04e44f971339fbf32496e5eb8078c85f">GOOGLE_DISALLOW_EVIL_CONSTRUCTORS</a>(<a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">Closure</a>);
<a name="l00841"></a>00841 };
<a name="l00842"></a>00842 
<a name="l00843"></a>00843 <span class="keyword">namespace </span>internal {
<a name="l00844"></a>00844 
<a name="l00845"></a><a class="code" href="../../d1/d91/classgoogle_1_1protobuf_1_1internal_1_1_function_closure0.html">00845</a> <span class="keyword">class </span><a class="code" href="../../dc/d54/common_8h.html#aed87dc0af96ed41ff289b5d65531c6c2">LIBPROTOBUF_EXPORT</a> <a class="code" href="../../d1/d91/classgoogle_1_1protobuf_1_1internal_1_1_function_closure0.html">FunctionClosure0</a> : <span class="keyword">public</span> <a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">Closure</a> {
<a name="l00846"></a>00846  <span class="keyword">public</span>:
<a name="l00847"></a><a class="code" href="../../d1/d91/classgoogle_1_1protobuf_1_1internal_1_1_function_closure0.html#abde0153a9fa72b7e67246eaa5f7fb79a">00847</a>   <span class="keyword">typedef</span> <a class="code" href="../../d4/da9/png_8h.html#ab30926da86712184b070e550789f8bf7">void</a> (*FunctionType)();
<a name="l00848"></a>00848 
<a name="l00849"></a><a class="code" href="../../d1/d91/classgoogle_1_1protobuf_1_1internal_1_1_function_closure0.html#aa3a48cecf26fd59b4d945a7f20340a23">00849</a>   <a class="code" href="../../d1/d91/classgoogle_1_1protobuf_1_1internal_1_1_function_closure0.html">FunctionClosure0</a>(FunctionType <span class="keyword">function</span>, <span class="keywordtype">bool</span> self_deleting)
<a name="l00850"></a>00850     : function_(<a class="code" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>), self_deleting_(self_deleting) {}
<a name="l00851"></a>00851   ~<a class="code" href="../../d1/d91/classgoogle_1_1protobuf_1_1internal_1_1_function_closure0.html">FunctionClosure0</a>();
<a name="l00852"></a>00852 
<a name="l00853"></a><a class="code" href="../../d1/d91/classgoogle_1_1protobuf_1_1internal_1_1_function_closure0.html#afadbade0e25344d2e736993c06be7a9e">00853</a>   <span class="keywordtype">void</span> <a class="code" href="../../d1/d91/classgoogle_1_1protobuf_1_1internal_1_1_function_closure0.html#afadbade0e25344d2e736993c06be7a9e">Run</a>() {
<a name="l00854"></a>00854     <span class="keywordtype">bool</span> needs_delete = self_deleting_;  <span class="comment">// read in case callback deletes</span>
<a name="l00855"></a>00855     function_();
<a name="l00856"></a>00856     <span class="keywordflow">if</span> (needs_delete) <span class="keyword">delete</span> <span class="keyword">this</span>;
<a name="l00857"></a>00857   }
<a name="l00858"></a>00858 
<a name="l00859"></a>00859  <span class="keyword">private</span>:
<a name="l00860"></a>00860   FunctionType function_;
<a name="l00861"></a>00861   <span class="keywordtype">bool</span> self_deleting_;
<a name="l00862"></a>00862 };
<a name="l00863"></a>00863 
<a name="l00864"></a>00864 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Class&gt;
<a name="l00865"></a><a class="code" href="../../dd/d1b/classgoogle_1_1protobuf_1_1internal_1_1_method_closure0.html">00865</a> <span class="keyword">class </span><a class="code" href="../../dd/d1b/classgoogle_1_1protobuf_1_1internal_1_1_method_closure0.html">MethodClosure0</a> : <span class="keyword">public</span> <a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">Closure</a> {
<a name="l00866"></a>00866  <span class="keyword">public</span>:
<a name="l00867"></a><a class="code" href="../../dd/d1b/classgoogle_1_1protobuf_1_1internal_1_1_method_closure0.html#af68d6fe589ea9a67145fa40971d2b7fc">00867</a>   <span class="keyword">typedef</span> <a class="code" href="../../d4/da9/png_8h.html#ab30926da86712184b070e550789f8bf7">void</a> (<a class="code" href="../../dc/d00/namespacemozilla_1_1dom_1_1_analyser_node_binding.html#a146b502b5cb5700cee67d7d16d6a981c">Class</a>::*MethodType)();
<a name="l00868"></a>00868 
<a name="l00869"></a><a class="code" href="../../dd/d1b/classgoogle_1_1protobuf_1_1internal_1_1_method_closure0.html#abfaa0932f831b4acb4bce3e183be4286">00869</a>   <a class="code" href="../../dd/d1b/classgoogle_1_1protobuf_1_1internal_1_1_method_closure0.html">MethodClosure0</a>(<a class="code" href="../../dc/d00/namespacemozilla_1_1dom_1_1_analyser_node_binding.html#a146b502b5cb5700cee67d7d16d6a981c">Class</a>* <span class="keywordtype">object</span>, MethodType method, <span class="keywordtype">bool</span> self_deleting)
<a name="l00870"></a>00870     : object_(object), method_(method), self_deleting_(self_deleting) {}
<a name="l00871"></a><a class="code" href="../../dd/d1b/classgoogle_1_1protobuf_1_1internal_1_1_method_closure0.html#ae4d75b1bd9056439ae1ae97aa8fe9218">00871</a>   <a class="code" href="../../dd/d1b/classgoogle_1_1protobuf_1_1internal_1_1_method_closure0.html#ae4d75b1bd9056439ae1ae97aa8fe9218">~MethodClosure0</a>() {}
<a name="l00872"></a>00872 
<a name="l00873"></a><a class="code" href="../../dd/d1b/classgoogle_1_1protobuf_1_1internal_1_1_method_closure0.html#a517093a6231d70d14177d3a0e2e19cd8">00873</a>   <span class="keywordtype">void</span> <a class="code" href="../../dd/d1b/classgoogle_1_1protobuf_1_1internal_1_1_method_closure0.html#a517093a6231d70d14177d3a0e2e19cd8">Run</a>() {
<a name="l00874"></a>00874     <span class="keywordtype">bool</span> needs_delete = self_deleting_;  <span class="comment">// read in case callback deletes</span>
<a name="l00875"></a>00875     (object_-&gt;*method_)();
<a name="l00876"></a>00876     <span class="keywordflow">if</span> (needs_delete) <span class="keyword">delete</span> <span class="keyword">this</span>;
<a name="l00877"></a>00877   }
<a name="l00878"></a>00878 
<a name="l00879"></a>00879  <span class="keyword">private</span>:
<a name="l00880"></a>00880   <a class="code" href="../../dc/d00/namespacemozilla_1_1dom_1_1_analyser_node_binding.html#a146b502b5cb5700cee67d7d16d6a981c">Class</a>* object_;
<a name="l00881"></a>00881   MethodType method_;
<a name="l00882"></a>00882   <span class="keywordtype">bool</span> self_deleting_;
<a name="l00883"></a>00883 };
<a name="l00884"></a>00884 
<a name="l00885"></a>00885 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Arg1&gt;
<a name="l00886"></a><a class="code" href="../../dc/dbf/classgoogle_1_1protobuf_1_1internal_1_1_function_closure1.html">00886</a> <span class="keyword">class </span><a class="code" href="../../dc/dbf/classgoogle_1_1protobuf_1_1internal_1_1_function_closure1.html">FunctionClosure1</a> : <span class="keyword">public</span> <a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">Closure</a> {
<a name="l00887"></a>00887  <span class="keyword">public</span>:
<a name="l00888"></a><a class="code" href="../../dc/dbf/classgoogle_1_1protobuf_1_1internal_1_1_function_closure1.html#a47d4889d0e7190a6bf6745f2bf51fb07">00888</a>   <span class="keyword">typedef</span> <a class="code" href="../../d4/da9/png_8h.html#ab30926da86712184b070e550789f8bf7">void</a> (*FunctionType)(Arg1 arg1);
<a name="l00889"></a>00889 
<a name="l00890"></a><a class="code" href="../../dc/dbf/classgoogle_1_1protobuf_1_1internal_1_1_function_closure1.html#abea7f8d2d5fc091dadda6f4aad6cb4da">00890</a>   <a class="code" href="../../dc/dbf/classgoogle_1_1protobuf_1_1internal_1_1_function_closure1.html">FunctionClosure1</a>(FunctionType <span class="keyword">function</span>, <span class="keywordtype">bool</span> self_deleting,
<a name="l00891"></a>00891                    Arg1 arg1)
<a name="l00892"></a>00892     : function_(<a class="code" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>), self_deleting_(self_deleting),
<a name="l00893"></a>00893       arg1_(arg1) {}
<a name="l00894"></a><a class="code" href="../../dc/dbf/classgoogle_1_1protobuf_1_1internal_1_1_function_closure1.html#a74d5029fc4b5b203b2a9876fbe69eb96">00894</a>   <a class="code" href="../../dc/dbf/classgoogle_1_1protobuf_1_1internal_1_1_function_closure1.html#a74d5029fc4b5b203b2a9876fbe69eb96">~FunctionClosure1</a>() {}
<a name="l00895"></a>00895 
<a name="l00896"></a><a class="code" href="../../dc/dbf/classgoogle_1_1protobuf_1_1internal_1_1_function_closure1.html#a57e8918773ca49b4bd72859921b6c6d7">00896</a>   <span class="keywordtype">void</span> <a class="code" href="../../dc/dbf/classgoogle_1_1protobuf_1_1internal_1_1_function_closure1.html#a57e8918773ca49b4bd72859921b6c6d7">Run</a>() {
<a name="l00897"></a>00897     <span class="keywordtype">bool</span> needs_delete = self_deleting_;  <span class="comment">// read in case callback deletes</span>
<a name="l00898"></a>00898     function_(arg1_);
<a name="l00899"></a>00899     <span class="keywordflow">if</span> (needs_delete) <span class="keyword">delete</span> <span class="keyword">this</span>;
<a name="l00900"></a>00900   }
<a name="l00901"></a>00901 
<a name="l00902"></a>00902  <span class="keyword">private</span>:
<a name="l00903"></a>00903   FunctionType function_;
<a name="l00904"></a>00904   <span class="keywordtype">bool</span> self_deleting_;
<a name="l00905"></a>00905   Arg1 arg1_;
<a name="l00906"></a>00906 };
<a name="l00907"></a>00907 
<a name="l00908"></a>00908 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Class, <span class="keyword">typename</span> Arg1&gt;
<a name="l00909"></a><a class="code" href="../../d6/d34/classgoogle_1_1protobuf_1_1internal_1_1_method_closure1.html">00909</a> <span class="keyword">class </span><a class="code" href="../../d6/d34/classgoogle_1_1protobuf_1_1internal_1_1_method_closure1.html">MethodClosure1</a> : <span class="keyword">public</span> <a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">Closure</a> {
<a name="l00910"></a>00910  <span class="keyword">public</span>:
<a name="l00911"></a><a class="code" href="../../d6/d34/classgoogle_1_1protobuf_1_1internal_1_1_method_closure1.html#a01f3398ff63a2a9b69d0bab3e0b96c55">00911</a>   <span class="keyword">typedef</span> <a class="code" href="../../d4/da9/png_8h.html#ab30926da86712184b070e550789f8bf7">void</a> (<a class="code" href="../../dc/d00/namespacemozilla_1_1dom_1_1_analyser_node_binding.html#a146b502b5cb5700cee67d7d16d6a981c">Class</a>::*MethodType)(Arg1 arg1);
<a name="l00912"></a>00912 
<a name="l00913"></a><a class="code" href="../../d6/d34/classgoogle_1_1protobuf_1_1internal_1_1_method_closure1.html#aafa4319dc45cb9af13e9d66f0f410cc4">00913</a>   <a class="code" href="../../d6/d34/classgoogle_1_1protobuf_1_1internal_1_1_method_closure1.html">MethodClosure1</a>(<a class="code" href="../../dc/d00/namespacemozilla_1_1dom_1_1_analyser_node_binding.html#a146b502b5cb5700cee67d7d16d6a981c">Class</a>* <span class="keywordtype">object</span>, MethodType method, <span class="keywordtype">bool</span> self_deleting,
<a name="l00914"></a>00914                  Arg1 arg1)
<a name="l00915"></a>00915     : object_(object), method_(method), self_deleting_(self_deleting),
<a name="l00916"></a>00916       arg1_(arg1) {}
<a name="l00917"></a><a class="code" href="../../d6/d34/classgoogle_1_1protobuf_1_1internal_1_1_method_closure1.html#a8a7ea93bf03a0960d52f44791f330a0f">00917</a>   <a class="code" href="../../d6/d34/classgoogle_1_1protobuf_1_1internal_1_1_method_closure1.html#a8a7ea93bf03a0960d52f44791f330a0f">~MethodClosure1</a>() {}
<a name="l00918"></a>00918 
<a name="l00919"></a><a class="code" href="../../d6/d34/classgoogle_1_1protobuf_1_1internal_1_1_method_closure1.html#afa146e65072dec6b664d06656cd69171">00919</a>   <span class="keywordtype">void</span> <a class="code" href="../../d6/d34/classgoogle_1_1protobuf_1_1internal_1_1_method_closure1.html#afa146e65072dec6b664d06656cd69171">Run</a>() {
<a name="l00920"></a>00920     <span class="keywordtype">bool</span> needs_delete = self_deleting_;  <span class="comment">// read in case callback deletes</span>
<a name="l00921"></a>00921     (object_-&gt;*method_)(arg1_);
<a name="l00922"></a>00922     <span class="keywordflow">if</span> (needs_delete) <span class="keyword">delete</span> <span class="keyword">this</span>;
<a name="l00923"></a>00923   }
<a name="l00924"></a>00924 
<a name="l00925"></a>00925  <span class="keyword">private</span>:
<a name="l00926"></a>00926   <a class="code" href="../../dc/d00/namespacemozilla_1_1dom_1_1_analyser_node_binding.html#a146b502b5cb5700cee67d7d16d6a981c">Class</a>* object_;
<a name="l00927"></a>00927   MethodType method_;
<a name="l00928"></a>00928   <span class="keywordtype">bool</span> self_deleting_;
<a name="l00929"></a>00929   Arg1 arg1_;
<a name="l00930"></a>00930 };
<a name="l00931"></a>00931 
<a name="l00932"></a>00932 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Arg1, <span class="keyword">typename</span> Arg2&gt;
<a name="l00933"></a><a class="code" href="../../d0/d96/classgoogle_1_1protobuf_1_1internal_1_1_function_closure2.html">00933</a> <span class="keyword">class </span><a class="code" href="../../d0/d96/classgoogle_1_1protobuf_1_1internal_1_1_function_closure2.html">FunctionClosure2</a> : <span class="keyword">public</span> <a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">Closure</a> {
<a name="l00934"></a>00934  <span class="keyword">public</span>:
<a name="l00935"></a><a class="code" href="../../d0/d96/classgoogle_1_1protobuf_1_1internal_1_1_function_closure2.html#a7a2ae82f10d02f47335f273aff235266">00935</a>   <span class="keyword">typedef</span> <a class="code" href="../../d4/da9/png_8h.html#ab30926da86712184b070e550789f8bf7">void</a> (*FunctionType)(Arg1 arg1, Arg2 arg2);
<a name="l00936"></a>00936 
<a name="l00937"></a><a class="code" href="../../d0/d96/classgoogle_1_1protobuf_1_1internal_1_1_function_closure2.html#aea305d398de10c69f8b48faf7eaa13f6">00937</a>   <a class="code" href="../../d0/d96/classgoogle_1_1protobuf_1_1internal_1_1_function_closure2.html">FunctionClosure2</a>(FunctionType <span class="keyword">function</span>, <span class="keywordtype">bool</span> self_deleting,
<a name="l00938"></a>00938                    Arg1 arg1, Arg2 arg2)
<a name="l00939"></a>00939     : function_(<a class="code" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>), self_deleting_(self_deleting),
<a name="l00940"></a>00940       arg1_(arg1), arg2_(arg2) {}
<a name="l00941"></a><a class="code" href="../../d0/d96/classgoogle_1_1protobuf_1_1internal_1_1_function_closure2.html#ad5808ddb5996d27f758f06698692f8bd">00941</a>   <a class="code" href="../../d0/d96/classgoogle_1_1protobuf_1_1internal_1_1_function_closure2.html#ad5808ddb5996d27f758f06698692f8bd">~FunctionClosure2</a>() {}
<a name="l00942"></a>00942 
<a name="l00943"></a><a class="code" href="../../d0/d96/classgoogle_1_1protobuf_1_1internal_1_1_function_closure2.html#a6a4304f6e933507e2cb6161b8f7333b5">00943</a>   <span class="keywordtype">void</span> <a class="code" href="../../d0/d96/classgoogle_1_1protobuf_1_1internal_1_1_function_closure2.html#a6a4304f6e933507e2cb6161b8f7333b5">Run</a>() {
<a name="l00944"></a>00944     <span class="keywordtype">bool</span> needs_delete = self_deleting_;  <span class="comment">// read in case callback deletes</span>
<a name="l00945"></a>00945     function_(arg1_, arg2_);
<a name="l00946"></a>00946     <span class="keywordflow">if</span> (needs_delete) <span class="keyword">delete</span> <span class="keyword">this</span>;
<a name="l00947"></a>00947   }
<a name="l00948"></a>00948 
<a name="l00949"></a>00949  <span class="keyword">private</span>:
<a name="l00950"></a>00950   FunctionType function_;
<a name="l00951"></a>00951   <span class="keywordtype">bool</span> self_deleting_;
<a name="l00952"></a>00952   Arg1 arg1_;
<a name="l00953"></a>00953   Arg2 arg2_;
<a name="l00954"></a>00954 };
<a name="l00955"></a>00955 
<a name="l00956"></a>00956 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Class, <span class="keyword">typename</span> Arg1, <span class="keyword">typename</span> Arg2&gt;
<a name="l00957"></a><a class="code" href="../../d9/da1/classgoogle_1_1protobuf_1_1internal_1_1_method_closure2.html">00957</a> <span class="keyword">class </span><a class="code" href="../../d9/da1/classgoogle_1_1protobuf_1_1internal_1_1_method_closure2.html">MethodClosure2</a> : <span class="keyword">public</span> <a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">Closure</a> {
<a name="l00958"></a>00958  <span class="keyword">public</span>:
<a name="l00959"></a><a class="code" href="../../d9/da1/classgoogle_1_1protobuf_1_1internal_1_1_method_closure2.html#a4d4d1a8429b08d5ad0b449787823c4c1">00959</a>   <span class="keyword">typedef</span> <a class="code" href="../../d4/da9/png_8h.html#ab30926da86712184b070e550789f8bf7">void</a> (<a class="code" href="../../dc/d00/namespacemozilla_1_1dom_1_1_analyser_node_binding.html#a146b502b5cb5700cee67d7d16d6a981c">Class</a>::*MethodType)(Arg1 arg1, Arg2 arg2);
<a name="l00960"></a>00960 
<a name="l00961"></a><a class="code" href="../../d9/da1/classgoogle_1_1protobuf_1_1internal_1_1_method_closure2.html#a598580d23ebfccdf3bc5d2557ba773d7">00961</a>   <a class="code" href="../../d9/da1/classgoogle_1_1protobuf_1_1internal_1_1_method_closure2.html">MethodClosure2</a>(<a class="code" href="../../dc/d00/namespacemozilla_1_1dom_1_1_analyser_node_binding.html#a146b502b5cb5700cee67d7d16d6a981c">Class</a>* <span class="keywordtype">object</span>, MethodType method, <span class="keywordtype">bool</span> self_deleting,
<a name="l00962"></a>00962                  Arg1 arg1, Arg2 arg2)
<a name="l00963"></a>00963     : object_(object), method_(method), self_deleting_(self_deleting),
<a name="l00964"></a>00964       arg1_(arg1), arg2_(arg2) {}
<a name="l00965"></a><a class="code" href="../../d9/da1/classgoogle_1_1protobuf_1_1internal_1_1_method_closure2.html#aebea9337d07fd520af9abb9ef6732564">00965</a>   <a class="code" href="../../d9/da1/classgoogle_1_1protobuf_1_1internal_1_1_method_closure2.html#aebea9337d07fd520af9abb9ef6732564">~MethodClosure2</a>() {}
<a name="l00966"></a>00966 
<a name="l00967"></a><a class="code" href="../../d9/da1/classgoogle_1_1protobuf_1_1internal_1_1_method_closure2.html#a152b57480b438b36029a0b8311356423">00967</a>   <span class="keywordtype">void</span> <a class="code" href="../../d9/da1/classgoogle_1_1protobuf_1_1internal_1_1_method_closure2.html#a152b57480b438b36029a0b8311356423">Run</a>() {
<a name="l00968"></a>00968     <span class="keywordtype">bool</span> needs_delete = self_deleting_;  <span class="comment">// read in case callback deletes</span>
<a name="l00969"></a>00969     (object_-&gt;*method_)(arg1_, arg2_);
<a name="l00970"></a>00970     <span class="keywordflow">if</span> (needs_delete) <span class="keyword">delete</span> <span class="keyword">this</span>;
<a name="l00971"></a>00971   }
<a name="l00972"></a>00972 
<a name="l00973"></a>00973  <span class="keyword">private</span>:
<a name="l00974"></a>00974   <a class="code" href="../../dc/d00/namespacemozilla_1_1dom_1_1_analyser_node_binding.html#a146b502b5cb5700cee67d7d16d6a981c">Class</a>* object_;
<a name="l00975"></a>00975   MethodType method_;
<a name="l00976"></a>00976   <span class="keywordtype">bool</span> self_deleting_;
<a name="l00977"></a>00977   Arg1 arg1_;
<a name="l00978"></a>00978   Arg2 arg2_;
<a name="l00979"></a>00979 };
<a name="l00980"></a>00980 
<a name="l00981"></a>00981 }  <span class="comment">// namespace internal</span>
<a name="l00982"></a>00982 
<a name="l00983"></a>00983 <span class="comment">// See Closure.</span>
<a name="l00984"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a22ca191695d5ca4cb6316c73524ce57d">00984</a> <span class="keyword">inline</span> <a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">Closure</a>* <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a22ca191695d5ca4cb6316c73524ce57d">NewCallback</a>(<span class="keywordtype">void</span> (*<span class="keyword">function</span>)()) {
<a name="l00985"></a>00985   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../d1/d91/classgoogle_1_1protobuf_1_1internal_1_1_function_closure0.html">internal::FunctionClosure0</a>(<span class="keyword">function</span>, <span class="keyword">true</span>);
<a name="l00986"></a>00986 }
<a name="l00987"></a>00987 
<a name="l00988"></a>00988 <span class="comment">// See Closure.</span>
<a name="l00989"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#aaa3181a451009085504e0a142d7476c9">00989</a> <span class="keyword">inline</span> <a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">Closure</a>* <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#aaa3181a451009085504e0a142d7476c9">NewPermanentCallback</a>(<span class="keywordtype">void</span> (*<span class="keyword">function</span>)()) {
<a name="l00990"></a>00990   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../d1/d91/classgoogle_1_1protobuf_1_1internal_1_1_function_closure0.html">internal::FunctionClosure0</a>(<span class="keyword">function</span>, <span class="keyword">false</span>);
<a name="l00991"></a>00991 }
<a name="l00992"></a>00992 
<a name="l00993"></a>00993 <span class="comment">// See Closure.</span>
<a name="l00994"></a>00994 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Class&gt;
<a name="l00995"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#ac93f67e1fa4b4e74d7bc77bd0dfa792b">00995</a> <span class="keyword">inline</span> <a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">Closure</a>* <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a22ca191695d5ca4cb6316c73524ce57d">NewCallback</a>(<a class="code" href="../../dc/d00/namespacemozilla_1_1dom_1_1_analyser_node_binding.html#a146b502b5cb5700cee67d7d16d6a981c">Class</a>* <span class="keywordtype">object</span>, <span class="keywordtype">void</span> (<a class="code" href="../../dc/d00/namespacemozilla_1_1dom_1_1_analyser_node_binding.html#a146b502b5cb5700cee67d7d16d6a981c">Class</a>::*method)()) {
<a name="l00996"></a>00996   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../dd/d1b/classgoogle_1_1protobuf_1_1internal_1_1_method_closure0.html">internal::MethodClosure0&lt;Class&gt;</a>(<a class="code" href="../../d5/d62/build__stage_2email_2shared_2style_2_r_e_a_d_m_e_8md.html#a3324c12c8fd4a56057ace952fd0d4bc5">object</a>, method, <span class="keyword">true</span>);
<a name="l00997"></a>00997 }
<a name="l00998"></a>00998 
<a name="l00999"></a>00999 <span class="comment">// See Closure.</span>
<a name="l01000"></a>01000 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Class&gt;
<a name="l01001"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#af7ee54e31d556efccb7b56be176bc8cc">01001</a> <span class="keyword">inline</span> <a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">Closure</a>* <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#aaa3181a451009085504e0a142d7476c9">NewPermanentCallback</a>(<a class="code" href="../../dc/d00/namespacemozilla_1_1dom_1_1_analyser_node_binding.html#a146b502b5cb5700cee67d7d16d6a981c">Class</a>* <span class="keywordtype">object</span>, <span class="keywordtype">void</span> (<a class="code" href="../../dc/d00/namespacemozilla_1_1dom_1_1_analyser_node_binding.html#a146b502b5cb5700cee67d7d16d6a981c">Class</a>::*method)()) {
<a name="l01002"></a>01002   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../dd/d1b/classgoogle_1_1protobuf_1_1internal_1_1_method_closure0.html">internal::MethodClosure0&lt;Class&gt;</a>(<a class="code" href="../../d5/d62/build__stage_2email_2shared_2style_2_r_e_a_d_m_e_8md.html#a3324c12c8fd4a56057ace952fd0d4bc5">object</a>, method, <span class="keyword">false</span>);
<a name="l01003"></a>01003 }
<a name="l01004"></a>01004 
<a name="l01005"></a>01005 <span class="comment">// See Closure.</span>
<a name="l01006"></a>01006 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Arg1&gt;
<a name="l01007"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a1fd2028fadd5ff231691bdee57e48993">01007</a> <span class="keyword">inline</span> <a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">Closure</a>* <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a22ca191695d5ca4cb6316c73524ce57d">NewCallback</a>(<span class="keywordtype">void</span> (*<span class="keyword">function</span>)(Arg1),
<a name="l01008"></a>01008                             Arg1 arg1) {
<a name="l01009"></a>01009   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../dc/dbf/classgoogle_1_1protobuf_1_1internal_1_1_function_closure1.html">internal::FunctionClosure1&lt;Arg1&gt;</a>(<span class="keyword">function</span>, <span class="keyword">true</span>, arg1);
<a name="l01010"></a>01010 }
<a name="l01011"></a>01011 
<a name="l01012"></a>01012 <span class="comment">// See Closure.</span>
<a name="l01013"></a>01013 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Arg1&gt;
<a name="l01014"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a4ea0383b290a2158d456ddc04ef93364">01014</a> <span class="keyword">inline</span> <a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">Closure</a>* <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#aaa3181a451009085504e0a142d7476c9">NewPermanentCallback</a>(<span class="keywordtype">void</span> (*<span class="keyword">function</span>)(Arg1),
<a name="l01015"></a>01015                                      Arg1 arg1) {
<a name="l01016"></a>01016   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../dc/dbf/classgoogle_1_1protobuf_1_1internal_1_1_function_closure1.html">internal::FunctionClosure1&lt;Arg1&gt;</a>(<span class="keyword">function</span>, <span class="keyword">false</span>, arg1);
<a name="l01017"></a>01017 }
<a name="l01018"></a>01018 
<a name="l01019"></a>01019 <span class="comment">// See Closure.</span>
<a name="l01020"></a>01020 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Class, <span class="keyword">typename</span> Arg1&gt;
<a name="l01021"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#abdc37d7f959393bf40bfcb7f890944d0">01021</a> <span class="keyword">inline</span> <a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">Closure</a>* <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a22ca191695d5ca4cb6316c73524ce57d">NewCallback</a>(<a class="code" href="../../dc/d00/namespacemozilla_1_1dom_1_1_analyser_node_binding.html#a146b502b5cb5700cee67d7d16d6a981c">Class</a>* <span class="keywordtype">object</span>, <span class="keywordtype">void</span> (<a class="code" href="../../dc/d00/namespacemozilla_1_1dom_1_1_analyser_node_binding.html#a146b502b5cb5700cee67d7d16d6a981c">Class</a>::*method)(Arg1),
<a name="l01022"></a>01022                             Arg1 arg1) {
<a name="l01023"></a>01023   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../d6/d34/classgoogle_1_1protobuf_1_1internal_1_1_method_closure1.html">internal::MethodClosure1&lt;Class, Arg1&gt;</a>(<a class="code" href="../../d5/d62/build__stage_2email_2shared_2style_2_r_e_a_d_m_e_8md.html#a3324c12c8fd4a56057ace952fd0d4bc5">object</a>, method, <span class="keyword">true</span>, arg1);
<a name="l01024"></a>01024 }
<a name="l01025"></a>01025 
<a name="l01026"></a>01026 <span class="comment">// See Closure.</span>
<a name="l01027"></a>01027 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Class, <span class="keyword">typename</span> Arg1&gt;
<a name="l01028"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a92734dee1b728fd8956384e557e7d561">01028</a> <span class="keyword">inline</span> <a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">Closure</a>* <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#aaa3181a451009085504e0a142d7476c9">NewPermanentCallback</a>(<a class="code" href="../../dc/d00/namespacemozilla_1_1dom_1_1_analyser_node_binding.html#a146b502b5cb5700cee67d7d16d6a981c">Class</a>* <span class="keywordtype">object</span>, <span class="keywordtype">void</span> (<a class="code" href="../../dc/d00/namespacemozilla_1_1dom_1_1_analyser_node_binding.html#a146b502b5cb5700cee67d7d16d6a981c">Class</a>::*method)(Arg1),
<a name="l01029"></a>01029                                      Arg1 arg1) {
<a name="l01030"></a>01030   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../d6/d34/classgoogle_1_1protobuf_1_1internal_1_1_method_closure1.html">internal::MethodClosure1&lt;Class, Arg1&gt;</a>(<a class="code" href="../../d5/d62/build__stage_2email_2shared_2style_2_r_e_a_d_m_e_8md.html#a3324c12c8fd4a56057ace952fd0d4bc5">object</a>, method, <span class="keyword">false</span>, arg1);
<a name="l01031"></a>01031 }
<a name="l01032"></a>01032 
<a name="l01033"></a>01033 <span class="comment">// See Closure.</span>
<a name="l01034"></a>01034 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Arg1, <span class="keyword">typename</span> Arg2&gt;
<a name="l01035"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a70f2f57962713c12b610206611b05652">01035</a> <span class="keyword">inline</span> <a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">Closure</a>* <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a22ca191695d5ca4cb6316c73524ce57d">NewCallback</a>(<span class="keywordtype">void</span> (*<span class="keyword">function</span>)(Arg1, Arg2),
<a name="l01036"></a>01036                             Arg1 arg1, Arg2 arg2) {
<a name="l01037"></a>01037   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../d0/d96/classgoogle_1_1protobuf_1_1internal_1_1_function_closure2.html">internal::FunctionClosure2&lt;Arg1, Arg2&gt;</a>(
<a name="l01038"></a>01038     <span class="keyword">function</span>, <span class="keyword">true</span>, arg1, arg2);
<a name="l01039"></a>01039 }
<a name="l01040"></a>01040 
<a name="l01041"></a>01041 <span class="comment">// See Closure.</span>
<a name="l01042"></a>01042 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Arg1, <span class="keyword">typename</span> Arg2&gt;
<a name="l01043"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a632a5b50c8be8293605f926d7c65d5f3">01043</a> <span class="keyword">inline</span> <a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">Closure</a>* <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#aaa3181a451009085504e0a142d7476c9">NewPermanentCallback</a>(<span class="keywordtype">void</span> (*<span class="keyword">function</span>)(Arg1, Arg2),
<a name="l01044"></a>01044                                      Arg1 arg1, Arg2 arg2) {
<a name="l01045"></a>01045   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../d0/d96/classgoogle_1_1protobuf_1_1internal_1_1_function_closure2.html">internal::FunctionClosure2&lt;Arg1, Arg2&gt;</a>(
<a name="l01046"></a>01046     <span class="keyword">function</span>, <span class="keyword">false</span>, arg1, arg2);
<a name="l01047"></a>01047 }
<a name="l01048"></a>01048 
<a name="l01049"></a>01049 <span class="comment">// See Closure.</span>
<a name="l01050"></a>01050 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Class, <span class="keyword">typename</span> Arg1, <span class="keyword">typename</span> Arg2&gt;
<a name="l01051"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a2e844de2065c4e2d66ad98ed64d9aa9a">01051</a> <span class="keyword">inline</span> <a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">Closure</a>* <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a22ca191695d5ca4cb6316c73524ce57d">NewCallback</a>(<a class="code" href="../../dc/d00/namespacemozilla_1_1dom_1_1_analyser_node_binding.html#a146b502b5cb5700cee67d7d16d6a981c">Class</a>* <span class="keywordtype">object</span>, <span class="keywordtype">void</span> (<a class="code" href="../../dc/d00/namespacemozilla_1_1dom_1_1_analyser_node_binding.html#a146b502b5cb5700cee67d7d16d6a981c">Class</a>::*method)(Arg1, Arg2),
<a name="l01052"></a>01052                             Arg1 arg1, Arg2 arg2) {
<a name="l01053"></a>01053   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../d9/da1/classgoogle_1_1protobuf_1_1internal_1_1_method_closure2.html">internal::MethodClosure2&lt;Class, Arg1, Arg2&gt;</a>(
<a name="l01054"></a>01054     <a class="code" href="../../d5/d62/build__stage_2email_2shared_2style_2_r_e_a_d_m_e_8md.html#a3324c12c8fd4a56057ace952fd0d4bc5">object</a>, method, <span class="keyword">true</span>, arg1, arg2);
<a name="l01055"></a>01055 }
<a name="l01056"></a>01056 
<a name="l01057"></a>01057 <span class="comment">// See Closure.</span>
<a name="l01058"></a>01058 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Class, <span class="keyword">typename</span> Arg1, <span class="keyword">typename</span> Arg2&gt;
<a name="l01059"></a><a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a51ad78e007319b4c675b0a667a7a6839">01059</a> <span class="keyword">inline</span> <a class="code" href="../../de/dc1/classgoogle_1_1protobuf_1_1_closure.html">Closure</a>* <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#aaa3181a451009085504e0a142d7476c9">NewPermanentCallback</a>(
<a name="l01060"></a>01060     <a class="code" href="../../dc/d00/namespacemozilla_1_1dom_1_1_analyser_node_binding.html#a146b502b5cb5700cee67d7d16d6a981c">Class</a>* <span class="keywordtype">object</span>, <span class="keywordtype">void</span> (<a class="code" href="../../dc/d00/namespacemozilla_1_1dom_1_1_analyser_node_binding.html#a146b502b5cb5700cee67d7d16d6a981c">Class</a>::*method)(Arg1, Arg2),
<a name="l01061"></a>01061     Arg1 arg1, Arg2 arg2) {
<a name="l01062"></a>01062   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../d9/da1/classgoogle_1_1protobuf_1_1internal_1_1_method_closure2.html">internal::MethodClosure2&lt;Class, Arg1, Arg2&gt;</a>(
<a name="l01063"></a>01063     <a class="code" href="../../d5/d62/build__stage_2email_2shared_2style_2_r_e_a_d_m_e_8md.html#a3324c12c8fd4a56057ace952fd0d4bc5">object</a>, method, <span class="keyword">false</span>, arg1, arg2);
<a name="l01064"></a>01064 }
<a name="l01065"></a>01065 
<a name="l01066"></a>01066 <span class="comment">// A function which does nothing.  Useful for creating no-op callbacks, e.g.:</span>
<a name="l01067"></a>01067 <span class="comment">//   Closure* nothing = NewCallback(&amp;DoNothing);</span>
<a name="l01068"></a>01068 <span class="keywordtype">void</span> <a class="code" href="../../dc/d54/common_8h.html#aed87dc0af96ed41ff289b5d65531c6c2">LIBPROTOBUF_EXPORT</a> <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a35672bfc900c98b017ee8e2ca79e15d3">DoNothing</a>();
<a name="l01069"></a>01069 
<a name="l01070"></a>01070 <span class="comment">// ===================================================================</span>
<a name="l01071"></a>01071 <span class="comment">// emulates google3/base/mutex.h</span>
<a name="l01072"></a>01072 
<a name="l01073"></a>01073 <span class="keyword">namespace </span>internal {
<a name="l01074"></a>01074 
<a name="l01075"></a>01075 <span class="comment">// A Mutex is a non-reentrant (aka non-recursive) mutex.  At most one thread T</span>
<a name="l01076"></a>01076 <span class="comment">// may hold a mutex at a given time.  If T attempts to Lock() the same Mutex</span>
<a name="l01077"></a>01077 <span class="comment">// while holding it, T will deadlock.</span>
<a name="l01078"></a><a class="code" href="../../db/d4a/classgoogle_1_1protobuf_1_1internal_1_1_mutex.html">01078</a> <span class="keyword">class </span><a class="code" href="../../dc/d54/common_8h.html#aed87dc0af96ed41ff289b5d65531c6c2">LIBPROTOBUF_EXPORT</a> <a class="code" href="../../db/d4a/classgoogle_1_1protobuf_1_1internal_1_1_mutex.html">Mutex</a> {
<a name="l01079"></a>01079  <span class="keyword">public</span>:
<a name="l01080"></a>01080   <span class="comment">// Create a Mutex that is not held by anybody.</span>
<a name="l01081"></a>01081   <a class="code" href="../../db/d4a/classgoogle_1_1protobuf_1_1internal_1_1_mutex.html">Mutex</a>();
<a name="l01082"></a>01082 
<a name="l01083"></a>01083   <span class="comment">// Destructor</span>
<a name="l01084"></a>01084   ~<a class="code" href="../../db/d4a/classgoogle_1_1protobuf_1_1internal_1_1_mutex.html">Mutex</a>();
<a name="l01085"></a>01085 
<a name="l01086"></a>01086   <span class="comment">// Block if necessary until this Mutex is free, then acquire it exclusively.</span>
<a name="l01087"></a>01087   <span class="keywordtype">void</span> Lock();
<a name="l01088"></a>01088 
<a name="l01089"></a>01089   <span class="comment">// Release this Mutex.  Caller must hold it exclusively.</span>
<a name="l01090"></a>01090   <span class="keywordtype">void</span> Unlock();
<a name="l01091"></a>01091 
<a name="l01092"></a>01092   <span class="comment">// Crash if this Mutex is not held exclusively by this thread.</span>
<a name="l01093"></a>01093   <span class="comment">// May fail to crash when it should; will never crash when it should not.</span>
<a name="l01094"></a>01094   <span class="keywordtype">void</span> AssertHeld();
<a name="l01095"></a>01095 
<a name="l01096"></a>01096  <span class="keyword">private</span>:
<a name="l01097"></a>01097   <span class="keyword">struct </span>Internal;
<a name="l01098"></a>01098   Internal* mInternal;
<a name="l01099"></a>01099 
<a name="l01100"></a>01100   <a class="code" href="../../dc/d54/common_8h.html#a04e44f971339fbf32496e5eb8078c85f">GOOGLE_DISALLOW_EVIL_CONSTRUCTORS</a>(<a class="code" href="../../db/d4a/classgoogle_1_1protobuf_1_1internal_1_1_mutex.html">Mutex</a>);
<a name="l01101"></a>01101 };
<a name="l01102"></a>01102 
<a name="l01103"></a>01103 <span class="comment">// MutexLock(mu) acquires mu when constructed and releases it when destroyed.</span>
<a name="l01104"></a><a class="code" href="../../dc/de4/classgoogle_1_1protobuf_1_1internal_1_1_mutex_lock.html">01104</a> <span class="keyword">class </span><a class="code" href="../../dc/d54/common_8h.html#aed87dc0af96ed41ff289b5d65531c6c2">LIBPROTOBUF_EXPORT</a> <a class="code" href="../../dc/de4/classgoogle_1_1protobuf_1_1internal_1_1_mutex_lock.html">MutexLock</a> {
<a name="l01105"></a>01105  <span class="keyword">public</span>:
<a name="l01106"></a><a class="code" href="../../dc/de4/classgoogle_1_1protobuf_1_1internal_1_1_mutex_lock.html#a484d7e79513d968ad8b90b2513056cdd">01106</a>   <span class="keyword">explicit</span> <a class="code" href="../../dc/de4/classgoogle_1_1protobuf_1_1internal_1_1_mutex_lock.html#a484d7e79513d968ad8b90b2513056cdd">MutexLock</a>(<a class="code" href="../../db/d4a/classgoogle_1_1protobuf_1_1internal_1_1_mutex.html">Mutex</a> *mu) : mu_(mu) { this-&gt;mu_-&gt;Lock(); }
<a name="l01107"></a><a class="code" href="../../dc/de4/classgoogle_1_1protobuf_1_1internal_1_1_mutex_lock.html#aa5b427574082f6e70c2892fa88011ee3">01107</a>   <a class="code" href="../../dc/de4/classgoogle_1_1protobuf_1_1internal_1_1_mutex_lock.html#aa5b427574082f6e70c2892fa88011ee3">~MutexLock</a>() { this-&gt;mu_-&gt;Unlock(); }
<a name="l01108"></a>01108  <span class="keyword">private</span>:
<a name="l01109"></a>01109   <a class="code" href="../../db/d4a/classgoogle_1_1protobuf_1_1internal_1_1_mutex.html">Mutex</a> *<span class="keyword">const</span> mu_;
<a name="l01110"></a>01110   <a class="code" href="../../dc/d54/common_8h.html#a04e44f971339fbf32496e5eb8078c85f">GOOGLE_DISALLOW_EVIL_CONSTRUCTORS</a>(<a class="code" href="../../dc/de4/classgoogle_1_1protobuf_1_1internal_1_1_mutex_lock.html">MutexLock</a>);
<a name="l01111"></a>01111 };
<a name="l01112"></a>01112 
<a name="l01113"></a>01113 <span class="comment">// TODO(kenton):  Implement these?  Hard to implement portably.</span>
<a name="l01114"></a><a class="code" href="../../d2/da3/namespacegoogle_1_1protobuf_1_1internal.html#a82e2f11e35ffa42f68babb56b8e7246a">01114</a> <span class="keyword">typedef</span> <a class="code" href="../../dc/de4/classgoogle_1_1protobuf_1_1internal_1_1_mutex_lock.html">MutexLock</a> <a class="code" href="../../d2/da3/namespacegoogle_1_1protobuf_1_1internal.html#a82e2f11e35ffa42f68babb56b8e7246a">ReaderMutexLock</a>;
<a name="l01115"></a><a class="code" href="../../d2/da3/namespacegoogle_1_1protobuf_1_1internal.html#abaf1123f90cfc04a4826707ad706bd67">01115</a> <span class="keyword">typedef</span> <a class="code" href="../../dc/de4/classgoogle_1_1protobuf_1_1internal_1_1_mutex_lock.html">MutexLock</a> <a class="code" href="../../d2/da3/namespacegoogle_1_1protobuf_1_1internal.html#abaf1123f90cfc04a4826707ad706bd67">WriterMutexLock</a>;
<a name="l01116"></a>01116 
<a name="l01117"></a>01117 <span class="comment">// MutexLockMaybe is like MutexLock, but is a no-op when mu is NULL.</span>
<a name="l01118"></a><a class="code" href="../../db/df9/classgoogle_1_1protobuf_1_1internal_1_1_mutex_lock_maybe.html">01118</a> <span class="keyword">class </span><a class="code" href="../../dc/d54/common_8h.html#aed87dc0af96ed41ff289b5d65531c6c2">LIBPROTOBUF_EXPORT</a> <a class="code" href="../../db/df9/classgoogle_1_1protobuf_1_1internal_1_1_mutex_lock_maybe.html">MutexLockMaybe</a> {
<a name="l01119"></a>01119  <span class="keyword">public</span>:
<a name="l01120"></a><a class="code" href="../../db/df9/classgoogle_1_1protobuf_1_1internal_1_1_mutex_lock_maybe.html#ad83ca6ff9b6cae1b1cc63b301ded1711">01120</a>   <span class="keyword">explicit</span> <a class="code" href="../../db/df9/classgoogle_1_1protobuf_1_1internal_1_1_mutex_lock_maybe.html">MutexLockMaybe</a>(<a class="code" href="../../db/d4a/classgoogle_1_1protobuf_1_1internal_1_1_mutex.html">Mutex</a> *mu) :
<a name="l01121"></a>01121     mu_(mu) { <span class="keywordflow">if</span> (this-&gt;mu_ != <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) { this-&gt;mu_-&gt;Lock(); } }
<a name="l01122"></a><a class="code" href="../../db/df9/classgoogle_1_1protobuf_1_1internal_1_1_mutex_lock_maybe.html#a4a9404c0555cd64af91399049d6019a3">01122</a>   <a class="code" href="../../db/df9/classgoogle_1_1protobuf_1_1internal_1_1_mutex_lock_maybe.html#a4a9404c0555cd64af91399049d6019a3">~MutexLockMaybe</a>() { <span class="keywordflow">if</span> (this-&gt;mu_ != <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) { this-&gt;mu_-&gt;Unlock(); } }
<a name="l01123"></a>01123  <span class="keyword">private</span>:
<a name="l01124"></a>01124   <a class="code" href="../../db/d4a/classgoogle_1_1protobuf_1_1internal_1_1_mutex.html">Mutex</a> *<span class="keyword">const</span> mu_;
<a name="l01125"></a>01125   <a class="code" href="../../dc/d54/common_8h.html#a04e44f971339fbf32496e5eb8078c85f">GOOGLE_DISALLOW_EVIL_CONSTRUCTORS</a>(<a class="code" href="../../db/df9/classgoogle_1_1protobuf_1_1internal_1_1_mutex_lock_maybe.html">MutexLockMaybe</a>);
<a name="l01126"></a>01126 };
<a name="l01127"></a>01127 
<a name="l01128"></a>01128 }  <span class="comment">// namespace internal</span>
<a name="l01129"></a>01129 
<a name="l01130"></a>01130 <span class="comment">// We made these internal so that they would show up as such in the docs,</span>
<a name="l01131"></a>01131 <span class="comment">// but we don&#39;t want to stick &quot;internal::&quot; in front of them everywhere.</span>
<a name="l01132"></a>01132 <span class="keyword">using</span> internal::Mutex;
<a name="l01133"></a>01133 <span class="keyword">using</span> internal::MutexLock;
<a name="l01134"></a>01134 <span class="keyword">using</span> <a class="code" href="../../d2/da3/namespacegoogle_1_1protobuf_1_1internal.html#a82e2f11e35ffa42f68babb56b8e7246a">internal::ReaderMutexLock</a>;
<a name="l01135"></a>01135 <span class="keyword">using</span> <a class="code" href="../../d2/da3/namespacegoogle_1_1protobuf_1_1internal.html#abaf1123f90cfc04a4826707ad706bd67">internal::WriterMutexLock</a>;
<a name="l01136"></a>01136 <span class="keyword">using</span> internal::MutexLockMaybe;
<a name="l01137"></a>01137 
<a name="l01138"></a>01138 <span class="comment">// ===================================================================</span>
<a name="l01139"></a>01139 <span class="comment">// from google3/base/type_traits.h</span>
<a name="l01140"></a>01140 
<a name="l01141"></a>01141 <span class="keyword">namespace </span>internal {
<a name="l01142"></a>01142 
<a name="l01143"></a>01143 <span class="comment">// Specified by TR1 [4.7.4] Pointer modifications.</span>
<a name="l01144"></a><a class="code" href="../../dd/de2/structgoogle_1_1protobuf_1_1internal_1_1remove__pointer.html#a2c2e3aa338c64bc914b091f32a372847">01144</a> <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">struct </span><a class="code" href="../../dd/de2/structgoogle_1_1protobuf_1_1internal_1_1remove__pointer.html">remove_pointer</a> { <span class="keyword">typedef</span> T <a class="code" href="../../dd/de2/structgoogle_1_1protobuf_1_1internal_1_1remove__pointer.html#a2c2e3aa338c64bc914b091f32a372847">type</a>; };
<a name="l01145"></a><a class="code" href="../../da/d41/structgoogle_1_1protobuf_1_1internal_1_1remove__pointer_3_01_t_01_5_01_4.html#a46481ead00e78e2faab8b60070ac7ebe">01145</a> <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">struct </span><a class="code" href="../../dd/de2/structgoogle_1_1protobuf_1_1internal_1_1remove__pointer.html">remove_pointer</a>&lt;T*&gt; { <span class="keyword">typedef</span> T <a class="code" href="../../da/d41/structgoogle_1_1protobuf_1_1internal_1_1remove__pointer_3_01_t_01_5_01_4.html#a46481ead00e78e2faab8b60070ac7ebe">type</a>; };
<a name="l01146"></a><a class="code" href="../../d5/d20/structgoogle_1_1protobuf_1_1internal_1_1remove__pointer_3_01_t_01_5const_01_01_4.html#aad0b83950c7f16fa081a6b5d07d86d12">01146</a> <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">struct </span><a class="code" href="../../dd/de2/structgoogle_1_1protobuf_1_1internal_1_1remove__pointer.html">remove_pointer</a>&lt;T* <span class="keyword">const</span>&gt; { <span class="keyword">typedef</span> T <a class="code" href="../../d5/d20/structgoogle_1_1protobuf_1_1internal_1_1remove__pointer_3_01_t_01_5const_01_01_4.html#aad0b83950c7f16fa081a6b5d07d86d12">type</a>; };
<a name="l01147"></a><a class="code" href="../../d8/d76/structgoogle_1_1protobuf_1_1internal_1_1remove__pointer_3_01_t_01_5volatile_01_4.html#a7af8d90abbaae9af32e778ccde6cd333">01147</a> <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">struct </span><a class="code" href="../../dd/de2/structgoogle_1_1protobuf_1_1internal_1_1remove__pointer.html">remove_pointer</a>&lt;T* <span class="keyword">volatile</span>&gt; { <span class="keyword">typedef</span> T <a class="code" href="../../d8/d76/structgoogle_1_1protobuf_1_1internal_1_1remove__pointer_3_01_t_01_5volatile_01_4.html#a7af8d90abbaae9af32e778ccde6cd333">type</a>; };
<a name="l01148"></a><a class="code" href="../../d7/dbc/structgoogle_1_1protobuf_1_1internal_1_1remove__pointer_3_01_t_01_5const_01volatile_01_4.html">01148</a> <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">struct </span><a class="code" href="../../dd/de2/structgoogle_1_1protobuf_1_1internal_1_1remove__pointer.html">remove_pointer</a>&lt;T* <span class="keyword">const</span> <span class="keyword">volatile</span>&gt; {
<a name="l01149"></a><a class="code" href="../../d7/dbc/structgoogle_1_1protobuf_1_1internal_1_1remove__pointer_3_01_t_01_5const_01volatile_01_4.html#a36093eaa1a8f72592855a3d308482921">01149</a>   <span class="keyword">typedef</span> T <a class="code" href="../../d7/dbc/structgoogle_1_1protobuf_1_1internal_1_1remove__pointer_3_01_t_01_5const_01volatile_01_4.html#a36093eaa1a8f72592855a3d308482921">type</a>; };
<a name="l01150"></a>01150 
<a name="l01151"></a>01151 <span class="comment">// ===================================================================</span>
<a name="l01152"></a>01152 
<a name="l01153"></a>01153 <span class="comment">// Checks if the buffer contains structurally-valid UTF-8.  Implemented in</span>
<a name="l01154"></a>01154 <span class="comment">// structurally_valid.cc.</span>
<a name="l01155"></a>01155 <a class="code" href="../../dc/d54/common_8h.html#aed87dc0af96ed41ff289b5d65531c6c2">LIBPROTOBUF_EXPORT</a> <span class="keywordtype">bool</span> <a class="code" href="../../d2/da3/namespacegoogle_1_1protobuf_1_1internal.html#aea9c3baae3be97602983ad4312268587">IsStructurallyValidUTF8</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../da/d32/prio_8h.html#ac14417684334d01b4e1e807a19d92816">buf</a>, <span class="keywordtype">int</span> <a class="code" href="../../d9/d04/expat_8h.html#a5df20ff5bc70fb664abe3912796e90df">len</a>);
<a name="l01156"></a>01156 
<a name="l01157"></a>01157 }  <span class="comment">// namespace internal</span>
<a name="l01158"></a>01158 
<a name="l01159"></a>01159 <span class="comment">// ===================================================================</span>
<a name="l01160"></a>01160 <span class="comment">// Shutdown support.</span>
<a name="l01161"></a>01161 
<a name="l01162"></a>01162 <span class="comment">// Shut down the entire protocol buffers library, deleting all static-duration</span>
<a name="l01163"></a>01163 <span class="comment">// objects allocated by the library or by generated .pb.cc files.</span>
<a name="l01164"></a>01164 <span class="comment">//</span>
<a name="l01165"></a>01165 <span class="comment">// There are two reasons you might want to call this:</span>
<a name="l01166"></a>01166 <span class="comment">// * You use a draconian definition of &quot;memory leak&quot; in which you expect</span>
<a name="l01167"></a>01167 <span class="comment">//   every single malloc() to have a corresponding free(), even for objects</span>
<a name="l01168"></a>01168 <span class="comment">//   which live until program exit.</span>
<a name="l01169"></a>01169 <span class="comment">// * You are writing a dynamically-loaded library which needs to clean up</span>
<a name="l01170"></a>01170 <span class="comment">//   after itself when the library is unloaded.</span>
<a name="l01171"></a>01171 <span class="comment">//</span>
<a name="l01172"></a>01172 <span class="comment">// It is safe to call this multiple times.  However, it is not safe to use</span>
<a name="l01173"></a>01173 <span class="comment">// any other part of the protocol buffers library after</span>
<a name="l01174"></a>01174 <span class="comment">// ShutdownProtobufLibrary() has been called.</span>
<a name="l01175"></a>01175 <a class="code" href="../../dc/d54/common_8h.html#aed87dc0af96ed41ff289b5d65531c6c2">LIBPROTOBUF_EXPORT</a> <span class="keywordtype">void</span> <a class="code" href="../../d0/df5/namespacegoogle_1_1protobuf.html#a79980180dfc04a9b61e1b8e3d0a9a507">ShutdownProtobufLibrary</a>();
<a name="l01176"></a>01176 
<a name="l01177"></a>01177 <span class="keyword">namespace </span>internal {
<a name="l01178"></a>01178 
<a name="l01179"></a>01179 <span class="comment">// Register a function to be called when ShutdownProtocolBuffers() is called.</span>
<a name="l01180"></a>01180 <a class="code" href="../../dc/d54/common_8h.html#aed87dc0af96ed41ff289b5d65531c6c2">LIBPROTOBUF_EXPORT</a> <span class="keywordtype">void</span> <a class="code" href="../../d2/da3/namespacegoogle_1_1protobuf_1_1internal.html#aef429a887fae22cb41b5a26d1d5bb17a">OnShutdown</a>(<span class="keywordtype">void</span> (*<a class="code" href="../../d2/d7d/jsapi_8h.html#ad84b078786561118564537030cd7a8b1">func</a>)());
<a name="l01181"></a>01181 
<a name="l01182"></a>01182 }  <span class="comment">// namespace internal</span>
<a name="l01183"></a>01183 
<a name="l01184"></a>01184 <span class="preprocessor">#ifdef PROTOBUF_USE_EXCEPTIONS</span>
<a name="l01185"></a>01185 <span class="preprocessor"></span><span class="keyword">class </span>FatalException : <span class="keyword">public</span> std::exception {
<a name="l01186"></a>01186  <span class="keyword">public</span>:
<a name="l01187"></a>01187   FatalException(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="../../d2/d7d/jsapi_8h.html#a9b61fad0b15688b43345d3f5c3a3d44b">filename</a>, <span class="keywordtype">int</span> <a class="code" href="../../da/d7d/cook_8js.html#ae379b8c31475b8ad7712b7ead5ce1173">line</a>, <span class="keyword">const</span> <a class="code" href="../../df/d9e/prnetdb_8h.html#aed1cfb225a5fb77461e7972691e68a72">std::string</a>&amp; <a class="code" href="../../d1/d04/app__install__manager_8js.html#ad031ac2c2bcd5e0fe9c6b67fc309acd4">message</a>)
<a name="l01188"></a>01188       : filename_(filename), line_(line), message_(message) {}
<a name="l01189"></a>01189   <span class="keyword">virtual</span> ~FatalException() throw();
<a name="l01190"></a>01190 
<a name="l01191"></a>01191   virtual <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <span class="keywordtype">char</span>* what() <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> throw();
<a name="l01192"></a>01192 
<a name="l01193"></a>01193   <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <span class="keywordtype">char</span>* <a class="code" href="../../d2/d7d/jsapi_8h.html#a9b61fad0b15688b43345d3f5c3a3d44b">filename</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> filename_; }
<a name="l01194"></a>01194   <span class="keywordtype">int</span> <a class="code" href="../../da/d7d/cook_8js.html#ae379b8c31475b8ad7712b7ead5ce1173">line</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> line_; }
<a name="l01195"></a>01195   <span class="keyword">const</span> <a class="code" href="../../df/d9e/prnetdb_8h.html#aed1cfb225a5fb77461e7972691e68a72">std::string</a>&amp; <a class="code" href="../../d1/d04/app__install__manager_8js.html#ad031ac2c2bcd5e0fe9c6b67fc309acd4">message</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> message_; }
<a name="l01196"></a>01196 
<a name="l01197"></a>01197  <span class="keyword">private</span>:
<a name="l01198"></a>01198   <span class="keyword">const</span> <span class="keywordtype">char</span>* filename_;
<a name="l01199"></a>01199   <span class="keyword">const</span> <span class="keywordtype">int</span> line_;
<a name="l01200"></a>01200   <span class="keyword">const</span> <a class="code" href="../../df/d9e/prnetdb_8h.html#aed1cfb225a5fb77461e7972691e68a72">std::string</a> message_;
<a name="l01201"></a>01201 };
<a name="l01202"></a>01202 <span class="preprocessor">#endif</span>
<a name="l01203"></a>01203 <span class="preprocessor"></span>
<a name="l01204"></a>01204 <span class="comment">// This is at the end of the file instead of the beginning to work around a bug</span>
<a name="l01205"></a>01205 <span class="comment">// in some versions of MSVC.</span>
<a name="l01206"></a>01206 <span class="keyword">using namespace </span>std;  <span class="comment">// Don&#39;t do this at home, kids.</span>
<a name="l01207"></a>01207 
<a name="l01208"></a>01208 }  <span class="comment">// namespace protobuf</span>
<a name="l01209"></a>01209 }  <span class="comment">// namespace google</span>
<a name="l01210"></a>01210 
<a name="l01211"></a>01211 <span class="preprocessor">#endif  // GOOGLE_PROTOBUF_COMMON_H__</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../dc/d54/common_8h.html">common.h</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 00:51:43に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
