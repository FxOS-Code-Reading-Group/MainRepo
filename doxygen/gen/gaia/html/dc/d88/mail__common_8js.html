<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: mail_common.js</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li class="current"><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>ファイル一覧</span></a></li>
      <li><a href="../../globals.html"><span>グローバル</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('dc/d88/mail__common_8js.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">関数</a>  </div>
  <div class="headertitle">
<div class="title">mail_common.js</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="../../dc/d88/mail__common_8js_source.html">ソースコードを見る。</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
関数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d88/mail__common_8js.html#ac652ca5e496d570f65ed4c0a608c8378">define</a> (<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(<a class="el" href="../../d6/d71/tests_2performance_2startup__test_8js.html#a84ca4076b522d641b7a0c061671f6924">require</a>, <a class="el" href="../../d4/dfa/tty_8js.html#aa4072ba4b6b56b0fb6f4801f17ab2b34">exports</a>){var Cards, Toaster, <a class="el" href="../../df/dc7/viewer_8js.html#abf8c988c23b2b2f5ec3f1149b44bd820">mozL10n</a>=<a class="el" href="../../d6/d71/tests_2performance_2startup__test_8js.html#a84ca4076b522d641b7a0c061671f6924">require</a>('l10n!'), toasterNode=<a class="el" href="../../d6/d71/tests_2performance_2startup__test_8js.html#a84ca4076b522d641b7a0c061671f6924">require</a>('tmpl!./cards/toaster.html'), <a class="el" href="../../d2/da4/mock__value__selector_8js.html#a3551b33cabf2e90bb79e48668f72e089">ValueSelector</a>=<a class="el" href="../../d6/d71/tests_2performance_2startup__test_8js.html#a84ca4076b522d641b7a0c061671f6924">require</a>('value_selector');var hookupInputAreaResetButtons=<a class="el" href="../../d6/d71/tests_2performance_2startup__test_8js.html#a84ca4076b522d641b7a0c061671f6924">require</a>('input_areas');<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> <a class="el" href="../../d1/dce/utils_81_83_8js.html#ab2dd12912db5889a88d2afd001785fa7">addClass</a>(domNode, <a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(domNode){<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">domNode.classList.add</a>(<a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>);}}<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> removeClass(domNode, <a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(domNode){<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">domNode.classList.remove</a>(<a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>);}}<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> batchAddClass(domNode, searchClass, classToAdd){var nodes=domNode.getElementsByClassName(searchClass);<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(var <a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>=0;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>&lt; <a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">nodes.length</a>;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++){nodes[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">classList.add</a>(classToAdd);}}<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> batchRemoveClass(domNode, searchClass, classToRemove){var nodes=domNode.getElementsByClassName(searchClass);<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(var <a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>=0;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>&lt; <a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">nodes.length</a>;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++){nodes[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">classList.remove</a>(classToRemove);}}var MATCHED_TEXT_CLASS= 'highlight';<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> appendMatchItemTo(matchItem, <a class="el" href="../../df/db4/_h_i_s_t_o_r_y_8md.html#a766be2d162a033dbb9c6a21d3a0175d9">node</a>){var <a class="el" href="../../dd/dfa/classtext.html">text</a>=<a class="el" href="../../d6/d45/prerror_8h.html#a16343090e80c4472521560f30113d96c">matchItem.text</a>;var idx=0;<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(var iRun=0;iRun&lt;=<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">matchItem.matchRuns.length</a>;iRun++){var <a class="el" href="../../da/db6/ime__test_8js.html#a3fca0c41c653bbc4f464686334ca226f">run</a>;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(iRun===<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">matchItem.matchRuns.length</a>) <a class="el" href="../../da/db6/ime__test_8js.html#a3fca0c41c653bbc4f464686334ca226f">run</a>={<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">start:text.length</a>, length:0};else <a class="el" href="../../da/db6/ime__test_8js.html#a3fca0c41c653bbc4f464686334ca226f">run</a>=matchItem.matchRuns[iRun];<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../d6/d1b/pprthred_8h.html#a0798cf327c99b856b5ecf03e5f4deb4d">run.start</a> &gt; idx){var tnode=document.createTextNode(text.substring(idx, <a class="el" href="../../d6/d1b/pprthred_8h.html#a0798cf327c99b856b5ecf03e5f4deb4d">run.start</a>));node.appendChild(tnode);}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">run.length</a>) continue;var hspan=document.createElement('span');<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">hspan.classList.add</a>(MATCHED_TEXT_CLASS);<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">hspan.textContent</a>=text.substr(<a class="el" href="../../d6/d1b/pprthred_8h.html#a0798cf327c99b856b5ecf03e5f4deb4d">run.start</a>, <a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">run.length</a>);node.appendChild(hspan);idx=<a class="el" href="../../d6/d1b/pprthred_8h.html#a0798cf327c99b856b5ecf03e5f4deb4d">run.start</a>+<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">run.length</a>;}}<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> bindContainerHandler(containerNode, eventName, <a class="el" href="../../d1/d70/prinit_8h.html#ad84b078786561118564537030cd7a8b1">func</a>){<a class="el" href="../../d1/d51/test__external__apps_2packstubtest_2js_2app_8js.html#ac189c42168797aa80d7a298a9394ff0b">containerNode.addEventListener</a>(eventName, <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(<a class="el" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>){var <a class="el" href="../../df/db4/_h_i_s_t_o_r_y_8md.html#a766be2d162a033dbb9c6a21d3a0175d9">node</a>=<a class="el" href="../../de/dc5/jsfriendapi_8h.html#a27a788fa9b193e3d4e5eaccf06f44683">event.target</a>;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../df/db4/_h_i_s_t_o_r_y_8md.html#a766be2d162a033dbb9c6a21d3a0175d9">node</a>===containerNode) <a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a>;<a class="el" href="../../d3/d4b/lockscreen_8js.html#a5ad25e705333134dd79a0ba0e766f6bc">while</a>(<a class="el" href="../../df/db4/_h_i_s_t_o_r_y_8md.html#a766be2d162a033dbb9c6a21d3a0175d9">node</a> &amp;&amp;node.parentNode!==containerNode){<a class="el" href="../../df/db4/_h_i_s_t_o_r_y_8md.html#a766be2d162a033dbb9c6a21d3a0175d9">node</a>=node.parentNode;}<a class="el" href="../../d1/d70/prinit_8h.html#ad84b078786561118564537030cd7a8b1">func</a>(<a class="el" href="../../df/db4/_h_i_s_t_o_r_y_8md.html#a766be2d162a033dbb9c6a21d3a0175d9">node</a>, <a class="el" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>);}, <a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>);}<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> bindContainerClickAndHold(containerNode, clickFunc, holdFunc){bindContainerHandler(containerNode, 'click', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(<a class="el" href="../../df/db4/_h_i_s_t_o_r_y_8md.html#a766be2d162a033dbb9c6a21d3a0175d9">node</a>, <a class="el" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(Cards._suppressClick){Cards._suppressClick=<a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>;<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a>;}clickFunc(<a class="el" href="../../df/db4/_h_i_s_t_o_r_y_8md.html#a766be2d162a033dbb9c6a21d3a0175d9">node</a>, <a class="el" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>);});bindContainerHandler(containerNode, 'contextmenu', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(<a class="el" href="../../df/db4/_h_i_s_t_o_r_y_8md.html#a766be2d162a033dbb9c6a21d3a0175d9">node</a>, <a class="el" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>){event.preventDefault();<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">event.button</a>===0){Cards._suppressClick=<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>;}<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> holdFunc(<a class="el" href="../../df/db4/_h_i_s_t_o_r_y_8md.html#a766be2d162a033dbb9c6a21d3a0175d9">node</a>, <a class="el" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>);});}Cards={_cardDefs:{}, _cardStack:[], activeCardIndex:-1, _pendingPush:null, _zIndex:0, _rootNode:null, _containerNode:null, _cardsNode:null, _animatingDeadDomNodes:[], _transitionCount:0, _suppressClick:false, _trayActive:false, _popupActive:null, _eatingEventsUntilNextCard:false, _init:function(){this._rootNode=document.body;this._containerNode=<a class="el" href="../../d4/d8c/viewphoto_8js.html#a6d08c5d82e2ca7c6042afb9f8ae078c1">document.getElementById</a>('cardContainer');this._cardsNode=<a class="el" href="../../d4/d8c/viewphoto_8js.html#a6d08c5d82e2ca7c6042afb9f8ae078c1">document.getElementById</a>('cards');this._containerNode.appendChild(toasterNode);<a class="el" href="../../d1/d51/test__external__apps_2packstubtest_2js_2app_8js.html#ac189c42168797aa80d7a298a9394ff0b">this._containerNode.addEventListener</a>('click', <a class="el" href="../../d3/d91/j3d_8js.html#a1ad2f17c038f79ef240a44e21a46ef14">this._onMaybeIntercept.bind</a>(<a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#af23f5f9187c304ed6a90a2c49a64fa48">this</a>), <a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>);<a class="el" href="../../d1/d51/test__external__apps_2packstubtest_2js_2app_8js.html#ac189c42168797aa80d7a298a9394ff0b">this._containerNode.addEventListener</a>('contextmenu', <a class="el" href="../../d3/d91/j3d_8js.html#a1ad2f17c038f79ef240a44e21a46ef14">this._onMaybeIntercept.bind</a>(<a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#af23f5f9187c304ed6a90a2c49a64fa48">this</a>), <a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>);<a class="el" href="../../d1/d51/test__external__apps_2packstubtest_2js_2app_8js.html#ac189c42168797aa80d7a298a9394ff0b">this._cardsNode.addEventListener</a>('<a class="el" href="../../d3/d4b/lockscreen_8js.html#aae2729b0c5f5af6ba028b7d59f550e47">transitionend</a>', <a class="el" href="../../d3/d91/j3d_8js.html#a1ad2f17c038f79ef240a44e21a46ef14">this._onTransitionEnd.bind</a>(<a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#af23f5f9187c304ed6a90a2c49a64fa48">this</a>), <a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>);}, _onMaybeIntercept:function(<a class="el" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">event.type</a>=== 'click'&amp;&amp;this._suppressClick){this._suppressClick=<a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>;event.stopPropagation();<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a>;}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(this._eatingEventsUntilNextCard){event.stopPropagation();<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a>;}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(this._popupActive){event.stopPropagation();<a class="el" href="../../dd/df0/dialogs__end__init_8js.html#acdb1449d11a5550a30ee4a18b9c7f133">this._popupActive.close</a>();<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a>;}var cardNode=<a class="el" href="../../de/dc5/jsfriendapi_8h.html#a27a788fa9b193e3d4e5eaccf06f44683">event.target</a>;<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(cardNode=<a class="el" href="../../de/dc5/jsfriendapi_8h.html#a27a788fa9b193e3d4e5eaccf06f44683">event.target</a>;cardNode;cardNode=cardNode.parentNode){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(cardNode.classList.contains('card')) <a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a>;}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(this._trayActive &amp;&amp;cardNode &amp;&amp;cardNode.classList.contains('after')){event.stopPropagation();var targetIndex=-1;this._cardStack.some(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(card, <a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(card.domNode.hasAttribute('<a class="el" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>-tray-<a class="el" href="../../d9/d04/expat_8h.html#acfcb72e11f425a604663d645d2a4ea80">target</a>')){targetIndex=<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>;<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> <a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>;}});<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(targetIndex===-1) targetIndex=this.activeCardIndex+1;var indexDiff=targetIndex-(this.activeCardIndex+1);<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(indexDiff &gt; 0){this._afterTransitionAction=(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){this.removeCardAndSuccessors(this._cardStack[0].domNode, 'none', indexDiff);this.moveToCard(targetIndex, 'animate', '<a class="el" href="../../d3/d91/j3d_8js.html#a7aa8677bee3f72e184e70ef89a16ea50">forward</a>');}.<a class="el" href="../../d3/d91/j3d_8js.html#a1ad2f17c038f79ef240a44e21a46ef14">bind</a>(<a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#af23f5f9187c304ed6a90a2c49a64fa48">this</a>));}this.moveToCard(this.activeCardIndex+1, 'animate', '<a class="el" href="../../d3/d91/j3d_8js.html#a7aa8677bee3f72e184e70ef89a16ea50">forward</a>');}}, pushDefaultCard:function(onPushed){}, defineCard:function(cardDef){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!<a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">cardDef.name</a>) throw new <a class="el" href="../../dc/d06/calendar_2js_2error_8js.html#abd05c43175d3c93c6889542cefc822f3">Error</a>('The card <a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a> needs <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> <a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>');<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(this._cardDefs.hasOwnProperty(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">cardDef.name</a>)) throw new <a class="el" href="../../dc/d06/calendar_2js_2error_8js.html#abd05c43175d3c93c6889542cefc822f3">Error</a>('Duplicate card name: '+<a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">cardDef.name</a>);this._cardDefs[<a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">cardDef.name</a>]=cardDef;<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(var modeName in <a class="el" href="../../df/d12/latin__test_8js.html#ad2cf4a40f77d475a65733c0477e3fba8">cardDef.modes</a>){var <a class="el" href="../../db/da2/pripcsem_8h.html#a5ffbd19d0a0b87f9ff15e7d0c4410984">mode</a>=<a class="el" href="../../df/d12/latin__test_8js.html#ad2cf4a40f77d475a65733c0477e3fba8">cardDef.modes</a>[modeName];<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!mode.hasOwnProperty('tray')) mode.tray=<a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>;<a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">mode.name</a>=modeName;}}, defineCardWithDefaultMode:function(<a class="el" href="../../d9/d04/expat_8h.html#a4a7cccd86625791f7f2ce3fb477aa9c1">name</a>, defaultMode, <a class="el" href="../../d2/d7d/jsapi_8h.html#a6f97845274a5054f8205eaa2647ddd64">constructor</a>, templateNode){var cardDef={name:name, modes:{}, constructor:constructor, templateNode:templateNode};<a class="el" href="../../df/d12/latin__test_8js.html#ad2cf4a40f77d475a65733c0477e3fba8">cardDef.modes</a>['default']=defaultMode;this.defineCard(cardDef);}, pushCard:function(<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a>, <a class="el" href="../../db/da2/pripcsem_8h.html#a5ffbd19d0a0b87f9ff15e7d0c4410984">mode</a>, showMethod, <a class="el" href="../../d2/d7d/jsapi_8h.html#a52c9936fee3329d49b2cdede9b0fd7c8">args</a>, placement){var cardDef=this._cardDefs[<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a>];var typePrefix=type.split('-')[0];<a class="el" href="../../d2/d7d/jsapi_8h.html#a52c9936fee3329d49b2cdede9b0fd7c8">args</a>=<a class="el" href="../../d2/d7d/jsapi_8h.html#a52c9936fee3329d49b2cdede9b0fd7c8">args</a>||{};<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!cardDef){var cbArgs=<a class="el" href="../../d4/d23/binary__string__view_8js.html#a611282d0b962f2d73c40c656cbe37aa5">Array.slice</a>(arguments);this._pendingPush=[<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a>, <a class="el" href="../../db/da2/pripcsem_8h.html#a5ffbd19d0a0b87f9ff15e7d0c4410984">mode</a>];<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(showMethod!== 'none') this.eatEventsUntilNextCard();<a class="el" href="../../d6/d71/tests_2performance_2startup__test_8js.html#a84ca4076b522d641b7a0c061671f6924">require</a>(['cards/'+<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a>], <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){this.pushCard.apply(<a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#af23f5f9187c304ed6a90a2c49a64fa48">this</a>, cbArgs);}.<a class="el" href="../../d3/d91/j3d_8js.html#a1ad2f17c038f79ef240a44e21a46ef14">bind</a>(<a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#af23f5f9187c304ed6a90a2c49a64fa48">this</a>));<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a>;}this._pendingPush=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;var modeDef=<a class="el" href="../../df/d12/latin__test_8js.html#ad2cf4a40f77d475a65733c0477e3fba8">cardDef.modes</a>[<a class="el" href="../../db/da2/pripcsem_8h.html#a5ffbd19d0a0b87f9ff15e7d0c4410984">mode</a>];<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!modeDef) throw new <a class="el" href="../../dc/d06/calendar_2js_2error_8js.html#abd05c43175d3c93c6889542cefc822f3">Error</a>('No such card mode: '+<a class="el" href="../../db/da2/pripcsem_8h.html#a5ffbd19d0a0b87f9ff15e7d0c4410984">mode</a>);<a class="el" href="../../d9/d43/membuster_8js.html#aad81d14d4c8eea114056d7dc1f18f9b7">console.log</a>('pushCard <a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a> type: '+<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a>);var domNode=args.cachedNode?<a class="el" href="../../d2/da5/camera_2test_2unit_2mock__audio_8js.html#a40c9d60cba69319e5d8e135a3b36356e">args.cachedNode:cardDef.templateNode.cloneNode</a>(<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>);<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#aa17b0309120bc464173f9aff7b5ec294">domNode.setAttribute</a>('<a class="el" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>-<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a>', <a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a>);<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#aa17b0309120bc464173f9aff7b5ec294">domNode.setAttribute</a>('<a class="el" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>-<a class="el" href="../../db/da2/pripcsem_8h.html#a5ffbd19d0a0b87f9ff15e7d0c4410984">mode</a>', <a class="el" href="../../db/da2/pripcsem_8h.html#a5ffbd19d0a0b87f9ff15e7d0c4410984">mode</a>);var cardImpl=new <a class="el" href="../../d2/d7d/jsapi_8h.html#a6f97845274a5054f8205eaa2647ddd64">cardDef.constructor</a>(domNode, <a class="el" href="../../db/da2/pripcsem_8h.html#a5ffbd19d0a0b87f9ff15e7d0c4410984">mode</a>, <a class="el" href="../../d2/d7d/jsapi_8h.html#a52c9936fee3329d49b2cdede9b0fd7c8">args</a>);var cardInst={domNode:domNode, cardDef:cardDef, modeDef:modeDef, cardImpl:cardImpl};var cardIndex, insertBuddy;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!placement){cardIndex=<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">this._cardStack.length</a>;insertBuddy=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">domNode.classList.add</a>(cardIndex===0? 'before': 'after');}else <a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(placement=== '<a class="el" href="../../d2/d7d/jsapi_8h.html#ad27f9f4708ee464a31e9c01eb21f1b28">left</a>'){cardIndex=this.activeCardIndex++;insertBuddy=this._cardsNode.children[cardIndex];<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">domNode.classList.add</a>('before');}else <a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(placement=== '<a class="el" href="../../d2/d7d/jsapi_8h.html#a06a61119547d88fbcdf5e877c6c9057e">right</a>'){cardIndex=this.activeCardIndex+1;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(cardIndex &gt;=<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">this._cardStack.length</a>) insertBuddy=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;else insertBuddy=this._cardsNode.children[cardIndex];<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">domNode.classList.add</a>('after');}this._cardStack.splice(cardIndex, 0, cardInst);<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!args.cachedNode) this._cardsNode.insertBefore(domNode, insertBuddy);hookupInputAreaResetButtons(domNode);<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>('postInsert'in cardImpl) cardImpl.postInsert();<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(showMethod!== 'none'){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!args.cachedNode) domNode.clientWidth;this._showCard(cardIndex, showMethod, '<a class="el" href="../../d3/d91/j3d_8js.html#a7aa8677bee3f72e184e70ef89a16ea50">forward</a>');}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(args.onPushed) args.onPushed(cardImpl);}, _findCardUsingTypeAndMode:function(<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a>, <a class="el" href="../../db/da2/pripcsem_8h.html#a5ffbd19d0a0b87f9ff15e7d0c4410984">mode</a>){<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(var <a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>=0;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>&lt; <a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">this._cardStack.length</a>;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++){var cardInst=this._cardStack[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>];<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">cardInst.cardDef.name</a>===<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a> &amp;&amp;<a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">cardInst.modeDef.name</a>===<a class="el" href="../../db/da2/pripcsem_8h.html#a5ffbd19d0a0b87f9ff15e7d0c4410984">mode</a>){<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> <a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>;}}}, _findCardUsingImpl:function(impl){<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(var <a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>=0;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>&lt; <a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">this._cardStack.length</a>;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++){var cardInst=this._cardStack[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>];<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(cardInst.cardImpl===impl) <a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> <a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>;}}, _findCard:function(query, skipFail){var <a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#ad4dc7d3fd716004895ed4c669af1c61c">result</a>;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../de/dfc/events_8js.html#adca5ce0ed65a1514a671ae81eb33bd53">Array.isArray</a>(query)) <a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#ad4dc7d3fd716004895ed4c669af1c61c">result</a>=this._findCardUsingTypeAndMode(query[0], query[1], skipFail);else <a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../d7/d9f/thread_8js.html#aa8dea74882346c7746113d234836bb3a">typeof</a>(query)=== 'number') <a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#ad4dc7d3fd716004895ed4c669af1c61c">result</a>=query;else <a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#ad4dc7d3fd716004895ed4c669af1c61c">result</a>=this._findCardUsingImpl(query);<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#ad4dc7d3fd716004895ed4c669af1c61c">result</a> &gt;-1) <a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> <a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#ad4dc7d3fd716004895ed4c669af1c61c">result</a>;else <a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!skipFail) throw new <a class="el" href="../../dc/d06/calendar_2js_2error_8js.html#abd05c43175d3c93c6889542cefc822f3">Error</a>('Unable <a class="el" href="../../da/d32/prio_8h.html#a5d467a63df9ff99d33d6749038f6f421">to</a> <a class="el" href="../../d3/d91/j3d_8js.html#a839488d96d3a5a4d21231ab59d9c9995">find</a> card with query:', query);elsereturn undefined;}, hasCard:function(query){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(this._pendingPush &amp;&amp;<a class="el" href="../../de/dfc/events_8js.html#adca5ce0ed65a1514a671ae81eb33bd53">Array.isArray</a>(query)&amp;&amp;<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">query.length</a>===2 &amp;&amp;this._pendingPush[0]===query[0]&amp;&amp;this._pendingPush[1]===query[1]) <a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> <a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>;<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> this._findCard(query, <a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>) &gt;-1;}, isVisible:function(cardImpl){return!!(cardImpl.domNode &amp;&amp;cardImpl.domNode.classList.contains('center'));}, findCardObject:function(query){<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> this._cardStack[this._findCard(query)];}, folderSelector:function(<a class="el" href="../../de/dc5/jsfriendapi_8h.html#ae9494ad8646a84b50bd3446d72433e82">callback</a>){var <a class="el" href="../../df/d44/permission__manager_8js.html#a67b9624a73d0c7dbd44bc7b41817b579">self</a>=<a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#af23f5f9187c304ed6a90a2c49a64fa48">this</a>;<a class="el" href="../../d6/d71/tests_2performance_2startup__test_8js.html#a84ca4076b522d641b7a0c061671f6924">require</a>(['<a class="el" href="../../d9/d04/expat_8h.html#ac517f0c27408fbd365e7dd34e032faca">model</a>', 'value_selector'], <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(<a class="el" href="../../d9/d04/expat_8h.html#ac517f0c27408fbd365e7dd34e032faca">model</a>){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!self.folderPrompt){var selectorTitle=<a class="el" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#a18697261a961b9d0efde405b5a2b244f">mozL10n.get</a>('messages-folder-<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a974637b453a6c3808b55236762181a2f">select</a>');self.folderPrompt=new <a class="el" href="../../d2/da4/mock__value__selector_8js.html#a3551b33cabf2e90bb79e48668f72e089">ValueSelector</a>(selectorTitle);}model.latestOnce('foldersSlice', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(foldersSlice){var folders=foldersSlice.items;<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(var <a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>=0;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>&lt; <a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">folders.length</a>;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++){var folder=folders[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>];self.folderPrompt.addToList(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1956a27e1e0205d6704940d480413e03">folder.name</a>, folder.depth, <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(folder){<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../db/df4/geoloc_8js.html#abb32d825b52ef528b86b799b6247e79a">self.folderPrompt.hide</a>();<a class="el" href="../../de/dc5/jsfriendapi_8h.html#ae9494ad8646a84b50bd3446d72433e82">callback</a>(folder);};}(folder));}<a class="el" href="../../db/df4/geoloc_8js.html#a34b2bb38da6ac84e5708382e03478900">self.folderPrompt.show</a>();});});}, moveToCard:function(query, showMethod){this._showCard(this._findCard(query), showMethod|| 'animate');}, tellCard:function(query, what){var cardIndex=this._findCard(query), cardInst=this._cardStack[cardIndex];<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!('told'in cardInst.cardImpl)) console.warn(&quot;Tried <a class="el" href="../../da/d32/prio_8h.html#a5d467a63df9ff99d33d6749038f6f421">to</a> tell <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> card that'<a class="el" href="../../d9/d04/expat_8h.html#afa4d928795b38748c167cba7f7b9f04c">s</a> not listening!&quot;, query, what);else cardInst.cardImpl.told(what);}, _createMaskForNode:function(domNode, bounds){var anchorIn=this._rootNode, cleanupDivs=[];var uiWidth=this._containerNode.offsetWidth, uiHeight=this._containerNode.offsetHeight;<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> addMask(<a class="el" href="../../d2/d7d/jsapi_8h.html#ad27f9f4708ee464a31e9c01eb21f1b28">left</a>, <a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a2d367ff48e26f53b84f9b2fe7d6065d6">top</a>, <a class="el" href="../../d2/d7d/jsapi_8h.html#a06a61119547d88fbcdf5e877c6c9057e">right</a>, <a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a1386b7cb1f9c56a6b37af9a4a37c5209">bottom</a>){var <a class="el" href="../../df/db4/_h_i_s_t_o_r_y_8md.html#a766be2d162a033dbb9c6a21d3a0175d9">node</a>=document.createElement('div');<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">node.classList.add</a>('popup-<a class="el" href="../../d6/d1b/pprthred_8h.html#a0ef3d0e16cb97cc7f7a7493c13119571">mask</a>');<a class="el" href="../../d2/d7d/jsapi_8h.html#ad27f9f4708ee464a31e9c01eb21f1b28">node.style.left</a>=<a class="el" href="../../d2/d7d/jsapi_8h.html#ad27f9f4708ee464a31e9c01eb21f1b28">left</a>+ 'px';<a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a2d367ff48e26f53b84f9b2fe7d6065d6">node.style.top</a>=<a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a2d367ff48e26f53b84f9b2fe7d6065d6">top</a>+ 'px';<a class="el" href="../../d4/d8c/viewphoto_8js.html#adb90f9ed3668a895cc5b90a19bcdee13">node.style.width</a>=(<a class="el" href="../../d2/d7d/jsapi_8h.html#a06a61119547d88fbcdf5e877c6c9057e">right</a>-<a class="el" href="../../d2/d7d/jsapi_8h.html#ad27f9f4708ee464a31e9c01eb21f1b28">left</a>+1)+ 'px';<a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a99ef05b40c29af68ac3026a597233269">node.style.height</a>=(<a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a1386b7cb1f9c56a6b37af9a4a37c5209">bottom</a>-<a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a2d367ff48e26f53b84f9b2fe7d6065d6">top</a>+1)+ 'px';<a class="el" href="../../d5/da4/preferences_8js.html#a04cdfd02512383b1feea0e6fa7f5d3a3">cleanupDivs.push</a>(<a class="el" href="../../df/db4/_h_i_s_t_o_r_y_8md.html#a766be2d162a033dbb9c6a21d3a0175d9">node</a>);anchorIn.appendChild(<a class="el" href="../../df/db4/_h_i_s_t_o_r_y_8md.html#a766be2d162a033dbb9c6a21d3a0175d9">node</a>);}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../d2/d7d/jsapi_8h.html#ad27f9f4708ee464a31e9c01eb21f1b28">bounds.left</a> &gt; 1) addMask(0, <a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a2d367ff48e26f53b84f9b2fe7d6065d6">bounds.top</a>, <a class="el" href="../../d2/d7d/jsapi_8h.html#ad27f9f4708ee464a31e9c01eb21f1b28">bounds.left</a>-1, <a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a1386b7cb1f9c56a6b37af9a4a37c5209">bounds.bottom</a>);<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a2d367ff48e26f53b84f9b2fe7d6065d6">bounds.top</a> &gt; 0) addMask(0, 0, uiWidth-1, <a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a2d367ff48e26f53b84f9b2fe7d6065d6">bounds.top</a>-1);<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../d2/d7d/jsapi_8h.html#a06a61119547d88fbcdf5e877c6c9057e">bounds.right</a>&lt; uiWidth-1) addMask(<a class="el" href="../../d2/d7d/jsapi_8h.html#a06a61119547d88fbcdf5e877c6c9057e">bounds.right</a>+1, <a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a2d367ff48e26f53b84f9b2fe7d6065d6">bounds.top</a>, uiWidth-1, <a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a1386b7cb1f9c56a6b37af9a4a37c5209">bounds.bottom</a>);<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a1386b7cb1f9c56a6b37af9a4a37c5209">bounds.bottom</a>&lt; uiHeight-1) addMask(0, <a class="el" href="../../d8/dd4/ns_c_s_s_prop_list_8h.html#a1386b7cb1f9c56a6b37af9a4a37c5209">bounds.bottom</a>+1, uiWidth-1, uiHeight-1);<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(var <a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>=0;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>&lt; <a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">cleanupDivs.length</a>;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++){<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5ebdda199bee63b9cb8dc969a17d4a9e">anchorIn.removeChild</a>(cleanupDivs[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>]);}};}, removeCardAndSuccessors:function(cardDomNode, showMethod, numCards, nextCardSpec){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">this._cardStack.length</a>) <a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a>;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(cardDomNode &amp;&amp;<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">this._cardStack.length</a>===1){<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> Cards.pushDefaultCard(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){this.removeCardAndSuccessors(cardDomNode, showMethod, numCards, nextCardSpec);}.<a class="el" href="../../d3/d91/j3d_8js.html#a1ad2f17c038f79ef240a44e21a46ef14">bind</a>(<a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#af23f5f9187c304ed6a90a2c49a64fa48">this</a>));}var firstIndex, iCard, cardInst;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(cardDomNode===undefined){throw new <a class="el" href="../../dc/d06/calendar_2js_2error_8js.html#abd05c43175d3c93c6889542cefc822f3">Error</a>('undefined is not <a class="el" href="../../d5/de7/jquery_8js.html#aa4d4888597588a84fd5b1184d00c91f3">a</a> valid card spec!');}else <a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(cardDomNode===<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>){firstIndex=0;this._zIndex=0;}else{<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(iCard=<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">this._cardStack.length</a>-1;iCard &gt;=0;iCard--){cardInst=this._cardStack[iCard];<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(cardInst.domNode===cardDomNode){firstIndex=iCard;<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a>;}}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(firstIndex===undefined) throw new <a class="el" href="../../dc/d06/calendar_2js_2error_8js.html#abd05c43175d3c93c6889542cefc822f3">Error</a>('No card represented by that DOM <a class="el" href="../../df/db4/_h_i_s_t_o_r_y_8md.html#a766be2d162a033dbb9c6a21d3a0175d9">node</a>');}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!numCards) numCards=<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">this._cardStack.length</a>-firstIndex;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(showMethod!== 'none'){var nextCardIndex=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(nextCardSpec) nextCardIndex=this._findCard(nextCardSpec);else <a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">this._cardStack.length</a>) nextCardIndex=<a class="el" href="../../d2/d7d/jsapi_8h.html#af01bf2dcd905b7037198e0e07b50430d">Math.min</a>(firstIndex-1, <a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">this._cardStack.length</a>-1);this._showCard(nextCardIndex, showMethod, 'back');}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(firstIndex&lt;=this.activeCardIndex){this.activeCardIndex-=numCards;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(this.activeCardIndex&lt; -1){this.activeCardIndex=-1;}}var deadCardInsts=this._cardStack.splice(firstIndex, numCards);<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(iCard=0;iCard&lt; <a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">deadCardInsts.length</a>;iCard++){cardInst=deadCardInsts[iCard];try{<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#a10a06623d857e96b7da92aac74d62d34">cardInst.cardImpl.die</a>();}<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#af39c2275c702dbe367eb69898156da2a">catch</a>(ex){console.warn('Problem cleaning <a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#a841de671beddc9eb985cf068237fbff7">up</a> card:', ex, '\<a class="el" href="../../d2/d7d/jsapi_8h.html#aa5a8b9a2d5edc8e2e7ba67d7e2ee4e69">n</a>', <a class="el" href="../../d6/d1b/pprthred_8h.html#afe76c3c951fe40bd646fbf0b89cbcd17">ex.stack</a>);}<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#aba983438655021425112777c0e7ebbe8">switch</a>(showMethod){case 'animate':case 'immediate':<a class="el" href="../../d5/da4/preferences_8js.html#a04cdfd02512383b1feea0e6fa7f5d3a3">this._animatingDeadDomNodes.push</a>(cardInst.domNode);<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a>;case 'none':<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5ebdda199bee63b9cb8dc969a17d4a9e">cardInst.domNode.parentNode.removeChild</a>(cardInst.domNode);<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a>;}}}, removeAllCards:function(){<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> this.removeCardAndSuccessors(<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>, 'none');}, _showCard:function(cardIndex, showMethod, navDirection){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(cardIndex===this.activeCardIndex){<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a>;}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(cardIndex &gt; <a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">this._cardStack.length</a>-1){cardIndex=<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">this._cardStack.length</a>-1;}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(this.activeCardIndex &gt; <a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">this._cardStack.length</a>-1){this.activeCardIndex=-1;}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(this.activeCardIndex===-1){this.activeCardIndex=cardIndex===0?cardIndex:cardIndex-1;}var cardInst=(cardIndex!==<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>)?this._cardStack[cardIndex]:<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;var beginNode=this._cardStack[this.activeCardIndex].domNode;var endNode=this._cardStack[cardIndex].domNode;var isForward=navDirection=== '<a class="el" href="../../d3/d91/j3d_8js.html#a7aa8677bee3f72e184e70ef89a16ea50">forward</a>';<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">this._cardStack.length</a>===1){this._zIndex=0;}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(isForward &amp;&amp;endNode.classList.contains('anim-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a071ea38270614fdc4968e0f755fc8b79">overlay</a>')){beginNode=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;this._zIndex+=10;}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(beginNode &amp;&amp;beginNode.classList.contains('anim-<a class="el" href="../../d3/d4b/lockscreen_8js.html#a071ea38270614fdc4968e0f755fc8b79">overlay</a>')){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(isForward){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(showMethod!== 'immediate'&amp;&amp;beginNode.classList.contains('anim-vertical')){removeClass(beginNode, 'anim-vertical');<a class="el" href="../../d1/dce/utils_81_83_8js.html#ab2dd12912db5889a88d2afd001785fa7">addClass</a>(beginNode, 'disabled-anim-vertical');}}else{endNode=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;this._zIndex-=10;}}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(endNode &amp;&amp;isForward &amp;&amp;this._zIndex){endNode.style.zIndex=this._zIndex;}var cardsNode=this._cardsNode;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(showMethod=== 'immediate'){<a class="el" href="../../d1/dce/utils_81_83_8js.html#ab2dd12912db5889a88d2afd001785fa7">addClass</a>(beginNode, 'no-anim');<a class="el" href="../../d1/dce/utils_81_83_8js.html#ab2dd12912db5889a88d2afd001785fa7">addClass</a>(endNode, 'no-anim');cardsNode.clientWidth;this._eatingEventsUntilNextCard=<a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>;}else <a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(showMethod=== 'none'){}else{this._transitionCount=(beginNode &amp;&amp;endNode)?2:1;this._eatingEventsUntilNextCard=<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>;}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(this.activeCardIndex===cardIndex){removeClass(beginNode, 'before');removeClass(beginNode, 'after');<a class="el" href="../../d1/dce/utils_81_83_8js.html#ab2dd12912db5889a88d2afd001785fa7">addClass</a>(beginNode, 'center');}else <a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(this.activeCardIndex &gt; cardIndex){removeClass(beginNode, 'center');<a class="el" href="../../d1/dce/utils_81_83_8js.html#ab2dd12912db5889a88d2afd001785fa7">addClass</a>(beginNode, 'after');removeClass(endNode, 'before');<a class="el" href="../../d1/dce/utils_81_83_8js.html#ab2dd12912db5889a88d2afd001785fa7">addClass</a>(endNode, 'center');}else{removeClass(beginNode, 'center');<a class="el" href="../../d1/dce/utils_81_83_8js.html#ab2dd12912db5889a88d2afd001785fa7">addClass</a>(beginNode, 'before');removeClass(endNode, 'after');<a class="el" href="../../d1/dce/utils_81_83_8js.html#ab2dd12912db5889a88d2afd001785fa7">addClass</a>(endNode, 'center');}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(showMethod=== 'immediate'){cardsNode.clientWidth;removeClass(beginNode, 'no-anim');removeClass(endNode, 'no-anim');<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(cardInst &amp;&amp;cardInst.onCardVisible) cardInst.onCardVisible();}<a class="el" href="../../db/df4/geoloc_8js.html#abb32d825b52ef528b86b799b6247e79a">Toaster.hide</a>();this.activeCardIndex=cardIndex;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(cardInst) this._trayActive=cardInst.modeDef.tray;}, _onTransitionEnd:function(<a class="el" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>){var activeCard=this._cardStack[this.activeCardIndex];<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!activeCard) <a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a>;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(this._transitionCount &gt; 0) this._transitionCount-=1;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(this._transitionCount===0){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(this._eatingEventsUntilNextCard){this._eatingEventsUntilNextCard=<a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>;}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">this._animatingDeadDomNodes.length</a>){<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#adf7ce41cd256eda7ce1f6adeea723bd3">setTimeout</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){<a class="el" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#aae3803cf3819ae1182550b783e1ea692">this._animatingDeadDomNodes.forEach</a>(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(domNode){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(domNode.parentNode) <a class="el" href="../../d1/d04/app__install__manager_8js.html#a5ebdda199bee63b9cb8dc969a17d4a9e">domNode.parentNode.removeChild</a>(domNode);});this._animatingDeadDomNodes=[];}.<a class="el" href="../../d3/d91/j3d_8js.html#a1ad2f17c038f79ef240a44e21a46ef14">bind</a>(<a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#af23f5f9187c304ed6a90a2c49a64fa48">this</a>), 100);}var endNode=activeCard.domNode;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(endNode.classList.contains('disabled-anim-vertical')){removeClass(endNode, 'disabled-anim-vertical');<a class="el" href="../../d1/dce/utils_81_83_8js.html#ab2dd12912db5889a88d2afd001785fa7">addClass</a>(endNode, 'anim-vertical');}var pendingToaster=<a class="el" href="../../d4/d23/binary__string__view_8js.html#a611282d0b962f2d73c40c656cbe37aa5">Toaster.pendingStack.slice</a>(-1)[0];<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(pendingToaster){pendingToaster();Toaster.pendingStack.pop();}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(this._afterTransitionAction){var afterTransitionAction=this._afterTransitionAction;this._afterTransitionAction=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;afterTransitionAction();}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(activeCard.cardImpl.onCardVisible) activeCard.cardImpl.onCardVisible();var nextCards=activeCard.cardImpl.nextCards;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(nextCards){<a class="el" href="../../d9/d43/membuster_8js.html#aad81d14d4c8eea114056d7dc1f18f9b7">console.log</a>('Preloading cards: '+nextCards);<a class="el" href="../../d6/d71/tests_2performance_2startup__test_8js.html#a84ca4076b522d641b7a0c061671f6924">require</a>(nextCards.map(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>){<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> 'cards/'+<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">id</a>;}));}}}, eatEventsUntilNextCard:function(){this._eatingEventsUntilNextCard=<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>;}, stopEatingEvents:function(){this._eatingEventsUntilNextCard=<a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>;}, assertNoCards:function(){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">this._cardStack.length</a>) throw new <a class="el" href="../../dc/d06/calendar_2js_2error_8js.html#abd05c43175d3c93c6889542cefc822f3">Error</a>('There are '+<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">this._cardStack.length</a>+ 'cards but'+ 'there should be <a class="el" href="../../d3/d91/j3d_8js.html#a7a388e6b7df10e2c28d33549d955f18b">ZERO</a>');}};Toaster={<a class="el" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#a18697261a961b9d0efde405b5a2b244f">get</a> body(){delete this.body;<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> this.body=<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">document.querySelector</a>('<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a1df8504e63545f2e6c93c0cde966c060">section</a>[<a class="el" href="../../d1/d04/app__install__manager_8js.html#a69aaa848e34bf456bea30e8a6b1fba1b">role</a>=&quot;status&quot;]');}, get <a class="el" href="../../dd/dfa/classtext.html">text</a>(){delete <a class="el" href="../../d6/d45/prerror_8h.html#a16343090e80c4472521560f30113d96c">this.text</a>;<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> <a class="el" href="../../d6/d45/prerror_8h.html#a16343090e80c4472521560f30113d96c">this.text</a>=<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">document.querySelector</a>('<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a1df8504e63545f2e6c93c0cde966c060">section</a>[<a class="el" href="../../d1/d04/app__install__manager_8js.html#a69aaa848e34bf456bea30e8a6b1fba1b">role</a>=&quot;status&quot;] p');}, <a class="el" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#a18697261a961b9d0efde405b5a2b244f">get</a> undoBtn(){delete this.undoBtn;<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> this.undoBtn=<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">document.querySelector</a>('.toaster-banner-undo');}, <a class="el" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#a18697261a961b9d0efde405b5a2b244f">get</a> retryBtn(){delete this.retryBtn;<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> this.retryBtn=<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">document.querySelector</a>('.toaster-banner-retry');}, undoableOp:null, retryCallback:null, _timeout:5000, _animationHandler:function(){<a class="el" href="../../d1/d51/test__external__apps_2packstubtest_2js_2app_8js.html#ac189c42168797aa80d7a298a9394ff0b">this.body.addEventListener</a>('<a class="el" href="../../d3/d4b/lockscreen_8js.html#aae2729b0c5f5af6ba028b7d59f550e47">transitionend</a>', <a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#af23f5f9187c304ed6a90a2c49a64fa48">this</a>, <a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>);<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">this.body.classList.add</a>('fadeout');}, _listeners:[], pendingStack:[], logMutation:function(undoableOp, pending){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(pending){<a class="el" href="../../d5/da4/preferences_8js.html#a04cdfd02512383b1feea0e6fa7f5d3a3">this.pendingStack.push</a>(<a class="el" href="../../d3/d91/j3d_8js.html#a1ad2f17c038f79ef240a44e21a46ef14">this.show.bind</a>(<a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#af23f5f9187c304ed6a90a2c49a64fa48">this</a>, 'undo', undoableOp));}else{<a class="el" href="../../db/df4/geoloc_8js.html#a34b2bb38da6ac84e5708382e03478900">this.show</a>('undo', undoableOp);}}, logRetryable:function(retryStringId, retryCallback){<a class="el" href="../../db/df4/geoloc_8js.html#a34b2bb38da6ac84e5708382e03478900">this.show</a>('retry', retryStringId, retryCallback);}, handleEvent:function(evt){<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#aba983438655021425112777c0e7ebbe8">switch</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">evt.type</a>){case 'click':var classList=evt.target.classList;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(classList.contains('toaster-banner-undo')){this.undoableOp.undo();<a class="el" href="../../db/df4/geoloc_8js.html#abb32d825b52ef528b86b799b6247e79a">this.hide</a>();}else <a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(classList.contains('toaster-banner-retry')){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(this.retryCallback) this.retryCallback();<a class="el" href="../../db/df4/geoloc_8js.html#abb32d825b52ef528b86b799b6247e79a">this.hide</a>();}else <a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(classList.contains('toaster-<a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a>-btn')){<a class="el" href="../../db/df4/geoloc_8js.html#abb32d825b52ef528b86b799b6247e79a">this.hide</a>();}<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a>;case '<a class="el" href="../../d3/d4b/lockscreen_8js.html#aae2729b0c5f5af6ba028b7d59f550e47">transitionend</a>':<a class="el" href="../../db/df4/geoloc_8js.html#abb32d825b52ef528b86b799b6247e79a">this.hide</a>();<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a>;}}, show:function(<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a>, operation, <a class="el" href="../../de/dc5/jsfriendapi_8h.html#ae9494ad8646a84b50bd3446d72433e82">callback</a>){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!this.body.classList.contains('collapsed')){<a class="el" href="../../db/df4/geoloc_8js.html#abb32d825b52ef528b86b799b6247e79a">this.hide</a>();}var <a class="el" href="../../dd/dfa/classtext.html">text</a>, textId, showUndo=<a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>;var undoBtn=<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9bd72b771a78ff04c5bb1d670f034005">this.body.querySelector</a>('.toaster-banner-undo');<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a>=== 'undo'){this.undoableOp=operation;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!this.undoableOp||this.undoableOp.affectedCount&lt; 1){<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a>;}textId= 'toaster-<a class="el" href="../../d2/d7d/jsapi_8h.html#a254bf0858da09c96a48daf64404eb4f8">message</a>-'+this.undoableOp.operation;<a class="el" href="../../dd/dfa/classtext.html">text</a>=<a class="el" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#a18697261a961b9d0efde405b5a2b244f">mozL10n.get</a>(textId,{n:this.undoableOp.affectedCount});showUndo=(this.undoableOp.operation!== 'move'&amp;&amp;this.undoableOp.operation!== 'delete');}else <a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a>=== 'retry'){textId= 'toaster-retryable-'+operation;<a class="el" href="../../dd/dfa/classtext.html">text</a>=<a class="el" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#a18697261a961b9d0efde405b5a2b244f">mozL10n.get</a>(textId);this.retryCallback=<a class="el" href="../../de/dc5/jsfriendapi_8h.html#ae9494ad8646a84b50bd3446d72433e82">callback</a>;}else <a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a>=== '<a class="el" href="../../dd/dfa/classtext.html">text</a>'){<a class="el" href="../../dd/dfa/classtext.html">text</a>=operation;}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a>=== 'undo'&amp;&amp;showUndo) <a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">this.undoBtn.classList.remove</a>('collapsed');else <a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">this.undoBtn.classList.add</a>('collapsed');<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a>=== 'retry') <a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">this.retryBtn.classList.remove</a>('collapsed');else <a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">this.retryBtn.classList.add</a>('collapsed');<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a051e403214cb6872ad3fe4e50302a6ee">this.body.title</a>=<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">type</a>;<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">this.text.textContent</a>=<a class="el" href="../../dd/dfa/classtext.html">text</a>;<a class="el" href="../../d1/d51/test__external__apps_2packstubtest_2js_2app_8js.html#ac189c42168797aa80d7a298a9394ff0b">this.body.addEventListener</a>('click', <a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#af23f5f9187c304ed6a90a2c49a64fa48">this</a>, <a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>);<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">this.body.classList.remove</a>('collapsed');this.fadeTimeout=<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#adf7ce41cd256eda7ce1f6adeea723bd3">window.setTimeout</a>(<a class="el" href="../../d3/d91/j3d_8js.html#a1ad2f17c038f79ef240a44e21a46ef14">this._animationHandler.bind</a>(<a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#af23f5f9187c304ed6a90a2c49a64fa48">this</a>), this._timeout);}, hide:function(){<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">this.body.classList.add</a>('collapsed');<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">this.body.classList.remove</a>('fadeout');<a class="el" href="../../da/da1/timers_8js.html#ab37ff0db33a3bf80b0163adc40a58424">window.clearTimeout</a>(this.fadeTimeout);this.fadeTimeout=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;<a class="el" href="../../df/d44/permission__manager_8js.html#acf9987ef04ab3791e7ff8b28d748ebcc">this.body.removeEventListener</a>('click', <a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#af23f5f9187c304ed6a90a2c49a64fa48">this</a>);<a class="el" href="../../df/d44/permission__manager_8js.html#acf9987ef04ab3791e7ff8b28d748ebcc">this.body.removeEventListener</a>('<a class="el" href="../../d3/d4b/lockscreen_8js.html#aae2729b0c5f5af6ba028b7d59f550e47">transitionend</a>', <a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#af23f5f9187c304ed6a90a2c49a64fa48">this</a>);this.undoableOp=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;this.retryCallback=<a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;}};var <a class="el" href="../../d9/d71/system_2camera_2js_2confirm_8js.html#a62ff52c410e9de0d9973e5297755e83c">ConfirmDialog</a>={dialog:null, show:function(<a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a>, <a class="el" href="../../d9/d13/shared_2style_2_r_e_a_d_m_e_8md.html#ab77aa8c2fa705d45d7ff1db3a11306ae">confirm</a>, <a class="el" href="../../dc/d35/inline-receiver_8js.html#a01de14b323a40639980004403daa8432">cancel</a>){<a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">this.dialog</a>=<a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a>;var formSubmit=<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(evt){<a class="el" href="../../db/df4/geoloc_8js.html#abb32d825b52ef528b86b799b6247e79a">this.hide</a>();<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#aba983438655021425112777c0e7ebbe8">switch</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#a0ad0ebb641411c0c63079e4440033275">evt.explicitOriginalTarget.id</a>){case <a class="el" href="../../de/deb/jsdbgapi_8h.html#a309e0bc04bd5e2de367147b08241aa6b">confirm.id:confirm.handler</a>();<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a>;case cancel.id:if(<a class="el" href="../../de/deb/jsdbgapi_8h.html#a309e0bc04bd5e2de367147b08241aa6b">cancel.handler</a>) <a class="el" href="../../de/deb/jsdbgapi_8h.html#a309e0bc04bd5e2de367147b08241aa6b">cancel.handler</a>();<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#a91cf6fbebedd86150a36e5ac3d5d3bfc">break</a>;}<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> <a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>;};<a class="el" href="../../d1/d51/test__external__apps_2packstubtest_2js_2app_8js.html#ac189c42168797aa80d7a298a9394ff0b">dialog.addEventListener</a>('submit', <a class="el" href="../../d3/d91/j3d_8js.html#a1ad2f17c038f79ef240a44e21a46ef14">formSubmit.bind</a>(<a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#af23f5f9187c304ed6a90a2c49a64fa48">this</a>));document.body.appendChild(<a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">dialog</a>);}, hide:function(){<a class="el" href="../../d1/d04/app__install__manager_8js.html#a5ebdda199bee63b9cb8dc969a17d4a9e">document.body.removeChild</a>(<a class="el" href="../../d1/d04/app__install__manager_8js.html#a888e6068bf00699dfddf2b6ee25e6c7a">this.dialog</a>);}};<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> prettyFileSize(sizeInBytes){var kilos=Math.ceil(sizeInBytes/1024);<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> <a class="el" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#a18697261a961b9d0efde405b5a2b244f">mozL10n.get</a>('attachment-<a class="el" href="../../d0/da8/prrng_8h.html#a5c72e4e1ff78177bac89e7f0ddadda92">size</a>-kib',{kilobytes:kilos});}<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> prettyDate(<a class="el" href="../../d6/da5/certt_8h.html#a5e84b1bdd0770310d2a7fd739ab6dbee">time</a>, useCompactFormat){var <a class="el" href="../../da/d8e/gtk2xtbin_8h.html#a3898e9296a360177e6398f3a4c0f00d2">f</a>=new <a class="el" href="../../d3/d4b/l10n__date_8js.html#abcbd138ca956bcc812dbabd5df8945f8">mozL10n.DateTimeFormat</a>();<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> f.fromNow(<a class="el" href="../../d6/da5/certt_8h.html#a5e84b1bdd0770310d2a7fd739ab6dbee">time</a>, useCompactFormat);}(<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>(){var formatter=new <a class="el" href="../../d3/d4b/l10n__date_8js.html#abcbd138ca956bcc812dbabd5df8945f8">mozL10n.DateTimeFormat</a>();var updatePrettyDate=<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> updatePrettyDate(){var labels=document.querySelectorAll('[<a class="el" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>-<a class="el" href="../../d6/da5/certt_8h.html#a5e84b1bdd0770310d2a7fd739ab6dbee">time</a>]');var <a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>=<a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">labels.length</a>;<a class="el" href="../../d3/d4b/lockscreen_8js.html#a5ad25e705333134dd79a0ba0e766f6bc">while</a>(<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>--){labels[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">textContent</a>=formatter.fromNow(labels[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].<a class="el" href="../../d3/d91/j3d_8js.html#a4e10274dcc3f346cdbb535933d1d4f27">dataset.time</a>, 'compactFormat'in labels[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>].dataset);}};var timer=<a class="el" href="../../da/da1/timers_8js.html#a810d0ceb38081cd3ca4c39b096dcaa26">setInterval</a>(updatePrettyDate, 60 *1000);<a class="el" href="../../d1/d51/test__external__apps_2packstubtest_2js_2app_8js.html#ac189c42168797aa80d7a298a9394ff0b">window.addEventListener</a>('<a class="el" href="../../d2/d7d/jsapi_8h.html#a254bf0858da09c96a48daf64404eb4f8">message</a>', <a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> visibleAppUpdatePrettyDate(evt){var <a class="el" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>=<a class="el" href="../../dc/d6a/xpt__xdr_8h.html#aa1c343a750ba3a3ef9940c20288abcef">evt.data</a>;<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!<a class="el" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>||(<a class="el" href="../../d7/d9f/thread_8js.html#aa8dea74882346c7746113d234836bb3a">typeof</a>(<a class="el" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>)!== '<a class="el" href="../../d9/d13/shared_2style_2_r_e_a_d_m_e_8md.html#a3324c12c8fd4a56057ace952fd0d4bc5">object</a>')||!('<a class="el" href="../../d2/d7d/jsapi_8h.html#a254bf0858da09c96a48daf64404eb4f8">message</a>'in <a class="el" href="../../d9/d04/expat_8h.html#aa11c5d56dba0976f16f07ea50b1999ba">data</a>)||data.message!== 'visibilitychange') <a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a>;<a class="el" href="../../da/da1/timers_8js.html#ab37ff0db33a3bf80b0163adc40a58424">clearTimeout</a>(timer);<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!<a class="el" href="../../da/d84/openvideo_8js.html#ac58b4771a596b2a4815b0c4f5109ef14">data.hidden</a>){updatePrettyDate();timer=<a class="el" href="../../da/da1/timers_8js.html#a810d0ceb38081cd3ca4c39b096dcaa26">setInterval</a>(updatePrettyDate, 60 *1000);}});})();<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> FormNavigation(<a class="el" href="../../dc/df3/plgetopt_8h.html#af88bfb344db31578251e79bdf8cbf4bc">options</a>){<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> <a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#a1a09b37625f4d2b20065bbd6e771fe5e">extend</a>(destination, source){<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(var property in source) destination[property]=source[property];<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> destination;}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!options.formElem){throw new <a class="el" href="../../dc/d06/calendar_2js_2error_8js.html#abd05c43175d3c93c6889542cefc822f3">Error</a>('The form element should be defined.');}var <a class="el" href="../../df/d44/permission__manager_8js.html#a67b9624a73d0c7dbd44bc7b41817b579">self</a>=<a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#af23f5f9187c304ed6a90a2c49a64fa48">this</a>;<a class="el" href="../../dc/df3/plgetopt_8h.html#af88bfb344db31578251e79bdf8cbf4bc">this.options</a>=<a class="el" href="../../d0/d6e/build__stage_2email_2js_2ext_2mailapi_2imap_2probe_8js.html#a1a09b37625f4d2b20065bbd6e771fe5e">extend</a>({formElem:null, checkFormValidity:function checkFormValidity(){<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> self.options.formElem.checkValidity();}, onLast:function(){}}, <a class="el" href="../../dc/df3/plgetopt_8h.html#af88bfb344db31578251e79bdf8cbf4bc">options</a>);<a class="el" href="../../d1/d51/test__external__apps_2packstubtest_2js_2app_8js.html#ac189c42168797aa80d7a298a9394ff0b">this.options.formElem.addEventListener</a>('keypress', <a class="el" href="../../d3/d91/j3d_8js.html#a1ad2f17c038f79ef240a44e21a46ef14">this.onKeyPress.bind</a>(<a class="el" href="../../d3/da1/shared_2resources_2apn_2_r_e_a_d_m_e_8md.html#af23f5f9187c304ed6a90a2c49a64fa48">this</a>));}<a class="el" href="../../d6/dec/mocha-bin_8js.html#a240a06b4dda3a9e2e025ed5792cd5f4e">FormNavigation.prototype</a>={onKeyPress:function formNav_onKeyPress(<a class="el" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>){<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(event.keyCode===13){var nextInput=this.focusNextInput(<a class="el" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>);<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!nextInput &amp;&amp;this.options.checkFormValidity()){this.options.onLast();}}}, focusNextInput:function formNav_focusNextInput(<a class="el" href="../../df/dea/pkcs11t_8h.html#afaa077e4b9760c92cbaf0d838e743d8c">event</a>){var currentInput=<a class="el" href="../../de/dc5/jsfriendapi_8h.html#a27a788fa9b193e3d4e5eaccf06f44683">event.target</a>;var inputElems=this.options.formElem.getElementsByTagName('<a class="el" href="../../d2/d7d/jsapi_8h.html#a8908b6d42ac95ee6387e73b7ac543dae">input</a>');var currentInputFound=<a class="el" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>;<a class="el" href="../../dc/d9e/_playlist_drawer_8js.html#a089b2988a149c0d135aaab57e2231481">for</a>(var <a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>=0;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>&lt; <a class="el" href="../../de/d81/xpt__struct_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">inputElems.length</a>;<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>++){var <a class="el" href="../../d2/d7d/jsapi_8h.html#a8908b6d42ac95ee6387e73b7ac543dae">input</a>=inputElems[<a class="el" href="../../da/d7d/sylvester_8js.html#a091f0effa2d52e9315e1f032073e953b">i</a>];<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(currentInput===<a class="el" href="../../d2/d7d/jsapi_8h.html#a8908b6d42ac95ee6387e73b7ac543dae">input</a>){currentInputFound=<a class="el" href="../../df/d49/system_2camera_2js_2camera_8js.html#a930920b2bc42824a5c03be681830f4b2">true</a>;continue;}else <a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(!currentInputFound){continue;}<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">input.type</a>=== '<a class="el" href="../../da/d84/openvideo_8js.html#ac58b4771a596b2a4815b0c4f5109ef14">hidden</a>'||<a class="el" href="../../de/d81/xpt__struct_8h.html#ac827fa5fbcdd05dd9ed05984a80679b8">input.type</a>=== '<a class="el" href="../../d3/d4b/lockscreen_8js.html#a56a6742e738e925221d41ea45da5851d">button</a>'){continue;}<a class="el" href="../../d3/d4a/mock__recipients_8js.html#a872ddc88b9ec9139cb46823219ad16c8">input.focus</a>();<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(document.activeElement!==<a class="el" href="../../d2/d7d/jsapi_8h.html#a8908b6d42ac95ee6387e73b7ac543dae">input</a>){continue;}<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> <a class="el" href="../../d2/d7d/jsapi_8h.html#a8908b6d42ac95ee6387e73b7ac543dae">input</a>;}currentInput.blur();<a class="el" href="../../d5/dff/tests_2python_2gaia-ui-tests_2gaiatest_2atoms_2screenshot_8js.html#a6bc243e0e988691de46b9baa46ec6413">return</a> <a class="el" href="../../d3/d52/blanket_8js.html#a24d794dfc756320ffadb905d526299bc">null</a>;}};<a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> displaySubject(subjectNode, <a class="el" href="../../d2/d7d/jsapi_8h.html#a254bf0858da09c96a48daf64404eb4f8">message</a>){var <a class="el" href="../../d6/da8/facebook__connector__test_8js.html#ab17dfde70922e77b2bbcbd0192a12531">subject</a>=<a class="el" href="../../d6/da8/facebook__connector__test_8js.html#ab17dfde70922e77b2bbcbd0192a12531">message.subject</a> &amp;&amp;<a class="el" href="../../d1/dce/utils_81_83_8js.html#a73823092f50a5f0d8c04a043d0996430">message.subject.trim</a>();<a class="el" href="../../de/dfc/events_8js.html#aa27c1f7f883859f374ef91e69db597bd">if</a>(<a class="el" href="../../d6/da8/facebook__connector__test_8js.html#ab17dfde70922e77b2bbcbd0192a12531">subject</a>){<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">subjectNode.textContent</a>=<a class="el" href="../../d6/da8/facebook__connector__test_8js.html#ab17dfde70922e77b2bbcbd0192a12531">subject</a>;<a class="el" href="../../d1/d04/app__install__manager_8js.html#a9a509fff9fcf53ecd0f73c0d965a7d6b">subjectNode.classList.remove</a>('<a class="el" href="../../d5/dde/plerror_8h.html#a2c3cb87d009c003069b9a90f020f8a9f">msg</a>-no-<a class="el" href="../../d6/da8/facebook__connector__test_8js.html#ab17dfde70922e77b2bbcbd0192a12531">subject</a>');}else{<a class="el" href="../../d3/d4b/lockscreen_8js.html#a231b448a4b70e9035748897db2fa1c2a">subjectNode.textContent</a>=<a class="el" href="../../d4/d00/tools_2xpcwindow_2lib_2modules_2debug_8js.html#a18697261a961b9d0efde405b5a2b244f">mozL10n.get</a>('<a class="el" href="../../d2/d7d/jsapi_8h.html#a254bf0858da09c96a48daf64404eb4f8">message</a>-no-<a class="el" href="../../d6/da8/facebook__connector__test_8js.html#ab17dfde70922e77b2bbcbd0192a12531">subject</a>');<a class="el" href="../../df/d44/permission__manager_8js.html#ae5a9ec7a035c6634f85498958b2c7a12">subjectNode.classList.add</a>('<a class="el" href="../../d5/dde/plerror_8h.html#a2c3cb87d009c003069b9a90f020f8a9f">msg</a>-no-<a class="el" href="../../d6/da8/facebook__connector__test_8js.html#ab17dfde70922e77b2bbcbd0192a12531">subject</a>');}}exports.Cards=Cards;exports.Toaster=Toaster;<a class="el" href="../../d9/d71/system_2camera_2js_2confirm_8js.html#a62ff52c410e9de0d9973e5297755e83c">exports.ConfirmDialog</a>=<a class="el" href="../../d9/d71/system_2camera_2js_2confirm_8js.html#a62ff52c410e9de0d9973e5297755e83c">ConfirmDialog</a>;exports.FormNavigation=FormNavigation;exports.prettyDate=prettyDate;exports.prettyFileSize=prettyFileSize;exports.batchAddClass=batchAddClass;exports.bindContainerClickAndHold=bindContainerClickAndHold;exports.bindContainerHandler=bindContainerHandler;exports.appendMatchItemTo=appendMatchItemTo;exports.bindContainerHandler=bindContainerHandler;exports.displaySubject=displaySubject;})</td></tr>
</table>
<hr/><h2>関数</h2>
<a class="anchor" id="ac652ca5e496d570f65ed4c0a608c8378"></a><!-- doxytag: member="mail_common.js::define" ref="ac652ca5e496d570f65ed4c0a608c8378" args="(function(require, exports){var Cards, Toaster, mozL10n=require('l10n!'), toasterNode=require('tmpl!./cards/toaster.html'), ValueSelector=require('value_selector');var hookupInputAreaResetButtons=require('input_areas');function addClass(domNode, name){if(domNode){domNode.classList.add(name);}}function removeClass(domNode, name){if(domNode){domNode.classList.remove(name);}}function batchAddClass(domNode, searchClass, classToAdd){var nodes=domNode.getElementsByClassName(searchClass);for(var i=0;i&lt; nodes.length;i++){nodes[i].classList.add(classToAdd);}}function batchRemoveClass(domNode, searchClass, classToRemove){var nodes=domNode.getElementsByClassName(searchClass);for(var i=0;i&lt; nodes.length;i++){nodes[i].classList.remove(classToRemove);}}var MATCHED_TEXT_CLASS= 'highlight';function appendMatchItemTo(matchItem, node){var text=matchItem.text;var idx=0;for(var iRun=0;iRun&lt;=matchItem.matchRuns.length;iRun++){var run;if(iRun===matchItem.matchRuns.length) run={start:text.length, length:0};else run=matchItem.matchRuns[iRun];if(run.start &gt; idx){var tnode=document.createTextNode(text.substring(idx, run.start));node.appendChild(tnode);}if(!run.length) continue;var hspan=document.createElement('span');hspan.classList.add(MATCHED_TEXT_CLASS);hspan.textContent=text.substr(run.start, run.length);node.appendChild(hspan);idx=run.start+run.length;}}function bindContainerHandler(containerNode, eventName, func){containerNode.addEventListener(eventName, function(event){var node=event.target;if(node===containerNode) return;while(node &amp;&amp;node.parentNode!==containerNode){node=node.parentNode;}func(node, event);}, false);}function bindContainerClickAndHold(containerNode, clickFunc, holdFunc){bindContainerHandler(containerNode, 'click', function(node, event){if(Cards._suppressClick){Cards._suppressClick=false;return;}clickFunc(node, event);});bindContainerHandler(containerNode, 'contextmenu', function(node, event){event.preventDefault();if(event.button===0){Cards._suppressClick=true;}return holdFunc(node, event);});}Cards={_cardDefs:{}, _cardStack:[], activeCardIndex:&#45;1, _pendingPush:null, _zIndex:0, _rootNode:null, _containerNode:null, _cardsNode:null, _animatingDeadDomNodes:[], _transitionCount:0, _suppressClick:false, _trayActive:false, _popupActive:null, _eatingEventsUntilNextCard:false, _init:function(){this._rootNode=document.body;this._containerNode=document.getElementById('cardContainer');this._cardsNode=document.getElementById('cards');this._containerNode.appendChild(toasterNode);this._containerNode.addEventListener('click', this._onMaybeIntercept.bind(this), true);this._containerNode.addEventListener('contextmenu', this._onMaybeIntercept.bind(this), true);this._cardsNode.addEventListener('transitionend', this._onTransitionEnd.bind(this), false);}, _onMaybeIntercept:function(event){if(event.type=== 'click'&amp;&amp;this._suppressClick){this._suppressClick=false;event.stopPropagation();return;}if(this._eatingEventsUntilNextCard){event.stopPropagation();return;}if(this._popupActive){event.stopPropagation();this._popupActive.close();return;}var cardNode=event.target;for(cardNode=event.target;cardNode;cardNode=cardNode.parentNode){if(cardNode.classList.contains('card')) break;}if(this._trayActive &amp;&amp;cardNode &amp;&amp;cardNode.classList.contains('after')){event.stopPropagation();var targetIndex=&#45;1;this._cardStack.some(function(card, i){if(card.domNode.hasAttribute('data&#45;tray&#45;target')){targetIndex=i;return true;}});if(targetIndex===&#45;1) targetIndex=this.activeCardIndex+1;var indexDiff=targetIndex&#45;(this.activeCardIndex+1);if(indexDiff &gt; 0){this._afterTransitionAction=(function(){this.removeCardAndSuccessors(this._cardStack[0].domNode, 'none', indexDiff);this.moveToCard(targetIndex, 'animate', 'forward');}.bind(this));}this.moveToCard(this.activeCardIndex+1, 'animate', 'forward');}}, pushDefaultCard:function(onPushed){}, defineCard:function(cardDef){if(!cardDef.name) throw new Error('The card type needs a name');if(this._cardDefs.hasOwnProperty(cardDef.name)) throw new Error('Duplicate card name: '+cardDef.name);this._cardDefs[cardDef.name]=cardDef;for(var modeName in cardDef.modes){var mode=cardDef.modes[modeName];if(!mode.hasOwnProperty('tray')) mode.tray=false;mode.name=modeName;}}, defineCardWithDefaultMode:function(name, defaultMode, constructor, templateNode){var cardDef={name:name, modes:{}, constructor:constructor, templateNode:templateNode};cardDef.modes['default']=defaultMode;this.defineCard(cardDef);}, pushCard:function(type, mode, showMethod, args, placement){var cardDef=this._cardDefs[type];var typePrefix=type.split('&#45;')[0];args=args||{};if(!cardDef){var cbArgs=Array.slice(arguments);this._pendingPush=[type, mode];if(showMethod!== 'none') this.eatEventsUntilNextCard();require(['cards/'+type], function(){this.pushCard.apply(this, cbArgs);}.bind(this));return;}this._pendingPush=null;var modeDef=cardDef.modes[mode];if(!modeDef) throw new Error('No such card mode: '+mode);console.log('pushCard for type: '+type);var domNode=args.cachedNode?args.cachedNode:cardDef.templateNode.cloneNode(true);domNode.setAttribute('data&#45;type', type);domNode.setAttribute('data&#45;mode', mode);var cardImpl=new cardDef.constructor(domNode, mode, args);var cardInst={domNode:domNode, cardDef:cardDef, modeDef:modeDef, cardImpl:cardImpl};var cardIndex, insertBuddy;if(!placement){cardIndex=this._cardStack.length;insertBuddy=null;domNode.classList.add(cardIndex===0? 'before': 'after');}else if(placement=== 'left'){cardIndex=this.activeCardIndex++;insertBuddy=this._cardsNode.children[cardIndex];domNode.classList.add('before');}else if(placement=== 'right'){cardIndex=this.activeCardIndex+1;if(cardIndex &gt;=this._cardStack.length) insertBuddy=null;else insertBuddy=this._cardsNode.children[cardIndex];domNode.classList.add('after');}this._cardStack.splice(cardIndex, 0, cardInst);if(!args.cachedNode) this._cardsNode.insertBefore(domNode, insertBuddy);hookupInputAreaResetButtons(domNode);if('postInsert'in cardImpl) cardImpl.postInsert();if(showMethod!== 'none'){if(!args.cachedNode) domNode.clientWidth;this._showCard(cardIndex, showMethod, 'forward');}if(args.onPushed) args.onPushed(cardImpl);}, _findCardUsingTypeAndMode:function(type, mode){for(var i=0;i&lt; this._cardStack.length;i++){var cardInst=this._cardStack[i];if(cardInst.cardDef.name===type &amp;&amp;cardInst.modeDef.name===mode){return i;}}}, _findCardUsingImpl:function(impl){for(var i=0;i&lt; this._cardStack.length;i++){var cardInst=this._cardStack[i];if(cardInst.cardImpl===impl) return i;}}, _findCard:function(query, skipFail){var result;if(Array.isArray(query)) result=this._findCardUsingTypeAndMode(query[0], query[1], skipFail);else if(typeof(query)=== 'number') result=query;else result=this._findCardUsingImpl(query);if(result &gt;&#45;1) return result;else if(!skipFail) throw new Error('Unable to find card with query:', query);elsereturn undefined;}, hasCard:function(query){if(this._pendingPush &amp;&amp;Array.isArray(query)&amp;&amp;query.length===2 &amp;&amp;this._pendingPush[0]===query[0]&amp;&amp;this._pendingPush[1]===query[1]) return true;return this._findCard(query, true) &gt;&#45;1;}, isVisible:function(cardImpl){return!!(cardImpl.domNode &amp;&amp;cardImpl.domNode.classList.contains('center'));}, findCardObject:function(query){return this._cardStack[this._findCard(query)];}, folderSelector:function(callback){var self=this;require(['model', 'value_selector'], function(model){if(!self.folderPrompt){var selectorTitle=mozL10n.get('messages&#45;folder&#45;select');self.folderPrompt=new ValueSelector(selectorTitle);}model.latestOnce('foldersSlice', function(foldersSlice){var folders=foldersSlice.items;for(var i=0;i&lt; folders.length;i++){var folder=folders[i];self.folderPrompt.addToList(folder.name, folder.depth, function(folder){return function(){self.folderPrompt.hide();callback(folder);};}(folder));}self.folderPrompt.show();});});}, moveToCard:function(query, showMethod){this._showCard(this._findCard(query), showMethod|| 'animate');}, tellCard:function(query, what){var cardIndex=this._findCard(query), cardInst=this._cardStack[cardIndex];if(!('told'in cardInst.cardImpl)) console.warn(&quot;Tried to tell a card that's not listening!&quot;, query, what);else cardInst.cardImpl.told(what);}, _createMaskForNode:function(domNode, bounds){var anchorIn=this._rootNode, cleanupDivs=[];var uiWidth=this._containerNode.offsetWidth, uiHeight=this._containerNode.offsetHeight;function addMask(left, top, right, bottom){var node=document.createElement('div');node.classList.add('popup&#45;mask');node.style.left=left+ 'px';node.style.top=top+ 'px';node.style.width=(right&#45;left+1)+ 'px';node.style.height=(bottom&#45;top+1)+ 'px';cleanupDivs.push(node);anchorIn.appendChild(node);}if(bounds.left &gt; 1) addMask(0, bounds.top, bounds.left&#45;1, bounds.bottom);if(bounds.top &gt; 0) addMask(0, 0, uiWidth&#45;1, bounds.top&#45;1);if(bounds.right&lt; uiWidth&#45;1) addMask(bounds.right+1, bounds.top, uiWidth&#45;1, bounds.bottom);if(bounds.bottom&lt; uiHeight&#45;1) addMask(0, bounds.bottom+1, uiWidth&#45;1, uiHeight&#45;1);return function(){for(var i=0;i&lt; cleanupDivs.length;i++){anchorIn.removeChild(cleanupDivs[i]);}};}, removeCardAndSuccessors:function(cardDomNode, showMethod, numCards, nextCardSpec){if(!this._cardStack.length) return;if(cardDomNode &amp;&amp;this._cardStack.length===1){return Cards.pushDefaultCard(function(){this.removeCardAndSuccessors(cardDomNode, showMethod, numCards, nextCardSpec);}.bind(this));}var firstIndex, iCard, cardInst;if(cardDomNode===undefined){throw new Error('undefined is not a valid card spec!');}else if(cardDomNode===null){firstIndex=0;this._zIndex=0;}else{for(iCard=this._cardStack.length&#45;1;iCard &gt;=0;iCard&#45;&#45;){cardInst=this._cardStack[iCard];if(cardInst.domNode===cardDomNode){firstIndex=iCard;break;}}if(firstIndex===undefined) throw new Error('No card represented by that DOM node');}if(!numCards) numCards=this._cardStack.length&#45;firstIndex;if(showMethod!== 'none'){var nextCardIndex=null;if(nextCardSpec) nextCardIndex=this._findCard(nextCardSpec);else if(this._cardStack.length) nextCardIndex=Math.min(firstIndex&#45;1, this._cardStack.length&#45;1);this._showCard(nextCardIndex, showMethod, 'back');}if(firstIndex&lt;=this.activeCardIndex){this.activeCardIndex&#45;=numCards;if(this.activeCardIndex&lt; &#45;1){this.activeCardIndex=&#45;1;}}var deadCardInsts=this._cardStack.splice(firstIndex, numCards);for(iCard=0;iCard&lt; deadCardInsts.length;iCard++){cardInst=deadCardInsts[iCard];try{cardInst.cardImpl.die();}catch(ex){console.warn('Problem cleaning up card:', ex, '\n', ex.stack);}switch(showMethod){case 'animate':case 'immediate':this._animatingDeadDomNodes.push(cardInst.domNode);break;case 'none':cardInst.domNode.parentNode.removeChild(cardInst.domNode);break;}}}, removeAllCards:function(){return this.removeCardAndSuccessors(null, 'none');}, _showCard:function(cardIndex, showMethod, navDirection){if(cardIndex===this.activeCardIndex){return;}if(cardIndex &gt; this._cardStack.length&#45;1){cardIndex=this._cardStack.length&#45;1;}if(this.activeCardIndex &gt; this._cardStack.length&#45;1){this.activeCardIndex=&#45;1;}if(this.activeCardIndex===&#45;1){this.activeCardIndex=cardIndex===0?cardIndex:cardIndex&#45;1;}var cardInst=(cardIndex!==null)?this._cardStack[cardIndex]:null;var beginNode=this._cardStack[this.activeCardIndex].domNode;var endNode=this._cardStack[cardIndex].domNode;var isForward=navDirection=== 'forward';if(this._cardStack.length===1){this._zIndex=0;}if(isForward &amp;&amp;endNode.classList.contains('anim&#45;overlay')){beginNode=null;this._zIndex+=10;}if(beginNode &amp;&amp;beginNode.classList.contains('anim&#45;overlay')){if(isForward){if(showMethod!== 'immediate'&amp;&amp;beginNode.classList.contains('anim&#45;vertical')){removeClass(beginNode, 'anim&#45;vertical');addClass(beginNode, 'disabled&#45;anim&#45;vertical');}}else{endNode=null;this._zIndex&#45;=10;}}if(endNode &amp;&amp;isForward &amp;&amp;this._zIndex){endNode.style.zIndex=this._zIndex;}var cardsNode=this._cardsNode;if(showMethod=== 'immediate'){addClass(beginNode, 'no&#45;anim');addClass(endNode, 'no&#45;anim');cardsNode.clientWidth;this._eatingEventsUntilNextCard=false;}else if(showMethod=== 'none'){}else{this._transitionCount=(beginNode &amp;&amp;endNode)?2:1;this._eatingEventsUntilNextCard=true;}if(this.activeCardIndex===cardIndex){removeClass(beginNode, 'before');removeClass(beginNode, 'after');addClass(beginNode, 'center');}else if(this.activeCardIndex &gt; cardIndex){removeClass(beginNode, 'center');addClass(beginNode, 'after');removeClass(endNode, 'before');addClass(endNode, 'center');}else{removeClass(beginNode, 'center');addClass(beginNode, 'before');removeClass(endNode, 'after');addClass(endNode, 'center');}if(showMethod=== 'immediate'){cardsNode.clientWidth;removeClass(beginNode, 'no&#45;anim');removeClass(endNode, 'no&#45;anim');if(cardInst &amp;&amp;cardInst.onCardVisible) cardInst.onCardVisible();}Toaster.hide();this.activeCardIndex=cardIndex;if(cardInst) this._trayActive=cardInst.modeDef.tray;}, _onTransitionEnd:function(event){var activeCard=this._cardStack[this.activeCardIndex];if(!activeCard) return;if(this._transitionCount &gt; 0) this._transitionCount&#45;=1;if(this._transitionCount===0){if(this._eatingEventsUntilNextCard){this._eatingEventsUntilNextCard=false;}if(this._animatingDeadDomNodes.length){setTimeout(function(){this._animatingDeadDomNodes.forEach(function(domNode){if(domNode.parentNode) domNode.parentNode.removeChild(domNode);});this._animatingDeadDomNodes=[];}.bind(this), 100);}var endNode=activeCard.domNode;if(endNode.classList.contains('disabled&#45;anim&#45;vertical')){removeClass(endNode, 'disabled&#45;anim&#45;vertical');addClass(endNode, 'anim&#45;vertical');}var pendingToaster=Toaster.pendingStack.slice(&#45;1)[0];if(pendingToaster){pendingToaster();Toaster.pendingStack.pop();}if(this._afterTransitionAction){var afterTransitionAction=this._afterTransitionAction;this._afterTransitionAction=null;afterTransitionAction();}if(activeCard.cardImpl.onCardVisible) activeCard.cardImpl.onCardVisible();var nextCards=activeCard.cardImpl.nextCards;if(nextCards){console.log('Preloading cards: '+nextCards);require(nextCards.map(function(id){return 'cards/'+id;}));}}}, eatEventsUntilNextCard:function(){this._eatingEventsUntilNextCard=true;}, stopEatingEvents:function(){this._eatingEventsUntilNextCard=false;}, assertNoCards:function(){if(this._cardStack.length) throw new Error('There are '+this._cardStack.length+ 'cards but'+ 'there should be ZERO');}};Toaster={get body(){delete this.body;return this.body=document.querySelector('section[role=&quot;status&quot;]');}, get text(){delete this.text;return this.text=document.querySelector('section[role=&quot;status&quot;] p');}, get undoBtn(){delete this.undoBtn;return this.undoBtn=document.querySelector('.toaster&#45;banner&#45;undo');}, get retryBtn(){delete this.retryBtn;return this.retryBtn=document.querySelector('.toaster&#45;banner&#45;retry');}, undoableOp:null, retryCallback:null, _timeout:5000, _animationHandler:function(){this.body.addEventListener('transitionend', this, false);this.body.classList.add('fadeout');}, _listeners:[], pendingStack:[], logMutation:function(undoableOp, pending){if(pending){this.pendingStack.push(this.show.bind(this, 'undo', undoableOp));}else{this.show('undo', undoableOp);}}, logRetryable:function(retryStringId, retryCallback){this.show('retry', retryStringId, retryCallback);}, handleEvent:function(evt){switch(evt.type){case 'click':var classList=evt.target.classList;if(classList.contains('toaster&#45;banner&#45;undo')){this.undoableOp.undo();this.hide();}else if(classList.contains('toaster&#45;banner&#45;retry')){if(this.retryCallback) this.retryCallback();this.hide();}else if(classList.contains('toaster&#45;cancel&#45;btn')){this.hide();}break;case 'transitionend':this.hide();break;}}, show:function(type, operation, callback){if(!this.body.classList.contains('collapsed')){this.hide();}var text, textId, showUndo=false;var undoBtn=this.body.querySelector('.toaster&#45;banner&#45;undo');if(type=== 'undo'){this.undoableOp=operation;if(!this.undoableOp||this.undoableOp.affectedCount&lt; 1){return;}textId= 'toaster&#45;message&#45;'+this.undoableOp.operation;text=mozL10n.get(textId,{n:this.undoableOp.affectedCount});showUndo=(this.undoableOp.operation!== 'move'&amp;&amp;this.undoableOp.operation!== 'delete');}else if(type=== 'retry'){textId= 'toaster&#45;retryable&#45;'+operation;text=mozL10n.get(textId);this.retryCallback=callback;}else if(type=== 'text'){text=operation;}if(type=== 'undo'&amp;&amp;showUndo) this.undoBtn.classList.remove('collapsed');else this.undoBtn.classList.add('collapsed');if(type=== 'retry') this.retryBtn.classList.remove('collapsed');else this.retryBtn.classList.add('collapsed');this.body.title=type;this.text.textContent=text;this.body.addEventListener('click', this, false);this.body.classList.remove('collapsed');this.fadeTimeout=window.setTimeout(this._animationHandler.bind(this), this._timeout);}, hide:function(){this.body.classList.add('collapsed');this.body.classList.remove('fadeout');window.clearTimeout(this.fadeTimeout);this.fadeTimeout=null;this.body.removeEventListener('click', this);this.body.removeEventListener('transitionend', this);this.undoableOp=null;this.retryCallback=null;}};var ConfirmDialog={dialog:null, show:function(dialog, confirm, cancel){this.dialog=dialog;var formSubmit=function(evt){this.hide();switch(evt.explicitOriginalTarget.id){case confirm.id:confirm.handler();break;case cancel.id:if(cancel.handler) cancel.handler();break;}return false;};dialog.addEventListener('submit', formSubmit.bind(this));document.body.appendChild(dialog);}, hide:function(){document.body.removeChild(this.dialog);}};function prettyFileSize(sizeInBytes){var kilos=Math.ceil(sizeInBytes/1024);return mozL10n.get('attachment&#45;size&#45;kib',{kilobytes:kilos});}function prettyDate(time, useCompactFormat){var f=new mozL10n.DateTimeFormat();return f.fromNow(time, useCompactFormat);}(function(){var formatter=new mozL10n.DateTimeFormat();var updatePrettyDate=function updatePrettyDate(){var labels=document.querySelectorAll('[data&#45;time]');var i=labels.length;while(i&#45;&#45;){labels[i].textContent=formatter.fromNow(labels[i].dataset.time, 'compactFormat'in labels[i].dataset);}};var timer=setInterval(updatePrettyDate, 60 *1000);window.addEventListener('message', function visibleAppUpdatePrettyDate(evt){var data=evt.data;if(!data||(typeof(data)!== 'object')||!('message'in data)||data.message!== 'visibilitychange') return;clearTimeout(timer);if(!data.hidden){updatePrettyDate();timer=setInterval(updatePrettyDate, 60 *1000);}});})();function FormNavigation(options){function extend(destination, source){for(var property in source) destination[property]=source[property];return destination;}if(!options.formElem){throw new Error('The form element should be defined.');}var self=this;this.options=extend({formElem:null, checkFormValidity:function checkFormValidity(){return self.options.formElem.checkValidity();}, onLast:function(){}}, options);this.options.formElem.addEventListener('keypress', this.onKeyPress.bind(this));}FormNavigation.prototype={onKeyPress:function formNav_onKeyPress(event){if(event.keyCode===13){var nextInput=this.focusNextInput(event);if(!nextInput &amp;&amp;this.options.checkFormValidity()){this.options.onLast();}}}, focusNextInput:function formNav_focusNextInput(event){var currentInput=event.target;var inputElems=this.options.formElem.getElementsByTagName('input');var currentInputFound=false;for(var i=0;i&lt; inputElems.length;i++){var input=inputElems[i];if(currentInput===input){currentInputFound=true;continue;}else if(!currentInputFound){continue;}if(input.type=== 'hidden'||input.type=== 'button'){continue;}input.focus();if(document.activeElement!==input){continue;}return input;}currentInput.blur();return null;}};function displaySubject(subjectNode, message){var subject=message.subject &amp;&amp;message.subject.trim();if(subject){subjectNode.textContent=subject;subjectNode.classList.remove('msg&#45;no&#45;subject');}else{subjectNode.textContent=mozL10n.get('message&#45;no&#45;subject');subjectNode.classList.add('msg&#45;no&#45;subject');}}exports.Cards=Cards;exports.Toaster=Toaster;exports.ConfirmDialog=ConfirmDialog;exports.FormNavigation=FormNavigation;exports.prettyDate=prettyDate;exports.prettyFileSize=prettyFileSize;exports.batchAddClass=batchAddClass;exports.bindContainerClickAndHold=bindContainerClickAndHold;exports.bindContainerHandler=bindContainerHandler;exports.appendMatchItemTo=appendMatchItemTo;exports.bindContainerHandler=bindContainerHandler;exports.displaySubject=displaySubject;})" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d14/build__stage_2email_2js_2mix_8js.html#ae57540f837ee76af1c71776a8f46ae53">define</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>UI infrastructure code and utility code for the gaia email app. </p>

</div>
</div>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../dc/d88/mail__common_8js.html">mail_common.js</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 00:56:14に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
