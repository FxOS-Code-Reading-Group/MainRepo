<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: mar_cmdline.h</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li class="current"><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>ファイル一覧</span></a></li>
      <li><a href="../../globals.html"><span>グローバル</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d9/d27/mar__cmdline_8h.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">関数</a>  </div>
  <div class="headertitle">
<div class="title">mar_cmdline.h</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="../../d9/d27/mar__cmdline_8h_source.html">ソースコードを見る。</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
関数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d04/expat_8h.html#a14bb8924daea0b48c7803f281f66e390">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d27/mar__cmdline_8h.html#a09a44c65f7253a483413600d729d4347">get_mar_file_info</a> (<a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *<a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#a44196e6a5696d10442c29e639437196e">path</a>, <a class="el" href="../../d9/d04/expat_8h.html#a14bb8924daea0b48c7803f281f66e390">int</a> *hasSignatureBlock, uint32_t *numSignatures, <a class="el" href="../../d9/d04/expat_8h.html#a14bb8924daea0b48c7803f281f66e390">int</a> *hasAdditionalBlocks, uint32_t *offsetAdditionalBlocks, uint32_t *numAdditionalBlocks)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d04/expat_8h.html#a14bb8924daea0b48c7803f281f66e390">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d27/mar__cmdline_8h.html#a26aebbea58ec30423cd9695b2ac7f223">mar_verify_signatures</a> (<a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *pathToMAR, <a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> uint8_t *<a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *certData, <a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> uint32_t *certDataSizes, <a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *<a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *certNames, uint32_t certCount)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d04/expat_8h.html#a14bb8924daea0b48c7803f281f66e390">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d27/mar__cmdline_8h.html#a7dcbc95b2fb04b0aa657fd9d3b9f1b6d">read_product_info_block</a> (char *<a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#a44196e6a5696d10442c29e639437196e">path</a>, struct <a class="el" href="../../d9/db1/struct_product_information_block.html">ProductInformationBlock</a> *infoBlock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d04/expat_8h.html#a14bb8924daea0b48c7803f281f66e390">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d27/mar__cmdline_8h.html#a8a01c4fdd0dcae7840df76e48bc39d5a">refresh_product_info_block</a> (<a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *<a class="el" href="../../d8/d64/ns_u_r_l_helper_8h.html#a44196e6a5696d10442c29e639437196e">path</a>, struct <a class="el" href="../../d9/db1/struct_product_information_block.html">ProductInformationBlock</a> *infoBlock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d04/expat_8h.html#a14bb8924daea0b48c7803f281f66e390">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d27/mar__cmdline_8h.html#aeb4c6e0a0228920075296c66b75dba4b">strip_signature_block</a> (<a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *src, <a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *dest)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d04/expat_8h.html#a14bb8924daea0b48c7803f281f66e390">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d27/mar__cmdline_8h.html#a37bdc920686d1a0ce01beb2fe30c9dd1">extract_signature</a> (<a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *src, uint32_t sigIndex, <a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *dest)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d04/expat_8h.html#a14bb8924daea0b48c7803f281f66e390">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d27/mar__cmdline_8h.html#a28f971ae414a7632bd98f99b3f276a1d">import_signature</a> (<a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *src, uint32_t sigIndex, <a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *base64SigFile, <a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *dest)</td></tr>
</table>
<hr/><h2>関数</h2>
<a class="anchor" id="a37bdc920686d1a0ce01beb2fe30c9dd1"></a><!-- doxytag: member="mar_cmdline.h::extract_signature" ref="a37bdc920686d1a0ce01beb2fe30c9dd1" args="(const char *src, uint32_t sigIndex, const char *dest)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d04/expat_8h.html#a14bb8924daea0b48c7803f281f66e390">int</a> <a class="el" href="../../d9/d27/mar__cmdline_8h.html#a37bdc920686d1a0ce01beb2fe30c9dd1">extract_signature</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sigIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Extracts a signature from a MAR file, base64 encodes it, and writes it out</p>
<dl class="params"><dt><b>引数:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>The path of the source MAR file </td></tr>
    <tr><td class="paramname">sigIndex</td><td>The index of the signature to extract </td></tr>
    <tr><td class="paramname">dest</td><td>The path of file to write the signature to </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>0 on success -1 on error </dd></dl>

</div>
</div>
<a class="anchor" id="a09a44c65f7253a483413600d729d4347"></a><!-- doxytag: member="mar_cmdline.h::get_mar_file_info" ref="a09a44c65f7253a483413600d729d4347" args="(const char *path, int *hasSignatureBlock, uint32_t *numSignatures, int *hasAdditionalBlocks, uint32_t *offsetAdditionalBlocks, uint32_t *numAdditionalBlocks)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d04/expat_8h.html#a14bb8924daea0b48c7803f281f66e390">int</a> <a class="el" href="../../d9/d27/mar__cmdline_8h.html#a09a44c65f7253a483413600d729d4347">get_mar_file_info</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d04/expat_8h.html#a14bb8924daea0b48c7803f281f66e390">int</a> *&#160;</td>
          <td class="paramname"><em>hasSignatureBlock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>numSignatures</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d04/expat_8h.html#a14bb8924daea0b48c7803f281f66e390">int</a> *&#160;</td>
          <td class="paramname"><em>hasAdditionalBlocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>offsetAdditionalBlocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>numAdditionalBlocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Determines MAR file information.</p>
<dl class="params"><dt><b>引数:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path of the MAR file to check. </td></tr>
    <tr><td class="paramname">hasSignatureBlock</td><td>Optional out parameter specifying if the MAR file has a signature block or not. </td></tr>
    <tr><td class="paramname">numSignatures</td><td>Optional out parameter for storing the number of signatures in the MAR file. </td></tr>
    <tr><td class="paramname">hasAdditionalBlocks</td><td>Optional out parameter specifying if the MAR file has additional blocks or not. </td></tr>
    <tr><td class="paramname">offsetAdditionalBlocks</td><td>Optional out parameter for the offset to the first additional block. Value is only valid if hasAdditionalBlocks is not equal to 0. </td></tr>
    <tr><td class="paramname">numAdditionalBlocks</td><td>Optional out parameter for the number of additional blocks. Value is only valid if has_additional_blocks is not equal to 0. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>0 on success and non-zero on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a28f971ae414a7632bd98f99b3f276a1d"></a><!-- doxytag: member="mar_cmdline.h::import_signature" ref="a28f971ae414a7632bd98f99b3f276a1d" args="(const char *src, uint32_t sigIndex, const char *base64SigFile, const char *dest)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d04/expat_8h.html#a14bb8924daea0b48c7803f281f66e390">int</a> <a class="el" href="../../d9/d27/mar__cmdline_8h.html#a28f971ae414a7632bd98f99b3f276a1d">import_signature</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sigIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>base64SigFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Imports a base64 encoded signature into a MAR file</p>
<dl class="params"><dt><b>引数:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>The path of the source MAR file </td></tr>
    <tr><td class="paramname">sigIndex</td><td>The index of the signature to import </td></tr>
    <tr><td class="paramname">base64SigFile</td><td>A file which contains the signature to import </td></tr>
    <tr><td class="paramname">dest</td><td>The path of the destination MAR file with replaced signature </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>0 on success -1 on error </dd></dl>

</div>
</div>
<a class="anchor" id="a26aebbea58ec30423cd9695b2ac7f223"></a><!-- doxytag: member="mar_cmdline.h::mar_verify_signatures" ref="a26aebbea58ec30423cd9695b2ac7f223" args="(const char *pathToMAR, const uint8_t *const *certData, const uint32_t *certDataSizes, const char *const *certNames, uint32_t certCount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d04/expat_8h.html#a14bb8924daea0b48c7803f281f66e390">int</a> <a class="el" href="../../d9/d27/mar__cmdline_8h.html#a26aebbea58ec30423cd9695b2ac7f223">mar_verify_signatures</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>pathToMAR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> uint8_t *<a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *&#160;</td>
          <td class="paramname"><em>certData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> uint32_t *&#160;</td>
          <td class="paramname"><em>certDataSizes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *<a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *&#160;</td>
          <td class="paramname"><em>certNames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>certCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Verifies a MAR file by verifying each signature with the corresponding certificate. That is, the first signature will be verified using the first certificate given, the second signature will be verified using the second certificate given, etc. The signature count must exactly match the number of certificates given, and all signature verifications must succeed. This is only used by the signmar program when used with arguments to verify a MAR. This should not be used to verify a MAR that will be extracted in the same operation by updater code. This function prints the error message if verification fails.</p>
<dl class="params"><dt><b>引数:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pathToMAR</td><td>The path of the MAR file whose signature should be checked </td></tr>
    <tr><td class="paramname">certData</td><td>Pointer to the first element in an array of certificate file data. </td></tr>
    <tr><td class="paramname">certDataSizes</td><td>Pointer to the first element in an array for size of the cert data. </td></tr>
    <tr><td class="paramname">certNames</td><td>Pointer to the first element in an array of certificate names. Used only if compiled with NSS support </td></tr>
    <tr><td class="paramname">certCount</td><td>The number of elements in certData, certDataSizes, and certNames </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>0 on success a negative number if there was an error a positive number if the signature does not verify </dd></dl>

</div>
</div>
<a class="anchor" id="a7dcbc95b2fb04b0aa657fd9d3b9f1b6d"></a><!-- doxytag: member="mar_cmdline.h::read_product_info_block" ref="a7dcbc95b2fb04b0aa657fd9d3b9f1b6d" args="(char *path, struct ProductInformationBlock *infoBlock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d04/expat_8h.html#a14bb8924daea0b48c7803f281f66e390">int</a> <a class="el" href="../../d9/d27/mar__cmdline_8h.html#a7dcbc95b2fb04b0aa657fd9d3b9f1b6d">read_product_info_block</a> </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/db1/struct_product_information_block.html">ProductInformationBlock</a> *&#160;</td>
          <td class="paramname"><em>infoBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reads the product info block from the MAR file's additional block section. The caller is responsible for freeing the fields in infoBlock if the return is successful.</p>
<dl class="params"><dt><b>引数:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">infoBlock</td><td>Out parameter for where to store the result to </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>0 on success, -1 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a8a01c4fdd0dcae7840df76e48bc39d5a"></a><!-- doxytag: member="mar_cmdline.h::refresh_product_info_block" ref="a8a01c4fdd0dcae7840df76e48bc39d5a" args="(const char *path, struct ProductInformationBlock *infoBlock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d04/expat_8h.html#a14bb8924daea0b48c7803f281f66e390">int</a> <a class="el" href="../../d9/d27/mar__cmdline_8h.html#a8a01c4fdd0dcae7840df76e48bc39d5a">refresh_product_info_block</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d9/db1/struct_product_information_block.html">ProductInformationBlock</a> *&#160;</td>
          <td class="paramname"><em>infoBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Refreshes the product information block with the new information. The input MAR must not be signed or the function call will fail.</p>
<dl class="params"><dt><b>引数:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path to the MAR file whose product info block should be refreshed. </td></tr>
    <tr><td class="paramname">infoBlock</td><td>Out parameter for where to store the result to </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>0 on success, -1 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="aeb4c6e0a0228920075296c66b75dba4b"></a><!-- doxytag: member="mar_cmdline.h::strip_signature_block" ref="aeb4c6e0a0228920075296c66b75dba4b" args="(const char *src, const char *dest)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d04/expat_8h.html#a14bb8924daea0b48c7803f281f66e390">int</a> <a class="el" href="../../d9/d27/mar__cmdline_8h.html#aeb4c6e0a0228920075296c66b75dba4b">strip_signature_block</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Writes out a copy of the MAR at src but with the signature block stripped.</p>
<dl class="params"><dt><b>引数:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>The path of the source MAR file </td></tr>
    <tr><td class="paramname">dest</td><td>The path of the MAR file to write out that has no signature block </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>戻り値:</b></dt><dd>0 on success -1 on error </dd></dl>

</div>
</div>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d9/d27/mar__cmdline_8h.html">mar_cmdline.h</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 00:56:15に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
