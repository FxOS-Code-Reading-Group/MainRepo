<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: operator_variant_helper.js</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li class="current"><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>ファイル一覧</span></a></li>
      <li><a href="../../globals.html"><span>グローバル</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d9/d4c/build__stage_2email_2shared_2js_2operator__variant__helper_8js.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">関数</a> &#124;
<a href="#var-members">変数</a>  </div>
  <div class="headertitle">
<div class="title">operator_variant_helper.js</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="../../d9/d4c/build__stage_2email_2shared_2js_2operator__variant__helper_8js_source.html">ソースコードを見る。</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
関数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d4c/build__stage_2email_2shared_2js_2operator__variant__helper_8js.html#aea609fa42764b5c6f533791c6cf4324e">OperatorVariantHelper</a> (listener, persistKey, checkNow)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
変数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/db1/shared_2js_2operator__variant__helper_8js.html#aea609fa42764b5c6f533791c6cf4324e">OperatorVariantHelper</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d4c/build__stage_2email_2shared_2js_2operator__variant__helper_8js.html#af6861e32c03c7c64afed4d9b6e05f78d">prototype</a></td></tr>
</table>
<hr/><h2>関数</h2>
<a class="anchor" id="aea609fa42764b5c6f533791c6cf4324e"></a><!-- doxytag: member="build_stage/email/shared/js/operator_variant_helper.js::OperatorVariantHelper" ref="aea609fa42764b5c6f533791c6cf4324e" args="(listener, persistKey, checkNow)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/dc4/pralarm_8h.html#a7b570f1c425a05af1046d4e6f37d5a0f">function</a> <a class="el" href="../../d1/db1/shared_2js_2operator__variant__helper_8js.html#aea609fa42764b5c6f533791c6cf4324e">OperatorVariantHelper</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>persistKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>checkNow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>An OperatorVariantHelper object can be used to trigger customizations in an application at startup.</p>
<p>The object will call the listener passed to it during construction if the MCC/MNC pair present on the SIM card differs from the previously seen pair. The listener will also be called during first boot up of the device.</p>
<p>Optionally, one can also use an OperatorVariantListener object to listen to SIM card changes during runtime, using the 'listen' method. This can enable applications to support multi-SIM devices if appropriate for the functionality it provides.</p>
<dl class="params"><dt><b>引数:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">{Function}</td><td>listener - A listener function that will be called when a check occurs and the SIM information has changed. The function signature should match the following: function(mcc, mnc). </td></tr>
    <tr><td class="paramname">{String}</td><td>persistKey - The settings key which will be used to persist if the customizations have been applied. We recommend using the application package name as the root for your key along with 'customization'. The persisted setting is a boolean value, where true means the customizations have been applied. </td></tr>
    <tr><td class="paramname">{Boolean}</td><td>checkNow - Perform a check for SIM card change immediately. Defaults to true.</td></tr>
  </table>
  </dd>
</dl>

<p> <a class="el" href="../../d9/d4c/build__stage_2email_2shared_2js_2operator__variant__helper_8js_source.html">build_stage/email/shared/js/operator_variant_helper.js</a> の <a class="el" href="../../d9/d4c/build__stage_2email_2shared_2js_2operator__variant__helper_8js_source.html#l00036">36</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="../../d9/d42/caldav__worker_8js_source.html#l00018">console</a>, <a class="el" href="../../dc/d06/calendar_2js_2error_8js_source.html#l00001">Error</a>, <a class="el" href="../../d6/dcc/build__stage_2email_2shared_2js_2icc__helper_8js_source.html#l00012">IccHelper</a>, <a class="el" href="../../d1/d04/app__install__manager_8js_source.html#l00420">null</a>, <a class="el" href="../../d1/d22/ical_8js.html#a6053319846c80bf9561a1958bb817380">typeof()</a>, と <a class="el" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js_source.html#l01331">window</a>.</p>

<p>参照元 <a class="el" href="../../d7/d69/operator__variant_8js_source.html#l00006">OperatorVariant()</a>.</p>
<div class="fragment"><pre class="fragment">                                                               {
  var errMsg = <a class="code" href="../../d1/d04/app__install__manager_8js.html#a66d98f9009f0502b9a5ce70e907f8f27">null</a>;

  <span class="comment">// The IccHelper should be available. If it&#39;s not, we will report a warning</span>
  <span class="comment">// only. Under b2g desktop and fxos simulator it can be totally normal for the</span>
  <span class="comment">// IccHelper to be absent.</span>
  <span class="keywordflow">if</span> (<a class="code" href="../../d6/dcc/build__stage_2email_2shared_2js_2icc__helper_8js.html#a80c40e570948e343aa46cb125ce82ab4">IccHelper</a> === undefined) {
    <span class="comment">// Warn the developer.</span>
    errMsg = <span class="stringliteral">&#39;Expected IccHelper to be present. This can be normal when using&#39;</span> +
             <span class="stringliteral">&#39;B2G Desktop or FxOS Simulator.&#39;</span>;
    <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.warn(errMsg);
    <span class="comment">// Bail out!</span>
    <span class="keywordflow">return</span>;
  }

  <span class="comment">// ... and it should be enabled.</span>
  <span class="keywordflow">if</span> (!<a class="code" href="../../d6/dcc/build__stage_2email_2shared_2js_2icc__helper_8js.html#a80c40e570948e343aa46cb125ce82ab4">IccHelper</a>.enabled) {
    <span class="comment">// Indicate this may be an expected exception.</span>
    errMsg = <span class="stringliteral">&#39;Expected IccHelper to be enabled. This error is expected and &#39;</span> +
             <span class="stringliteral">&#39;normal if you are running B2G Desktop or FxOS Simulator.&#39;</span>;
    <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.error(errMsg);
    <span class="comment">// Exceptional errors require exceptions. :P</span>
    <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="../../dc/d06/calendar_2js_2error_8js.html#abd05c43175d3c93c6889542cefc822f3">Error</a>(errMsg);
  }

  <span class="comment">// And mozSettings must be present.</span>
  var settings = <a class="code" href="../../dd/d64/apps_2email_2js_2ext_2mailapi_2worker-bootstrap_8js.html#a1f5517920aaab1f97bda91f10438fb05">window</a>.navigator.mozSettings;
  <span class="keywordflow">if</span> (!settings) {
    errMsg = <span class="stringliteral">&#39;Expected mozSettings to be present.&#39;</span>;
    <a class="code" href="../../d9/d42/caldav__worker_8js.html#ac798a668e63cdb5c7af2b97ab014f85f">console</a>.error(errMsg);
    <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="../../dc/d06/calendar_2js_2error_8js.html#abd05c43175d3c93c6889542cefc822f3">Error</a>(errMsg);
  }

  <span class="keywordflow">if</span> (listener === undefined || <a class="code" href="../../d1/d22/ical_8js.html#a6053319846c80bf9561a1958bb817380">typeof</a> listener !== <span class="stringliteral">&#39;function&#39;</span>) {
    <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="../../dc/d06/calendar_2js_2error_8js.html#abd05c43175d3c93c6889542cefc822f3">Error</a>(<span class="stringliteral">&#39;listener argument must be a function!&#39;</span>);
  }

  this._listener = listener;

  <span class="keywordflow">if</span> (persistKey === undefined || <a class="code" href="../../d1/d22/ical_8js.html#a6053319846c80bf9561a1958bb817380">typeof</a> persistKey !== <span class="stringliteral">&#39;string&#39;</span>) {
    <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="../../dc/d06/calendar_2js_2error_8js.html#abd05c43175d3c93c6889542cefc822f3">Error</a>(<span class="stringliteral">&#39;persistKey argument must be a string!&#39;</span>);
  }

  this._persistKey = persistKey;

  <span class="keywordflow">if</span> (!!checkNow) {
    this.customize();
  }
}
</pre></div>
<p><div class="dynheader">
関数の呼び出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d4c/build__stage_2email_2shared_2js_2operator__variant__helper_8js_aea609fa42764b5c6f533791c6cf4324e_cgraph.svg" width="270" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
呼出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/d4c/build__stage_2email_2shared_2js_2operator__variant__helper_8js_aea609fa42764b5c6f533791c6cf4324e_icgraph.svg" width="326" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<hr/><h2>変数</h2>
<a class="anchor" id="af6861e32c03c7c64afed4d9b6e05f78d"></a><!-- doxytag: member="build_stage/email/shared/js/operator_variant_helper.js::prototype" ref="af6861e32c03c7c64afed4d9b6e05f78d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/db1/shared_2js_2operator__variant__helper_8js.html#aea609fa42764b5c6f533791c6cf4324e">OperatorVariantHelper</a> <a class="el" href="../../d6/dec/mocha-bin_8js.html#a240a06b4dda3a9e2e025ed5792cd5f4e">prototype</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../d9/d4c/build__stage_2email_2shared_2js_2operator__variant__helper_8js_source.html">build_stage/email/shared/js/operator_variant_helper.js</a> の <a class="el" href="../../d9/d4c/build__stage_2email_2shared_2js_2operator__variant__helper_8js_source.html#l00086">86</a> 行で定義されています。</p>

</div>
</div>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d9/d4c/build__stage_2email_2shared_2js_2operator__variant__helper_8js.html">operator_variant_helper.js</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 00:57:39に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
