<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: クラス nsTPromiseFlatString_CharT</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li><a href="../../classes.html"><span>データ構造索引</span></a></li>
      <li><a href="../../inherits.html"><span>クラス階層</span></a></li>
      <li><a href="../../functions.html"><span>データフィールド</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d9/de2/classns_t_promise_flat_string___char_t.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public 型</a> &#124;
<a href="#pub-methods">Public メソッド</a>  </div>
  <div class="headertitle">
<div class="title">クラス nsTPromiseFlatString_CharT</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="nsTPromiseFlatString_CharT" --><!-- doxytag: inherits="nsTString_CharT" -->
<p><code>#include &lt;<a class="el" href="../../dc/db3/ns_t_promise_flat_string_8h_source.html">nsTPromiseFlatString.h</a>&gt;</code></p>
<div class="dynheader">
nsTPromiseFlatString_CharTに対する継承グラフ</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d5/dac/classns_t_promise_flat_string___char_t__inherit__graph.svg" width="200" height="195"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">凡例</a>]</span></center></div>
<div class="dynheader">
nsTPromiseFlatString_CharTのコラボレーション図</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d62/classns_t_promise_flat_string___char_t__coll__graph.svg" width="200" height="195"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">凡例</a>]</span></center></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public 型</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d9/de2/classns_t_promise_flat_string___char_t.html">nsTPromiseFlatString_CharT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de2/classns_t_promise_flat_string___char_t.html#a5a933de57946b2a9056ce34fc941d8ba">self_type</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de2/classns_t_promise_flat_string___char_t.html#a76debe69c91d5e3bb37aa9125413b0ca">nsTPromiseFlatString_CharT</a> (<a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d4/dc1/classns_t_substring___char_t.html#a5ce34992b08d75634d7e1cd83c5e961c">substring_type</a> &amp;<a class="el" href="../../d2/d7d/jsapi_8h.html#a406850e78f9a9129a4535bbd1b323dd1">str</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de2/classns_t_promise_flat_string___char_t.html#a6f229579e58da6644ab7097f43fad058">nsTPromiseFlatString_CharT</a> (<a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d4/dc1/classns_t_substring___char_t.html#a136d7a945e982c9e3cf9f74694794662">substring_tuple_type</a> &amp;tuple)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>説明</h2>
<div class="textblock"><p>NOTE:</p>
<p>Try to avoid flat strings. |PromiseFlat[C]String| will help you as a last resort, and this may be necessary when dealing with legacy or OS calls, but in general, requiring a null-terminated array of characters kills many of the performance wins the string classes offer. Write your own code to use |nsA[C]String&amp;|s for parameters. Write your string proccessing algorithms to exploit iterators. If you do this, you will benefit from being able to chain operations without copying or allocating and your code will be significantly more efficient. Remember, a function that takes an |const nsA[C]String&amp;| can always be passed a raw character pointer by wrapping it (for free) in a |nsDependent[C]String|. But a function that takes a character pointer always has the potential to force allocation and copying.</p>
<p>How to use it:</p>
<p>A |nsPromiseFlat[C]String| doesn't necessarily own the characters it promises. You must never use it to promise characters out of a string with a shorter lifespan. The typical use will be something like this:</p>
<p>SomeOSFunction( PromiseFlatCString(aCSubstring).<a class="el" href="../../db/d78/classns_t_string___char_t.html#a321d3868c094bf038499b1b26eec2302">get()</a> ); // GOOD</p>
<p>Here's a BAD use:</p>
<p>const char* buffer = PromiseFlatCString(aCSubstring).<a class="el" href="../../db/d78/classns_t_string___char_t.html#a321d3868c094bf038499b1b26eec2302">get()</a>; SomeOSFunction(buffer); // BAD!! |buffer| is a dangling pointer</p>
<p>The only way to make one is with the function |PromiseFlat[C]String|, which produce a |const| instance. ``What if I need to keep a promise around for a little while?'' you might ask. In that case, you can keep a reference, like so</p>
<p>const nsCString&amp; flat = PromiseFlatString(aCSubstring); // this reference holds the anonymous temporary alive, but remember, // it must _still_ have a lifetime shorter than that of |aCSubstring|</p>
<p>SomeOSFunction(flat.get()); SomeOtherOSFunction(flat.get());</p>
<p>How does it work?</p>
<p>A |nsPromiseFlat[C]String| is just a wrapper for another string. If you apply it to a string that happens to be flat, your promise is just a dependent reference to the string's data. If you apply it to a non-flat string, then a temporary flat string is created for you, by allocating and copying. In the event that you end up assigning the result into a sharing string (e.g., |nsTString|), the right thing happens. </p>

<p> <a class="el" href="../../dc/db3/ns_t_promise_flat_string_8h_source.html">nsTPromiseFlatString.h</a> の <a class="el" href="../../dc/db3/ns_t_promise_flat_string_8h_source.html#l00061">61</a> 行で定義されています。</p>
</div><hr/><h2>型定義</h2>
<a class="anchor" id="a5a933de57946b2a9056ce34fc941d8ba"></a><!-- doxytag: member="nsTPromiseFlatString_CharT::self_type" ref="a5a933de57946b2a9056ce34fc941d8ba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d9/de2/classns_t_promise_flat_string___char_t.html">nsTPromiseFlatString_CharT</a> <a class="el" href="../../d9/de2/classns_t_promise_flat_string___char_t.html#a5a933de57946b2a9056ce34fc941d8ba">nsTPromiseFlatString_CharT::self_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="../../db/d78/classns_t_string___char_t.html#a86a2b24dab96f33ff46cc97f16d3186f">nsTString_CharT</a>を再定義しています。</p>

<p> <a class="el" href="../../dc/db3/ns_t_promise_flat_string_8h_source.html">nsTPromiseFlatString.h</a> の <a class="el" href="../../dc/db3/ns_t_promise_flat_string_8h_source.html#l00065">65</a> 行で定義されています。</p>

</div>
</div>
<hr/><h2>コンストラクタとデストラクタ</h2>
<a class="anchor" id="a76debe69c91d5e3bb37aa9125413b0ca"></a><!-- doxytag: member="nsTPromiseFlatString_CharT::nsTPromiseFlatString_CharT" ref="a76debe69c91d5e3bb37aa9125413b0ca" args="(const substring_type &amp;str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nsTPromiseFlatString_CharT::nsTPromiseFlatString_CharT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d4/dc1/classns_t_substring___char_t.html#a5ce34992b08d75634d7e1cd83c5e961c">substring_type</a> &amp;&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../dc/db3/ns_t_promise_flat_string_8h_source.html">nsTPromiseFlatString.h</a> の <a class="el" href="../../dc/db3/ns_t_promise_flat_string_8h_source.html#l00083">83</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="../../df/d44/permission__manager_8js_source.html#l00121">str</a>.</p>
<div class="fragment"><pre class="fragment">        : <a class="code" href="../../d4/dc1/classns_t_substring___char_t.html#a9aaa12368604c9e4aeb593ff4b16f15f">string_type</a>()
        {
          <a class="code" href="../../de/d79/namespacemozilla_1_1_available_memory_tracker.html#adb9d7dd5b6bb0a630490b2a4e7ef588e">Init</a>(<a class="code" href="../../df/d44/permission__manager_8js.html#a176e0fe9a3e516f5aa501f9dcf2eb97b">str</a>);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a6f229579e58da6644ab7097f43fad058"></a><!-- doxytag: member="nsTPromiseFlatString_CharT::nsTPromiseFlatString_CharT" ref="a6f229579e58da6644ab7097f43fad058" args="(const substring_tuple_type &amp;tuple)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nsTPromiseFlatString_CharT::nsTPromiseFlatString_CharT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="../../d4/dc1/classns_t_substring___char_t.html#a136d7a945e982c9e3cf9f74694794662">substring_tuple_type</a> &amp;&#160;</td>
          <td class="paramname"><em>tuple</em></td><td>)</td>
          <td><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p> <a class="el" href="../../dc/db3/ns_t_promise_flat_string_8h_source.html">nsTPromiseFlatString.h</a> の <a class="el" href="../../dc/db3/ns_t_promise_flat_string_8h_source.html#l00090">90</a> 行で定義されています。</p>

<p>参照先 <a class="el" href="../../d4/dc1/classns_t_substring___char_t.html#a2c34f9e85766f5ff20a25bf47f9983c9">nsTSubstring_CharT::Assign()</a>.</p>
<div class="fragment"><pre class="fragment">        : <a class="code" href="../../d4/dc1/classns_t_substring___char_t.html#a9aaa12368604c9e4aeb593ff4b16f15f">string_type</a>()
        {
          <span class="comment">// nothing else to do here except assign the value of the tuple</span>
          <span class="comment">// into ourselves.</span>
          <a class="code" href="../../d4/dc1/classns_t_substring___char_t.html#a2c34f9e85766f5ff20a25bf47f9983c9">Assign</a>(tuple);
        }
</pre></div>
<p><div class="dynheader">
関数の呼び出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d9/de2/classns_t_promise_flat_string___char_t_a6f229579e58da6644ab7097f43fad058_cgraph.svg" width="619" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<hr/>このクラスの説明は次のファイルから生成されました:<ul>
<li><a class="el" href="../../dc/db3/ns_t_promise_flat_string_8h_source.html">nsTPromiseFlatString.h</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d9/de2/classns_t_promise_flat_string___char_t.html">nsTPromiseFlatString_CharT</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 01:01:13に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
