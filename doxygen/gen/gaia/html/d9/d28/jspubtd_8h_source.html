<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: jspubtd.h ソースファイル</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li class="current"><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>ファイル一覧</span></a></li>
      <li><a href="../../globals.html"><span>グローバル</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d9/d28/jspubtd_8h.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">jspubtd.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d9/d28/jspubtd_8h.html">説明を見る。</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* -*- Mode: C++; tab-width: 8; indent-tabs-mode: nil; c-basic-offset: 4 -*-</span>
<a name="l00002"></a>00002 <span class="comment"> * vim: set ts=8 sts=4 et sw=4 tw=99:</span>
<a name="l00003"></a>00003 <span class="comment"> * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a name="l00004"></a>00004 <span class="comment"> * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a name="l00005"></a>00005 <span class="comment"> * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 <span class="preprocessor">#ifndef jspubtd_h</span>
<a name="l00008"></a>00008 <span class="preprocessor"></span><span class="preprocessor">#define jspubtd_h</span>
<a name="l00009"></a>00009 <span class="preprocessor"></span>
<a name="l00010"></a>00010 <span class="comment">/*</span>
<a name="l00011"></a>00011 <span class="comment"> * JS public API typedefs.</span>
<a name="l00012"></a>00012 <span class="comment"> */</span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <span class="preprocessor">#include &quot;<a class="code" href="../../dd/d11/_pod_operations_8h.html">mozilla/PodOperations.h</a>&quot;</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 <span class="preprocessor">#include &quot;<a class="code" href="../../d0/d19/jsprototypes_8h.html">jsprototypes.h</a>&quot;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &quot;<a class="code" href="../../d9/d8c/jstypes_8h.html">jstypes.h</a>&quot;</span>
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="preprocessor">#if defined(JSGC_ROOT_ANALYSIS) || defined(JSGC_USE_EXACT_ROOTING) || defined(DEBUG)</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span><span class="preprocessor"># define JSGC_TRACK_EXACT_ROOTS</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span>
<a name="l00023"></a>00023 <span class="keyword">namespace </span>JS {
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="comment">/*</span>
<a name="l00026"></a>00026 <span class="comment"> * Allow headers to reference JS::Value without #including the whole jsapi.h.</span>
<a name="l00027"></a>00027 <span class="comment"> * Unfortunately, typedefs (hence jsval) cannot be declared.</span>
<a name="l00028"></a>00028 <span class="comment"> */</span>
<a name="l00029"></a>00029 <span class="keyword">class </span>Value;
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00032"></a>00032 <span class="keyword">class </span>Rooted;
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="keyword">class </span><a class="code" href="../../da/d7b/namespace_j_s.html#af066ac8d16defce202733c71cbc1970f">JS_PUBLIC_API</a>(AutoGCRooter);
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="keyword">struct </span>Zone;
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 } <span class="comment">/* namespace JS */</span>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="comment">/*</span>
<a name="l00041"></a>00041 <span class="comment"> * In release builds, jsid is defined to be an integral type. This</span>
<a name="l00042"></a>00042 <span class="comment"> * prevents many bugs from being caught at compile time. E.g.:</span>
<a name="l00043"></a>00043 <span class="comment"> *</span>
<a name="l00044"></a>00044 <span class="comment"> *  jsid id = ...</span>
<a name="l00045"></a>00045 <span class="comment"> *  if (id == JS_TRUE)  // error</span>
<a name="l00046"></a>00046 <span class="comment"> *    ...</span>
<a name="l00047"></a>00047 <span class="comment"> *</span>
<a name="l00048"></a>00048 <span class="comment"> *  size_t n = id;      // error</span>
<a name="l00049"></a>00049 <span class="comment"> *</span>
<a name="l00050"></a>00050 <span class="comment"> * To catch more errors, jsid is given a struct type in C++ debug builds.</span>
<a name="l00051"></a>00051 <span class="comment"> * Struct assignment and (in C++) operator== allow correct code to be mostly</span>
<a name="l00052"></a>00052 <span class="comment"> * oblivious to the change. This feature can be explicitly disabled in debug</span>
<a name="l00053"></a>00053 <span class="comment"> * builds by defining JS_NO_JSVAL_JSID_STRUCT_TYPES.</span>
<a name="l00054"></a>00054 <span class="comment"> */</span>
<a name="l00055"></a>00055 <span class="preprocessor"># if defined(DEBUG) &amp;&amp; !defined(JS_NO_JSVAL_JSID_STRUCT_TYPES)</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span><span class="preprocessor">#  define JS_USE_JSID_STRUCT_TYPES</span>
<a name="l00057"></a>00057 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
<a name="l00058"></a>00058 <span class="preprocessor"></span>
<a name="l00059"></a>00059 <span class="preprocessor"># ifdef JS_USE_JSID_STRUCT_TYPES</span>
<a name="l00060"></a>00060 <span class="preprocessor"></span><span class="keyword">struct </span><a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">jsid</a>
<a name="l00061"></a>00061 {
<a name="l00062"></a>00062     <span class="keywordtype">size_t</span> asBits;
<a name="l00063"></a>00063     <span class="keywordtype">bool</span> <a class="code" href="../../dd/dc3/gfx_font_features_8h.html#a33768cf980b69a442792490564d1c763">operator==</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">jsid</a> rhs)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> asBits == rhs.asBits; }
<a name="l00064"></a>00064     <span class="keywordtype">bool</span> <a class="code" href="../../d2/d93/namespacemozilla.html#a7652895df8c85899a37314e606845781">operator!=</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">jsid</a> rhs)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> asBits != rhs.asBits; }
<a name="l00065"></a>00065 };
<a name="l00066"></a>00066 <span class="preprocessor">#  define JSID_BITS(id) (id.asBits)</span>
<a name="l00067"></a>00067 <span class="preprocessor"></span><span class="preprocessor"># else  </span><span class="comment">/* defined(JS_USE_JSID_STRUCT_TYPES) */</span>
<a name="l00068"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">00068</a> <span class="keyword">typedef</span> ptrdiff_t <a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">jsid</a>;
<a name="l00069"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#a0ad679b26727881bfa4628883a66dd0f">00069</a> <span class="preprocessor">#  define JSID_BITS(id) (id)</span>
<a name="l00070"></a>00070 <span class="preprocessor"></span><span class="preprocessor"># endif  </span><span class="comment">/* defined(JS_USE_JSID_STRUCT_TYPES) */</span>
<a name="l00071"></a>00071 
<a name="l00072"></a>00072 <span class="preprocessor">#ifdef WIN32</span>
<a name="l00073"></a>00073 <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keywordtype">wchar_t</span>   <a class="code" href="../../d9/d28/jspubtd_8h.html#a402ffb3c791d4197e0bf8f3aaeaf1779">jschar</a>;
<a name="l00074"></a>00074 <span class="preprocessor">#else</span>
<a name="l00075"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#a402ffb3c791d4197e0bf8f3aaeaf1779">00075</a> <span class="preprocessor"></span><span class="keyword">typedef</span> uint16_t  <a class="code" href="../../d9/d28/jspubtd_8h.html#a402ffb3c791d4197e0bf8f3aaeaf1779">jschar</a>;
<a name="l00076"></a>00076 <span class="preprocessor">#endif</span>
<a name="l00077"></a>00077 <span class="preprocessor"></span>
<a name="l00078"></a>00078 <span class="comment">/*</span>
<a name="l00079"></a>00079 <span class="comment"> * Run-time version enumeration.  For compile-time version checking, please use</span>
<a name="l00080"></a>00080 <span class="comment"> * the JS_HAS_* macros in jsversion.h, or use MOZJS_MAJOR_VERSION,</span>
<a name="l00081"></a>00081 <span class="comment"> * MOZJS_MINOR_VERSION, MOZJS_PATCH_VERSION, and MOZJS_ALPHA definitions.</span>
<a name="l00082"></a>00082 <span class="comment"> */</span>
<a name="l00083"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ade6c7929666b23f4c77f0529635a4fe5">00083</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d9/d28/jspubtd_8h.html#ade6c7929666b23f4c77f0529635a4fe5">JSVersion</a> {
<a name="l00084"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ade6c7929666b23f4c77f0529635a4fe5a8c4bb98b4a1ec5dd8f18e3cd740c9d16">00084</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ade6c7929666b23f4c77f0529635a4fe5a8c4bb98b4a1ec5dd8f18e3cd740c9d16">JSVERSION_ECMA_3</a>  = 148,
<a name="l00085"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ade6c7929666b23f4c77f0529635a4fe5a3367dbedaa6be280cd5fde06bddbe02f">00085</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ade6c7929666b23f4c77f0529635a4fe5a3367dbedaa6be280cd5fde06bddbe02f">JSVERSION_1_6</a>     = 160,
<a name="l00086"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ade6c7929666b23f4c77f0529635a4fe5a117903ae763cf9fce473d886f97ed7c0">00086</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ade6c7929666b23f4c77f0529635a4fe5a117903ae763cf9fce473d886f97ed7c0">JSVERSION_1_7</a>     = 170,
<a name="l00087"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ade6c7929666b23f4c77f0529635a4fe5a2d24d91c0fd1841f0d611921c68f2160">00087</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ade6c7929666b23f4c77f0529635a4fe5a2d24d91c0fd1841f0d611921c68f2160">JSVERSION_1_8</a>     = 180,
<a name="l00088"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ade6c7929666b23f4c77f0529635a4fe5af874487c3d53c4da5e10d16aa9553308">00088</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ade6c7929666b23f4c77f0529635a4fe5af874487c3d53c4da5e10d16aa9553308">JSVERSION_ECMA_5</a>  = 185,
<a name="l00089"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ade6c7929666b23f4c77f0529635a4fe5aa634f2d51819025481925953e92799f0">00089</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ade6c7929666b23f4c77f0529635a4fe5aa634f2d51819025481925953e92799f0">JSVERSION_DEFAULT</a> = 0,
<a name="l00090"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ade6c7929666b23f4c77f0529635a4fe5af0b5e6acf2a31aaef931d6c4afa32eed">00090</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ade6c7929666b23f4c77f0529635a4fe5af0b5e6acf2a31aaef931d6c4afa32eed">JSVERSION_UNKNOWN</a> = -1,
<a name="l00091"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ade6c7929666b23f4c77f0529635a4fe5a89209b79fc3078d8f2253a968f9a8d85">00091</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ade6c7929666b23f4c77f0529635a4fe5a89209b79fc3078d8f2253a968f9a8d85">JSVERSION_LATEST</a>  = <a class="code" href="../../d9/d28/jspubtd_8h.html#ade6c7929666b23f4c77f0529635a4fe5af874487c3d53c4da5e10d16aa9553308">JSVERSION_ECMA_5</a>
<a name="l00092"></a>00092 } <a class="code" href="../../d9/d28/jspubtd_8h.html#ade6c7929666b23f4c77f0529635a4fe5">JSVersion</a>;
<a name="l00093"></a>00093 
<a name="l00094"></a>00094 <span class="comment">/* Result of typeof operator enumeration. */</span>
<a name="l00095"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ab828a4e860944557526a55ef30823ccd">00095</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d9/d28/jspubtd_8h.html#ab828a4e860944557526a55ef30823ccd">JSType</a> {
<a name="l00096"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ab828a4e860944557526a55ef30823ccda526eda17a474abb2af8b1fefc496b73e">00096</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ab828a4e860944557526a55ef30823ccda526eda17a474abb2af8b1fefc496b73e">JSTYPE_VOID</a>,                <span class="comment">/* undefined */</span>
<a name="l00097"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ab828a4e860944557526a55ef30823ccdac2adbd631824f1200c08cf416dd73643">00097</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ab828a4e860944557526a55ef30823ccdac2adbd631824f1200c08cf416dd73643">JSTYPE_OBJECT</a>,              <span class="comment">/* object */</span>
<a name="l00098"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ab828a4e860944557526a55ef30823ccda5086e647aa7e95660d81ce35f61ad823">00098</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ab828a4e860944557526a55ef30823ccda5086e647aa7e95660d81ce35f61ad823">JSTYPE_FUNCTION</a>,            <span class="comment">/* function */</span>
<a name="l00099"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ab828a4e860944557526a55ef30823ccdaade71fa21912cc24a35ab4e32ab33733">00099</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ab828a4e860944557526a55ef30823ccdaade71fa21912cc24a35ab4e32ab33733">JSTYPE_STRING</a>,              <span class="comment">/* string */</span>
<a name="l00100"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ab828a4e860944557526a55ef30823ccdaaad308c4755ffa075cbab195605f8137">00100</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ab828a4e860944557526a55ef30823ccdaaad308c4755ffa075cbab195605f8137">JSTYPE_NUMBER</a>,              <span class="comment">/* number */</span>
<a name="l00101"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ab828a4e860944557526a55ef30823ccda10a67780087a8c35884a7e1555c1bfc6">00101</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ab828a4e860944557526a55ef30823ccda10a67780087a8c35884a7e1555c1bfc6">JSTYPE_BOOLEAN</a>,             <span class="comment">/* boolean */</span>
<a name="l00102"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ab828a4e860944557526a55ef30823ccda20c438f25079b7bf112af8b1cadc1fb7">00102</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ab828a4e860944557526a55ef30823ccda20c438f25079b7bf112af8b1cadc1fb7">JSTYPE_NULL</a>,                <span class="comment">/* null */</span>
<a name="l00103"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ab828a4e860944557526a55ef30823ccda1f8432da92a01c22d86f17b43133383e">00103</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ab828a4e860944557526a55ef30823ccda1f8432da92a01c22d86f17b43133383e">JSTYPE_LIMIT</a>
<a name="l00104"></a>00104 } <a class="code" href="../../d9/d28/jspubtd_8h.html#ab828a4e860944557526a55ef30823ccd">JSType</a>;
<a name="l00105"></a>00105 
<a name="l00106"></a>00106 <span class="comment">/* Dense index into cached prototypes and class atoms for standard objects. */</span>
<a name="l00107"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#a8f71921e8bdde4dc9e52269750095beb">00107</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d9/d28/jspubtd_8h.html#a8f71921e8bdde4dc9e52269750095beb">JSProtoKey</a> {
<a name="l00108"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ab482bcf61179cbb3f93a124b445c8083">00108</a> <span class="preprocessor">#define PROTOKEY_AND_INITIALIZER(name,code,init) JSProto_##name = code,</span>
<a name="l00109"></a>00109 <span class="preprocessor"></span>    <a class="code" href="../../d0/d19/jsprototypes_8h.html#adeb24407c3491060c8f1a8582163176b">JS_FOR_EACH_PROTOTYPE</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#ab482bcf61179cbb3f93a124b445c8083">PROTOKEY_AND_INITIALIZER</a>)
<a name="l00110"></a>00110 <span class="preprocessor">#undef JS_PROTO</span>
<a name="l00111"></a>00111 <span class="preprocessor"></span>    JSProto_LIMIT
<a name="l00112"></a>00112 } <a class="code" href="../../d9/d28/jspubtd_8h.html#a8f71921e8bdde4dc9e52269750095beb">JSProtoKey</a>;
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 <span class="comment">/* js_CheckAccess mode enumeration. */</span>
<a name="l00115"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#acad347434fc6d77ffff955b68079e7c9">00115</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d9/d28/jspubtd_8h.html#acad347434fc6d77ffff955b68079e7c9">JSAccessMode</a> {
<a name="l00116"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#acad347434fc6d77ffff955b68079e7c9a71a4253a65c8791edc12e21d92113cc9">00116</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#acad347434fc6d77ffff955b68079e7c9a71a4253a65c8791edc12e21d92113cc9">JSACC_PROTO</a>  = 0,           <span class="comment">/* XXXbe redundant w.r.t. id */</span>
<a name="l00117"></a>00117 
<a name="l00118"></a>00118                                 <span class="comment">/*</span>
<a name="l00119"></a>00119 <span class="comment">                                 * enum value #1 formerly called JSACC_PARENT,</span>
<a name="l00120"></a>00120 <span class="comment">                                 * gap preserved for ABI compatibility.</span>
<a name="l00121"></a>00121 <span class="comment">                                 */</span>
<a name="l00122"></a>00122 
<a name="l00123"></a>00123                                 <span class="comment">/*</span>
<a name="l00124"></a>00124 <span class="comment">                                 * enum value #2 formerly called JSACC_IMPORT,</span>
<a name="l00125"></a>00125 <span class="comment">                                 * gap preserved for ABI compatibility.</span>
<a name="l00126"></a>00126 <span class="comment">                                 */</span>
<a name="l00127"></a>00127 
<a name="l00128"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#acad347434fc6d77ffff955b68079e7c9a082cebab2eb6bf28d174794c31a837a6">00128</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#acad347434fc6d77ffff955b68079e7c9a082cebab2eb6bf28d174794c31a837a6">JSACC_WATCH</a>  = 3,           <span class="comment">/* a watchpoint on object foo for id &#39;bar&#39; */</span>
<a name="l00129"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#acad347434fc6d77ffff955b68079e7c9aac8e7d9cd88014452177dffcdb0a985c">00129</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#acad347434fc6d77ffff955b68079e7c9aac8e7d9cd88014452177dffcdb0a985c">JSACC_READ</a>   = 4,           <span class="comment">/* a &quot;get&quot; of foo.bar */</span>
<a name="l00130"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#acad347434fc6d77ffff955b68079e7c9a28c7fe85c8b572768022ac8e31dd5efe">00130</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#acad347434fc6d77ffff955b68079e7c9a28c7fe85c8b572768022ac8e31dd5efe">JSACC_WRITE</a>  = 8,           <span class="comment">/* a &quot;set&quot; of foo.bar = baz */</span>
<a name="l00131"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#acad347434fc6d77ffff955b68079e7c9ac923e8572fb4754687fd01da8038cf38">00131</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#acad347434fc6d77ffff955b68079e7c9ac923e8572fb4754687fd01da8038cf38">JSACC_LIMIT</a>
<a name="l00132"></a>00132 } <a class="code" href="../../d9/d28/jspubtd_8h.html#acad347434fc6d77ffff955b68079e7c9">JSAccessMode</a>;
<a name="l00133"></a>00133 
<a name="l00134"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#a460c11a3fd421f1b47bbd1ae42e714da">00134</a> <span class="preprocessor">#define JSACC_TYPEMASK          (JSACC_WRITE - 1)</span>
<a name="l00135"></a>00135 <span class="preprocessor"></span>
<a name="l00136"></a>00136 <span class="comment">/*</span>
<a name="l00137"></a>00137 <span class="comment"> * This enum type is used to control the behavior of a JSObject property</span>
<a name="l00138"></a>00138 <span class="comment"> * iterator function that has type JSNewEnumerate.</span>
<a name="l00139"></a>00139 <span class="comment"> */</span>
<a name="l00140"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#afcd1566ec1d0000871fa3f6a7ea6f75a">00140</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="../../d9/d28/jspubtd_8h.html#afcd1566ec1d0000871fa3f6a7ea6f75a">JSIterateOp</a> {
<a name="l00141"></a>00141     <span class="comment">/* Create new iterator state over enumerable properties. */</span>
<a name="l00142"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#afcd1566ec1d0000871fa3f6a7ea6f75aac3553ae5095c59882d2fa4272d3e6bda">00142</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#afcd1566ec1d0000871fa3f6a7ea6f75aac3553ae5095c59882d2fa4272d3e6bda">JSENUMERATE_INIT</a>,
<a name="l00143"></a>00143 
<a name="l00144"></a>00144     <span class="comment">/* Create new iterator state over all properties. */</span>
<a name="l00145"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#afcd1566ec1d0000871fa3f6a7ea6f75aa6e8e722149eea0e666aec2d325a3245d">00145</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#afcd1566ec1d0000871fa3f6a7ea6f75aa6e8e722149eea0e666aec2d325a3245d">JSENUMERATE_INIT_ALL</a>,
<a name="l00146"></a>00146 
<a name="l00147"></a>00147     <span class="comment">/* Iterate once. */</span>
<a name="l00148"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#afcd1566ec1d0000871fa3f6a7ea6f75aab5996ae9b0826bc7dadcc903961a4241">00148</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#afcd1566ec1d0000871fa3f6a7ea6f75aab5996ae9b0826bc7dadcc903961a4241">JSENUMERATE_NEXT</a>,
<a name="l00149"></a>00149 
<a name="l00150"></a>00150     <span class="comment">/* Destroy iterator state. */</span>
<a name="l00151"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#afcd1566ec1d0000871fa3f6a7ea6f75aa930f7f74e5cdfc989a671c200978a0c0">00151</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#afcd1566ec1d0000871fa3f6a7ea6f75aa930f7f74e5cdfc989a671c200978a0c0">JSENUMERATE_DESTROY</a>
<a name="l00152"></a>00152 } <a class="code" href="../../d9/d28/jspubtd_8h.html#afcd1566ec1d0000871fa3f6a7ea6f75a">JSIterateOp</a>;
<a name="l00153"></a>00153 
<a name="l00154"></a>00154 <span class="comment">/* See JSVAL_TRACE_KIND and JSTraceCallback in jsapi.h. */</span>
<a name="l00155"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99">00155</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00156"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99a38c2fb01d120d0f221a34e47179bfd3c">00156</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99a38c2fb01d120d0f221a34e47179bfd3c">JSTRACE_OBJECT</a>,
<a name="l00157"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99af0b05db81612f056b2cfd04b1d0b77b2">00157</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99af0b05db81612f056b2cfd04b1d0b77b2">JSTRACE_STRING</a>,
<a name="l00158"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99a8340044a9a865882ec336d58196cd1c7">00158</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99a8340044a9a865882ec336d58196cd1c7">JSTRACE_SCRIPT</a>,
<a name="l00159"></a>00159 
<a name="l00160"></a>00160     <span class="comment">/*</span>
<a name="l00161"></a>00161 <span class="comment">     * Trace kinds internal to the engine. The embedding can only see them if</span>
<a name="l00162"></a>00162 <span class="comment">     * it implements JSTraceCallback.</span>
<a name="l00163"></a>00163 <span class="comment">     */</span>
<a name="l00164"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99aae3085393a6d3f88834b973c5ebc7c48">00164</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99aae3085393a6d3f88834b973c5ebc7c48">JSTRACE_LAZY_SCRIPT</a>,
<a name="l00165"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99af59fd721deee24bf969395710605738b">00165</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99af59fd721deee24bf969395710605738b">JSTRACE_IONCODE</a>,
<a name="l00166"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99aa2cfff1486844508c8c2039e4113049e">00166</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99aa2cfff1486844508c8c2039e4113049e">JSTRACE_SHAPE</a>,
<a name="l00167"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99a86695bdb3077874bba1e56ba13da1fcf">00167</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99a86695bdb3077874bba1e56ba13da1fcf">JSTRACE_BASE_SHAPE</a>,
<a name="l00168"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99adf7e5a471bb39c311be30825c9adb2f0">00168</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99adf7e5a471bb39c311be30825c9adb2f0">JSTRACE_TYPE_OBJECT</a>,
<a name="l00169"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99a87a7873d876bab3197b600b4c175eae9">00169</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99a87a7873d876bab3197b600b4c175eae9">JSTRACE_LAST</a> = <a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99adf7e5a471bb39c311be30825c9adb2f0">JSTRACE_TYPE_OBJECT</a>
<a name="l00170"></a>00170 } <a class="code" href="../../d9/d28/jspubtd_8h.html#ac79f5325fedbba2755cd3bc2b2606d99">JSGCTraceKind</a>;
<a name="l00171"></a>00171 
<a name="l00172"></a>00172 <span class="comment">/* Struct typedefs and class forward declarations. */</span>
<a name="l00173"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#a72b62aefa3dd4aa55a10657efaad849f">00173</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d2/dd1/struct_j_s_class.html">JSClass</a>                      <a class="code" href="../../d2/dd1/struct_j_s_class.html">JSClass</a>;
<a name="l00174"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">00174</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">JSCompartment</a>                <a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">JSCompartment</a>;
<a name="l00175"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ab780ccca14d2aa05b56a841d64307045">00175</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d62/struct_j_s_const_double_spec.html">JSConstDoubleSpec</a>            <a class="code" href="../../d8/d62/struct_j_s_const_double_spec.html">JSConstDoubleSpec</a>;
<a name="l00176"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">00176</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>                    <a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a>;
<a name="l00177"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#a8b8b7f7e61063174858222a2479d5592">00177</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d28/jspubtd_8h.html#a8b8b7f7e61063174858222a2479d5592">JSCrossCompartmentCall</a>       <a class="code" href="../../d9/d28/jspubtd_8h.html#a8b8b7f7e61063174858222a2479d5592">JSCrossCompartmentCall</a>;
<a name="l00178"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#abe6cc33f5580b493b70f4e1b60b34a7c">00178</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../da/d90/struct_j_s_error_report.html">JSErrorReport</a>                <a class="code" href="../../da/d90/struct_j_s_error_report.html">JSErrorReport</a>;
<a name="l00179"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ae47dee0d91906327dd2b6f8215516da8">00179</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d28/jspubtd_8h.html#ae47dee0d91906327dd2b6f8215516da8">JSExceptionState</a>             <a class="code" href="../../d9/d28/jspubtd_8h.html#ae47dee0d91906327dd2b6f8215516da8">JSExceptionState</a>;
<a name="l00180"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ae62772f997ebf6c93c1e9432c73947bc">00180</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../de/d25/struct_j_s_function_spec.html">JSFunctionSpec</a>               <a class="code" href="../../de/d25/struct_j_s_function_spec.html">JSFunctionSpec</a>;
<a name="l00181"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#aca1aed74bbe6a0c6a6dfc1e0f4c57fa9">00181</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d28/jspubtd_8h.html#aca1aed74bbe6a0c6a6dfc1e0f4c57fa9">JSIdArray</a>                    <a class="code" href="../../d9/d28/jspubtd_8h.html#aca1aed74bbe6a0c6a6dfc1e0f4c57fa9">JSIdArray</a>;
<a name="l00182"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#a594a12a372d854b7a84af86ffa770709">00182</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d3c/struct_j_s_locale_callbacks.html">JSLocaleCallbacks</a>            <a class="code" href="../../d8/d3c/struct_j_s_locale_callbacks.html">JSLocaleCallbacks</a>;
<a name="l00183"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#aeb707b91645c9afa3531e901f7ca3d02">00183</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d28/jspubtd_8h.html#aeb707b91645c9afa3531e901f7ca3d02">JSObjectMap</a>                  <a class="code" href="../../d9/d28/jspubtd_8h.html#aeb707b91645c9afa3531e901f7ca3d02">JSObjectMap</a>;
<a name="l00184"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#a59225d826217acbff5265b6214729fe0">00184</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d69/struct_j_s_principals.html">JSPrincipals</a>                 <a class="code" href="../../d7/d69/struct_j_s_principals.html">JSPrincipals</a>;
<a name="l00185"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#aaf508034f9a89132c0b64ca078266ada">00185</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../df/d69/struct_j_s_property_descriptor.html">JSPropertyDescriptor</a>         <a class="code" href="../../df/d69/struct_j_s_property_descriptor.html">JSPropertyDescriptor</a>;
<a name="l00186"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#a7c7c548e327815b6982e47a74b3dfbc5">00186</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d28/jspubtd_8h.html#a7c7c548e327815b6982e47a74b3dfbc5">JSPropertyName</a>               <a class="code" href="../../d9/d28/jspubtd_8h.html#a7c7c548e327815b6982e47a74b3dfbc5">JSPropertyName</a>;
<a name="l00187"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#a10b67f2ae144cad4c2ced3499468bc9a">00187</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../de/dce/struct_j_s_property_spec.html">JSPropertySpec</a>               <a class="code" href="../../de/dce/struct_j_s_property_spec.html">JSPropertySpec</a>;
<a name="l00188"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">00188</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a>                    <a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a>;
<a name="l00189"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#aaacd5da80970f83e6aeb2c37f77dbf3e">00189</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../df/d0c/struct_j_s_security_callbacks.html">JSSecurityCallbacks</a>          <a class="code" href="../../df/d0c/struct_j_s_security_callbacks.html">JSSecurityCallbacks</a>;
<a name="l00190"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#abc9e2810db2fdbf89efafd485fa04aab">00190</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d6/d6c/struct_j_s_structured_clone_callbacks.html">JSStructuredCloneCallbacks</a>   <a class="code" href="../../d6/d6c/struct_j_s_structured_clone_callbacks.html">JSStructuredCloneCallbacks</a>;
<a name="l00191"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#ae07fa43420499ca0ebe5a1b0f4755e07">00191</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d28/jspubtd_8h.html#ae07fa43420499ca0ebe5a1b0f4755e07">JSStructuredCloneReader</a>      <a class="code" href="../../d9/d28/jspubtd_8h.html#ae07fa43420499ca0ebe5a1b0f4755e07">JSStructuredCloneReader</a>;
<a name="l00192"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#af5a78864469f4dcb61e0b3fba8724728">00192</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d9/d28/jspubtd_8h.html#af5a78864469f4dcb61e0b3fba8724728">JSStructuredCloneWriter</a>      <a class="code" href="../../d9/d28/jspubtd_8h.html#af5a78864469f4dcb61e0b3fba8724728">JSStructuredCloneWriter</a>;
<a name="l00193"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#a03ed791061c9fdca3ebd38f0e495a388">00193</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../dd/df1/struct_j_s_tracer.html">JSTracer</a>                     <a class="code" href="../../dd/df1/struct_j_s_tracer.html">JSTracer</a>;
<a name="l00194"></a>00194 
<a name="l00195"></a>00195 <span class="keyword">class                                       </span>JSFlatString;
<a name="l00196"></a>00196 <span class="keyword">class                                       </span>JSFunction;
<a name="l00197"></a>00197 <span class="keyword">class                                       </span>JSObject;
<a name="l00198"></a>00198 <span class="keyword">class                                       </span>JSScript;
<a name="l00199"></a>00199 <span class="keyword">class                                       </span>JSStableString;  <span class="comment">// long story</span>
<a name="l00200"></a>00200 <span class="keyword">class                                       </span>JSString;
<a name="l00201"></a>00201 
<a name="l00202"></a>00202 <span class="preprocessor">#ifdef JS_THREADSAFE</span>
<a name="l00203"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#a68782f38c47d3ec3c0ed130204309c19">00203</a> <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d9e/struct_p_r_call_once_type.html">PRCallOnceType</a>    <a class="code" href="../../d7/d9e/struct_p_r_call_once_type.html">JSCallOnceType</a>;
<a name="l00204"></a>00204 <span class="preprocessor">#else</span>
<a name="l00205"></a>00205 <span class="preprocessor"></span><span class="keyword">typedef</span> <a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>                   <a class="code" href="../../d9/d28/jspubtd_8h.html#a68782f38c47d3ec3c0ed130204309c19">JSCallOnceType</a>;
<a name="l00206"></a>00206 <span class="preprocessor">#endif</span>
<a name="l00207"></a><a class="code" href="../../d9/d28/jspubtd_8h.html#a7072918c56ea7fdbd45d131376e86264">00207</a> <span class="preprocessor"></span><span class="keyword">typedef</span> <a class="code" href="../../d9/d8c/jstypes_8h.html#ab8eba5ea71cb25a6434e714c547c62a7">JSBool</a>                 (*<a class="code" href="../../d9/d28/jspubtd_8h.html#a7072918c56ea7fdbd45d131376e86264">JSInitCallback</a>)(<a class="code" href="../../d4/da9/png_8h.html#ab30926da86712184b070e550789f8bf7">void</a>);
<a name="l00208"></a>00208 
<a name="l00209"></a>00209 <span class="keyword">namespace </span>JS {
<a name="l00210"></a>00210 <span class="keyword">namespace </span>shadow {
<a name="l00211"></a>00211 
<a name="l00212"></a><a class="code" href="../../d8/d76/struct_j_s_1_1shadow_1_1_runtime.html">00212</a> <span class="keyword">struct </span><a class="code" href="../../d8/d76/struct_j_s_1_1shadow_1_1_runtime.html">Runtime</a>
<a name="l00213"></a>00213 {
<a name="l00214"></a>00214     <span class="comment">/* Restrict zone access during Minor GC. */</span>
<a name="l00215"></a><a class="code" href="../../d8/d76/struct_j_s_1_1shadow_1_1_runtime.html#a14b6d2e9d39b267f7576462095d3fef9">00215</a>     <span class="keywordtype">bool</span> <a class="code" href="../../d8/d76/struct_j_s_1_1shadow_1_1_runtime.html#a14b6d2e9d39b267f7576462095d3fef9">needsBarrier_</a>;
<a name="l00216"></a>00216 
<a name="l00217"></a>00217 <span class="preprocessor">#ifdef JSGC_GENERATIONAL</span>
<a name="l00218"></a>00218 <span class="preprocessor"></span>    <span class="comment">/* Allow inlining of Nursery::isInside. */</span>
<a name="l00219"></a>00219     uintptr_t gcNurseryStart_;
<a name="l00220"></a>00220     uintptr_t gcNurseryEnd_;
<a name="l00221"></a>00221 <span class="preprocessor">#endif</span>
<a name="l00222"></a>00222 <span class="preprocessor"></span>
<a name="l00223"></a><a class="code" href="../../d8/d76/struct_j_s_1_1shadow_1_1_runtime.html#a2f19a98b1316de800497649d3455f911">00223</a>     <a class="code" href="../../d8/d76/struct_j_s_1_1shadow_1_1_runtime.html#a2f19a98b1316de800497649d3455f911">Runtime</a>()
<a name="l00224"></a>00224       : <a class="code" href="../../d8/d76/struct_j_s_1_1shadow_1_1_runtime.html#a14b6d2e9d39b267f7576462095d3fef9">needsBarrier_</a>(<a class="code" href="../../d7/dd2/qcmstypes_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>)
<a name="l00225"></a>00225 #ifdef JSGC_GENERATIONAL
<a name="l00226"></a>00226       , gcNurseryStart_(0)
<a name="l00227"></a>00227       , gcNurseryEnd_(0)
<a name="l00228"></a>00228 #endif
<a name="l00229"></a>00229     {}
<a name="l00230"></a>00230 };
<a name="l00231"></a>00231 
<a name="l00232"></a>00232 } <span class="comment">/* namespace shadow */</span>
<a name="l00233"></a>00233 } <span class="comment">/* namespace JS */</span>
<a name="l00234"></a>00234 
<a name="l00235"></a>00235 <span class="keyword">namespace </span>js {
<a name="l00236"></a>00236 
<a name="l00237"></a>00237 <span class="comment">/*</span>
<a name="l00238"></a>00238 <span class="comment"> * Parallel operations in general can have one of three states. They may</span>
<a name="l00239"></a>00239 <span class="comment"> * succeed, fail, or &quot;bail&quot;, where bail indicates that the code encountered an</span>
<a name="l00240"></a>00240 <span class="comment"> * unexpected condition and should be re-run sequentially. Different</span>
<a name="l00241"></a>00241 <span class="comment"> * subcategories of the &quot;bail&quot; state are encoded as variants of TP_RETRY_*.</span>
<a name="l00242"></a>00242 <span class="comment"> */</span>
<a name="l00243"></a><a class="code" href="../../db/da2/namespacejs.html#addc5780b86f1ef769aa96c73e0e2df62a2101de6d42c9ee36649022c32a8e6ac3">00243</a> <span class="keyword">enum</span> <a class="code" href="../../db/da2/namespacejs.html#addc5780b86f1ef769aa96c73e0e2df62">ParallelResult</a> { <a class="code" href="../../db/da2/namespacejs.html#addc5780b86f1ef769aa96c73e0e2df62a2101de6d42c9ee36649022c32a8e6ac3">TP_SUCCESS</a>, <a class="code" href="../../db/da2/namespacejs.html#addc5780b86f1ef769aa96c73e0e2df62a12e8121fd241da0d528f5c5671986b91">TP_RETRY_SEQUENTIALLY</a>, <a class="code" href="../../db/da2/namespacejs.html#addc5780b86f1ef769aa96c73e0e2df62a1453f190c05d1aa4da23cf371bb50497">TP_RETRY_AFTER_GC</a>, <a class="code" href="../../db/da2/namespacejs.html#addc5780b86f1ef769aa96c73e0e2df62ac9f26816005e0f0be78004aaa7a8005a">TP_FATAL</a> };
<a name="l00244"></a>00244 
<a name="l00245"></a>00245 <span class="keyword">struct </span>ThreadSafeContext;
<a name="l00246"></a>00246 <span class="keyword">struct </span>ForkJoinSlice;
<a name="l00247"></a>00247 <span class="keyword">class </span>ExclusiveContext;
<a name="l00248"></a>00248 
<a name="l00249"></a>00249 <span class="keyword">class </span>Allocator;
<a name="l00250"></a>00250 
<a name="l00251"></a>00251 <span class="keyword">class </span>SkipRoot;
<a name="l00252"></a>00252 
<a name="l00253"></a><a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250">00253</a> <span class="keyword">enum</span> <a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250">ThingRootKind</a>
<a name="l00254"></a>00254 {
<a name="l00255"></a><a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250a31ba135f032c5f0231274d92ab1b8bf7">00255</a>     <a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250a31ba135f032c5f0231274d92ab1b8bf7">THING_ROOT_OBJECT</a>,
<a name="l00256"></a><a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250abef8a9556e3c5805008720ef60db6214">00256</a>     <a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250abef8a9556e3c5805008720ef60db6214">THING_ROOT_SHAPE</a>,
<a name="l00257"></a><a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250a81cce1028fa16af7295d1234392a04a7">00257</a>     <a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250a81cce1028fa16af7295d1234392a04a7">THING_ROOT_BASE_SHAPE</a>,
<a name="l00258"></a><a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250a7335934ceaaa0ba862643e0d0e01bee6">00258</a>     <a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250a7335934ceaaa0ba862643e0d0e01bee6">THING_ROOT_TYPE_OBJECT</a>,
<a name="l00259"></a><a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250a2c4f1b4cc03699817d26b7d72867b626">00259</a>     <a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250a2c4f1b4cc03699817d26b7d72867b626">THING_ROOT_STRING</a>,
<a name="l00260"></a><a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250aed6c8752689104045ddef151a74a836d">00260</a>     <a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250aed6c8752689104045ddef151a74a836d">THING_ROOT_ION_CODE</a>,
<a name="l00261"></a><a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250ac3dd2410a0fbd1ebecc060b7f09da542">00261</a>     <a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250ac3dd2410a0fbd1ebecc060b7f09da542">THING_ROOT_SCRIPT</a>,
<a name="l00262"></a><a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250a0a01b10b44c8cd6af78e076f30f73210">00262</a>     <a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250a0a01b10b44c8cd6af78e076f30f73210">THING_ROOT_ID</a>,
<a name="l00263"></a><a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250a111aa3a5d7652a6b7508e1acce2e729e">00263</a>     <a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250a111aa3a5d7652a6b7508e1acce2e729e">THING_ROOT_PROPERTY_ID</a>,
<a name="l00264"></a><a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250abd445c554f5270c020819b8e48d3c0cc">00264</a>     <a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250abd445c554f5270c020819b8e48d3c0cc">THING_ROOT_VALUE</a>,
<a name="l00265"></a><a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250ae87a86323f17729465bad900e9b40f9f">00265</a>     <a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250ae87a86323f17729465bad900e9b40f9f">THING_ROOT_TYPE</a>,
<a name="l00266"></a><a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250a0adc292e0a4d522b821b1c5ade297476">00266</a>     <a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250a0adc292e0a4d522b821b1c5ade297476">THING_ROOT_BINDINGS</a>,
<a name="l00267"></a><a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250a1a5e9d051e5c6c885e8c6143bd93e973">00267</a>     <a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250a1a5e9d051e5c6c885e8c6143bd93e973">THING_ROOT_PROPERTY_DESCRIPTOR</a>,
<a name="l00268"></a><a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250ae9494286acf5fbdac1cccae8ee0cf634">00268</a>     <a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250ae9494286acf5fbdac1cccae8ee0cf634">THING_ROOT_LIMIT</a>
<a name="l00269"></a>00269 };
<a name="l00270"></a>00270 
<a name="l00271"></a>00271 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00272"></a>00272 <span class="keyword">struct </span>RootKind;
<a name="l00273"></a>00273 
<a name="l00274"></a>00274 <span class="comment">/*</span>
<a name="l00275"></a>00275 <span class="comment"> * Specifically mark the ThingRootKind of externally visible types, so that</span>
<a name="l00276"></a>00276 <span class="comment"> * JSAPI users may use JSRooted... types without having the class definition</span>
<a name="l00277"></a>00277 <span class="comment"> * available.</span>
<a name="l00278"></a>00278 <span class="comment"> */</span>
<a name="l00279"></a>00279 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, ThingRootKind Kind&gt;
<a name="l00280"></a><a class="code" href="../../d0/dd1/structjs_1_1_specific_root_kind.html">00280</a> <span class="keyword">struct </span><a class="code" href="../../d0/dd1/structjs_1_1_specific_root_kind.html">SpecificRootKind</a>
<a name="l00281"></a>00281 {
<a name="l00282"></a><a class="code" href="../../d0/dd1/structjs_1_1_specific_root_kind.html#a7ee781aa7dab992dd7b2b8236f3da24c">00282</a>     <span class="keyword">static</span> <a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250">ThingRootKind</a> <a class="code" href="../../d0/dd1/structjs_1_1_specific_root_kind.html#a7ee781aa7dab992dd7b2b8236f3da24c">rootKind</a>() { <span class="keywordflow">return</span> Kind; }
<a name="l00283"></a>00283 };
<a name="l00284"></a>00284 
<a name="l00285"></a><a class="code" href="../../d8/db6/structjs_1_1_root_kind_3_01_j_s_object_01_5_01_4.html">00285</a> <span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span>RootKind&lt;JSObject *&gt; : <a class="code" href="../../d0/dd1/structjs_1_1_specific_root_kind.html">SpecificRootKind&lt;JSObject *, THING_ROOT_OBJECT&gt;</a> {};
<a name="l00286"></a><a class="code" href="../../db/d14/structjs_1_1_root_kind_3_01_j_s_flat_string_01_5_01_4.html">00286</a> <span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span>RootKind&lt;JSFlatString *&gt; : <a class="code" href="../../d0/dd1/structjs_1_1_specific_root_kind.html">SpecificRootKind&lt;JSFlatString *, THING_ROOT_STRING&gt;</a> {};
<a name="l00287"></a><a class="code" href="../../d8/d62/structjs_1_1_root_kind_3_01_j_s_function_01_5_01_4.html">00287</a> <span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span>RootKind&lt;JSFunction *&gt; : <a class="code" href="../../d0/dd1/structjs_1_1_specific_root_kind.html">SpecificRootKind&lt;JSFunction *, THING_ROOT_OBJECT&gt;</a> {};
<a name="l00288"></a><a class="code" href="../../d9/d6d/structjs_1_1_root_kind_3_01_j_s_string_01_5_01_4.html">00288</a> <span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span>RootKind&lt;JSString *&gt; : <a class="code" href="../../d0/dd1/structjs_1_1_specific_root_kind.html">SpecificRootKind&lt;JSString *, THING_ROOT_STRING&gt;</a> {};
<a name="l00289"></a><a class="code" href="../../d5/d7b/structjs_1_1_root_kind_3_01_j_s_script_01_5_01_4.html">00289</a> <span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span>RootKind&lt;JSScript *&gt; : <a class="code" href="../../d0/dd1/structjs_1_1_specific_root_kind.html">SpecificRootKind&lt;JSScript *, THING_ROOT_SCRIPT&gt;</a> {};
<a name="l00290"></a><a class="code" href="../../d2/d87/structjs_1_1_root_kind_3_01jsid_01_4.html">00290</a> <span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span>RootKind&lt;<a class="code" href="../../d9/d28/jspubtd_8h.html#aef24059798e67d63949ed53ad62f5312">jsid</a>&gt; : <a class="code" href="../../d0/dd1/structjs_1_1_specific_root_kind.html">SpecificRootKind</a>&lt;jsid, THING_ROOT_ID&gt; {};
<a name="l00291"></a><a class="code" href="../../dd/db9/structjs_1_1_root_kind_3_01_j_s_1_1_value_01_4.html">00291</a> <span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span>RootKind&lt;JS::<a class="code" href="../../d1/d94/class_j_s_1_1_value.html">Value</a>&gt; : <a class="code" href="../../d0/dd1/structjs_1_1_specific_root_kind.html">SpecificRootKind</a>&lt;JS::Value, THING_ROOT_VALUE&gt; {};
<a name="l00292"></a>00292 
<a name="l00293"></a><a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html">00293</a> <span class="keyword">struct </span><a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html">ContextFriendFields</a>
<a name="l00294"></a>00294 {
<a name="l00295"></a>00295   <span class="keyword">protected</span>:
<a name="l00296"></a><a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html#a607ae73ab7aeb2238fe9779548287225">00296</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *<span class="keyword">const</span>     <a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html#a607ae73ab7aeb2238fe9779548287225">runtime_</a>;
<a name="l00297"></a>00297 
<a name="l00298"></a>00298     <span class="comment">/* The current compartment. */</span>
<a name="l00299"></a><a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html#ae510227763c8bcaf4aad11a5467a07c7">00299</a>     <a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">JSCompartment</a>       *<a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html#ae510227763c8bcaf4aad11a5467a07c7">compartment_</a>;
<a name="l00300"></a>00300 
<a name="l00301"></a>00301     <span class="comment">/* The current zone. */</span>
<a name="l00302"></a><a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html#ad78cf834d83bdbba15664b6f6b54d198">00302</a>     JS::Zone            *<a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html#ad78cf834d83bdbba15664b6f6b54d198">zone_</a>;
<a name="l00303"></a>00303 
<a name="l00304"></a>00304   <span class="keyword">public</span>:
<a name="l00305"></a><a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html#a87f97db84efe8bae1849137bd73ef748">00305</a>     <span class="keyword">explicit</span> <a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html#a87f97db84efe8bae1849137bd73ef748">ContextFriendFields</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a3ba489a976915ca6161baede3c439066">rt</a>)
<a name="l00306"></a>00306       : <a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html#a607ae73ab7aeb2238fe9779548287225">runtime_</a>(rt), <a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html#ae510227763c8bcaf4aad11a5467a07c7">compartment_</a>(<a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>), <a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html#ad78cf834d83bdbba15664b6f6b54d198">zone_</a>(<a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>), <a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html#a23db12e5b132126f6130a3fa5f1eeb1c">autoGCRooters</a>(<a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00307"></a>00307     {
<a name="l00308"></a>00308 <span class="preprocessor">#ifdef JSGC_TRACK_EXACT_ROOTS</span>
<a name="l00309"></a>00309 <span class="preprocessor"></span>        mozilla::PodArrayZero(thingGCRooters);
<a name="l00310"></a>00310 <span class="preprocessor">#endif</span>
<a name="l00311"></a>00311 <span class="preprocessor"></span><span class="preprocessor">#if defined(DEBUG) &amp;&amp; defined(JS_GC_ZEAL) &amp;&amp; defined(JSGC_ROOT_ANALYSIS) &amp;&amp; !defined(JS_THREADSAFE)</span>
<a name="l00312"></a>00312 <span class="preprocessor"></span>        skipGCRooters = <a class="code" href="../../db/df5/ncompat_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00313"></a>00313 <span class="preprocessor">#endif</span>
<a name="l00314"></a>00314 <span class="preprocessor"></span>    }
<a name="l00315"></a>00315 
<a name="l00316"></a><a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html#a185ad442c721826c20e298df15ec3961">00316</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html">ContextFriendFields</a> *<span class="keyword">get</span>(<span class="keyword">const</span> <a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *<a class="code" href="../../de/d8f/jsdebug_8h.html#ac84a9ad5e2527762d63c6001438948b3">cx</a>) {
<a name="l00317"></a>00317         <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html">ContextFriendFields</a> *<span class="keyword">&gt;</span>(<a class="code" href="../../de/d8f/jsdebug_8h.html#ac84a9ad5e2527762d63c6001438948b3">cx</a>);
<a name="l00318"></a>00318     }
<a name="l00319"></a>00319 
<a name="l00320"></a><a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html#ad11eb33f00e807645a77a08ca5128725">00320</a>     <span class="keyword">static</span> <a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html">ContextFriendFields</a> *<span class="keyword">get</span>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *<a class="code" href="../../de/d8f/jsdebug_8h.html#ac84a9ad5e2527762d63c6001438948b3">cx</a>) {
<a name="l00321"></a>00321         <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html">ContextFriendFields</a> *<span class="keyword">&gt;</span>(<a class="code" href="../../de/d8f/jsdebug_8h.html#ac84a9ad5e2527762d63c6001438948b3">cx</a>);
<a name="l00322"></a>00322     }
<a name="l00323"></a>00323 
<a name="l00324"></a>00324 <span class="preprocessor">#ifdef JSGC_TRACK_EXACT_ROOTS</span>
<a name="l00325"></a>00325 <span class="preprocessor"></span>    <span class="comment">/*</span>
<a name="l00326"></a>00326 <span class="comment">     * Stack allocated GC roots for stack GC heap pointers, which may be</span>
<a name="l00327"></a>00327 <span class="comment">     * overwritten if moved during a GC.</span>
<a name="l00328"></a>00328 <span class="comment">     */</span>
<a name="l00329"></a>00329     <a class="code" href="../../db/d76/class_j_s_1_1_rooted.html">JS::Rooted&lt;void*&gt;</a> *thingGCRooters[<a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250ae9494286acf5fbdac1cccae8ee0cf634">THING_ROOT_LIMIT</a>];
<a name="l00330"></a>00330 <span class="preprocessor">#endif</span>
<a name="l00331"></a>00331 <span class="preprocessor"></span>
<a name="l00332"></a>00332 <span class="preprocessor">#if defined(DEBUG) &amp;&amp; defined(JS_GC_ZEAL) &amp;&amp; defined(JSGC_ROOT_ANALYSIS) &amp;&amp; !defined(JS_THREADSAFE)</span>
<a name="l00333"></a>00333 <span class="preprocessor"></span>    <span class="comment">/*</span>
<a name="l00334"></a>00334 <span class="comment">     * Stack allocated list of stack locations which hold non-relocatable</span>
<a name="l00335"></a>00335 <span class="comment">     * GC heap pointers (where the target is rooted somewhere else) or integer</span>
<a name="l00336"></a>00336 <span class="comment">     * values which may be confused for GC heap pointers. These are used to</span>
<a name="l00337"></a>00337 <span class="comment">     * suppress false positives which occur when a rooting analysis treats the</span>
<a name="l00338"></a>00338 <span class="comment">     * location as holding a relocatable pointer, but have no other effect on</span>
<a name="l00339"></a>00339 <span class="comment">     * GC behavior.</span>
<a name="l00340"></a>00340 <span class="comment">     */</span>
<a name="l00341"></a>00341     <a class="code" href="../../d7/dc6/classjs_1_1_skip_root.html">SkipRoot</a> *skipGCRooters;
<a name="l00342"></a>00342 <span class="preprocessor">#endif</span>
<a name="l00343"></a>00343 <span class="preprocessor"></span>
<a name="l00344"></a>00344     <span class="comment">/* Stack of thread-stack-allocated GC roots. */</span>
<a name="l00345"></a><a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html#a23db12e5b132126f6130a3fa5f1eeb1c">00345</a>     JS::AutoGCRooter   *<a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html#a23db12e5b132126f6130a3fa5f1eeb1c">autoGCRooters</a>;
<a name="l00346"></a>00346 
<a name="l00347"></a>00347     <span class="keyword">friend</span> <a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *<a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html#af8996e2d11a2a71dc0ef5d5e1f8d4b09">GetRuntime</a>(<span class="keyword">const</span> <a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *<a class="code" href="../../de/d8f/jsdebug_8h.html#ac84a9ad5e2527762d63c6001438948b3">cx</a>);
<a name="l00348"></a>00348     <span class="keyword">friend</span> <a class="code" href="../../d9/d28/jspubtd_8h.html#af62a61874ffa4eae34a8b4b694f64d8c">JSCompartment</a> *<a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html#af2ca74ca59783c68fb2995fd455c8adb">GetContextCompartment</a>(<span class="keyword">const</span> <a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *<a class="code" href="../../de/d8f/jsdebug_8h.html#ac84a9ad5e2527762d63c6001438948b3">cx</a>);
<a name="l00349"></a>00349     <span class="keyword">friend</span> JS::Zone *<a class="code" href="../../d1/d50/structjs_1_1_context_friend_fields.html#a16903c447cb467b471278d57d2bc914b">GetContextZone</a>(<span class="keyword">const</span> <a class="code" href="../../d9/d28/jspubtd_8h.html#a1511e24a5b9d6d2e0e689afd9c6c0b9b">JSContext</a> *<a class="code" href="../../de/d8f/jsdebug_8h.html#ac84a9ad5e2527762d63c6001438948b3">cx</a>);
<a name="l00350"></a>00350 };
<a name="l00351"></a>00351 
<a name="l00352"></a>00352 <span class="keyword">class </span>PerThreadData;
<a name="l00353"></a>00353 
<a name="l00354"></a><a class="code" href="../../d8/d6c/structjs_1_1_per_thread_data_friend_fields.html">00354</a> <span class="keyword">struct </span><a class="code" href="../../d8/d6c/structjs_1_1_per_thread_data_friend_fields.html">PerThreadDataFriendFields</a>
<a name="l00355"></a>00355 {
<a name="l00356"></a>00356   <span class="keyword">private</span>:
<a name="l00357"></a>00357     <span class="comment">// Note: this type only exists to permit us to derive the offset of</span>
<a name="l00358"></a>00358     <span class="comment">// the perThread data within the real JSRuntime* type in a portable</span>
<a name="l00359"></a>00359     <span class="comment">// way.</span>
<a name="l00360"></a>00360     <span class="keyword">struct </span>RuntimeDummy : JS::shadow::Runtime
<a name="l00361"></a>00361     {
<a name="l00362"></a><a class="code" href="../../d3/dc7/structjs_1_1_per_thread_data_friend_fields_1_1_runtime_dummy_1_1_per_thread_dummy.html">00362</a>         <span class="keyword">struct </span><a class="code" href="../../d3/dc7/structjs_1_1_per_thread_data_friend_fields_1_1_runtime_dummy_1_1_per_thread_dummy.html">PerThreadDummy</a> {
<a name="l00363"></a><a class="code" href="../../d3/dc7/structjs_1_1_per_thread_data_friend_fields_1_1_runtime_dummy_1_1_per_thread_dummy.html#a1ed907e834f13f138c3baf2717affa0a">00363</a>             <span class="keywordtype">void</span> *<a class="code" href="../../d3/dc7/structjs_1_1_per_thread_data_friend_fields_1_1_runtime_dummy_1_1_per_thread_dummy.html#a1ed907e834f13f138c3baf2717affa0a">field1</a>;
<a name="l00364"></a><a class="code" href="../../d3/dc7/structjs_1_1_per_thread_data_friend_fields_1_1_runtime_dummy_1_1_per_thread_dummy.html#a89dba760db7cde9004a63191b45f9248">00364</a>             uintptr_t <a class="code" href="../../d3/dc7/structjs_1_1_per_thread_data_friend_fields_1_1_runtime_dummy_1_1_per_thread_dummy.html#a89dba760db7cde9004a63191b45f9248">field2</a>;
<a name="l00365"></a>00365 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l00366"></a>00366 <span class="preprocessor"></span>            uint64_t field3;
<a name="l00367"></a>00367 <span class="preprocessor">#endif</span>
<a name="l00368"></a>00368 <span class="preprocessor"></span>        } mainThread;
<a name="l00369"></a>00369     };
<a name="l00370"></a>00370 
<a name="l00371"></a>00371   <span class="keyword">public</span>:
<a name="l00372"></a>00372 
<a name="l00373"></a>00373     <a class="code" href="../../d8/d6c/structjs_1_1_per_thread_data_friend_fields.html#a97c5e7e8665ff3226faf69e675787ed7">PerThreadDataFriendFields</a>();
<a name="l00374"></a>00374 
<a name="l00375"></a>00375 <span class="preprocessor">#ifdef JSGC_TRACK_EXACT_ROOTS</span>
<a name="l00376"></a>00376 <span class="preprocessor"></span>    <span class="comment">/*</span>
<a name="l00377"></a>00377 <span class="comment">     * Stack allocated GC roots for stack GC heap pointers, which may be</span>
<a name="l00378"></a>00378 <span class="comment">     * overwritten if moved during a GC.</span>
<a name="l00379"></a>00379 <span class="comment">     */</span>
<a name="l00380"></a>00380     <a class="code" href="../../db/d76/class_j_s_1_1_rooted.html">JS::Rooted&lt;void*&gt;</a> *thingGCRooters[<a class="code" href="../../db/da2/namespacejs.html#aa5d49315248633a3172d03f50fd69250ae9494286acf5fbdac1cccae8ee0cf634">THING_ROOT_LIMIT</a>];
<a name="l00381"></a>00381 <span class="preprocessor">#endif</span>
<a name="l00382"></a>00382 <span class="preprocessor"></span>
<a name="l00383"></a>00383 <span class="preprocessor">#if defined(DEBUG) &amp;&amp; defined(JS_GC_ZEAL) &amp;&amp; defined(JSGC_ROOT_ANALYSIS) &amp;&amp; !defined(JS_THREADSAFE)</span>
<a name="l00384"></a>00384 <span class="preprocessor"></span>    <span class="comment">/*</span>
<a name="l00385"></a>00385 <span class="comment">     * Stack allocated list of stack locations which hold non-relocatable</span>
<a name="l00386"></a>00386 <span class="comment">     * GC heap pointers (where the target is rooted somewhere else) or integer</span>
<a name="l00387"></a>00387 <span class="comment">     * values which may be confused for GC heap pointers. These are used to</span>
<a name="l00388"></a>00388 <span class="comment">     * suppress false positives which occur when a rooting analysis treats the</span>
<a name="l00389"></a>00389 <span class="comment">     * location as holding a relocatable pointer, but have no other effect on</span>
<a name="l00390"></a>00390 <span class="comment">     * GC behavior.</span>
<a name="l00391"></a>00391 <span class="comment">     */</span>
<a name="l00392"></a>00392     <a class="code" href="../../d7/dc6/classjs_1_1_skip_root.html">SkipRoot</a> *skipGCRooters;
<a name="l00393"></a>00393 <span class="preprocessor">#endif</span>
<a name="l00394"></a>00394 <span class="preprocessor"></span>
<a name="l00395"></a>00395     <span class="comment">/* Limit pointer for checking native stack consumption. */</span>
<a name="l00396"></a><a class="code" href="../../d8/d6c/structjs_1_1_per_thread_data_friend_fields.html#a84a8af885a06a26caf21cf58d57e8962">00396</a>     uintptr_t <a class="code" href="../../d8/d6c/structjs_1_1_per_thread_data_friend_fields.html#a84a8af885a06a26caf21cf58d57e8962">nativeStackLimit</a>;
<a name="l00397"></a>00397 
<a name="l00398"></a><a class="code" href="../../d8/d6c/structjs_1_1_per_thread_data_friend_fields.html#a863624deacf0fb5c5d1b585a741bd086">00398</a>     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="../../d8/d6c/structjs_1_1_per_thread_data_friend_fields.html#a863624deacf0fb5c5d1b585a741bd086">RuntimeMainThreadOffset</a> = <a class="code" href="../../dc/d10/ns_c_s_s_property_8h.html#a47e433676bb6902977b7a50bfe31f5fc">offsetof</a>(RuntimeDummy, mainThread);
<a name="l00399"></a>00399 
<a name="l00400"></a><a class="code" href="../../d8/d6c/structjs_1_1_per_thread_data_friend_fields.html#a11e2f21b7a966d52b8e03b3e4575121d">00400</a>     <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="../../d8/d6c/structjs_1_1_per_thread_data_friend_fields.html">PerThreadDataFriendFields</a> *<span class="keyword">get</span>(js::PerThreadData *pt) {
<a name="l00401"></a>00401         <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d8/d6c/structjs_1_1_per_thread_data_friend_fields.html">PerThreadDataFriendFields</a> *<span class="keyword">&gt;</span>(pt);
<a name="l00402"></a>00402     }
<a name="l00403"></a>00403 
<a name="l00404"></a><a class="code" href="../../d8/d6c/structjs_1_1_per_thread_data_friend_fields.html#a986f182dd9e0f8cbba57e521aa392ee0">00404</a>     <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="../../d8/d6c/structjs_1_1_per_thread_data_friend_fields.html">PerThreadDataFriendFields</a> *<a class="code" href="../../d8/d6c/structjs_1_1_per_thread_data_friend_fields.html#a986f182dd9e0f8cbba57e521aa392ee0">getMainThread</a>(<a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a3ba489a976915ca6161baede3c439066">rt</a>) {
<a name="l00405"></a>00405         <span class="comment">// mainThread must always appear directly after |JS::shadow::Runtime|.</span>
<a name="l00406"></a>00406         <span class="comment">// Tested by a JS_STATIC_ASSERT in |jsfriendapi.cpp|</span>
<a name="l00407"></a>00407         <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="../../d8/d6c/structjs_1_1_per_thread_data_friend_fields.html">PerThreadDataFriendFields</a> *<span class="keyword">&gt;</span>(
<a name="l00408"></a>00408             <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(<a class="code" href="../../d2/d7d/jsapi_8h.html#a3ba489a976915ca6161baede3c439066">rt</a>) + <a class="code" href="../../d8/d6c/structjs_1_1_per_thread_data_friend_fields.html#a863624deacf0fb5c5d1b585a741bd086">RuntimeMainThreadOffset</a>);
<a name="l00409"></a>00409     }
<a name="l00410"></a>00410 
<a name="l00411"></a><a class="code" href="../../d8/d6c/structjs_1_1_per_thread_data_friend_fields.html#a4dd42533354e887ac3f17e3db1d33e1d">00411</a>     <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="../../d8/d6c/structjs_1_1_per_thread_data_friend_fields.html">PerThreadDataFriendFields</a> *<a class="code" href="../../d8/d6c/structjs_1_1_per_thread_data_friend_fields.html#a4dd42533354e887ac3f17e3db1d33e1d">getMainThread</a>(<span class="keyword">const</span> <a class="code" href="../../d9/d28/jspubtd_8h.html#a3784945ce27c2255b53f51e5118c6728">JSRuntime</a> *<a class="code" href="../../d2/d7d/jsapi_8h.html#a3ba489a976915ca6161baede3c439066">rt</a>) {
<a name="l00412"></a>00412         <span class="comment">// mainThread must always appear directly after |JS::shadow::Runtime|.</span>
<a name="l00413"></a>00413         <span class="comment">// Tested by a JS_STATIC_ASSERT in |jsfriendapi.cpp|</span>
<a name="l00414"></a>00414         <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d8/d6c/structjs_1_1_per_thread_data_friend_fields.html">PerThreadDataFriendFields</a> *<span class="keyword">&gt;</span>(
<a name="l00415"></a>00415             <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(<a class="code" href="../../d2/d7d/jsapi_8h.html#a3ba489a976915ca6161baede3c439066">rt</a>) + <a class="code" href="../../d8/d6c/structjs_1_1_per_thread_data_friend_fields.html#a863624deacf0fb5c5d1b585a741bd086">RuntimeMainThreadOffset</a>);
<a name="l00416"></a>00416     }
<a name="l00417"></a>00417 };
<a name="l00418"></a>00418 
<a name="l00419"></a>00419 } <span class="comment">/* namespace js */</span>
<a name="l00420"></a>00420 
<a name="l00421"></a>00421 <span class="preprocessor">#endif </span><span class="comment">/* jspubtd_h */</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d9/d28/jspubtd_8h.html">jspubtd.h</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 00:52:30に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
