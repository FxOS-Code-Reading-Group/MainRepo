<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: ネームスペース mozilla::layers::CompositableMap</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li class="current"><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li><a href="../../namespacemembers.html"><span>関数</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d3/df6/namespacemozilla_1_1layers_1_1_compositable_map.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">関数</a>  </div>
  <div class="headertitle">
<div class="title">ネームスペース mozilla::layers::CompositableMap</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
関数</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/df6/namespacemozilla_1_1layers_1_1_compositable_map.html#aa82599b1b1ccdeb4aa199b742a63322b">Create</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/df6/namespacemozilla_1_1layers_1_1_compositable_map.html#a95549ba264e9a2fdf13c3d920c0feee2">Destroy</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/dc0/classmozilla_1_1layers_1_1_compositable_parent.html">CompositableParent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/df6/namespacemozilla_1_1layers_1_1_compositable_map.html#aa1ea1d81077f56e64cb786155c96cb45">Get</a> (uint64_t aID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/df6/namespacemozilla_1_1layers_1_1_compositable_map.html#ae5daaaa149c87001fc1f934f80127072">Set</a> (uint64_t aID, <a class="el" href="../../dc/dc0/classmozilla_1_1layers_1_1_compositable_parent.html">CompositableParent</a> *aParent)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/df6/namespacemozilla_1_1layers_1_1_compositable_map.html#a3abb2d5f24355876b1d408929c268dd2">Erase</a> (uint64_t aID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/df6/namespacemozilla_1_1layers_1_1_compositable_map.html#a9f7993e51604271cbbcb1bdedf2598a5">Clear</a> ()</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>説明</h2>
<div class="textblock"><p>Global <a class="el" href="../../d3/df6/namespacemozilla_1_1layers_1_1_compositable_map.html">CompositableMap</a>, to use in the compositor thread only.</p>
<p>PCompositable and PLayer can, in the case of async textures, be managed by different top level protocols. In this case they don't share the same communication channel and we can't send an OpAttachCompositable (PCompositable, PLayer) message.</p>
<p>In order to attach a layer and the right compositable if the the compositable is async, we store references to the async compositables in a <a class="el" href="../../d3/df6/namespacemozilla_1_1layers_1_1_compositable_map.html">CompositableMap</a> that is accessed only on the compositor thread. During a layer transaction we send the message OpAttachAsyncCompositable(ID, PLayer), and on the compositor side we lookup the ID in the map and attach the correspondig compositable to the layer.</p>
<p><a class="el" href="../../d3/df6/namespacemozilla_1_1layers_1_1_compositable_map.html">CompositableMap</a> must be global because the image bridge doesn't have any reference to whatever we have created with PLayerTransaction. So, the only way to actually connect these two worlds is to have something global that they can both query (in the same thread). The map is not allocated the map on the stack to avoid the badness of static initialization.</p>
<p>Also, we have a compositor/PLayerTransaction protocol/etc. per layer manager, and the ImageBridge is used by all the existing compositors that have a video, so there isn't an instance or "something" that lives outside the boudaries of a given layer manager on the compositor thread except the image bridge and the thread itself. </p>
</div><hr/><h2>関数</h2>
<a class="anchor" id="a9f7993e51604271cbbcb1bdedf2598a5"></a><!-- doxytag: member="mozilla::layers::CompositableMap::Clear" ref="a9f7993e51604271cbbcb1bdedf2598a5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a> <a class="el" href="../../d3/df6/namespacemozilla_1_1layers_1_1_compositable_map.html#a9f7993e51604271cbbcb1bdedf2598a5">mozilla::layers::CompositableMap::Clear</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa82599b1b1ccdeb4aa199b742a63322b"></a><!-- doxytag: member="mozilla::layers::CompositableMap::Create" ref="aa82599b1b1ccdeb4aa199b742a63322b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a> <a class="el" href="../../d3/df6/namespacemozilla_1_1layers_1_1_compositable_map.html#aa82599b1b1ccdeb4aa199b742a63322b">mozilla::layers::CompositableMap::Create</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>参照元 <a class="el" href="../../dd/d74/_i_d_b_factory_8h_source.html#l00056">MOZ_FINAL&lt; T &gt;::Create()</a>, <a class="el" href="../../d3/d0b/gfx_font_8h_source.html#l02494">gfxShapedWord::Create()</a>, <a class="el" href="../../d1/d87/_shared_surface_g_l_8h_source.html#l00176">mozilla::gl::SurfaceFactory_Basic::CreateShared()</a>, <a class="el" href="../../d1/d87/_shared_surface_g_l_8h_source.html#l00261">mozilla::gl::SurfaceFactory_GLTexture::CreateShared()</a>, <a class="el" href="../../d2/de7/workers_2bindings_2_text_encoder_8h_source.html#l00028">MOZ_FINAL&lt; T &gt;::CreateUint8Array()</a>, と <a class="el" href="../../d2/d45/_text_encoder_8h_source.html#l00067">mozilla::dom::MOZ_FINAL::CreateUint8Array()</a>.</p>

<p><div class="dynheader">
呼出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d3/df6/namespacemozilla_1_1layers_1_1_compositable_map_aa82599b1b1ccdeb4aa199b742a63322b_icgraph.svg" width="662" height="307"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a95549ba264e9a2fdf13c3d920c0feee2"></a><!-- doxytag: member="mozilla::layers::CompositableMap::Destroy" ref="a95549ba264e9a2fdf13c3d920c0feee2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a> <a class="el" href="../../d3/df6/namespacemozilla_1_1layers_1_1_compositable_map.html#a95549ba264e9a2fdf13c3d920c0feee2">mozilla::layers::CompositableMap::Destroy</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>参照元 <a class="el" href="../../d5/d87/ns_token_8h_source.html#l00119">CToken::Release()</a>.</p>

<p><div class="dynheader">
呼出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d3/df6/namespacemozilla_1_1layers_1_1_compositable_map_a95549ba264e9a2fdf13c3d920c0feee2_icgraph.svg" width="459" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3abb2d5f24355876b1d408929c268dd2"></a><!-- doxytag: member="mozilla::layers::CompositableMap::Erase" ref="a3abb2d5f24355876b1d408929c268dd2" args="(uint64_t aID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a> <a class="el" href="../../d3/df6/namespacemozilla_1_1layers_1_1_compositable_map.html#a3abb2d5f24355876b1d408929c268dd2">mozilla::layers::CompositableMap::Erase</a> </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>aID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa1ea1d81077f56e64cb786155c96cb45"></a><!-- doxytag: member="mozilla::layers::CompositableMap::Get" ref="aa1ea1d81077f56e64cb786155c96cb45" args="(uint64_t aID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/dc0/classmozilla_1_1layers_1_1_compositable_parent.html">CompositableParent</a>* <a class="el" href="../../d3/df6/namespacemozilla_1_1layers_1_1_compositable_map.html#aa1ea1d81077f56e64cb786155c96cb45">mozilla::layers::CompositableMap::Get</a> </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>aID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>参照元 <a class="el" href="../../de/d00/_quota_manager_8h_source.html#l00115">MOZ_FINAL&lt; T &gt;::CancelPromptsForWindow()</a>, <a class="el" href="../../d4/d6b/_binding_declarations_8h_source.html#l00069">mozilla::dom::GlobalObject::Failed()</a>, <a class="el" href="../../d4/d6b/_binding_declarations_8h_source.html#l00097">mozilla::dom::WorkerGlobalObject::Failed()</a>, <a class="el" href="../../d8/d08/_indexed_database_manager_8h_source.html#l00112">MOZ_FINAL&lt; T &gt;::FileMutex()</a>, <a class="el" href="../../dd/dd6/_media_manager_8h_source.html#l00424">mozilla::MOZ_FINAL::GetThread()</a>, と <a class="el" href="../../de/d00/_quota_manager_8h_source.html#l00106">MOZ_FINAL&lt; T &gt;::SetCurrentWindow()</a>.</p>

<p><div class="dynheader">
呼出しグラフ:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d3/df6/namespacemozilla_1_1layers_1_1_compositable_map_aa1ea1d81077f56e64cb786155c96cb45_icgraph.svg" width="571" height="307"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae5daaaa149c87001fc1f934f80127072"></a><!-- doxytag: member="mozilla::layers::CompositableMap::Set" ref="ae5daaaa149c87001fc1f934f80127072" args="(uint64_t aID, CompositableParent *aParent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d2c/prtpool_8h.html#a7797d332996f57719d6d316bee73873d">void</a> <a class="el" href="../../d3/df6/namespacemozilla_1_1layers_1_1_compositable_map.html#ae5daaaa149c87001fc1f934f80127072">mozilla::layers::CompositableMap::Set</a> </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>aID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CompositableParent *&#160;</td>
          <td class="paramname"><em>aParent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d2/d93/namespacemozilla.html">mozilla</a>      </li>
      <li class="navelem"><a class="el" href="../../d5/d27/namespacemozilla_1_1layers.html">layers</a>      </li>
      <li class="navelem"><a class="el" href="../../d3/df6/namespacemozilla_1_1layers_1_1_compositable_map.html">CompositableMap</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 01:08:38に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
