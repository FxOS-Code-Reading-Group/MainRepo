<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FxOS Code Reading: TextureClient.h ソースファイル</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FxOS Code Reading
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- 作成： Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'検索');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>メインページ</span></a></li>
      <li><a href="../../pages.html"><span>関連ページ</span></a></li>
      <li><a href="../../modules.html"><span>モジュール</span></a></li>
      <li><a href="../../namespaces.html"><span>パッケージ</span></a></li>
      <li><a href="../../annotated.html"><span>データ構造</span></a></li>
      <li class="current"><a href="../../files.html"><span>ファイル</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>ファイル一覧</span></a></li>
      <li><a href="../../globals.html"><span>グローバル</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d3/d36/_texture_client_8h.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">TextureClient.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d3/d36/_texture_client_8h.html">説明を見る。</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* -*- Mode: C++; tab-width: 20; indent-tabs-mode: nil; c-basic-offset: 2 -*-</span>
<a name="l00002"></a>00002 <span class="comment">//  * This Source Code Form is subject to the terms of the Mozilla Public</span>
<a name="l00003"></a>00003 <span class="comment"> * License, v. 2.0. If a copy of the MPL was not distributed with this</span>
<a name="l00004"></a>00004 <span class="comment"> * file, You can obtain one at http://mozilla.org/MPL/2.0/. */</span>
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="preprocessor">#ifndef MOZILLA_GFX_TEXTURECLIENT_H</span>
<a name="l00007"></a>00007 <span class="preprocessor"></span><span class="preprocessor">#define MOZILLA_GFX_TEXTURECLIENT_H</span>
<a name="l00008"></a>00008 <span class="preprocessor"></span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &quot;mozilla/layers/LayersSurfaces.h&quot;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;<a class="code" href="../../d2/dca/gfx_a_surface_8h.html">gfxASurface.h</a>&quot;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &quot;<a class="code" href="../../d3/d4b/_compositor_types_8h.html">mozilla/layers/CompositorTypes.h</a>&quot;</span> <span class="comment">// for TextureInfo</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &quot;<a class="code" href="../../da/d78/_ref_ptr_8h.html">mozilla/RefPtr.h</a>&quot;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &quot;<a class="code" href="../../db/da0/_image_container_8h.html">ImageContainer.h</a>&quot;</span> <span class="comment">// for PlanarYCbCrImage::Data</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="keyword">class </span><a class="code" href="../../dd/d78/classgfx_reusable_surface_wrapper.html">gfxReusableSurfaceWrapper</a>;
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <span class="keyword">namespace </span>mozilla {
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="keyword">namespace </span><a class="code" href="../../d3/d91/j3d_8js.html#ac073c982f25059138823f2cb600ddb78">gl</a> {
<a name="l00020"></a>00020 <span class="keyword">class </span>GLContext;
<a name="l00021"></a>00021 }
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="keyword">namespace </span>layers {
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="keyword">class </span>ContentClient;
<a name="l00026"></a>00026 <span class="keyword">class </span>PlanarYCbCrImage;
<a name="l00027"></a>00027 <span class="keyword">class </span>Image;
<a name="l00028"></a>00028 <span class="keyword">class </span>CompositableForwarder;
<a name="l00029"></a>00029 <span class="keyword">class </span>ISurfaceAllocator;
<a name="l00030"></a>00030 <span class="keyword">class </span>CompositableClient;
<a name="l00031"></a>00031 
<a name="l00043"></a><a class="code" href="../../d5/d25/classmozilla_1_1layers_1_1_texture_client_surface.html">00043</a> <span class="keyword">class </span><a class="code" href="../../d5/d25/classmozilla_1_1layers_1_1_texture_client_surface.html">TextureClientSurface</a>
<a name="l00044"></a>00044 {
<a name="l00045"></a>00045 <span class="keyword">public</span>:
<a name="l00046"></a>00046   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d5/d25/classmozilla_1_1layers_1_1_texture_client_surface.html#a09757665ee273b9affacfedbac7c675a">UpdateSurface</a>(<a class="code" href="../../d4/d14/classgfx_a_surface.html">gfxASurface</a>* aSurface) = 0;
<a name="l00047"></a>00047   <span class="keyword">virtual</span> <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;gfxASurface&gt;</a> <a class="code" href="../../d5/d25/classmozilla_1_1layers_1_1_texture_client_surface.html#a16d73097e1030fd8e39c1dc761a1317f">GetAsSurface</a>() = 0;
<a name="l00048"></a>00048   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d5/d25/classmozilla_1_1layers_1_1_texture_client_surface.html#a4c1814caf2a03cfa0b36b3e8d3d4efbd">AllocateForSurface</a>(<a class="code" href="../../d8/d6f/structmozilla_1_1gfx_1_1_int_size_typed.html">gfx::IntSize</a> aSize) = 0;
<a name="l00049"></a>00049 };
<a name="l00050"></a>00050 
<a name="l00054"></a><a class="code" href="../../da/d96/classmozilla_1_1layers_1_1_texture_client_y_cb_cr.html">00054</a> <span class="keyword">class </span><a class="code" href="../../da/d96/classmozilla_1_1layers_1_1_texture_client_y_cb_cr.html">TextureClientYCbCr</a>
<a name="l00055"></a>00055 {
<a name="l00056"></a>00056 <span class="keyword">public</span>:
<a name="l00057"></a>00057   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../da/d96/classmozilla_1_1layers_1_1_texture_client_y_cb_cr.html#afb93125f2552382be4aa0ffdf2cd2b0b">UpdateYCbCr</a>(<span class="keyword">const</span> <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html">PlanarYCbCrImage::Data</a>&amp; <a class="code" href="../../d6/d1d/ns_x_p_c_o_m_strings_8h.html#a580e3d1c78551e30e0c97ab45dc8a3b5">aData</a>) = 0;
<a name="l00058"></a>00058   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../da/d96/classmozilla_1_1layers_1_1_texture_client_y_cb_cr.html#aec1bf69585fafdc21ba729cd4409c3a1">AllocateForYCbCr</a>(<a class="code" href="../../d8/d6f/structmozilla_1_1gfx_1_1_int_size_typed.html">gfx::IntSize</a> aYSize,
<a name="l00059"></a>00059                                 <a class="code" href="../../d8/d6f/structmozilla_1_1gfx_1_1_int_size_typed.html">gfx::IntSize</a> aCbCrSize,
<a name="l00060"></a>00060                                 <a class="code" href="../../d2/d93/namespacemozilla.html#a1d1188921f04f0e0bdc3f409caa5c5e0">StereoMode</a> aStereoMode) = 0;
<a name="l00061"></a>00061 };
<a name="l00062"></a>00062 
<a name="l00063"></a>00063 
<a name="l00087"></a><a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html">00087</a> <span class="keyword">class </span><a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html">TextureClient</a> : <span class="keyword">public</span> <a class="code" href="../../d2/de4/classmozilla_1_1_ref_counted.html">RefCounted</a>&lt;TextureClient&gt;
<a name="l00088"></a>00088 {
<a name="l00089"></a>00089 <span class="keyword">public</span>:
<a name="l00090"></a>00090   <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#ab593a461ff03c80d4097b01ddf60acd0">TextureClient</a>(<a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> aFlags = <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a490cf9e6076edee3f0b529bfedeca4d9">TEXTURE_FLAGS_DEFAULT</a>);
<a name="l00091"></a>00091   <span class="keyword">virtual</span> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a69e1457dce270eba7010f56de3cb5ac2">~TextureClient</a>();
<a name="l00092"></a>00092 
<a name="l00093"></a><a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a768471a1c404be9c9644d3373548d528">00093</a>   <span class="keyword">virtual</span> <a class="code" href="../../d5/d25/classmozilla_1_1layers_1_1_texture_client_surface.html">TextureClientSurface</a>* <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a768471a1c404be9c9644d3373548d528">AsTextureClientSurface</a>() { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }
<a name="l00094"></a><a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a3e60f4416870c171cd4ecbe7db4cbf2b">00094</a>   <span class="keyword">virtual</span> <a class="code" href="../../da/d96/classmozilla_1_1layers_1_1_texture_client_y_cb_cr.html">TextureClientYCbCr</a>* <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a3e60f4416870c171cd4ecbe7db4cbf2b">AsTextureClientYCbCr</a>() { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }
<a name="l00095"></a>00095 
<a name="l00096"></a><a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a9599479c9782036f9c49d4da86efdd76">00096</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a9599479c9782036f9c49d4da86efdd76">MarkUnused</a>() {}
<a name="l00097"></a>00097 
<a name="l00098"></a><a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a1d62afd8da06a17eabe7890f21bc56e9">00098</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a1d62afd8da06a17eabe7890f21bc56e9">Lock</a>(<a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a95bad77c08cb3775d28fb0f346c8a5d4">OpenMode</a> aMode)
<a name="l00099"></a>00099   {
<a name="l00100"></a>00100     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00101"></a>00101   }
<a name="l00102"></a>00102 
<a name="l00103"></a><a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a0102fa859f47b9e6a27d144cc5bf5209">00103</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a0102fa859f47b9e6a27d144cc5bf5209">Unlock</a>() {}
<a name="l00104"></a>00104 
<a name="l00105"></a><a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#ae80890368678de8b95e5c465a13fa137">00105</a>   <span class="keywordtype">void</span> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#ae80890368678de8b95e5c465a13fa137">SetID</a>(uint64_t aID)
<a name="l00106"></a>00106   {
<a name="l00107"></a>00107     <a class="code" href="../../d9/de9/_assertions_8h.html#aa2fa77a048d036cb2f902299ace18165">MOZ_ASSERT</a>(<a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a23c2d0912b861de8704fbfeabd0b77f8">mID</a> == 0 || aID == 0);
<a name="l00108"></a>00108     <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a23c2d0912b861de8704fbfeabd0b77f8">mID</a> = aID;
<a name="l00109"></a>00109   }
<a name="l00110"></a>00110 
<a name="l00111"></a><a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a80d06b5493865c0a323f207fee2a0f04">00111</a>   uint64_t <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a80d06b5493865c0a323f207fee2a0f04">GetID</a>()<span class="keyword"> const</span>
<a name="l00112"></a>00112 <span class="keyword">  </span>{
<a name="l00113"></a>00113     <span class="keywordflow">return</span> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a23c2d0912b861de8704fbfeabd0b77f8">mID</a>;
<a name="l00114"></a>00114   }
<a name="l00115"></a>00115 
<a name="l00116"></a><a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#adc5f72ec2132b240687d9f0b53d6c397">00116</a>   <span class="keywordtype">void</span> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#adc5f72ec2132b240687d9f0b53d6c397">SetNextSibling</a>(<a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html">TextureClient</a>* aNext)
<a name="l00117"></a>00117   {
<a name="l00118"></a>00118     <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#ad42640f40679f940808d94e45e6cdabe">mNextSibling</a> = aNext;
<a name="l00119"></a>00119   }
<a name="l00120"></a>00120 
<a name="l00121"></a><a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a06485a75a57f8feae5e621e10bd2aaf6">00121</a>   <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html">TextureClient</a>* <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a06485a75a57f8feae5e621e10bd2aaf6">GetNextSibling</a>()
<a name="l00122"></a>00122   {
<a name="l00123"></a>00123     <span class="keywordflow">return</span> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#ad42640f40679f940808d94e45e6cdabe">mNextSibling</a>;
<a name="l00124"></a>00124   }
<a name="l00125"></a>00125 
<a name="l00126"></a>00126   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#ab7cc88a76d11bde68de7f99e9581c6a2">IsAllocated</a>() <span class="keyword">const</span> = 0;
<a name="l00127"></a>00127 
<a name="l00128"></a>00128   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a747b995ebd5a8c0c763705021d5f6d91">ToSurfaceDescriptor</a>(SurfaceDescriptor&amp; aDescriptor) = 0;
<a name="l00129"></a>00129 
<a name="l00130"></a>00130   <span class="keyword">virtual</span> <a class="code" href="../../d8/d6f/structmozilla_1_1gfx_1_1_int_size_typed.html">gfx::IntSize</a> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a8e2dc3d4ad27b1fb448dc7a7e77d7af6">GetSize</a>() <span class="keyword">const</span> = 0;
<a name="l00131"></a>00131 
<a name="l00132"></a><a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a01562da037613d9f9421775fd86c0655">00132</a>   <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a01562da037613d9f9421775fd86c0655">GetFlags</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#aa1ad89f999730baa449766d59c18e1d1">mFlags</a>; }
<a name="l00133"></a>00133 
<a name="l00139"></a><a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#adad7ab1734756940d3f5f5bb38ddf434">00139</a>   <span class="keywordtype">bool</span> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#adad7ab1734756940d3f5f5bb38ddf434">IsImmutable</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#aa1ad89f999730baa449766d59c18e1d1">mFlags</a> &amp; <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a0336e6957227882ceb384dd5138eb52c">TEXTURE_IMMUTABLE</a>; }
<a name="l00140"></a>00140 
<a name="l00141"></a><a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#af02be7b6472a182f63703e6227278a13">00141</a>   <span class="keywordtype">void</span> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#af02be7b6472a182f63703e6227278a13">MarkImmutable</a>() { <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a5574f7ff460ee79e6b3a70b2661d7e25">AddFlags</a>(<a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a0336e6957227882ceb384dd5138eb52c">TEXTURE_IMMUTABLE</a>); }
<a name="l00142"></a>00142 
<a name="l00143"></a><a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a51b199a18c426f4b64a2187108a11885">00143</a>   <span class="keywordtype">bool</span> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a51b199a18c426f4b64a2187108a11885">IsSharedWithCompositor</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a80d06b5493865c0a323f207fee2a0f04">GetID</a>() != 0; }
<a name="l00144"></a>00144 
<a name="l00145"></a>00145   <span class="keywordtype">bool</span> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a0bdebb8c2109044bee554bd9b78964d7">ShouldDeallocateInDestructor</a>() <span class="keyword">const</span>;
<a name="l00146"></a>00146 <span class="keyword">protected</span>:
<a name="l00147"></a><a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a5574f7ff460ee79e6b3a70b2661d7e25">00147</a>   <span class="keywordtype">void</span> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a5574f7ff460ee79e6b3a70b2661d7e25">AddFlags</a>(<a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a>  aFlags)
<a name="l00148"></a>00148   {
<a name="l00149"></a>00149     <a class="code" href="../../d9/de9/_assertions_8h.html#aa2fa77a048d036cb2f902299ace18165">MOZ_ASSERT</a>(!<a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a51b199a18c426f4b64a2187108a11885">IsSharedWithCompositor</a>());
<a name="l00150"></a>00150     <span class="comment">// make sure we don&#39;t deallocate on both client and host;</span>
<a name="l00151"></a>00151     <a class="code" href="../../d9/de9/_assertions_8h.html#aa2fa77a048d036cb2f902299ace18165">MOZ_ASSERT</a>(!(aFlags &amp; <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a8303bac5d65c7c2de11d4bc702ecebad">TEXTURE_DEALLOCATE_CLIENT</a> &amp;&amp; aFlags &amp; <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#ab90dbba60946506a6258b926702fc4ec">TEXTURE_DEALLOCATE_HOST</a>));
<a name="l00152"></a>00152     <span class="keywordflow">if</span> (aFlags &amp; <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a8303bac5d65c7c2de11d4bc702ecebad">TEXTURE_DEALLOCATE_CLIENT</a>) {
<a name="l00153"></a>00153       <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#aa1ad89f999730baa449766d59c18e1d1">mFlags</a> &amp;= ~TEXTURE_DEALLOCATE_HOST;
<a name="l00154"></a>00154     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (aFlags &amp; TEXTURE_DEALLOCATE_HOST) {
<a name="l00155"></a>00155       <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#aa1ad89f999730baa449766d59c18e1d1">mFlags</a> &amp;= ~TEXTURE_DEALLOCATE_CLIENT;
<a name="l00156"></a>00156     }
<a name="l00157"></a>00157     <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#aa1ad89f999730baa449766d59c18e1d1">mFlags</a> |= aFlags;
<a name="l00158"></a>00158   }
<a name="l00159"></a>00159 
<a name="l00160"></a><a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a23c2d0912b861de8704fbfeabd0b77f8">00160</a>   uint64_t <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a23c2d0912b861de8704fbfeabd0b77f8">mID</a>;
<a name="l00161"></a><a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#ad42640f40679f940808d94e45e6cdabe">00161</a>   <a class="code" href="../../d9/dc3/classmozilla_1_1_ref_ptr.html">RefPtr&lt;TextureClient&gt;</a> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#ad42640f40679f940808d94e45e6cdabe">mNextSibling</a>;
<a name="l00162"></a><a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#aa1ad89f999730baa449766d59c18e1d1">00162</a>   <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#aa1ad89f999730baa449766d59c18e1d1">mFlags</a>;
<a name="l00163"></a>00163 };
<a name="l00164"></a>00164 
<a name="l00170"></a><a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html">00170</a> <span class="keyword">class </span><a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html">BufferTextureClient</a> : <span class="keyword">public</span> <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html">TextureClient</a>
<a name="l00171"></a>00171                           , <span class="keyword">public</span> <a class="code" href="../../d5/d25/classmozilla_1_1layers_1_1_texture_client_surface.html">TextureClientSurface</a>
<a name="l00172"></a>00172                           , <a class="code" href="../../da/d96/classmozilla_1_1layers_1_1_texture_client_y_cb_cr.html">TextureClientYCbCr</a>
<a name="l00173"></a>00173 {
<a name="l00174"></a>00174 <span class="keyword">public</span>:
<a name="l00175"></a>00175   <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#a9b3308b7daf1a17405ad248ccdc46dfb">BufferTextureClient</a>(<a class="code" href="../../d2/dc8/classmozilla_1_1layers_1_1_compositable_client.html">CompositableClient</a>* aCompositable, <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a8ad07eb68c5f5eab704c5a0934a5331f">gfx::SurfaceFormat</a> aFormat,
<a name="l00176"></a>00176                       <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> aFlags);
<a name="l00177"></a>00177 
<a name="l00178"></a>00178   <span class="keyword">virtual</span> <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#ac65bd617202e2ace9074ad769a071ce0">~BufferTextureClient</a>();
<a name="l00179"></a>00179 
<a name="l00180"></a>00180   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#a84ea7f644a00617cbfe90fe227b7480f">IsAllocated</a>() <span class="keyword">const</span> = 0;
<a name="l00181"></a>00181 
<a name="l00182"></a>00182   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#a7da9b7ab53750c23d1aeb352be91eef6">ToSurfaceDescriptor</a>(SurfaceDescriptor&amp; aDescriptor) = 0;
<a name="l00183"></a>00183 
<a name="l00184"></a>00184   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#afecf2dabd578798934b4547185f62b5c">Allocate</a>(uint32_t aSize) = 0;
<a name="l00185"></a>00185 
<a name="l00186"></a>00186   <span class="keyword">virtual</span> uint8_t* <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#ae6e6632f8891b841cbb206439bf64eb2">GetBuffer</a>() <span class="keyword">const</span> = 0;
<a name="l00187"></a>00187 
<a name="l00188"></a>00188   <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#a4b79f9e175e98de573c3a9652fc7e69a">GetBufferSize</a>() <span class="keyword">const</span> = 0;
<a name="l00189"></a>00189 
<a name="l00190"></a><a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#a0b5312007163e9d7a2598da5379c1453">00190</a>   <span class="keyword">virtual</span> <a class="code" href="../../d8/d6f/structmozilla_1_1gfx_1_1_int_size_typed.html">gfx::IntSize</a> <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#a0b5312007163e9d7a2598da5379c1453">GetSize</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#afcfe24ac6afc21ccfcac91a87b37f921">mSize</a>; }
<a name="l00191"></a>00191 
<a name="l00192"></a>00192   <span class="comment">// TextureClientSurface</span>
<a name="l00193"></a>00193 
<a name="l00194"></a><a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#a208d3c244e9752109b9aa227bb2066b3">00194</a>   <span class="keyword">virtual</span> <a class="code" href="../../d5/d25/classmozilla_1_1layers_1_1_texture_client_surface.html">TextureClientSurface</a>* <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#a208d3c244e9752109b9aa227bb2066b3">AsTextureClientSurface</a>() MOZ_OVERRIDE { <span class="keywordflow">return</span> <span class="keyword">this</span>; }
<a name="l00195"></a>00195 
<a name="l00196"></a>00196   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#a340d9495a79b5998e11ee608a0863124">UpdateSurface</a>(<a class="code" href="../../d4/d14/classgfx_a_surface.html">gfxASurface</a>* aSurface) MOZ_OVERRIDE;
<a name="l00197"></a>00197 
<a name="l00198"></a>00198   <span class="keyword">virtual</span> <a class="code" href="../../d3/d17/structalready___add_refed.html">already_AddRefed&lt;gfxASurface&gt;</a> <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#aa8617ce6e46084601e9e293ce591a154">GetAsSurface</a>() MOZ_OVERRIDE;
<a name="l00199"></a>00199 
<a name="l00200"></a>00200   virtual <span class="keywordtype">bool</span> <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#ae490964c8394c608b8d6125222517d9c">AllocateForSurface</a>(gfx::<a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#af49f74f3d4a508693b21f2e49234a3f9">IntSize</a> aSize) MOZ_OVERRIDE;
<a name="l00201"></a>00201 
<a name="l00202"></a>00202   <span class="comment">// TextureClientYCbCr</span>
<a name="l00203"></a>00203 
<a name="l00204"></a><a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#ac5034b9a1516bebcd9036f1e647ed02a">00204</a>   virtual <a class="code" href="../../da/d96/classmozilla_1_1layers_1_1_texture_client_y_cb_cr.html">TextureClientYCbCr</a>* <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#ac5034b9a1516bebcd9036f1e647ed02a">AsTextureClientYCbCr</a>() MOZ_OVERRIDE { <span class="keywordflow">return</span> <span class="keyword">this</span>; }
<a name="l00205"></a>00205 
<a name="l00206"></a>00206   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#a4c8f528850775d6a016c9f572ecfdba1">UpdateYCbCr</a>(<span class="keyword">const</span> <a class="code" href="../../d1/d63/structmozilla_1_1layers_1_1_planar_y_cb_cr_image_1_1_data.html">PlanarYCbCrImage::Data</a>&amp; <a class="code" href="../../d6/d1d/ns_x_p_c_o_m_strings_8h.html#a580e3d1c78551e30e0c97ab45dc8a3b5">aData</a>) MOZ_OVERRIDE;
<a name="l00207"></a>00207 
<a name="l00208"></a>00208   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#aa16b9f88f8dbcd1c2f39bcc275047a22">AllocateForYCbCr</a>(<a class="code" href="../../d8/d6f/structmozilla_1_1gfx_1_1_int_size_typed.html">gfx::IntSize</a> aYSize,
<a name="l00209"></a>00209                                 <a class="code" href="../../d8/d6f/structmozilla_1_1gfx_1_1_int_size_typed.html">gfx::IntSize</a> aCbCrSize,
<a name="l00210"></a>00210                                 <a class="code" href="../../d2/d93/namespacemozilla.html#a1d1188921f04f0e0bdc3f409caa5c5e0">StereoMode</a> aStereoMode) MOZ_OVERRIDE;
<a name="l00211"></a>00211 
<a name="l00212"></a><a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#a55d21093812340e9ffaa64cb01259454">00212</a>   <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a8ad07eb68c5f5eab704c5a0934a5331f">gfx::SurfaceFormat</a> <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#a55d21093812340e9ffaa64cb01259454">GetFormat</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#ab45704775c02eef925186a170ce65ecc">mFormat</a>; }
<a name="l00213"></a>00213 
<a name="l00214"></a>00214 <span class="keyword">protected</span>:
<a name="l00215"></a><a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#a63aa33b717be1766e55876322777038f">00215</a>   <a class="code" href="../../d2/dc8/classmozilla_1_1layers_1_1_compositable_client.html">CompositableClient</a>* <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#a63aa33b717be1766e55876322777038f">mCompositable</a>;
<a name="l00216"></a><a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#ab45704775c02eef925186a170ce65ecc">00216</a>   <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a8ad07eb68c5f5eab704c5a0934a5331f">gfx::SurfaceFormat</a> <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#ab45704775c02eef925186a170ce65ecc">mFormat</a>;
<a name="l00217"></a><a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#afcfe24ac6afc21ccfcac91a87b37f921">00217</a>   <a class="code" href="../../d8/d6f/structmozilla_1_1gfx_1_1_int_size_typed.html">gfx::IntSize</a> <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html#afcfe24ac6afc21ccfcac91a87b37f921">mSize</a>;
<a name="l00218"></a>00218 };
<a name="l00219"></a>00219 
<a name="l00224"></a><a class="code" href="../../d4/d71/classmozilla_1_1layers_1_1_shmem_texture_client.html">00224</a> <span class="keyword">class </span><a class="code" href="../../d4/d71/classmozilla_1_1layers_1_1_shmem_texture_client.html">ShmemTextureClient</a> : <span class="keyword">public</span> <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html">BufferTextureClient</a>
<a name="l00225"></a>00225 {
<a name="l00226"></a>00226 <span class="keyword">public</span>:
<a name="l00227"></a>00227   <a class="code" href="../../d4/d71/classmozilla_1_1layers_1_1_shmem_texture_client.html#a36963b796db3b67bd25f82d57a8204e5">ShmemTextureClient</a>(<a class="code" href="../../d2/dc8/classmozilla_1_1layers_1_1_compositable_client.html">CompositableClient</a>* aCompositable, <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a8ad07eb68c5f5eab704c5a0934a5331f">gfx::SurfaceFormat</a> aFormat,
<a name="l00228"></a>00228                      <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> aFlags);
<a name="l00229"></a>00229 
<a name="l00230"></a>00230   <a class="code" href="../../d4/d71/classmozilla_1_1layers_1_1_shmem_texture_client.html#affd2b025d1632f68d81538339bd0564d">~ShmemTextureClient</a>();
<a name="l00231"></a>00231 
<a name="l00232"></a>00232   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d4/d71/classmozilla_1_1layers_1_1_shmem_texture_client.html#afef02763ec79119be7f699bae4c3ab14">ToSurfaceDescriptor</a>(SurfaceDescriptor&amp; aDescriptor) MOZ_OVERRIDE;
<a name="l00233"></a>00233 
<a name="l00234"></a>00234   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d4/d71/classmozilla_1_1layers_1_1_shmem_texture_client.html#a49c2b5c53dc35f92b18021c94ad14a22">Allocate</a>(uint32_t aSize) MOZ_OVERRIDE;
<a name="l00235"></a>00235 
<a name="l00236"></a>00236   <span class="keyword">virtual</span> uint8_t* <a class="code" href="../../d4/d71/classmozilla_1_1layers_1_1_shmem_texture_client.html#a138c83889b5e8d6d3650aa7667aee64d">GetBuffer</a>() <span class="keyword">const</span> MOZ_OVERRIDE;
<a name="l00237"></a>00237 
<a name="l00238"></a>00238   <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> <a class="code" href="../../d4/d71/classmozilla_1_1layers_1_1_shmem_texture_client.html#ad88a35cdb73a16231e446e26eb2bf8d6">GetBufferSize</a>() <span class="keyword">const</span> MOZ_OVERRIDE;
<a name="l00239"></a>00239 
<a name="l00240"></a><a class="code" href="../../d4/d71/classmozilla_1_1layers_1_1_shmem_texture_client.html#a1052bd58c37847bef9efd820068003eb">00240</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d4/d71/classmozilla_1_1layers_1_1_shmem_texture_client.html#a1052bd58c37847bef9efd820068003eb">IsAllocated</a>() <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> MOZ_OVERRIDE { <span class="keywordflow">return</span> <a class="code" href="../../d4/d71/classmozilla_1_1layers_1_1_shmem_texture_client.html#af31d156966b8defbc10ad9296d856716">mAllocated</a>; }
<a name="l00241"></a>00241 
<a name="l00242"></a>00242   <a class="code" href="../../dd/d26/classmozilla_1_1layers_1_1_i_surface_allocator.html">ISurfaceAllocator</a>* <a class="code" href="../../d4/d71/classmozilla_1_1layers_1_1_shmem_texture_client.html#a99e354c0ec7425635a96f855d78e1bdd">GetAllocator</a>() <span class="keyword">const</span>;
<a name="l00243"></a>00243 
<a name="l00244"></a><a class="code" href="../../d4/d71/classmozilla_1_1layers_1_1_shmem_texture_client.html#a2303996bd93a8c20ed5e6eef7f30d1b3">00244</a>   ipc::Shmem&amp; <a class="code" href="../../d4/d71/classmozilla_1_1layers_1_1_shmem_texture_client.html#a2303996bd93a8c20ed5e6eef7f30d1b3">GetShmem</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d4/d71/classmozilla_1_1layers_1_1_shmem_texture_client.html#a97f60ac48f6c9f8adaf738445f59e5fc">mShmem</a>; }
<a name="l00245"></a>00245 
<a name="l00246"></a>00246 <span class="keyword">protected</span>:
<a name="l00247"></a><a class="code" href="../../d4/d71/classmozilla_1_1layers_1_1_shmem_texture_client.html#a97f60ac48f6c9f8adaf738445f59e5fc">00247</a>   ipc::Shmem <a class="code" href="../../d4/d71/classmozilla_1_1layers_1_1_shmem_texture_client.html#a97f60ac48f6c9f8adaf738445f59e5fc">mShmem</a>;
<a name="l00248"></a><a class="code" href="../../d4/d71/classmozilla_1_1layers_1_1_shmem_texture_client.html#a5167460cfdef0ece8b3192181fb3d715">00248</a>   <a class="code" href="../../dd/d26/classmozilla_1_1layers_1_1_i_surface_allocator.html">ISurfaceAllocator</a>* <a class="code" href="../../d4/d71/classmozilla_1_1layers_1_1_shmem_texture_client.html#a5167460cfdef0ece8b3192181fb3d715">mAllocator</a>;
<a name="l00249"></a><a class="code" href="../../d4/d71/classmozilla_1_1layers_1_1_shmem_texture_client.html#af31d156966b8defbc10ad9296d856716">00249</a>   <span class="keywordtype">bool</span> <a class="code" href="../../d4/d71/classmozilla_1_1layers_1_1_shmem_texture_client.html#af31d156966b8defbc10ad9296d856716">mAllocated</a>;
<a name="l00250"></a>00250 };
<a name="l00251"></a>00251 
<a name="l00257"></a><a class="code" href="../../dc/db0/classmozilla_1_1layers_1_1_memory_texture_client.html">00257</a> <span class="keyword">class </span><a class="code" href="../../dc/db0/classmozilla_1_1layers_1_1_memory_texture_client.html">MemoryTextureClient</a> : <span class="keyword">public</span> <a class="code" href="../../d2/d21/classmozilla_1_1layers_1_1_buffer_texture_client.html">BufferTextureClient</a>
<a name="l00258"></a>00258 {
<a name="l00259"></a>00259 <span class="keyword">public</span>:
<a name="l00260"></a>00260   <a class="code" href="../../dc/db0/classmozilla_1_1layers_1_1_memory_texture_client.html#a0e5c22fa8dbf617bdd3eb2da0e5ceb9c">MemoryTextureClient</a>(<a class="code" href="../../d2/dc8/classmozilla_1_1layers_1_1_compositable_client.html">CompositableClient</a>* aCompositable, <a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#a8ad07eb68c5f5eab704c5a0934a5331f">gfx::SurfaceFormat</a> aFormat,
<a name="l00261"></a>00261                       <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> aFlags);
<a name="l00262"></a>00262 
<a name="l00263"></a>00263   <a class="code" href="../../dc/db0/classmozilla_1_1layers_1_1_memory_texture_client.html#a0522eb01261be4db42428e355999f5c2">~MemoryTextureClient</a>();
<a name="l00264"></a>00264 
<a name="l00265"></a>00265   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../dc/db0/classmozilla_1_1layers_1_1_memory_texture_client.html#a38240a3cde24fd525712bdda85fae398">ToSurfaceDescriptor</a>(SurfaceDescriptor&amp; aDescriptor) MOZ_OVERRIDE;
<a name="l00266"></a>00266 
<a name="l00267"></a>00267   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../dc/db0/classmozilla_1_1layers_1_1_memory_texture_client.html#a3832cc3d32d8b59ad14662621e2ce76e">Allocate</a>(uint32_t aSize) MOZ_OVERRIDE;
<a name="l00268"></a>00268 
<a name="l00269"></a><a class="code" href="../../dc/db0/classmozilla_1_1layers_1_1_memory_texture_client.html#ab50989e8973c082e409d1086630ee8b1">00269</a>   <span class="keyword">virtual</span> uint8_t* <a class="code" href="../../dc/db0/classmozilla_1_1layers_1_1_memory_texture_client.html#ab50989e8973c082e409d1086630ee8b1">GetBuffer</a>() <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> MOZ_OVERRIDE { <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/classmozilla_1_1layers_1_1_memory_texture_client.html#ad5b4c2bf2e879bb01e0ed79946a2c211">mBuffer</a>; }
<a name="l00270"></a>00270 
<a name="l00271"></a><a class="code" href="../../dc/db0/classmozilla_1_1layers_1_1_memory_texture_client.html#adc46da998e5d8b83e1deb0f6e479d75b">00271</a>   <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> <a class="code" href="../../dc/db0/classmozilla_1_1layers_1_1_memory_texture_client.html#adc46da998e5d8b83e1deb0f6e479d75b">GetBufferSize</a>() <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> MOZ_OVERRIDE { <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/classmozilla_1_1layers_1_1_memory_texture_client.html#a96a83063827a31ca4d31ac13b6ec0ab3">mBufSize</a>; }
<a name="l00272"></a>00272 
<a name="l00273"></a><a class="code" href="../../dc/db0/classmozilla_1_1layers_1_1_memory_texture_client.html#abcf893a958bc419d6ad945442c3c1a88">00273</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../dc/db0/classmozilla_1_1layers_1_1_memory_texture_client.html#abcf893a958bc419d6ad945442c3c1a88">IsAllocated</a>() <a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> MOZ_OVERRIDE { <span class="keywordflow">return</span> <a class="code" href="../../dc/db0/classmozilla_1_1layers_1_1_memory_texture_client.html#ad5b4c2bf2e879bb01e0ed79946a2c211">mBuffer</a> != <span class="keyword">nullptr</span>; }
<a name="l00274"></a>00274 
<a name="l00275"></a>00275 <span class="keyword">protected</span>:
<a name="l00276"></a><a class="code" href="../../dc/db0/classmozilla_1_1layers_1_1_memory_texture_client.html#ad5b4c2bf2e879bb01e0ed79946a2c211">00276</a>   uint8_t* <a class="code" href="../../dc/db0/classmozilla_1_1layers_1_1_memory_texture_client.html#ad5b4c2bf2e879bb01e0ed79946a2c211">mBuffer</a>;
<a name="l00277"></a><a class="code" href="../../dc/db0/classmozilla_1_1layers_1_1_memory_texture_client.html#a96a83063827a31ca4d31ac13b6ec0ab3">00277</a>   <span class="keywordtype">size_t</span> <a class="code" href="../../dc/db0/classmozilla_1_1layers_1_1_memory_texture_client.html#a96a83063827a31ca4d31ac13b6ec0ab3">mBufSize</a>;
<a name="l00278"></a>00278 };
<a name="l00279"></a>00279 
<a name="l00280"></a>00280 
<a name="l00281"></a><a class="code" href="../../d9/ddb/structmozilla_1_1layers_1_1_texture_client_auto_unlock.html">00281</a> <span class="keyword">struct </span><a class="code" href="../../d9/ddb/structmozilla_1_1layers_1_1_texture_client_auto_unlock.html">TextureClientAutoUnlock</a>
<a name="l00282"></a>00282 {
<a name="l00283"></a><a class="code" href="../../d9/ddb/structmozilla_1_1layers_1_1_texture_client_auto_unlock.html#a8af8cb1edfcedb1b1f096c6af09ce368">00283</a>   <a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html">TextureClient</a>* <a class="code" href="../../d9/ddb/structmozilla_1_1layers_1_1_texture_client_auto_unlock.html#a8af8cb1edfcedb1b1f096c6af09ce368">mTexture</a>;
<a name="l00284"></a>00284 
<a name="l00285"></a><a class="code" href="../../d9/ddb/structmozilla_1_1layers_1_1_texture_client_auto_unlock.html#ac5842eca7fc07eb6d2cdea237c8b0a61">00285</a>   <a class="code" href="../../d9/ddb/structmozilla_1_1layers_1_1_texture_client_auto_unlock.html#ac5842eca7fc07eb6d2cdea237c8b0a61">TextureClientAutoUnlock</a>(<a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html">TextureClient</a>* aTexture)
<a name="l00286"></a>00286   : <a class="code" href="../../d9/ddb/structmozilla_1_1layers_1_1_texture_client_auto_unlock.html#a8af8cb1edfcedb1b1f096c6af09ce368">mTexture</a>(aTexture) {}
<a name="l00287"></a>00287 
<a name="l00288"></a><a class="code" href="../../d9/ddb/structmozilla_1_1layers_1_1_texture_client_auto_unlock.html#a95dc71ac4ae13761a94efeb78fb06b3d">00288</a>   <a class="code" href="../../d9/ddb/structmozilla_1_1layers_1_1_texture_client_auto_unlock.html#a95dc71ac4ae13761a94efeb78fb06b3d">~TextureClientAutoUnlock</a>()
<a name="l00289"></a>00289   {
<a name="l00290"></a>00290     <a class="code" href="../../d9/ddb/structmozilla_1_1layers_1_1_texture_client_auto_unlock.html#a8af8cb1edfcedb1b1f096c6af09ce368">mTexture</a>-&gt;<a class="code" href="../../de/dae/classmozilla_1_1layers_1_1_texture_client.html#a0102fa859f47b9e6a27d144cc5bf5209">Unlock</a>();
<a name="l00291"></a>00291   }
<a name="l00292"></a>00292 };
<a name="l00293"></a>00293 
<a name="l00318"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html">00318</a> <span class="keyword">class </span><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html">DeprecatedTextureClient</a> : <span class="keyword">public</span> <a class="code" href="../../d2/de4/classmozilla_1_1_ref_counted.html">RefCounted</a>&lt;DeprecatedTextureClient&gt;
<a name="l00319"></a>00319 {
<a name="l00320"></a>00320 <span class="keyword">public</span>:
<a name="l00321"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#ab3178dfad90f9bd4344c53717b30238f">00321</a>   <span class="keyword">typedef</span> <a class="code" href="../../d8/d00/namespacemozilla_1_1gl.html#a302049ebfee0c4749af66db0c445d0f0">gl::SharedTextureHandle</a> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#ab3178dfad90f9bd4344c53717b30238f">SharedTextureHandle</a>;
<a name="l00322"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a43ea86e67dec3c5dc7bb24e99d3f7ccd">00322</a>   <span class="keyword">typedef</span> <a class="code" href="../../df/d68/classmozilla_1_1gl_1_1_g_l_context.html">gl::GLContext</a> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a43ea86e67dec3c5dc7bb24e99d3f7ccd">GLContext</a>;
<a name="l00323"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a3559e2faba7a3a9445272a1b488a04db">00323</a>   <span class="keyword">typedef</span> <a class="code" href="../../d7/d5b/classmozilla_1_1gl_1_1_texture_image.html">gl::TextureImage</a> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a3559e2faba7a3a9445272a1b488a04db">TextureImage</a>;
<a name="l00324"></a>00324 
<a name="l00325"></a>00325   <span class="keyword">virtual</span> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a23a72bf687d779e2605eeffa4c20ce1e">~DeprecatedTextureClient</a>();
<a name="l00326"></a>00326 
<a name="l00327"></a>00327   <span class="comment">/* This will return an identifier that can be sent accross a process or</span>
<a name="l00328"></a>00328 <span class="comment">   * thread boundary and used to construct a DeprecatedTextureHost object</span>
<a name="l00329"></a>00329 <span class="comment">   * which can then be used as a texture for rendering by a compatible</span>
<a name="l00330"></a>00330 <span class="comment">   * compositor. This texture should have been created with the</span>
<a name="l00331"></a>00331 <span class="comment">   * DeprecatedTextureHostIdentifier specified by the compositor that this identifier</span>
<a name="l00332"></a>00332 <span class="comment">   * is to be used with.</span>
<a name="l00333"></a>00333 <span class="comment">   */</span>
<a name="l00334"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a0de541554656e00b22b57c010579e965">00334</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="../../d2/dbc/structmozilla_1_1layers_1_1_texture_info.html">TextureInfo</a>&amp; <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a0de541554656e00b22b57c010579e965">GetTextureInfo</a>()<span class="keyword"> const</span>
<a name="l00335"></a>00335 <span class="keyword">  </span>{
<a name="l00336"></a>00336     <span class="keywordflow">return</span> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a321c6b1d038e86c62e13a3db88e8d2a8">mTextureInfo</a>;
<a name="l00337"></a>00337   }
<a name="l00338"></a>00338 
<a name="l00339"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#ae126e0b556120c4f063d33073781fbf1">00339</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#ae126e0b556120c4f063d33073781fbf1">SupportsType</a>(<a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a44445201a74850214698a79ca2037abd">DeprecatedTextureClientType</a> <a class="code" href="../../df/d33/ns_x_u_l_app_a_p_i_8h.html#a02213a397ee55db7eba28bed963f63df">aType</a>) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00340"></a>00340 
<a name="l00346"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#aacb3dd1e046abcfef6575d0a4306085e">00346</a>   <span class="keyword">virtual</span> <a class="code" href="../../db/d54/classgfx_image_surface.html">gfxImageSurface</a>* <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#aacb3dd1e046abcfef6575d0a4306085e">LockImageSurface</a>() { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }
<a name="l00347"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a208dcc013c764626d3dcfaa6627aa13f">00347</a>   <span class="keyword">virtual</span> <a class="code" href="../../d4/d14/classgfx_a_surface.html">gfxASurface</a>* <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a208dcc013c764626d3dcfaa6627aa13f">LockSurface</a>() { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }
<a name="l00348"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a92086bb0dc176da14c09fbbe5943a919">00348</a>   <span class="keyword">virtual</span> <a class="code" href="../../d2/d07/classmozilla_1_1gfx_1_1_draw_target.html">gfx::DrawTarget</a>* <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a92086bb0dc176da14c09fbbe5943a919">LockDrawTarget</a>() { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }
<a name="l00349"></a>00349 
<a name="l00350"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a6ab377d884238fd2592489dad0823352">00350</a>   <span class="keyword">virtual</span> SurfaceDescriptor* <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a6ab377d884238fd2592489dad0823352">LockSurfaceDescriptor</a>() { <span class="keywordflow">return</span> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a431a9efdfd5cb3ae7ad119969881a0bf">GetDescriptor</a>(); }
<a name="l00351"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#ae01ce3359fd28b689c69966f3a9124a0">00351</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#ae01ce3359fd28b689c69966f3a9124a0">ReleaseResources</a>() {}
<a name="l00356"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a396d350e42a795dc263ba86b47caeaec">00356</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a396d350e42a795dc263ba86b47caeaec">Unlock</a>() {}
<a name="l00357"></a>00357 
<a name="l00363"></a>00363   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a05d289c7bdfbc870bbc9e257c219d276">EnsureAllocated</a>(<a class="code" href="../../d8/d6f/structmozilla_1_1gfx_1_1_int_size_typed.html">gfx::IntSize</a> aSize,
<a name="l00364"></a>00364                                <a class="code" href="../../d4/d14/classgfx_a_surface.html#af12afcfae2a9102ab6efbf1b57546360">gfxASurface::gfxContentType</a> <a class="code" href="../../df/d33/ns_x_u_l_app_a_p_i_8h.html#a02213a397ee55db7eba28bed963f63df">aType</a>) = 0;
<a name="l00365"></a>00365 
<a name="l00370"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#af1ef6b4e5ba743ad19452b02fe900a8c">00370</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#af1ef6b4e5ba743ad19452b02fe900a8c">SetDescriptorFromReply</a>(<span class="keyword">const</span> SurfaceDescriptor&amp; aDescriptor)
<a name="l00371"></a>00371   {
<a name="l00372"></a>00372     <span class="comment">// default implementation</span>
<a name="l00373"></a>00373     <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a88269806a1ea2b1faf6281b3d0db3855">SetDescriptor</a>(aDescriptor);
<a name="l00374"></a>00374   }
<a name="l00375"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a88269806a1ea2b1faf6281b3d0db3855">00375</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a88269806a1ea2b1faf6281b3d0db3855">SetDescriptor</a>(<span class="keyword">const</span> SurfaceDescriptor&amp; aDescriptor)
<a name="l00376"></a>00376   {
<a name="l00377"></a>00377     <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#aa6e57de96b42de77b1d1023f0cd1be7b">mDescriptor</a> = aDescriptor;
<a name="l00378"></a>00378   }
<a name="l00379"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a431a9efdfd5cb3ae7ad119969881a0bf">00379</a>   SurfaceDescriptor* <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a431a9efdfd5cb3ae7ad119969881a0bf">GetDescriptor</a>() { <span class="keywordflow">return</span> &amp;<a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#aa6e57de96b42de77b1d1023f0cd1be7b">mDescriptor</a>; }
<a name="l00380"></a>00380 
<a name="l00381"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a47dd60f66d1cc95830242fa09979bfbf">00381</a>   <a class="code" href="../../d8/da3/classmozilla_1_1layers_1_1_compositable_forwarder.html">CompositableForwarder</a>* <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a47dd60f66d1cc95830242fa09979bfbf">GetForwarder</a>()<span class="keyword"> const</span>
<a name="l00382"></a>00382 <span class="keyword">  </span>{
<a name="l00383"></a>00383     <span class="keywordflow">return</span> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a4da036eb06aba8814b8d84ec42b5925e">mForwarder</a>;
<a name="l00384"></a>00384   }
<a name="l00385"></a>00385 
<a name="l00386"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a48e509069dfe493bee566269d1ddfc5c">00386</a>   <span class="keywordtype">void</span> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a48e509069dfe493bee566269d1ddfc5c">SetFlags</a>(<a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a5f68a7c1f86dbc52c73db9bd755e6b3b">TextureFlags</a> aFlags)
<a name="l00387"></a>00387   {
<a name="l00388"></a>00388     <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a321c6b1d038e86c62e13a3db88e8d2a8">mTextureInfo</a>.<a class="code" href="../../d2/dbc/structmozilla_1_1layers_1_1_texture_info.html#a9678dda3db5e1d48803f290761f5eec8">mTextureFlags</a> = aFlags;
<a name="l00389"></a>00389   }
<a name="l00390"></a>00390 
<a name="l00391"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a34ef89a6ae2891d71ac108bdaff3d5b7">00391</a>   <span class="keyword">enum</span> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a34ef89a6ae2891d71ac108bdaff3d5b7">AccessMode</a>
<a name="l00392"></a>00392   {
<a name="l00393"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a34ef89a6ae2891d71ac108bdaff3d5b7a0946a3ebbc84a5b8704efd67c4d869cc">00393</a>     <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a34ef89a6ae2891d71ac108bdaff3d5b7a0946a3ebbc84a5b8704efd67c4d869cc">ACCESS_NONE</a> = 0x0,
<a name="l00394"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a34ef89a6ae2891d71ac108bdaff3d5b7a38d2ce9d83c575469ea8e59b5a376d9d">00394</a>     <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a34ef89a6ae2891d71ac108bdaff3d5b7a38d2ce9d83c575469ea8e59b5a376d9d">ACCESS_READ_ONLY</a>  = 0x1,
<a name="l00395"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a34ef89a6ae2891d71ac108bdaff3d5b7ac506522bda84467d2f0d9f35e8f54695">00395</a>     <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a34ef89a6ae2891d71ac108bdaff3d5b7ac506522bda84467d2f0d9f35e8f54695">ACCESS_READ_WRITE</a> = 0x2
<a name="l00396"></a>00396   };
<a name="l00397"></a>00397 
<a name="l00398"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#acfb09b1d7dfc15c40d11ae9099163fea">00398</a>   <span class="keywordtype">void</span> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#acfb09b1d7dfc15c40d11ae9099163fea">SetAccessMode</a>(<a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a34ef89a6ae2891d71ac108bdaff3d5b7">AccessMode</a> aAccessMode)
<a name="l00399"></a>00399   {
<a name="l00400"></a>00400     <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a0e4c55f91a6fc8ae6c983ee4f5176fb8">mAccessMode</a> = aAccessMode;
<a name="l00401"></a>00401   }
<a name="l00402"></a>00402 
<a name="l00403"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#aa588740ab6e58c7e0364f6214cd8d168">00403</a>   <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a34ef89a6ae2891d71ac108bdaff3d5b7">AccessMode</a> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#aa588740ab6e58c7e0364f6214cd8d168">GetAccessMode</a>()<span class="keyword"> const</span>
<a name="l00404"></a>00404 <span class="keyword">  </span>{
<a name="l00405"></a>00405     <span class="keywordflow">return</span> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a0e4c55f91a6fc8ae6c983ee4f5176fb8">mAccessMode</a>;
<a name="l00406"></a>00406   }
<a name="l00407"></a>00407 
<a name="l00408"></a>00408   <span class="keyword">virtual</span> <a class="code" href="../../d4/d14/classgfx_a_surface.html#af12afcfae2a9102ab6efbf1b57546360">gfxASurface::gfxContentType</a> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a80f2993e23825dd33884782860efce6d">GetContentType</a>() = 0;
<a name="l00409"></a>00409 
<a name="l00410"></a>00410 <span class="keyword">protected</span>:
<a name="l00411"></a>00411   <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a07f140c2f4ece400c1522a43e67958d8">DeprecatedTextureClient</a>(<a class="code" href="../../d8/da3/classmozilla_1_1layers_1_1_compositable_forwarder.html">CompositableForwarder</a>* aForwarder,
<a name="l00412"></a>00412                 <span class="keyword">const</span> <a class="code" href="../../d2/dbc/structmozilla_1_1layers_1_1_texture_info.html">TextureInfo</a>&amp; aTextureInfo);
<a name="l00413"></a>00413 
<a name="l00414"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a4da036eb06aba8814b8d84ec42b5925e">00414</a>   <a class="code" href="../../d8/da3/classmozilla_1_1layers_1_1_compositable_forwarder.html">CompositableForwarder</a>* <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a4da036eb06aba8814b8d84ec42b5925e">mForwarder</a>;
<a name="l00415"></a>00415   <span class="comment">// So far all DeprecatedTextureClients use a SurfaceDescriptor, so it makes sense to</span>
<a name="l00416"></a>00416   <span class="comment">// keep the reference here.</span>
<a name="l00417"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#aa6e57de96b42de77b1d1023f0cd1be7b">00417</a>   SurfaceDescriptor <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#aa6e57de96b42de77b1d1023f0cd1be7b">mDescriptor</a>;
<a name="l00418"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a321c6b1d038e86c62e13a3db88e8d2a8">00418</a>   <a class="code" href="../../d2/dbc/structmozilla_1_1layers_1_1_texture_info.html">TextureInfo</a> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a321c6b1d038e86c62e13a3db88e8d2a8">mTextureInfo</a>;
<a name="l00419"></a><a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a0e4c55f91a6fc8ae6c983ee4f5176fb8">00419</a>   <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a34ef89a6ae2891d71ac108bdaff3d5b7">AccessMode</a> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a0e4c55f91a6fc8ae6c983ee4f5176fb8">mAccessMode</a>;
<a name="l00420"></a>00420 };
<a name="l00421"></a>00421 
<a name="l00422"></a><a class="code" href="../../d5/d7c/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem.html">00422</a> <span class="keyword">class </span><a class="code" href="../../d5/d7c/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem.html">DeprecatedTextureClientShmem</a> : <span class="keyword">public</span> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html">DeprecatedTextureClient</a>
<a name="l00423"></a>00423 {
<a name="l00424"></a>00424 <span class="keyword">public</span>:
<a name="l00425"></a>00425   <a class="code" href="../../d5/d7c/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem.html#afcb03dce617b7bce96d2c6958c6f5f8f">DeprecatedTextureClientShmem</a>(<a class="code" href="../../d8/da3/classmozilla_1_1layers_1_1_compositable_forwarder.html">CompositableForwarder</a>* aForwarder, <span class="keyword">const</span> <a class="code" href="../../d2/dbc/structmozilla_1_1layers_1_1_texture_info.html">TextureInfo</a>&amp; aTextureInfo);
<a name="l00426"></a><a class="code" href="../../d5/d7c/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem.html#ad42e99f6bb45f02d91e42ba91b37d136">00426</a>   <a class="code" href="../../d5/d7c/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem.html#ad42e99f6bb45f02d91e42ba91b37d136">~DeprecatedTextureClientShmem</a>() { <a class="code" href="../../d5/d7c/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem.html#a2557300b4f72d7d032839feca6d3e74e">ReleaseResources</a>(); }
<a name="l00427"></a>00427 
<a name="l00428"></a><a class="code" href="../../d5/d7c/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem.html#a20d89167f2055a2b1e472476f3e87e4c">00428</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d5/d7c/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem.html#a20d89167f2055a2b1e472476f3e87e4c">SupportsType</a>(<a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a44445201a74850214698a79ca2037abd">DeprecatedTextureClientType</a> <a class="code" href="../../df/d33/ns_x_u_l_app_a_p_i_8h.html#a02213a397ee55db7eba28bed963f63df">aType</a>) MOZ_OVERRIDE
<a name="l00429"></a>00429   {
<a name="l00430"></a>00430     <span class="keywordflow">return</span> <a class="code" href="../../df/d33/ns_x_u_l_app_a_p_i_8h.html#a02213a397ee55db7eba28bed963f63df">aType</a> == <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a44445201a74850214698a79ca2037abda33c5c70743f70793d18c7a1e1be23d02">TEXTURE_SHMEM</a> || <a class="code" href="../../df/d33/ns_x_u_l_app_a_p_i_8h.html#a02213a397ee55db7eba28bed963f63df">aType</a> == <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a44445201a74850214698a79ca2037abdaa1e4445dd090ab53ad511796307480b7">TEXTURE_CONTENT</a> || <a class="code" href="../../df/d33/ns_x_u_l_app_a_p_i_8h.html#a02213a397ee55db7eba28bed963f63df">aType</a> == <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a44445201a74850214698a79ca2037abdaffafec383507c16f518acfdcfdaa9ed1">TEXTURE_FALLBACK</a>;
<a name="l00431"></a>00431   }
<a name="l00432"></a>00432   <span class="keyword">virtual</span> <a class="code" href="../../db/d54/classgfx_image_surface.html">gfxImageSurface</a>* <a class="code" href="../../d5/d7c/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem.html#a0af9c56dbf4521b74c7d20b8f86d4892">LockImageSurface</a>() MOZ_OVERRIDE;
<a name="l00433"></a><a class="code" href="../../d5/d7c/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem.html#ab8611e3cad4963543daa367da3e2a439">00433</a>   virtual <a class="code" href="../../d4/d14/classgfx_a_surface.html">gfxASurface</a>* <a class="code" href="../../d5/d7c/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem.html#ab8611e3cad4963543daa367da3e2a439">LockSurface</a>() MOZ_OVERRIDE { <span class="keywordflow">return</span> GetSurface(); }
<a name="l00434"></a>00434   <span class="keyword">virtual</span> <a class="code" href="../../d2/d07/classmozilla_1_1gfx_1_1_draw_target.html">gfx::DrawTarget</a>* <a class="code" href="../../d5/d7c/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem.html#ac0eaa6dbd2e863968f78b70a94018747">LockDrawTarget</a>();
<a name="l00435"></a>00435   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d5/d7c/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem.html#a0bbb64ba89a743f1379e829a98bb4fcf">Unlock</a>() MOZ_OVERRIDE;
<a name="l00436"></a>00436   virtual <span class="keywordtype">bool</span> <a class="code" href="../../d5/d7c/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem.html#a44d9e62fa994b7dd711e351c0bdf8f50">EnsureAllocated</a>(gfx::<a class="code" href="../../da/d8e/namespacemozilla_1_1gfx.html#af49f74f3d4a508693b21f2e49234a3f9">IntSize</a> aSize, <a class="code" href="../../d4/d14/classgfx_a_surface.html">gfxASurface</a>::<a class="code" href="../../d4/d14/classgfx_a_surface.html#af12afcfae2a9102ab6efbf1b57546360">gfxContentType</a> <a class="code" href="../../df/d33/ns_x_u_l_app_a_p_i_8h.html#a02213a397ee55db7eba28bed963f63df">aType</a>) MOZ_OVERRIDE;
<a name="l00437"></a>00437 
<a name="l00438"></a>00438   virtual <span class="keywordtype">void</span> <a class="code" href="../../d5/d7c/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem.html#a2557300b4f72d7d032839feca6d3e74e">ReleaseResources</a>() MOZ_OVERRIDE;
<a name="l00439"></a>00439   virtual <span class="keywordtype">void</span> <a class="code" href="../../d5/d7c/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem.html#a8aff8a28b7de78199d5c102539b23c56">SetDescriptor</a>(<a class="code" href="../../d6/d92/cdefs_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> SurfaceDescriptor&amp; aDescriptor) MOZ_OVERRIDE;
<a name="l00440"></a><a class="code" href="../../d5/d7c/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem.html#a81cf6d1f1a9b916dee55a304a13d4cb4">00440</a>   virtual <a class="code" href="../../d4/d14/classgfx_a_surface.html">gfxASurface</a>::<a class="code" href="../../d4/d14/classgfx_a_surface.html#af12afcfae2a9102ab6efbf1b57546360">gfxContentType</a> <a class="code" href="../../d5/d7c/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem.html#a81cf6d1f1a9b916dee55a304a13d4cb4">GetContentType</a>() MOZ_OVERRIDE { <span class="keywordflow">return</span> mContentType; }
<a name="l00441"></a>00441 <span class="keyword">private</span>:
<a name="l00442"></a>00442   <a class="code" href="../../d4/d14/classgfx_a_surface.html">gfxASurface</a>* GetSurface();
<a name="l00443"></a>00443 
<a name="l00444"></a>00444   <a class="code" href="../../d0/d01/classns_ref_ptr.html">nsRefPtr&lt;gfxASurface&gt;</a> mSurface;
<a name="l00445"></a>00445   <a class="code" href="../../d0/d01/classns_ref_ptr.html">nsRefPtr&lt;gfxImageSurface&gt;</a> mSurfaceAsImage;
<a name="l00446"></a>00446   <a class="code" href="../../d9/dc3/classmozilla_1_1_ref_ptr.html">RefPtr&lt;gfx::DrawTarget&gt;</a> mDrawTarget;
<a name="l00447"></a>00447 
<a name="l00448"></a>00448   <a class="code" href="../../d4/d14/classgfx_a_surface.html#af12afcfae2a9102ab6efbf1b57546360">gfxASurface::gfxContentType</a> mContentType;
<a name="l00449"></a>00449   <a class="code" href="../../d8/d6f/structmozilla_1_1gfx_1_1_int_size_typed.html">gfx::IntSize</a> mSize;
<a name="l00450"></a>00450 
<a name="l00451"></a><a class="code" href="../../d5/d7c/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem.html#a2d610a4aa78657f7e7ec3d5ff6c9b470">00451</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../d5/d7c/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem.html#a2d610a4aa78657f7e7ec3d5ff6c9b470">CompositingFactory</a>;
<a name="l00452"></a>00452 };
<a name="l00453"></a>00453 
<a name="l00454"></a>00454 <span class="comment">// XXX - this class can be removed as soon as we remove DeprecatedImageClientSingle</span>
<a name="l00455"></a><a class="code" href="../../d6/dce/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem_y_cb_cr.html">00455</a> <span class="keyword">class </span><a class="code" href="../../d6/dce/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem_y_cb_cr.html">DeprecatedTextureClientShmemYCbCr</a> : <span class="keyword">public</span> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html">DeprecatedTextureClient</a>
<a name="l00456"></a>00456 {
<a name="l00457"></a>00457 <span class="keyword">public</span>:
<a name="l00458"></a><a class="code" href="../../d6/dce/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem_y_cb_cr.html#a8ea060c24ba68dd5ea45b04a9e99e49b">00458</a>   <a class="code" href="../../d6/dce/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem_y_cb_cr.html#a8ea060c24ba68dd5ea45b04a9e99e49b">DeprecatedTextureClientShmemYCbCr</a>(<a class="code" href="../../d8/da3/classmozilla_1_1layers_1_1_compositable_forwarder.html">CompositableForwarder</a>* aForwarder, <span class="keyword">const</span> <a class="code" href="../../d2/dbc/structmozilla_1_1layers_1_1_texture_info.html">TextureInfo</a>&amp; aTextureInfo)
<a name="l00459"></a>00459     : <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html">DeprecatedTextureClient</a>(aForwarder, aTextureInfo)
<a name="l00460"></a>00460   { }
<a name="l00461"></a><a class="code" href="../../d6/dce/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem_y_cb_cr.html#aa21c69d2bba0a3c2885ee6dd5fa0a2c1">00461</a>   <a class="code" href="../../d6/dce/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem_y_cb_cr.html#aa21c69d2bba0a3c2885ee6dd5fa0a2c1">~DeprecatedTextureClientShmemYCbCr</a>() { <a class="code" href="../../d6/dce/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem_y_cb_cr.html#a107b0b4ee0470c73ae8d6774c97c58a7">ReleaseResources</a>(); }
<a name="l00462"></a>00462 
<a name="l00463"></a><a class="code" href="../../d6/dce/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem_y_cb_cr.html#a7de4c580f961030663c04ff176d3caed">00463</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d6/dce/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem_y_cb_cr.html#a7de4c580f961030663c04ff176d3caed">SupportsType</a>(<a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a44445201a74850214698a79ca2037abd">DeprecatedTextureClientType</a> <a class="code" href="../../df/d33/ns_x_u_l_app_a_p_i_8h.html#a02213a397ee55db7eba28bed963f63df">aType</a>) MOZ_OVERRIDE { <span class="keywordflow">return</span> <a class="code" href="../../df/d33/ns_x_u_l_app_a_p_i_8h.html#a02213a397ee55db7eba28bed963f63df">aType</a> == <a class="code" href="../../d5/d27/namespacemozilla_1_1layers.html#a44445201a74850214698a79ca2037abdac17992e5882990705892da403a5be6d1">TEXTURE_YCBCR</a>; }
<a name="l00464"></a>00464   <span class="keywordtype">bool</span> <a class="code" href="../../d6/dce/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem_y_cb_cr.html#a93161e27763c734b00fcb9e722620b24">EnsureAllocated</a>(<a class="code" href="../../d8/d6f/structmozilla_1_1gfx_1_1_int_size_typed.html">gfx::IntSize</a> aSize, <a class="code" href="../../d4/d14/classgfx_a_surface.html#af12afcfae2a9102ab6efbf1b57546360">gfxASurface::gfxContentType</a> <a class="code" href="../../df/d33/ns_x_u_l_app_a_p_i_8h.html#a02213a397ee55db7eba28bed963f63df">aType</a>) MOZ_OVERRIDE;
<a name="l00465"></a>00465   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/dce/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem_y_cb_cr.html#a8d0fc68340b79ea3d47a1e58a1cd0d77">SetDescriptorFromReply</a>(<span class="keyword">const</span> SurfaceDescriptor&amp; aDescriptor) MOZ_OVERRIDE;
<a name="l00466"></a>00466   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/dce/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem_y_cb_cr.html#a59d3f93e159ab99efa78f247e172a806">SetDescriptor</a>(<span class="keyword">const</span> SurfaceDescriptor&amp; aDescriptor) MOZ_OVERRIDE;
<a name="l00467"></a>00467   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d6/dce/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem_y_cb_cr.html#a107b0b4ee0470c73ae8d6774c97c58a7">ReleaseResources</a>();
<a name="l00468"></a><a class="code" href="../../d6/dce/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem_y_cb_cr.html#a2d70e8f8cdc7acc13a9d6143f3e31dd7">00468</a>   <span class="keyword">virtual</span> <a class="code" href="../../d4/d14/classgfx_a_surface.html#af12afcfae2a9102ab6efbf1b57546360">gfxASurface::gfxContentType</a> <a class="code" href="../../d6/dce/classmozilla_1_1layers_1_1_deprecated_texture_client_shmem_y_cb_cr.html#a2d70e8f8cdc7acc13a9d6143f3e31dd7">GetContentType</a>() MOZ_OVERRIDE { <span class="keywordflow">return</span> <a class="code" href="../../d4/d14/classgfx_a_surface.html#af12afcfae2a9102ab6efbf1b57546360a7c23c84c574c4ce1c870f49cba085072">gfxASurface::CONTENT_COLOR_ALPHA</a>; }
<a name="l00469"></a>00469 };
<a name="l00470"></a>00470 
<a name="l00471"></a><a class="code" href="../../d9/d75/classmozilla_1_1layers_1_1_deprecated_texture_client_tile.html">00471</a> <span class="keyword">class </span><a class="code" href="../../d9/d75/classmozilla_1_1layers_1_1_deprecated_texture_client_tile.html">DeprecatedTextureClientTile</a> : <span class="keyword">public</span> <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html">DeprecatedTextureClient</a>
<a name="l00472"></a>00472 {
<a name="l00473"></a>00473 <span class="keyword">public</span>:
<a name="l00474"></a>00474   <a class="code" href="../../d9/d75/classmozilla_1_1layers_1_1_deprecated_texture_client_tile.html#a6c2bd96390be938c723b07e38856d4d8">DeprecatedTextureClientTile</a>(<span class="keyword">const</span> <a class="code" href="../../d9/d75/classmozilla_1_1layers_1_1_deprecated_texture_client_tile.html">DeprecatedTextureClientTile</a>&amp; aOther);
<a name="l00475"></a>00475   <a class="code" href="../../d9/d75/classmozilla_1_1layers_1_1_deprecated_texture_client_tile.html#a6c2bd96390be938c723b07e38856d4d8">DeprecatedTextureClientTile</a>(<a class="code" href="../../d8/da3/classmozilla_1_1layers_1_1_compositable_forwarder.html">CompositableForwarder</a>* aForwarder,
<a name="l00476"></a>00476                     <span class="keyword">const</span> <a class="code" href="../../d2/dbc/structmozilla_1_1layers_1_1_texture_info.html">TextureInfo</a>&amp; aTextureInfo);
<a name="l00477"></a>00477   <a class="code" href="../../d9/d75/classmozilla_1_1layers_1_1_deprecated_texture_client_tile.html#ad4686ea31009ce6f3bd5355aa2a5f475">~DeprecatedTextureClientTile</a>();
<a name="l00478"></a>00478 
<a name="l00479"></a>00479   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="../../d9/d75/classmozilla_1_1layers_1_1_deprecated_texture_client_tile.html#a37f2aa44b97aa7159eefba036daa7285">EnsureAllocated</a>(<a class="code" href="../../d8/d6f/structmozilla_1_1gfx_1_1_int_size_typed.html">gfx::IntSize</a> aSize,
<a name="l00480"></a>00480                                <a class="code" href="../../d4/d14/classgfx_a_surface.html#af12afcfae2a9102ab6efbf1b57546360">gfxASurface::gfxContentType</a> <a class="code" href="../../df/d33/ns_x_u_l_app_a_p_i_8h.html#a02213a397ee55db7eba28bed963f63df">aType</a>) MOZ_OVERRIDE;
<a name="l00481"></a>00481 
<a name="l00482"></a>00482   <span class="keyword">virtual</span> <a class="code" href="../../db/d54/classgfx_image_surface.html">gfxImageSurface</a>* <a class="code" href="../../d9/d75/classmozilla_1_1layers_1_1_deprecated_texture_client_tile.html#ae7ae7c6958ab3f9b977644e9957aa601">LockImageSurface</a>() MOZ_OVERRIDE;
<a name="l00483"></a>00483 
<a name="l00484"></a><a class="code" href="../../d9/d75/classmozilla_1_1layers_1_1_deprecated_texture_client_tile.html#ab8d1125d765bc5f5ca091619402b6a1e">00484</a>   <a class="code" href="../../dd/d78/classgfx_reusable_surface_wrapper.html">gfxReusableSurfaceWrapper</a>* <a class="code" href="../../d9/d75/classmozilla_1_1layers_1_1_deprecated_texture_client_tile.html#ab8d1125d765bc5f5ca091619402b6a1e">GetReusableSurfaceWrapper</a>()
<a name="l00485"></a>00485   {
<a name="l00486"></a>00486     <span class="keywordflow">return</span> mSurface;
<a name="l00487"></a>00487   }
<a name="l00488"></a>00488 
<a name="l00489"></a><a class="code" href="../../d9/d75/classmozilla_1_1layers_1_1_deprecated_texture_client_tile.html#a4a81cfdebbea0d84aac9fbeec796fcad">00489</a>   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="../../d9/d75/classmozilla_1_1layers_1_1_deprecated_texture_client_tile.html#a4a81cfdebbea0d84aac9fbeec796fcad">SetDescriptor</a>(<span class="keyword">const</span> SurfaceDescriptor&amp; aDescriptor) MOZ_OVERRIDE
<a name="l00490"></a>00490   {
<a name="l00491"></a>00491     <a class="code" href="../../d9/de9/_assertions_8h.html#aa2fa77a048d036cb2f902299ace18165">MOZ_ASSERT</a>(<span class="keyword">false</span>, <span class="stringliteral">&quot;Tiled texture clients don&#39;t use SurfaceDescriptors.&quot;</span>);
<a name="l00492"></a>00492   }
<a name="l00493"></a>00493 
<a name="l00494"></a>00494 
<a name="l00495"></a><a class="code" href="../../d9/d75/classmozilla_1_1layers_1_1_deprecated_texture_client_tile.html#a81d473daefbcad9c9ec3156ca07c2c4a">00495</a>   <span class="keyword">virtual</span> <a class="code" href="../../d4/d14/classgfx_a_surface.html#af12afcfae2a9102ab6efbf1b57546360">gfxASurface::gfxContentType</a> <a class="code" href="../../d9/d75/classmozilla_1_1layers_1_1_deprecated_texture_client_tile.html#a81d473daefbcad9c9ec3156ca07c2c4a">GetContentType</a>() { <span class="keywordflow">return</span> mContentType; }
<a name="l00496"></a>00496 
<a name="l00497"></a>00497 <span class="keyword">private</span>:
<a name="l00498"></a>00498   <a class="code" href="../../d4/d14/classgfx_a_surface.html#af12afcfae2a9102ab6efbf1b57546360">gfxASurface::gfxContentType</a> mContentType;
<a name="l00499"></a>00499   <a class="code" href="../../d0/d01/classns_ref_ptr.html">nsRefPtr&lt;gfxReusableSurfaceWrapper&gt;</a> mSurface;
<a name="l00500"></a>00500 
<a name="l00501"></a><a class="code" href="../../d9/d75/classmozilla_1_1layers_1_1_deprecated_texture_client_tile.html#a2d610a4aa78657f7e7ec3d5ff6c9b470">00501</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="../../d9/d75/classmozilla_1_1layers_1_1_deprecated_texture_client_tile.html#a2d610a4aa78657f7e7ec3d5ff6c9b470">CompositingFactory</a>;
<a name="l00502"></a>00502 };
<a name="l00503"></a>00503 
<a name="l00509"></a><a class="code" href="../../dd/dc1/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_client.html">00509</a> <span class="keyword">class </span><a class="code" href="../../dd/dc1/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_client.html">AutoLockDeprecatedTextureClient</a>
<a name="l00510"></a>00510 {
<a name="l00511"></a>00511 <span class="keyword">public</span>:
<a name="l00512"></a><a class="code" href="../../dd/dc1/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_client.html#ab7d423df2efbe4d2dd72cd92dc397a42">00512</a>   <a class="code" href="../../dd/dc1/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_client.html#ab7d423df2efbe4d2dd72cd92dc397a42">AutoLockDeprecatedTextureClient</a>(<a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html">DeprecatedTextureClient</a>* aTexture)
<a name="l00513"></a>00513   {
<a name="l00514"></a>00514     <a class="code" href="../../dd/dc1/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_client.html#ac8a1248fc999979ccf81ac3ec232cf01">mDeprecatedTextureClient</a> = aTexture;
<a name="l00515"></a>00515     <a class="code" href="../../dd/dc1/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_client.html#afcbd264aa54c6fa8def8a1c5d8613259">mDescriptor</a> = aTexture-&gt;<a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a6ab377d884238fd2592489dad0823352">LockSurfaceDescriptor</a>();
<a name="l00516"></a>00516   }
<a name="l00517"></a>00517 
<a name="l00518"></a><a class="code" href="../../dd/dc1/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_client.html#add137f5f7245a285992477a6eecc619a">00518</a>   SurfaceDescriptor* <a class="code" href="../../dd/dc1/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_client.html#add137f5f7245a285992477a6eecc619a">GetSurfaceDescriptor</a>()
<a name="l00519"></a>00519   {
<a name="l00520"></a>00520     <span class="keywordflow">return</span> <a class="code" href="../../dd/dc1/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_client.html#afcbd264aa54c6fa8def8a1c5d8613259">mDescriptor</a>;
<a name="l00521"></a>00521   }
<a name="l00522"></a>00522 
<a name="l00523"></a><a class="code" href="../../dd/dc1/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_client.html#a594632047bc1700c33e6d99266752b66">00523</a>   <span class="keyword">virtual</span> <a class="code" href="../../dd/dc1/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_client.html#a594632047bc1700c33e6d99266752b66">~AutoLockDeprecatedTextureClient</a>()
<a name="l00524"></a>00524   {
<a name="l00525"></a>00525     <a class="code" href="../../dd/dc1/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_client.html#ac8a1248fc999979ccf81ac3ec232cf01">mDeprecatedTextureClient</a>-&gt;<a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html#a396d350e42a795dc263ba86b47caeaec">Unlock</a>();
<a name="l00526"></a>00526   }
<a name="l00527"></a>00527 <span class="keyword">protected</span>:
<a name="l00528"></a><a class="code" href="../../dd/dc1/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_client.html#ac8a1248fc999979ccf81ac3ec232cf01">00528</a>   <a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html">DeprecatedTextureClient</a>* <a class="code" href="../../dd/dc1/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_client.html#ac8a1248fc999979ccf81ac3ec232cf01">mDeprecatedTextureClient</a>;
<a name="l00529"></a><a class="code" href="../../dd/dc1/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_client.html#afcbd264aa54c6fa8def8a1c5d8613259">00529</a>   SurfaceDescriptor* <a class="code" href="../../dd/dc1/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_client.html#afcbd264aa54c6fa8def8a1c5d8613259">mDescriptor</a>;
<a name="l00530"></a>00530 };
<a name="l00531"></a>00531 
<a name="l00536"></a><a class="code" href="../../da/d68/classmozilla_1_1layers_1_1_auto_lock_y_cb_cr_client.html">00536</a> <span class="keyword">class </span><a class="code" href="../../da/d68/classmozilla_1_1layers_1_1_auto_lock_y_cb_cr_client.html">AutoLockYCbCrClient</a> : <span class="keyword">public</span> <a class="code" href="../../dd/dc1/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_client.html">AutoLockDeprecatedTextureClient</a>
<a name="l00537"></a>00537 {
<a name="l00538"></a>00538 <span class="keyword">public</span>:
<a name="l00539"></a><a class="code" href="../../da/d68/classmozilla_1_1layers_1_1_auto_lock_y_cb_cr_client.html#ae3a701d9532bb7f4063db93a4b7ebed9">00539</a>   <a class="code" href="../../da/d68/classmozilla_1_1layers_1_1_auto_lock_y_cb_cr_client.html#ae3a701d9532bb7f4063db93a4b7ebed9">AutoLockYCbCrClient</a>(<a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html">DeprecatedTextureClient</a>* aTexture) : <a class="code" href="../../dd/dc1/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_client.html">AutoLockDeprecatedTextureClient</a>(aTexture) {}
<a name="l00540"></a>00540   <span class="keywordtype">bool</span> <a class="code" href="../../da/d68/classmozilla_1_1layers_1_1_auto_lock_y_cb_cr_client.html#af85812833ebc787f21c94de798519b8b">Update</a>(<a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html">PlanarYCbCrImage</a>* aImage);
<a name="l00541"></a>00541 <span class="keyword">protected</span>:
<a name="l00542"></a>00542   <span class="keywordtype">bool</span> <a class="code" href="../../da/d68/classmozilla_1_1layers_1_1_auto_lock_y_cb_cr_client.html#a54724d78d67b36217e44e7d751b9f1f6">EnsureDeprecatedTextureClient</a>(<a class="code" href="../../da/da0/classmozilla_1_1layers_1_1_planar_y_cb_cr_image.html">PlanarYCbCrImage</a>* aImage);
<a name="l00543"></a>00543 };
<a name="l00544"></a>00544 
<a name="l00549"></a><a class="code" href="../../d3/db6/classmozilla_1_1layers_1_1_auto_lock_shmem_client.html">00549</a> <span class="keyword">class </span><a class="code" href="../../d3/db6/classmozilla_1_1layers_1_1_auto_lock_shmem_client.html">AutoLockShmemClient</a> : <span class="keyword">public</span> <a class="code" href="../../dd/dc1/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_client.html">AutoLockDeprecatedTextureClient</a>
<a name="l00550"></a>00550 {
<a name="l00551"></a>00551 <span class="keyword">public</span>:
<a name="l00552"></a><a class="code" href="../../d3/db6/classmozilla_1_1layers_1_1_auto_lock_shmem_client.html#a7c77ccab63d5316eba59025bdf4fc591">00552</a>   <a class="code" href="../../d3/db6/classmozilla_1_1layers_1_1_auto_lock_shmem_client.html#a7c77ccab63d5316eba59025bdf4fc591">AutoLockShmemClient</a>(<a class="code" href="../../dc/d8c/classmozilla_1_1layers_1_1_deprecated_texture_client.html">DeprecatedTextureClient</a>* aTexture) : <a class="code" href="../../dd/dc1/classmozilla_1_1layers_1_1_auto_lock_deprecated_texture_client.html">AutoLockDeprecatedTextureClient</a>(aTexture) {}
<a name="l00553"></a>00553   <span class="keywordtype">bool</span> <a class="code" href="../../d3/db6/classmozilla_1_1layers_1_1_auto_lock_shmem_client.html#a24b268b960cb64911d972e2585d97b14">Update</a>(<a class="code" href="../../d8/d56/classmozilla_1_1layers_1_1_image.html">Image</a>* aImage, uint32_t aContentFlags, <a class="code" href="../../d4/d14/classgfx_a_surface.html">gfxASurface</a> *aSurface);
<a name="l00554"></a>00554 };
<a name="l00555"></a>00555 
<a name="l00556"></a>00556 }
<a name="l00557"></a>00557 }
<a name="l00558"></a>00558 <span class="preprocessor">#endif</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>全て</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>データ構造</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>ネームスペース</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>ファイル</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>関数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>変数</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>型定義</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>列挙型</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>列挙型の値</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>フレンド</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>マクロ定義</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d3/d36/_texture_client_8h.html">TextureClient.h</a>      </li>

    <li class="footer">FxOS Code Readingに対してSat Oct 19 2013 00:55:23に生成されました。
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
